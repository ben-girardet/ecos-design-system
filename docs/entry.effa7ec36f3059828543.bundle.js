/*! For license information please see entry.effa7ec36f3059828543.bundle.js.LICENSE.txt */
(()=>{var e={619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,'*,*::before,*::after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role="list"],ol[role="list"]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img,picture{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media(prefers-reduced-motion:reduce){html:focus-within{scroll-behavior:auto}*,*::before,*::after{-webkit-animation-duration:.01ms !important;animation-duration:.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}\n',""]);const o=s},162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,".header {\n  width: 100%;\n  height: 90vh;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n}\n\n.header-text {\n  align-self: flex-start;\n  margin: auto auto auto auto;\n  max-width: 50vw;\n  min-width: -webkit-min-content;\n  min-width: -moz-min-content;\n  min-width: min-content;\n  padding: 32px; \n  border-radius: calc(var(--corner-radius) * 1px);\n  font-family: 'Orelega One', cursive;\n  font-size: var(--type-ramp-plus-1-font-size);\n  line-height: var(--type-ramp-plus-1-line-height);\n}\n@media screen and (min-width: 732px) {\n  .header-text {\n    margin: auto auto auto auto;\n    font-size: var(--type-ramp-plus-2-font-size);\n    line-height: var(--type-ramp-plus-2-line-height);\n  }\n}\n\nau-snippet,\necos-section.ecos-stack:not(.ecos-stack--inline) > * + au-snippet {\n  margin-top: calc(var(--spacing-unit) * 1.5);\n  margin-bottom: calc(var(--spacing-unit) * 1.5);\n}",""]);const o=s},574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"ecos-navbar ecos-anchor {\n  text-transform: uppercase;\n}\necos-navbar ::part(control) {\n  cursor: pointer;\n}",""]);const o=s},932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;900&display=swap);"]),s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Orelega+One&display=swap);"]),s.push([e.id,"body {\n  font-family: 'Roboto', sans-serif;\n}\n\nh1, h2, h3 {\n  font-family: 'Orelega One', cursive;\n}\n",""]);const o=s},218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,':host {\n  display: grid;\n  background: white;\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n  border-radius: 5px;\n}\n\n:host .topbar {\n  padding: 8px;\n}\n\n:host button {\n  cursor: pointer;\n  background: transparent;\n  background: var(--au-snippet-button-background, transparent);\n  color: #555;\n  color: var(--au-snippet-button-foreground, #555);\n  border: none;\n  border-radius: 4px;\n  padding: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n:host button.selected {\n  background: #fafafa;\n  background: var(--au-snippet-selected-button-background, #fafafa);\n  color: #333;\n  color: var(--au-snippet-selected-button-color, #333);\n}\n:host .codes {\n  min-width: 0;\n}\n:host .shell,\n:host .typescript,\n:host .html,\n:host .css,\n:host .output {\n  display: none;\n  margin-left: 0.5em;\n  margin-right: 0.5em;\n  position: relative;\n}\n:host .styles-content {\n  display: none;\n}\n:host .output-content {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  /* border: dashed rgba(200, 0, 100, 0.2) 1px;\n  border: var(--au-snippet-outline-width, dashed rgba(200, 0, 100, 0.2) 1px); */\n  background: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n\n:host(.show-shell) .shell {\n  display: block;\n}\n:host(.show-html) .html {\n  display: block;\n}\n:host(.show-css) .css {\n  display: block;\n}\n:host(.show-ts) .typescript {\n  display: block;\n}\n:host(.show-output) .output {\n  display: block;\n}\n:host label {\n  display: none;\n  border-radius: 4px;\n  margin-top: 16px;\n  padding: 0 4px;\n  font-size: 0.8em;\n  background: #666;\n  color: white; \n  width: -webkit-min-content; \n  width: -moz-min-content; \n  width: min-content;\n}\n:host(.multiple) label{\n  display: block;\n}\n\n:host :not(pre) > code[class*="language-"],\n:host pre[class*="language-"] {\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n}\n\n/* (desktop) mode */\n@media screen and (min-width: 732px) {\n  :host(.show-output:not(.full-width-output)) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px auto;\n  }\n  :host(.show-output:not(.full-width-output)).codes {\n    grid-column: 1;\n  }\n  :host(.show-output:not(.full-width-output)) .output {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column: 2;\n  }\n}',""]);const o=s},563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"",""]);const o=s},755:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,".load-active {\n  background-color: lightgray;\n}\n\n#design-settings-opener {\n  position: fixed;\n  bottom: 16px;\n  left: 16px;\n}\n#design-settings-dialog::part(positioning-region) {\n  z-index: 2;\n}\n\n[load] {\n  cursor: pointer;\n}\n\n.page {\n  display: grid;\n  grid-template-columns: 0px 1fr;\n  transition: grid-template-columns 100ms ease;\n  transition: grid-template-columns 100ms ease, -ms-grid-columns 100ms ease;\n}\n.page.sidebar--opened {\n  grid-template-columns: 250px 1fr;\n}\n.sidebar {\n  position: fixed;\n  width: 250px;\n  transform: translateX(-250px);\n  overflow-x: hidden;\n  overflow-y: auto;\n  transition: all 100ms ease;\n  box-shadow: var(--elevation3);\n  height: 100vh;\n}\n.sidebar.sidebar--opened {\n  transform: translateX(0);\n}\n.main-content {\n  grid-column-start: 2;\n  justify-self: stretch;\n}\n\necos-navbar ecos-anchor.active {\n  text-decoration: underline;\n  font-weight: bold;\n}\n\nbody.use-cases-on {\n  position: fixed;\n  overflow: hidden;\n  width: 100%;\n}\nbody.use-cases-on au-viewport[name=use-cases-viewport] {\n  display: grid;\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: var(--background-color);\n  overflow: auto;\n}\n\nau-viewport[name=use-cases-viewport] {\n  display: grid;\n  position: relative;\n  overflow: hidden;\n}\n\nau-viewport[name=use-cases-viewport] > * {\n  display: block;\n  position: relative;\n  grid-column: 1;\n  grid-row: 1;\n}",""]);const o=s},818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"ecos-navbar > .logo {\n  margin-right: 16px;\n}\necos-navbar > * + * {\n  margin-left: calc((20 + (var(--design-unit) + (var(--design-unit) * max(0, var(--density))))) * 1px);\n}\n\necos-navbar > .right {\n  margin-left: auto;\n}\necos-navbar > ecos-anchor {\n  --outline-width: 0;\n  color: currentColor;\n}\necos-navbar > ecos-anchor:hover {\n  --outline-width: 0;\n  color: var(--accent-foreground-hover);\n}\n\n/* TODO: color here should be set from design system */\necos-card[separators] > * + ecos-card-content,\necos-card[separators] > * + ecos-card-row,\necos-card > * + ecos-card-content[separator],\necos-card > * + ecos-card-row[separator] {\n  border-top: solid #ccc 1px;\n}\n\necos-card > ecos-menu,\necos-card > ecos-stack > ecos-menu {\n  max-width: none;\n}\necos-table[separators] > ecos-table-row + ecos-table-row {\n  border-top: solid #ccc 1px;\n}",""]);const o=s},998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"ecos-design-system-provider {\n  font-size: var(--type-ramp-base-font-size);\n  line-height: var(--type-ramp-base-line-height);\n}\n\n\nh1 {\n  font-size: var(--type-ramp-plus-3-font-size);\n  line-height: var(--type-ramp-plus-3-line-height);\n}\nh2 {\n  font-size: var(--type-ramp-plus-2-font-size);\n  line-height: var(--type-ramp-plus-2-line-height);\n}\nh3 {\n  font-size: var(--type-ramp-plus-1-font-size);\n  line-height: var(--type-ramp-plus-1-line-height);\n}\n\n.large-text {\n  font-size: var(--type-ramp-plus-3-font-size);\n  line-height: var(--type-ramp-plus-3-line-height);\n}\n\n.muted-text {\n  font-size: var(--type-ramp-minus-1-font-size);\n  line-height: var(--type-ramp-minus-1-line-height);\n}\n\nh1, .ecos-stack > :not(h1, h2, h3) + h1,\nh2:not(:first-child), .ecos-stack > :not(h1, h2, h3) + h2,\nh3:not(:first-child), .ecos-stack > :not(h1, h2, h3) + h3 {\n  margin-top: calc(2 * var(--spacing-unit));\n}\n\n@media screen and (min-width: 732px) {\n  h1 {\n    font-size: var(--type-ramp-plus-4-font-size);\n    line-height: var(--type-ramp-plus-4-line-height);\n  }\n  h2 {\n    font-size: var(--type-ramp-plus-3-font-size);\n    line-height: var(--type-ramp-plus-3-line-height);\n  }\n  h3 {\n    font-size: var(--type-ramp-plus-2-font-size);\n    line-height: var(--type-ramp-plus-2-line-height);\n  }\n}\n\na {\n  color: inherit;\n  text-decoration: underline;\n}\n\na:hover {\n  color: var(--accent-foreground-hover);\n}\n\na:active {\n  color: var(--accent-foreground-active);\n}",""]);const o=s},208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"* {\n  box-sizing: border-box;\n  --elevation0: 0 0 3px rgba(0,0,0,0.3), 0 1px 1px rgba(0,0,0,0.12);\n  --elevation1: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  --elevation2: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  --elevation3: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  --elevation4: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n  --elevation5: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);\n\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 1px);\n  --spacing-unit-v: var(--spacing-unit);\n  --spacing-unit-h: var(--spacing-unit);\n\n  --badge-fill-primary: var(--accent-fill-rest);\n  --badge-fill-secondary: var(--neutral-fill-rest);\n  --badge-fill-transparent: transparent;\n  --badge-color-black: #000000;\n  --badge-color-white: var(--accent-foreground-cut-rest);\n}\n.space-small {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 0.5px);\n}\n.space-large {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 2px);\n}\n.space-extra-large {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 4px);\n}\n.space-large-v {\n  --spacing-unit-v: calc(var(--spacing-unit) * 2);\n}\n.space-extra-large-v {\n  --spacing-unit-v: calc(var(--spacing-unit) * 4);\n}\n\n.elevation,\n.elevation1 {\n  box-shadow: var(--elevation1);\n}\n.elevation0 {\n  box-shadow: var(--elevation0);\n}\n.elevation2 {\n  box-shadow: var(--elevation2);\n}\n.elevation3 {\n  box-shadow: var(--elevation3);\n}\n.elevation4 {\n  box-shadow: var(--elevation4);\n}\n.elevation5 {\n  box-shadow: var(--elevation5);\n}\n\n.radius {\n  border-radius: var(--corner-radius);\n}\n\n.radius-large {\n  border-radius: calc(var(--corner-radius) * 1.5);\n}\n.radius-small {\n  border-radius: calc(var(--corner-radius) * 0.5);\n}\n\n.wrapper {\n  max-width: 55rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding: var(--spacing-unit);\n}\n.wrapper-h {\n  max-width: 55rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: var(--spacing-unit);\n  padding-right: var(--spacing-unit);\n}\n\n.text-center {\n  text-align: center;\n}\n.teinted-text {\n  color: var(--accent-light-100);\n}\n\n\n/* The shift-[x/y]-[value] utilities allow for pixel perfect adjustements */\n.shift-x-1 {\n  transform: translateX(1px);\n}\n.shift-x--1 {\n  transform: translateX(-1px);\n}\n.shift-x-2 {\n  transform: translateX(2px);\n}\n.shift-x--2 {\n  transform: translateX(-2px);\n}\n.shift-x-3 {\n  transform: translateX(3px);\n}\n.shift-x--3 {\n  transform: translateX(-3px);\n}\n.shift-x-1 {\n  transform: translateY(1px);\n}\n.shift-y--1 {\n  transform: translateY(-1px);\n}\n.shift-y-2 {\n  transform: translateY(2px);\n}\n.shift-y--2 {\n  transform: translateY(-2px);\n}\n.shift-y-3 {\n  transform: translateY(3px);\n}\n.shift-y--3 {\n  transform: translateY(-3px);\n}\necos-card-row > [ecos-card-row--right] {\n  grid-column: 2;\n}",""]);const o=s},304:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"/* ecos-table {\n  display: block;\n}\n\necos-table-row {\n  display: flex;\n  gap: calc(var(--spacing-unit) * 0.5);\n}\n\necos-table-item {\n  padding: calc(var(--spacing-unit) * 0.25);\n  width: 200px;\n} */\n",""]);const o=s},578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,".blog-header {\n  width: 100%;\n  height: 90vh;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n}\n\n.blog-header-text {\n  align-self: flex-start;\n    color: white;\n    margin: auto auto auto auto;\n    max-width: 50vw;\n    min-width: -webkit-min-content;\n    min-width: -moz-min-content;\n    min-width: min-content;\n    padding: 32px;\n    border-radius: calc(var(--corner-radius) * 1px);\n    font-family: 'Orelega One', cursive;\n    font-size: var(--type-ramp-plus-6-font-size);\n    line-height: var(--type-ramp-plus-6-line-height);\n    text-align: center;\n    text-shadow: var(--elevation4);\n}\n.blog-photo-credit {\n  display: block;\n  font-size: var(--type-ramp-minus-1-font-size);\n  line-height: var(--type-ramp-minus-1-line-height);\n}\n.blog-explore-categories ecos-badge::part(control) {\n  border-color: var(--accent-light-100);\n  padding: calc(var(--design-unit) * 1px) calc(var(--design-unit) * 1px);\n}",""]);const o=s},278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,"/* COMPOSITIONS */\n.feature-item {\n  text-align: center;\n}\n.feature-item img {\n  width: 70px;\n  height: 70px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: var(--spacing-unit);\n}\n\n/* UTILITIES */\n.header-gradient {\n  background: linear-gradient(var(--background-teinted-color), var(--background-color));\n}",""]);const o=s},183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,'/**\n * prism.js default theme for JavaScript, CSS and HTML\n * Based on dabblet (http://dabblet.com)\n * @author Lea Verou\n */\n\ncode[class*="language-"],\npre[class*="language-"] {\n\tcolor: black;\n\tbackground: none;\n\ttext-shadow: 0 1px white;\n\tfont-family: Consolas, Monaco, \'Andale Mono\', \'Ubuntu Mono\', monospace;\n\tfont-size: 1em;\n\ttext-align: left;\n\twhite-space: pre;\n\tword-spacing: normal;\n\tword-break: normal;\n\tword-wrap: normal;\n\tline-height: 1.5;\n\n\t-moz-tab-size: 4;\n\t-o-tab-size: 4;\n\ttab-size: 4;\n\n\t-webkit-hyphens: none;\n\t-moz-hyphens: none;\n\t-ms-hyphens: none;\n\thyphens: none;\n}\n\npre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,\ncode[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\npre[class*="language-"]::selection, pre[class*="language-"] ::selection,\ncode[class*="language-"]::selection, code[class*="language-"] ::selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\n@media print {\n\tcode[class*="language-"],\n\tpre[class*="language-"] {\n\t\ttext-shadow: none;\n\t}\n}\n\n/* Code blocks */\npre[class*="language-"] {\n\tpadding: 1em;\n\tmargin: .5em 0;\n\toverflow: auto;\n}\n\n:not(pre) > code[class*="language-"],\npre[class*="language-"] {\n\tbackground: #f5f2f0;\n}\n\n/* Inline code */\n:not(pre) > code[class*="language-"] {\n\tpadding: .1em;\n\tborder-radius: .3em;\n\twhite-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n\tcolor: slategray;\n}\n\n.token.punctuation {\n\tcolor: #999;\n}\n\n.token.namespace {\n\topacity: .7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n\tcolor: #905;\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n\tcolor: #690;\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n\tcolor: #9a6e3a;\n\t/* This background color was intended by the author of this theme. */\n\tbackground: hsla(0, 0%, 100%, .5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n\tcolor: #07a;\n}\n\n.token.function,\n.token.class-name {\n\tcolor: #DD4A68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n\tcolor: #e90;\n}\n\n.token.important,\n.token.bold {\n\tfont-weight: bold;\n}\n.token.italic {\n\tfont-style: italic;\n}\n\n.token.entity {\n\tcursor: help;\n}\n',""]);const o=s},442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),s=n.n(i)()((function(e){return e[1]}));s.push([e.id,':host {\n  display: grid;\n  background: white;\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n  border-radius: 5px;\n}\n\n:host .topbar {\n  padding: 8px;\n}\n\n:host button {\n  cursor: pointer;\n  background: transparent;\n  background: var(--au-snippet-button-background, transparent);\n  color: #555;\n  color: var(--au-snippet-button-foreground, #555);\n  border: none;\n  border-radius: 4px;\n  padding: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n:host button.selected {\n  background: #fafafa;\n  background: var(--au-snippet-selected-button-background, #fafafa);\n  color: #333;\n  color: var(--au-snippet-selected-button-color, #333);\n}\n:host .codes {\n  min-width: 0;\n}\n:host .shell,\n:host .typescript,\n:host .html,\n:host .css,\n:host .output {\n  display: none;\n  margin-left: 0.5em;\n  margin-right: 0.5em;\n  position: relative;\n}\n:host .styles-content {\n  display: none;\n}\n:host .output-content {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  /* border: dashed rgba(200, 0, 100, 0.2) 1px;\n  border: var(--au-snippet-outline-width, dashed rgba(200, 0, 100, 0.2) 1px); */\n  background: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n\n:host(.show-shell) .shell {\n  display: block;\n}\n:host(.show-html) .html {\n  display: block;\n}\n:host(.show-css) .css {\n  display: block;\n}\n:host(.show-ts) .typescript {\n  display: block;\n}\n:host(.show-output) .output {\n  display: block;\n}\n:host label {\n  display: none;\n  border-radius: 4px;\n  margin-top: 16px;\n  padding: 0 4px;\n  font-size: 0.8em;\n  background: #666;\n  color: white; \n  width: min-content;\n}\n:host(.multiple) label{\n  display: block;\n}\n\n:host :not(pre) > code[class*="language-"],\n:host pre[class*="language-"] {\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n}\n\n/* (desktop) mode */\n@media screen and (min-width: 732px) {\n  :host(.show-output:not(.full-width-output)) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px auto;\n  }\n  :host(.show-output:not(.full-width-output)).codes {\n    grid-column: 1;\n  }\n  :host(.show-output:not(.full-width-output)) .output {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column: 2;\n  }\n}',""]);const o=s},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(s[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},337:e=>{var t={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function n(e){var n=(e=e||{}).base||16,i=e.ratio||1.618;function s(e,t){return e>0?function(e,t){var s=Math.pow(i,e)*n;return r(t?o(s):s)}(e,t):function(e,t){var s=n/Math.pow(i,e);return r(t?o(s):s)}(-1*e,t)}function o(e){return e/n}function r(e){return Math.round(1e3*e)/1e3}return"string"==typeof n&&(n=parseFloat(n,10),Number.isNaN(n)&&(n=16)),"string"==typeof i&&(i=t[i]?t[i]:parseFloat(i,10),Number.isNaN(i)&&(i=1.618)),s.steps=function(e,t){e=e||8;for(var n=[],i=Math.floor(.5*e),o=-1*i,r=i+1;o<r;o++)n.push(s(o,t));return n.reverse()},s}e.exports=n,n.ratios=t},874:()=>{!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:i}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,r=0;r<s.length;r++)o[s[r]]=e.languages.bash[s[r]];e.languages.shell=e.languages.bash}(Prism)},836:()=>{!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete e.languages.typescript.parameter;var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)},660:(e,t,n)=>{var i=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof s?new s(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var s,o;switch(n=n||{},i.util.type(t)){case"Object":if(o=i.util.objId(t),n[o])return n[o];for(var r in s={},n[o]=s,t)t.hasOwnProperty(r)&&(s[r]=e(t[r],n));return s;case"Array":return o=i.util.objId(t),n[o]?n[o]:(s=[],n[o]=s,t.forEach((function(t,i){s[i]=e(t,n)})),s);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(i.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var i="no-"+t;e;){var s=e.classList;if(s.contains(t))return!0;if(s.contains(i))return!1;e=e.parentElement}return!!n}},languages:{extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var s in t)n[s]=t[s];return n},insertBefore:function(e,t,n,s){var o=(s=s||i.languages)[e],r={};for(var a in o)if(o.hasOwnProperty(a)){if(a==t)for(var l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);n.hasOwnProperty(a)||(r[a]=o[a])}var c=s[e];return s[e]=r,i.languages.DFS(i.languages,(function(t,n){n===c&&t!=e&&(this[t]=r)})),r},DFS:function e(t,n,s,o){o=o||{};var r=i.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],s||a);var l=t[a],c=i.util.type(l);"Object"!==c||o[r(l)]?"Array"!==c||o[r(l)]||(o[r(l)]=!0,e(l,n,a,o)):(o[r(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var s={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",s),s.elements=Array.prototype.slice.apply(s.container.querySelectorAll(s.selector)),i.hooks.run("before-all-elements-highlight",s);for(var o,r=0;o=s.elements[r++];)i.highlightElement(o,!0===t,s.callback)},highlightElement:function(n,s,o){var r=i.util.getLanguage(n),a=i.languages[r];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+r;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+r);var c={element:n,language:r,grammar:a,code:n.textContent};function u(e){c.highlightedCode=e,i.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i.hooks.run("after-highlight",c),i.hooks.run("complete",c),o&&o.call(c.element)}if(i.hooks.run("before-sanity-check",c),!c.code)return i.hooks.run("complete",c),void(o&&o.call(c.element));if(i.hooks.run("before-highlight",c),c.grammar)if(s&&e.Worker){var h=new Worker(i.filename);h.onmessage=function(e){u(e.data)},h.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(i.highlight(c.code,c.grammar,c.language));else u(i.util.encode(c.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return i.hooks.run("before-tokenize",o),o.tokens=i.tokenize(o.code,o.grammar),i.hooks.run("after-tokenize",o),s.stringify(i.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}var s=new a;return l(s,s.head,e),r(e,s,t,s.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(s)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var s,o=0;s=n[o++];)s(t)}},Token:s};function s(e,t,n,i){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length}function o(e,t,n,i){e.lastIndex=t;var s=e.exec(n);if(s&&i&&s[1]){var o=s[1].length;s.index+=o,s[0]=s[0].slice(o)}return s}function r(e,t,n,a,u,h){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(h&&h.cause==d+","+g)return;var f=p[g],m=f.inside,v=!!f.lookbehind,b=!!f.greedy,y=f.alias;if(b&&!f.pattern.global){var w=f.pattern.toString().match(/[imsuy]*$/)[0];f.pattern=RegExp(f.pattern.source,w+"g")}for(var x=f.pattern||f,C=a.next,k=u;C!==t.tail&&!(h&&k>=h.reach);k+=C.value.length,C=C.next){var S=C.value;if(t.length>e.length)return;if(!(S instanceof s)){var $,T=1;if(b){if(!($=o(x,k,e,v)))break;var A=$.index,O=$.index+$[0].length,E=k;for(E+=C.value.length;A>=E;)E+=(C=C.next).value.length;if(k=E-=C.value.length,C.value instanceof s)continue;for(var P=C;P!==t.tail&&(E<O||"string"==typeof P.value);P=P.next)T++,E+=P.value.length;T--,S=e.slice(k,E),$.index-=k}else if(!($=o(x,0,S,v)))continue;A=$.index;var R=$[0],I=S.slice(0,A),j=S.slice(A+R.length),F=k+S.length;h&&F>h.reach&&(h.reach=F);var L=C.prev;I&&(L=l(t,L,I),k+=I.length),c(t,L,T),C=l(t,L,new s(d,m?i.tokenize(R,m):R,y,R)),j&&l(t,C,j),T>1&&r(e,t,n,C.prev,k,{cause:d+","+g,reach:F})}}}}}function a(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function l(e,t,n){var i=t.next,s={value:n,prev:t,next:i};return t.next=s,i.prev=s,e.length++,s}function c(e,t,n){for(var i=t.next,s=0;s<n&&i!==e.tail;s++)i=i.next;t.next=i,i.prev=t,e.length-=s}if(e.Prism=i,s.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var s="";return t.forEach((function(t){s+=e(t,n)})),s}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},r=t.alias;r&&(Array.isArray(r)?Array.prototype.push.apply(o.classes,r):o.classes.push(r)),i.hooks.run("wrap",o);var a="";for(var l in o.attributes)a+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+a+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),s=n.language,o=n.code,r=n.immediateClose;e.postMessage(i.highlight(o,i.languages[s],s)),r&&e.close()}),!1),i):i;var u=i.util.currentScript();function h(){i.manual||i.highlightAll()}if(u&&(i.filename=u.src,u.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var d=document.readyState;"loading"===d||"interactive"===d&&u&&u.defer?document.addEventListener("DOMContentLoaded",h):window.requestAnimationFrame?window.requestAnimationFrame(h):window.setTimeout(h,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=i),void 0!==n.g&&(n.g.Prism=i),i.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup.tag.inside["attr-value"].inside.entity=i.languages.markup.entity,i.languages.markup.doctype.inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};s["language-"+t]={pattern:/[\s\S]+/,inside:i.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:s},i.languages.insertBefore("markup","cdata",o)}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:e.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.markup.tag.addInlined("script","javascript"),i.languages.js=i.languages.javascript,function(){if("undefined"!=typeof self&&self.Prism&&self.document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e=window.Prism,t={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",i='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',s=/\blang(?:uage)?-([\w-]+)\b/i;e.hooks.add("before-highlightall",(function(e){e.selector+=", "+i})),e.hooks.add("before-sanity-check",(function(s){var o=s.element;if(o.matches(i)){s.code="",o.setAttribute(n,"loading");var a=o.appendChild(document.createElement("CODE"));a.textContent="Loading…";var l=o.getAttribute("data-src"),c=s.language;if("none"===c){var u=(/\.(\w+)$/.exec(l)||[,"none"])[1];c=t[u]||u}r(a,c),r(o,c);var h=e.plugins.autoloader;h&&h.loadLanguages(c);var d=new XMLHttpRequest;d.open("GET",l,!0),d.onreadystatechange=function(){4==d.readyState&&(d.status<400&&d.responseText?(o.setAttribute(n,"loaded"),a.textContent=d.responseText,e.highlightElement(a)):(o.setAttribute(n,"failed"),d.status>=400?a.textContent="✖ Error "+d.status+" while fetching file: "+d.statusText:a.textContent="✖ Error: File does not exist or is empty"))},d.send(null)}})),e.plugins.fileHighlight={highlight:function(t){for(var n,s=(t||document).querySelectorAll(i),o=0;n=s[o++];)e.highlightElement(n)}};var o=!1;e.fileHighlight=function(){o||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),o=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}function r(e,t){var n=e.className;n=n.replace(s," ")+" language-"+t,e.className=n.replace(/\s+/g," ").trim()}}()},379:(e,t,n)=>{"use strict";var i,s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function r(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},i=[],s=0;s<e.length;s++){var a=e[s],l=t.base?a[0]+t.base:a[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var h=r(u),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(o[h].references++,o[h].updater(d)):o.push({identifier:u,updater:f(d,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,i){var s=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function d(e,t,n){var i=n.css,s=n.media,o=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,g=0;function f(e,t){var n,i,s;if(t.singleton){var o=g++;n=p||(p=l(t)),i=h.bind(null,n,o,!1),s=h.bind(null,n,o,!0)}else n=l(t),i=d.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var s=r(n[i]);o[s].references--}for(var l=a(e,t),c=0;c<n.length;c++){var u=r(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=l}}}},244:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{default:()=>JP,dependencies:()=>eR,name:()=>ZP,register:()=>nR,template:()=>XP});var s={};n.r(s),n.d(s,{default:()=>rR,dependencies:()=>aR,name:()=>sR,register:()=>cR,template:()=>oR});var o={};n.r(o),n.d(o,{default:()=>pR,dependencies:()=>gR,name:()=>hR,register:()=>mR,template:()=>dR});var r={};n.r(r),n.d(r,{default:()=>wR,dependencies:()=>xR,name:()=>bR,register:()=>kR,template:()=>yR});var a={};n.r(a),n.d(a,{default:()=>AR,dependencies:()=>OR,name:()=>$R,register:()=>PR,template:()=>TR});var l={};n.r(l),n.d(l,{default:()=>FR,dependencies:()=>LR,name:()=>IR,register:()=>NR,template:()=>jR});var c={};n.r(c),n.d(c,{default:()=>VR,dependencies:()=>qR,name:()=>BR,register:()=>zR,template:()=>HR});var u={};n.r(u),n.d(u,{default:()=>GR,dependencies:()=>YR,name:()=>WR,register:()=>ZR,template:()=>KR});var h={};n.r(h),n.d(h,{default:()=>tI,dependencies:()=>nI,name:()=>JR,register:()=>sI,template:()=>eI});var d={};n.r(d),n.d(d,{default:()=>uI,dependencies:()=>hI,name:()=>lI,register:()=>pI,template:()=>cI});var p={};n.r(p),n.d(p,{default:()=>vI,dependencies:()=>bI,name:()=>fI,register:()=>wI,template:()=>mI});var g={};n.r(g),n.d(g,{default:()=>SI,dependencies:()=>$I,name:()=>CI,register:()=>AI,template:()=>kI});var f={};n.r(f),n.d(f,{default:()=>RI,dependencies:()=>II,name:()=>EI,register:()=>FI,template:()=>PI});var m={};n.r(m),n.d(m,{default:()=>MI,dependencies:()=>BI,name:()=>DI,register:()=>VI,template:()=>NI});var v={};n.r(v),n.d(v,{default:()=>_I,dependencies:()=>WI,name:()=>UI,register:()=>GI,template:()=>zI});var b={};n.r(b),n.d(b,{default:()=>XI,dependencies:()=>JI,name:()=>QI,register:()=>tj,template:()=>ZI});var y={};n.r(y),n.d(y,{default:()=>oj,dependencies:()=>rj,name:()=>ij,register:()=>lj,template:()=>sj});var w={};n.r(w),n.d(w,{default:()=>dj,dependencies:()=>pj,name:()=>uj,register:()=>fj,template:()=>hj});var x={};n.r(x),n.d(x,{default:()=>yj,dependencies:()=>wj,name:()=>vj,register:()=>Cj,template:()=>bj});var C={};n.r(C),n.d(C,{default:()=>Aj,dependencies:()=>Oj,name:()=>$j,register:()=>Pj,template:()=>Tj});var k={};n.r(k),n.d(k,{default:()=>Fj,dependencies:()=>Lj,name:()=>Ij,register:()=>Nj,template:()=>jj});var S={};n.r(S),n.d(S,{default:()=>Vj,dependencies:()=>qj,name:()=>Bj,register:()=>zj,template:()=>Hj});var $={};n.r($),n.d($,{default:()=>Zj,dependencies:()=>Xj,name:()=>Yj,register:()=>eF,template:()=>Qj});var T={};n.r(T),n.d(T,{default:()=>lF,dependencies:()=>cF,name:()=>rF,register:()=>hF,template:()=>aF});var A={};n.r(A),n.d(A,{default:()=>vF,dependencies:()=>bF,name:()=>fF,register:()=>wF,template:()=>mF});var O={};n.r(O),n.d(O,{default:()=>$F,dependencies:()=>TF,name:()=>kF,register:()=>OF,template:()=>SF});var E={};n.r(E),n.d(E,{AdminDashboard:()=>iF,AnchorComponent:()=>iR,ArticleComponent:()=>uR,BadgeComponent:()=>vR,BlogPage:()=>dF,BreadcrumbComponent:()=>SR,Button3dComponent:()=>RR,ButtonComponent:()=>MR,CardComponent:()=>_R,CollectionComponent:()=>XR,ColorizeComponent:()=>oI,ComponentsIndex:()=>rI,ComponentsList:()=>aI,DialogComponent:()=>gI,FormComponent:()=>xI,IconComponent:()=>OI,MissingPage:()=>Mj,NavbarComponent:()=>LI,OnePageWebsite:()=>xF,SectionComponent:()=>qI,SelectComponent:()=>YI,SliderComponent:()=>nj,SpatialIndex:()=>Sj,SpatialMain:()=>Rj,StackComponent:()=>cj,TextFieldComponent:()=>mj,TheProject:()=>_j,TwoComponent:()=>kj,UseCasesIndex:()=>CF,UseCasesList:()=>EF,WelcomePage:()=>Wj});var P={};n.r(P),n.d(P,{default:()=>FF,dependencies:()=>LF,name:()=>IF,register:()=>NF,template:()=>jF});const R=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==n.g)return n.g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(e){return{}}}();void 0===R.trustedTypes&&(R.trustedTypes={createPolicy:(e,t)=>t});const I=Object.freeze([]),j=[],F=R.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let L=F;function D(){let e=0;for(;e<j.length;)if(j[e].call(),e++,e>1024){for(let t=0,n=j.length-e;t<n;t++)j[t]=j[t+e];j.length-=e,e=0}j.length=0}const N=`fast-${Math.random().toString(36).substring(2,8)}`,M=`${N}{`,B=`}${N}`,H=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(L!==F)throw new Error("The HTML policy can only be set once.");L=e},createHTML:e=>L.createHTML(e),isMarker:e=>e&&8===e.nodeType&&e.data.startsWith(N),extractDirectiveIndexFromMarker:e=>parseInt(e.data.replace(`${N}:`,"")),createInterpolationPlaceholder:e=>`${M}${e}${B}`,createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder:e=>`\x3c!--${N}:${e}--\x3e`,queueUpdate(e){j.length<1&&window.requestAnimationFrame(D),j.push(e)},nextUpdate:()=>new Promise((e=>{H.queueUpdate(e)})),setAttribute(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)},setBooleanAttribute(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;null!==t;t=e.firstChild)e.removeChild(t)},createTemplateWalker:e=>document.createTreeWalker(e,133,null,!1)});function V(e){const t=this.spillover;-1===t.indexOf(e)&&t.push(e)}function q(e){const t=this.spillover,n=t.indexOf(e);-1!==n&&t.splice(n,1)}function U(e){const t=this.spillover,n=this.source;for(let i=0,s=t.length;i<s;++i)t[i].handleChange(n,e)}function z(e){return-1!==this.spillover.indexOf(e)}class _{constructor(e,t){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=e,this.sub1=t}has(e){return this.sub1===e||this.sub2===e}subscribe(e){this.has(e)||(void 0!==this.sub1?void 0!==this.sub2?(this.spillover=[this.sub1,this.sub2,e],this.subscribe=V,this.unsubscribe=q,this.notify=U,this.has=z,this.sub1=void 0,this.sub2=void 0):this.sub2=e:this.sub1=e)}unsubscribe(e){this.sub1===e?this.sub1=void 0:this.sub2===e&&(this.sub2=void 0)}notify(e){const t=this.sub1,n=this.sub2,i=this.source;void 0!==t&&t.handleChange(i,e),void 0!==n&&n.handleChange(i,e)}}class W{constructor(e){this.subscribers={},this.source=e}notify(e){const t=this.subscribers[e];void 0!==t&&t.notify(e)}subscribe(e,t){let n=this.subscribers[t];void 0===n&&(this.subscribers[t]=n=new _(this.source)),n.subscribe(e)}unsubscribe(e,t){const n=this.subscribers[t];void 0!==n&&n.unsubscribe(e)}}const K=/(:|&&|\|\||if)/,G=new WeakMap,Y=new WeakMap;let Q,Z=e=>{throw new Error("Must call enableArrayObservation before observing arrays.")};class X{constructor(e){this.name=e,this.field=`_${e}`,this.callback=`${e}Changed`}getValue(e){return void 0!==Q&&Q.watch(e,this.name),e[this.field]}setValue(e,t){const n=this.field,i=e[n];if(i!==t){e[n]=t;const s=e[this.callback];"function"==typeof s&&s.call(e,i,t),ee(e).notify(this.name)}}}const J=Object.freeze({setArrayObserverFactory(e){Z=e},getNotifier(e){let t=e.$fastController||G.get(e);return void 0===t&&(Array.isArray(e)?t=Z(e):G.set(e,t=new W(e))),t},track(e,t){void 0!==Q&&Q.watch(e,t)},trackVolatile(){void 0!==Q&&(Q.needsRefresh=!0)},notify(e,t){ee(e).notify(t)},defineProperty(e,t){"string"==typeof t&&(t=new X(t)),this.getAccessors(e).push(t),Reflect.defineProperty(e,t.name,{enumerable:!0,get:function(){return t.getValue(this)},set:function(e){t.setValue(this,e)}})},getAccessors(e){let t=Y.get(e);if(void 0===t){let n=Reflect.getPrototypeOf(e);for(;void 0===t&&null!==n;)t=Y.get(n),n=Reflect.getPrototypeOf(n);t=void 0===t?[]:t.slice(0),Y.set(e,t)}return t},binding(e,t,n=this.isVolatileBinding(e)){return new ae(e,t,n)},isVolatileBinding:e=>K.test(e.toString())}),ee=J.getNotifier,te=(J.trackVolatile,H.queueUpdate);function ne(e,t){J.defineProperty(e,t)}let ie=null;function se(e){ie=e}class oe{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return ie}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}}J.defineProperty(oe.prototype,"index"),J.defineProperty(oe.prototype,"length");const re=Object.seal(new oe);class ae extends _{constructor(e,t,n=!1){super(e,t),this.binding=e,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(e,t){this.needsRefresh&&null!==this.last&&this.disconnect();const n=Q;Q=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const i=this.binding(e,t);return Q=n,i}disconnect(){if(null!==this.last){let e=this.first;for(;void 0!==e;)e.notifier.unsubscribe(this,e.propertyName),e=e.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(e,t){const n=this.last,i=ee(e),s=null===n?this.first:{};if(s.propertySource=e,s.propertyName=t,s.notifier=i,i.subscribe(this,t),null!==n){if(!this.needsRefresh){Q=void 0;const t=n.propertySource[n.propertyName];Q=this,e===t&&(this.needsRefresh=!0)}n.next=s}this.last=s}handleChange(){this.needsQueue&&(this.needsQueue=!1,te(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let e=this.first;return{next:()=>{const t=e;return void 0===t?{value:void 0,done:!0}:(e=e.next,{value:t,done:!1})},[Symbol.iterator]:function(){return this}}}}class le{constructor(){this.targets=new WeakSet,this.behaviors=null}addStylesTo(e){this.targets.add(e)}removeStylesFrom(e){this.targets.delete(e)}isAttachedTo(e){return this.targets.has(e)}withBehaviors(...e){return this.behaviors=null===this.behaviors?e:this.behaviors.concat(e),this}}function ce(e){return e.map((e=>e instanceof le?ce(e.styles):[e])).reduce(((e,t)=>e.concat(t)),[])}function ue(e){return e.map((e=>e instanceof le?e.behaviors:null)).reduce(((e,t)=>null===t?e:(null===e&&(e=[]),e.concat(t))),null)}le.create=(()=>{if(H.supportsAdoptedStyleSheets){const e=new Map;return t=>new he(t,e)}return e=>new pe(e)})();class he extends le{constructor(e,t){super(),this.styles=e,this.styleSheetCache=t,this._styleSheets=void 0,this.behaviors=ue(e)}get styleSheets(){if(void 0===this._styleSheets){const e=this.styles,t=this.styleSheetCache;this._styleSheets=ce(e).map((e=>{if(e instanceof CSSStyleSheet)return e;let n=t.get(e);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(e),t.set(e,n)),n}))}return this._styleSheets}addStylesTo(e){e.adoptedStyleSheets=[...e.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(e)}removeStylesFrom(e){const t=this.styleSheets;e.adoptedStyleSheets=e.adoptedStyleSheets.filter((e=>-1===t.indexOf(e))),super.removeStylesFrom(e)}}let de=0;class pe extends le{constructor(e){super(),this.styles=e,this.behaviors=null,this.behaviors=ue(e),this.styleSheets=ce(e),this.styleClass="fast-style-class-"+ ++de}addStylesTo(e){const t=this.styleSheets,n=this.styleClass;e=this.normalizeTarget(e);for(let i=t.length-1;i>-1;--i){const s=document.createElement("style");s.innerHTML=t[i],s.className=n,e.prepend(s)}super.addStylesTo(e)}removeStylesFrom(e){const t=(e=this.normalizeTarget(e)).querySelectorAll(`.${this.styleClass}`);for(let n=0,i=t.length;n<i;++n)e.removeChild(t[n]);super.removeStylesFrom(e)}isAttachedTo(e){return super.isAttachedTo(this.normalizeTarget(e))}normalizeTarget(e){return e===document?document.body:e}}const ge={toView:e=>e?"true":"false",fromView:e=>null!=e&&"false"!==e&&!1!==e&&0!==e},fe={toView(e){if(null==e)return null;const t=1*e;return isNaN(t)?null:t.toString()},fromView(e){if(null==e)return null;const t=1*e;return isNaN(t)?null:t}};class me{constructor(e,t,n=t.toLowerCase(),i="reflect",s){this.guards=new Set,this.Owner=e,this.name=t,this.attribute=n,this.mode=i,this.converter=s,this.fieldName=`_${t}`,this.callbackName=`${t}Changed`,this.hasCallback=this.callbackName in e.prototype,"boolean"===i&&void 0===s&&(this.converter=ge)}setValue(e,t){const n=e[this.fieldName],i=this.converter;void 0!==i&&(t=i.fromView(t)),n!==t&&(e[this.fieldName]=t,this.tryReflectToAttribute(e),this.hasCallback&&e[this.callbackName](n,t),e.$fastController.notify(this.name))}getValue(e){return J.track(e,this.name),e[this.fieldName]}onAttributeChangedCallback(e,t){this.guards.has(e)||(this.guards.add(e),this.setValue(e,t),this.guards.delete(e))}tryReflectToAttribute(e){const t=this.mode,n=this.guards;n.has(e)||"fromView"===t||H.queueUpdate((()=>{n.add(e);const i=e[this.fieldName];switch(t){case"reflect":const t=this.converter;H.setAttribute(e,this.attribute,void 0!==t?t.toView(i):i);break;case"boolean":H.setBooleanAttribute(e,this.attribute,i)}n.delete(e)}))}static collect(e,...t){const n=[];t.push(e.attributes);for(let i=0,s=t.length;i<s;++i){const s=t[i];if(void 0!==s)for(let t=0,i=s.length;t<i;++t){const i=s[t];"string"==typeof i?n.push(new me(e,i)):n.push(new me(e,i.property,i.attribute,i.mode,i.converter))}}return n}}function ve(e,t){let n;function i(e,t){arguments.length>1&&(n.property=t);const i=e.constructor.attributes||(e.constructor.attributes=[]);i.push(n)}return arguments.length>1?(n={},void i(e,t)):(n=void 0===e?{}:e,i)}const be={mode:"open"},ye={},we=new Map;class xe{constructor(e,t=e.definition){"string"==typeof t&&(t={name:t}),this.type=e,this.name=t.name,this.template=t.template;const n=me.collect(e,t.attributes),i=new Array(n.length),s={},o={};for(let e=0,t=n.length;e<t;++e){const t=n[e];i[e]=t.attribute,s[t.name]=t,o[t.attribute]=t}this.attributes=n,this.observedAttributes=i,this.propertyLookup=s,this.attributeLookup=o,this.shadowOptions=void 0===t.shadowOptions?be:null===t.shadowOptions?void 0:Object.assign(Object.assign({},be),t.shadowOptions),this.elementOptions=void 0===t.elementOptions?ye:Object.assign(Object.assign({},ye),t.elementOptions),this.styles=void 0===t.styles?void 0:Array.isArray(t.styles)?le.create(t.styles):t.styles instanceof le?t.styles:le.create([t.styles])}define(e=customElements){const t=this.type;if(!this.isDefined){const e=this.attributes,n=t.prototype;for(let t=0,i=e.length;t<i;++t)J.defineProperty(n,e[t]);Reflect.defineProperty(t,"observedAttributes",{value:this.observedAttributes,enumerable:!0}),we.set(t,this),this.isDefined=!0}return e.get(this.name)||e.define(this.name,t,this.elementOptions),this}static forType(e){return we.get(e)}}const Ce=new WeakMap,ke={bubbles:!0,composed:!0,cancelable:!0};function Se(e){return e.shadowRoot||Ce.get(e)||null}class $e extends W{constructor(e,t){super(e),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.view=null,this.element=e,this.definition=t;const n=t.shadowOptions;if(void 0!==n){const t=e.attachShadow(n);"closed"===n.mode&&Ce.set(e,t)}const i=J.getAccessors(e);if(i.length>0){const t=this.boundObservables=Object.create(null);for(let n=0,s=i.length;n<s;++n){const s=i[n].name,o=e[s];void 0!==o&&(delete e[s],t[s]=o)}}}get isConnected(){return J.track(this,"isConnected"),this._isConnected}setIsConnected(e){this._isConnected=e,J.notify(this,"isConnected")}get template(){return this._template}set template(e){this._template!==e&&(this._template=e,this.needsInitialization||this.renderTemplate(e))}get styles(){return this._styles}set styles(e){this._styles!==e&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=e,this.needsInitialization||null===e||this.addStyles(e))}addStyles(e){const t=Se(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.prepend(e);else if(!e.isAttachedTo(t)){const n=e.behaviors;e.addStylesTo(t),null!==n&&this.addBehaviors(n)}}removeStyles(e){const t=Se(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.removeChild(e);else if(e.isAttachedTo(t)){const n=e.behaviors;e.removeStylesFrom(t),null!==n&&this.removeBehaviors(n)}}addBehaviors(e){const t=this.behaviors||(this.behaviors=new Map),n=e.length,i=[];for(let s=0;s<n;++s){const n=e[s];t.has(n)?t.set(n,t.get(n)+1):(t.set(n,1),i.push(n))}if(this._isConnected){const e=this.element;for(let t=0;t<i.length;++t)i[t].bind(e,re)}}removeBehaviors(e,t=!1){const n=this.behaviors;if(null===n)return;const i=e.length,s=[];for(let o=0;o<i;++o){const i=e[o];if(n.has(i)){const e=n.get(i)-1;0===e||t?n.delete(i)&&s.push(i):n.set(i,e)}}if(this._isConnected){const e=this.element;for(let t=0;t<s.length;++t)s[t].unbind(e)}}onConnectedCallback(){if(this._isConnected)return;const e=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(e,re);const t=this.behaviors;if(null!==t)for(const[n]of t)n.bind(e,re);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const e=this.view;null!==e&&e.unbind();const t=this.behaviors;if(null!==t){const e=this.element;for(const[n]of t)n.unbind(e)}}onAttributeChangedCallback(e,t,n){const i=this.definition.attributeLookup[e];void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(e,t,n){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign({detail:t},ke),n)))}finishInitialization(){const e=this.element,t=this.boundObservables;if(null!==t){const n=Object.keys(t);for(let i=0,s=n.length;i<s;++i){const s=n[i];e[s]=t[s]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(e){const t=this.element,n=Se(t)||t;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||H.removeChildNodes(n),e&&(this.view=e.render(t,n,t))}static forCustomElement(e){const t=e.$fastController;if(void 0!==t)return t;const n=xe.forType(e.constructor);if(void 0===n)throw new Error("Missing FASTElement definition.");return e.$fastController=new $e(e,n)}}function Te(e){return class extends e{constructor(){super(),$e.forCustomElement(this)}$emit(e,t,n){return this.$fastController.emit(e,t,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(e,t,n){this.$fastController.onAttributeChangedCallback(e,t,n)}}}const Ae=Object.assign(Te(HTMLElement),{from:e=>Te(e),define:(e,t)=>new xe(e,t).define().type});function Oe(e){return function(t){new xe(t,e).define()}}class Ee{createCSS(){return""}createBehavior(){}}function Pe(e,...t){const{styles:n,behaviors:i}=function(e,t){const n=[];let i="";const s=[];for(let o=0,r=e.length-1;o<r;++o){i+=e[o];let r=t[o];if(r instanceof Ee){const e=r.createBehavior();r=r.createCSS(),e&&s.push(e)}r instanceof le||r instanceof CSSStyleSheet?(""!==i.trim()&&(n.push(i),i=""),n.push(r)):i+=r}return i+=e[e.length-1],""!==i.trim()&&n.push(i),{styles:n,behaviors:s}}(e,t),s=le.create(n);return i.length&&s.withBehaviors(...i),s}function Re(e){return`:host([hidden]){display:none}:host{display:${e}}`}const Ie=Pe`
  ${Re("block")}

  :host {
    fill: var(--accent-fill-rest);
  }
`;class je{constructor(){this.targetIndex=0}}class Fe extends je{constructor(){super(...arguments),this.createPlaceholder=H.createInterpolationPlaceholder}}class Le extends je{constructor(e,t,n){super(),this.name=e,this.behavior=t,this.options=n}createPlaceholder(e){return H.createCustomAttributePlaceholder(this.name,e)}createBehavior(e){return new this.behavior(e,this.options)}}function De(e,t){this.source=e,this.context=t,null===this.bindingObserver&&(this.bindingObserver=J.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function Ne(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function Me(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Be(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function He(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Ve(e){H.setAttribute(this.target,this.targetName,e)}function qe(e){H.setBooleanAttribute(this.target,this.targetName,e)}function Ue(e){if(null==e&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;void 0===t?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function ze(e){this.target[this.targetName]=e}function _e(e){const t=this.classVersions||Object.create(null),n=this.target;let i=this.version||0;if(null!=e&&e.length){const s=e.split(/\s+/);for(let e=0,o=s.length;e<o;++e){const o=s[e];""!==o&&(t[o]=i,n.classList.add(o))}}if(this.classVersions=t,this.version=i+1,0!==i){i-=1;for(const e in t)t[e]===i&&n.classList.remove(e)}}class We extends Fe{constructor(e){super(),this.binding=e,this.bind=De,this.unbind=Me,this.updateTarget=Ve,this.isBindingVolatile=J.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(e){if(this.originalTargetName=e,void 0!==e)switch(e[0]){case":":if(this.cleanedTargetName=e.substr(1),this.updateTarget=ze,"innerHTML"===this.cleanedTargetName){const e=this.binding;this.binding=(t,n)=>H.createHTML(e(t,n))}break;case"?":this.cleanedTargetName=e.substr(1),this.updateTarget=qe;break;case"@":this.cleanedTargetName=e.substr(1),this.bind=Ne,this.unbind=He;break;default:this.cleanedTargetName=e,"class"===e&&(this.updateTarget=_e)}}targetAtContent(){this.updateTarget=Ue,this.unbind=Be}createBehavior(e){return new Ke(e,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Ke{constructor(e,t,n,i,s,o,r){this.source=null,this.context=null,this.bindingObserver=null,this.target=e,this.binding=t,this.isBindingVolatile=n,this.bind=i,this.unbind=s,this.updateTarget=o,this.targetName=r}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(e){se(e);const t=this.binding(this.source,this.context);se(null),!0!==t&&e.preventDefault()}}let Ge=null;class Ye{addFactory(e){e.targetIndex=this.targetIndex,this.behaviorFactories.push(e)}captureContentBinding(e){e.targetAtContent(),this.addFactory(e)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){Ge=this}static borrow(e){const t=Ge||new Ye;return t.directives=e,t.reset(),Ge=null,t}}function Qe(e){if(1===e.length)return e[0];let t;const n=e.length,i=e.map((e=>"string"==typeof e?()=>e:(t=e.targetName||t,e.binding))),s=new We(((e,t)=>{let s="";for(let o=0;o<n;++o)s+=i[o](e,t);return s}));return s.targetName=t,s}const Ze=B.length;function Xe(e,t){const n=t.split(M);if(1===n.length)return null;const i=[];for(let t=0,s=n.length;t<s;++t){const s=n[t],o=s.indexOf(B);let r;if(-1===o)r=s;else{const t=parseInt(s.substring(0,o));i.push(e.directives[t]),r=s.substring(o+Ze)}""!==r&&i.push(r)}return i}function Je(e,t,n=!1){const i=t.attributes;for(let s=0,o=i.length;s<o;++s){const r=i[s],a=r.value,l=Xe(e,a);let c=null;null===l?n&&(c=new We((()=>a)),c.targetName=r.name):c=Qe(l),null!==c&&(t.removeAttributeNode(r),s--,o--,e.addFactory(c))}}function et(e,t,n){const i=Xe(e,t.textContent);if(null!==i){let s=t;for(let o=0,r=i.length;o<r;++o){const r=i[o],a=0===o?t:s.parentNode.insertBefore(document.createTextNode(""),s.nextSibling);"string"==typeof r?a.textContent=r:(a.textContent=" ",e.captureContentBinding(r)),s=a,e.targetIndex++,a!==t&&n.nextNode()}e.targetIndex--}}const tt=document.createRange();class nt{constructor(e,t){this.fragment=e,this.behaviors=t,this.source=null,this.context=null,this.firstChild=e.firstChild,this.lastChild=e.lastChild}appendTo(e){e.appendChild(this.fragment)}insertBefore(e){if(this.fragment.hasChildNodes())e.parentNode.insertBefore(this.fragment,e);else{const t=e.parentNode,n=this.lastChild;let i,s=this.firstChild;for(;s!==n;)i=s.nextSibling,t.insertBefore(s,e),s=i;t.insertBefore(n,e)}}remove(){const e=this.fragment,t=this.lastChild;let n,i=this.firstChild;for(;i!==t;)n=i.nextSibling,e.appendChild(i),i=n;e.appendChild(t)}dispose(){const e=this.firstChild.parentNode,t=this.lastChild;let n,i=this.firstChild;for(;i!==t;)n=i.nextSibling,e.removeChild(i),i=n;e.removeChild(t);const s=this.behaviors,o=this.source;for(let e=0,t=s.length;e<t;++e)s[e].unbind(o)}bind(e,t){const n=this.behaviors;if(this.source!==e)if(null!==this.source){const i=this.source;this.source=e,this.context=t;for(let s=0,o=n.length;s<o;++s){const o=n[s];o.unbind(i),o.bind(e,t)}}else{this.source=e,this.context=t;for(let i=0,s=n.length;i<s;++i)n[i].bind(e,t)}}unbind(){if(null===this.source)return;const e=this.behaviors,t=this.source;for(let n=0,i=e.length;n<i;++n)e[n].unbind(t);this.source=null}static disposeContiguousBatch(e){if(0!==e.length){tt.setStartBefore(e[0].firstChild),tt.setEndAfter(e[e.length-1].lastChild),tt.deleteContents();for(let t=0,n=e.length;t<n;++t){const n=e[t],i=n.behaviors,s=n.source;for(let e=0,t=i.length;e<t;++e)i[e].unbind(s)}}}}class it{constructor(e,t){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=e,this.directives=t}create(e){if(null===this.fragment){let e;const t=this.html;if("string"==typeof t){e=document.createElement("template"),e.innerHTML=H.createHTML(t);const n=e.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(e=n)}else e=t;const n=function(e,t){const n=e.content;document.adoptNode(n);const i=Ye.borrow(t);Je(i,e,!0);const s=i.behaviorFactories;i.reset();const o=H.createTemplateWalker(n);let r;for(;r=o.nextNode();)switch(i.targetIndex++,r.nodeType){case 1:Je(i,r);break;case 3:et(i,r,o);break;case 8:H.isMarker(r)&&i.addFactory(t[H.extractDirectiveIndexFromMarker(r)])}let a=0;(H.isMarker(n.firstChild)||1===n.childNodes.length&&t.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1);const l=i.behaviorFactories;return i.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:s,targetOffset:a}}(e,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const t=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),s=H.createTemplateWalker(t);let o=0,r=this.targetOffset,a=s.nextNode();for(let e=n.length;o<e;++o){const e=n[o],t=e.targetIndex;for(;null!==a;){if(r===t){i[o]=e.createBehavior(a);break}a=s.nextNode(),r++}}if(this.hasHostBehaviors){const t=this.hostBehaviorFactories;for(let n=0,s=t.length;n<s;++n,++o)i[o]=t[n].createBehavior(e)}return new nt(t,i)}render(e,t,n){"string"==typeof t&&(t=document.getElementById(t)),void 0===n&&(n=t);const i=this.create(n);return i.bind(e,re),i.appendTo(t),i}}const st=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function ot(e,...t){const n=[];let i="";for(let s=0,o=e.length-1;s<o;++s){const o=e[s];let r=t[s];if(i+=o,r instanceof it){const e=r;r=()=>e}if("function"==typeof r&&(r=new We(r)),r instanceof Fe){const e=st.exec(o);null!==e&&(r.targetName=e[2])}r instanceof je?(i+=r.createPlaceholder(n.length),n.push(r)):i+=r}return i+=e[e.length-1],new it(i,n)}const rt=ot`<slot>
  <svg viewbox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
    <!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ -->
    <g id="Layer_1">
     <title>Layer 1</title>
     <path stroke="none" fill-opacity="0.2" id="svg_1" d="m${e=>e.p0},404l706.00003,-${e=>e.p5}l0,${e=>e.p5}l-706.00003,1z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_3" d="m${e=>e.p0},404l706.00003,-${e=>e.p4}l0,${e=>e.p4}l-706.00003,0.77075z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_4" d="m${e=>e.p0},404l706.00003,-${e=>e.p3}l0,${e=>e.p3}l-706.00003,0.60797z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_5" d="m${e=>e.p0},404l706.00003,-${e=>e.p2}l0,${e=>e.p2}l-706.00003,0.36877z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_7" d="m${e=>e.p1},405l-${e=>e.p1},-141l0,140.53159l${e=>e.p1},0.46841z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_9" d="m${e=>e.p1},405l-${e=>e.p1},-75l0,74.75085l${e=>e.p1},0.24915z"/>
    </g>
   </svg>
</slot>`;var at=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},lt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ct=class extends Ae{constructor(){super(...arguments),this.points=[96,526,111,183,202,301],this.increments=[.5,-1,.5,-.4,.3],this.mins=[115,360,10,20,30],this.maxs=[350,700,400,400,400],this.running=!1}connectedCallback(){super.connectedCallback(),this.start()}start(){this.nextFrame()}stop(){this.running=!1}nextFrame(){window.requestAnimationFrame((()=>{for(let e=0;e<this.points.length;e++){let t=this.points[e],n=this.increments[e]||0;const i=this.mins[e]||0,s=this.maxs[e]||800;(n&&t>s&&n>0||t<i&&n<0)&&(n*=-1,this.increments[e]=n),t+=n,this.points[e]=t,this[`p${e}`]=t}this.running&&this.nextFrame()}))}};at([ne,lt("design:type",Number)],ct.prototype,"p0",void 0),at([ne,lt("design:type",Number)],ct.prototype,"p1",void 0),at([ne,lt("design:type",Number)],ct.prototype,"p2",void 0),at([ne,lt("design:type",Number)],ct.prototype,"p3",void 0),at([ne,lt("design:type",Number)],ct.prototype,"p4",void 0),at([ne,lt("design:type",Number)],ct.prototype,"p5",void 0),ct=at([Oe({name:"animated-svg",template:rt,styles:Ie})],ct);class ut{constructor(e,t,n){this.name=e,this.value=t,this.host=n,this.propertyName=`--${e}`,this.var=`var(${this.propertyName})`}bind(e){const t=this.host(e);null!==t&&("function"==typeof t.registerCSSCustomProperty?t.registerCSSCustomProperty(this):(Array.isArray(t.disconnectedCSSCustomPropertyRegistry)||(t.disconnectedCSSCustomPropertyRegistry=[]),t.disconnectedCSSCustomPropertyRegistry.push(this)))}unbind(e){const t=this.host(e);null!==t&&"function"==typeof t.unregisterCSSCustomProperty&&t.unregisterCSSCustomProperty(this)}}function ht(e,t,n){return new ut(e,t,n)}var dt;!function(e){e.ltr="ltr",e.rtl="rtl"}(dt||(dt={}));const pt={typeRampMinus2FontSize:"10px",typeRampMinus2LineHeight:"16px",typeRampMinus1FontSize:"12px",typeRampMinus1LineHeight:"16px",typeRampBaseFontSize:"14px",typeRampBaseLineHeight:"20px",typeRampPlus1FontSize:"16px",typeRampPlus1LineHeight:"24px",typeRampPlus2FontSize:"20px",typeRampPlus2LineHeight:"28px",typeRampPlus3FontSize:"28px",typeRampPlus3LineHeight:"36px",typeRampPlus4FontSize:"34px",typeRampPlus4LineHeight:"44px",typeRampPlus5FontSize:"46px",typeRampPlus5LineHeight:"56px",typeRampPlus6FontSize:"60px",typeRampPlus6LineHeight:"72px",accentBaseColor:"#DA1A5F",accentPalette:["#FFFFFF","#FEFBFC","#FEF7FA","#FDF4F7","#FDF0F5","#FCECF2","#FBE8EF","#FBE5ED","#FAE1EA","#FADDE7","#F9D9E5","#F8D6E2","#F8D2E0","#F7CEDD","#F7CADA","#F6C7D8","#F5C3D5","#F5BFD2","#F4BBD0","#F3B8CD","#F3B4CB","#F2B0C8","#F2ACC5","#F1A9C3","#F0A5C0","#F0A1BD","#EF9DBB","#EF9AB8","#EE96B6","#ED92B3","#ED8EB0","#EC8BAE","#EC87AB","#EB83A8","#EA7FA6","#EA7CA3","#E978A1","#E9749E","#E8709B","#E76D99","#E76996","#E66593","#E66191","#E55E8E","#E45A8C","#E45689","#E35286","#E24F84","#E24B81","#E1477E","#E1437C","#E04079","#DF3C77","#DF3874","#DE3471","#DE316F","#DD2D6C","#DC2969","#DC2567","#DB2264","#DB1E62","#DA1A5F","#D4195C","#CD1859","#C71857","#C01754","#BA1651","#B3154E","#AD154B","#A71449","#A01346","#9A1243","#931240","#8D113D","#86103B","#800F38","#7A0F35","#730E32","#6D0D2F","#660C2D","#600B2A","#590B27","#530A24","#4D0921","#46081F","#40081C","#3B071A","#350617","#300615","#2B0513","#260511","#21040E","#1C030C","#000000"],backgroundColor:"#181818",baseHeightMultiplier:10,baseHorizontalSpacingMultiplier:3,cornerRadius:3,density:0,designUnit:4,direction:dt.ltr,disabledOpacity:.3,focusOutlineWidth:2,neutralPalette:["#FFFFFF","#FCFCFC","#FAFAFA","#F7F7F7","#F5F5F5","#F2F2F2","#EFEFEF","#EDEDED","#EAEAEA","#E8E8E8","#E5E5E5","#E2E2E2","#E0E0E0","#DDDDDD","#DBDBDB","#D8D8D8","#D6D6D6","#D3D3D3","#D0D0D0","#CECECE","#CBCBCB","#C9C9C9","#C6C6C6","#C3C3C3","#C1C1C1","#BEBEBE","#BCBCBC","#B9B9B9","#B6B6B6","#B4B4B4","#B1B1B1","#AFAFAF","#ACACAC","#A9A9A9","#A7A7A7","#A4A4A4","#A2A2A2","#9F9F9F","#9D9D9D","#9A9A9A","#979797","#959595","#929292","#909090","#8D8D8D","#8A8A8A","#888888","#858585","#838383","#808080","#7D7D7D","#7B7B7B","#787878","#767676","#737373","#717171","#6E6E6E","#6B6B6B","#696969","#666666","#646464","#616161","#5F5F5F","#5C5C5C","#5A5A5A","#575757","#545454","#525252","#4F4F4F","#4D4D4D","#4A4A4A","#484848","#454545","#424242","#404040","#3D3D3D","#3B3B3B","#383838","#363636","#333333","#313131","#2E2E2E","#2B2B2B","#292929","#262626","#242424","#212121","#1E1E1E","#1B1B1B","#181818","#151515","#121212","#101010","#000000"],outlineWidth:1,accentFillRestDelta:0,accentFillHoverDelta:4,accentFillActiveDelta:-5,accentFillFocusDelta:0,accentFillSelectedDelta:12,accentForegroundRestDelta:0,accentForegroundHoverDelta:6,accentForegroundActiveDelta:-4,accentForegroundFocusDelta:0,neutralFillRestDelta:7,neutralFillHoverDelta:10,neutralFillActiveDelta:5,neutralFillFocusDelta:0,neutralFillSelectedDelta:7,neutralFillInputRestDelta:0,neutralFillInputHoverDelta:0,neutralFillInputActiveDelta:0,neutralFillInputFocusDelta:0,neutralFillInputSelectedDelta:0,neutralFillStealthRestDelta:0,neutralFillStealthHoverDelta:5,neutralFillStealthActiveDelta:3,neutralFillStealthFocusDelta:0,neutralFillStealthSelectedDelta:7,neutralFillToggleHoverDelta:8,neutralFillToggleActiveDelta:-5,neutralFillToggleFocusDelta:0,baseLayerLuminance:-1,neutralFillCardDelta:3,neutralForegroundHoverDelta:0,neutralForegroundActiveDelta:0,neutralForegroundFocusDelta:0,neutralDividerRestDelta:8,neutralOutlineRestDelta:25,neutralOutlineHoverDelta:40,neutralOutlineActiveDelta:16,neutralOutlineFocusDelta:25,neutralContrastFillRestDelta:0,neutralContrastFillHoverDelta:-3,neutralContrastFillActiveDelta:7,neutralContrastFillFocusDelta:0};function gt(e,t){return"function"==typeof e?e(t):e}function ft(e){return t=>t&&void 0!==t[e]?t[e]:pt[e]}const mt=ft("backgroundColor"),vt=ft("accentBaseColor"),bt=(ft("cornerRadius"),ft("neutralPalette")),yt=ft("accentPalette"),wt=(ft("designUnit"),ft("baseHeightMultiplier"),ft("baseHorizontalSpacingMultiplier"),ft("outlineWidth"),ft("focusOutlineWidth"),ft("disabledOpacity"),ft("direction"),ft("accentFillRestDelta"),ft("accentFillHoverDelta")),xt=ft("accentFillActiveDelta"),Ct=ft("accentFillFocusDelta"),kt=ft("accentFillSelectedDelta"),St=ft("accentForegroundRestDelta"),$t=ft("accentForegroundHoverDelta"),Tt=ft("accentForegroundActiveDelta"),At=ft("accentForegroundFocusDelta"),Ot=ft("neutralFillRestDelta"),Et=ft("neutralFillHoverDelta"),Pt=ft("neutralFillActiveDelta"),Rt=ft("neutralFillFocusDelta"),It=ft("neutralFillSelectedDelta"),jt=ft("neutralFillInputRestDelta"),Ft=ft("neutralFillInputHoverDelta"),Lt=ft("neutralFillInputActiveDelta"),Dt=ft("neutralFillInputFocusDelta"),Nt=ft("neutralFillInputSelectedDelta"),Mt=ft("neutralFillStealthRestDelta"),Bt=ft("neutralFillStealthHoverDelta"),Ht=ft("neutralFillStealthActiveDelta"),Vt=ft("neutralFillStealthFocusDelta"),qt=ft("neutralFillStealthSelectedDelta"),Ut=ft("neutralFillToggleHoverDelta"),zt=ft("neutralFillToggleActiveDelta"),_t=ft("neutralFillToggleFocusDelta"),Wt=ft("baseLayerLuminance"),Kt=ft("neutralFillCardDelta"),Gt=ft("neutralForegroundHoverDelta"),Yt=ft("neutralForegroundActiveDelta"),Qt=ft("neutralForegroundFocusDelta"),Zt=ft("neutralDividerRestDelta"),Xt=ft("neutralOutlineRestDelta"),Jt=ft("neutralOutlineHoverDelta"),en=ft("neutralOutlineActiveDelta"),tn=ft("neutralOutlineFocusDelta"),nn=(ft("neutralContrastFillRestDelta"),ft("neutralContrastFillHoverDelta")),sn=ft("neutralContrastFillActiveDelta"),on=ft("neutralContrastFillFocusDelta");function rn(e,t,n){return isNaN(e)||e<=t?t:e>=n?n:e}function an(e,t,n){return isNaN(e)||e<=t?0:e>=n?1:e/(n-t)}function ln(e,t,n){return isNaN(e)?t:t+e*(n-t)}function cn(e){return e*(Math.PI/180)}function un(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:t+e*(n-t)}function hn(e,t,n){if(e<=0)return t%360;if(e>=1)return n%360;const i=(t-n+360)%360;return i<=(n-t+360)%360?(t-i*e+360)%360:(t+i*e+360)%360}function dn(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}Math.PI;class pn{constructor(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a="number"!=typeof i||isNaN(i)?1:i}static fromObject(e){return!e||isNaN(e.r)||isNaN(e.g)||isNaN(e.b)?null:new pn(e.r,e.g,e.b,e.a)}equalValue(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(ln(this.r,0,255))},${Math.round(ln(this.g,0,255))},${Math.round(ln(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(ln(this.r,0,255))},${Math.round(ln(this.g,0,255))},${Math.round(ln(this.b,0,255))},${rn(this.a,0,1)})`}roundToPrecision(e){return new pn(dn(this.r,e),dn(this.g,e),dn(this.b,e),dn(this.a,e))}clamp(){return new pn(rn(this.r,0,1),rn(this.g,0,1),rn(this.b,0,1),rn(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(e){return function(e){const t=Math.round(rn(e,0,255)).toString(16);return 1===t.length?"0"+t:t}(ln(e,0,255))}}const gn={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},fn=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,mn=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,vn=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,bn=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;function yn(e){return vn.test(e)}function wn(e){return fn.test(e)}function xn(e){const t=vn.exec(e);if(null===t)return null;let n=t[1];if(3===n.length){const e=n.charAt(0),t=n.charAt(1),i=n.charAt(2);n=e.concat(e,t,t,i,i)}const i=parseInt(n,16);return isNaN(i)?null:new pn(an((16711680&i)>>>16,0,255),an((65280&i)>>>8,0,255),an(255&i,0,255),1)}function Cn(e){const t=fn.exec(e);if(null===t)return null;const n=t[1].split(",");return new pn(an(Number(n[0]),0,255),an(Number(n[1]),0,255),an(Number(n[2]),0,255),1)}function kn(e){const t=e.toLowerCase();return yn(t)?xn(t):function(e){return function(e){return bn.test(e)}(e)}(t)?function(e){const t=bn.exec(e);if(null===t)return null;let n=t[1];if(4===n.length){const e=n.charAt(0),t=n.charAt(1),i=n.charAt(2),s=n.charAt(3);n=e.concat(e,t,t,i,i,s,s)}const i=parseInt(n,16);return isNaN(i)?null:new pn(an((16711680&i)>>>16,0,255),an((65280&i)>>>8,0,255),an(255&i,0,255),an((4278190080&i)>>>24,0,255))}(t):wn(t)?Cn(t):function(e){return mn.test(e)}(t)?function(e){const t=mn.exec(e);if(null===t)return null;const n=t[1].split(",");return 4===n.length?new pn(an(Number(n[0]),0,255),an(Number(n[1]),0,255),an(Number(n[2]),0,255),Number(n[3])):null}(t):function(e){return gn.hasOwnProperty(e)}(t)?function(e){const t=gn[e.toLowerCase()];return t?new pn(t.r,t.g,t.b,t.hasOwnProperty("a")?t.a:void 0):null}(t):null}class Sn{constructor(e,t,n){this.h=e,this.s=t,this.l=n}static fromObject(e){return!e||isNaN(e.h)||isNaN(e.s)||isNaN(e.l)?null:new Sn(e.h,e.s,e.l)}equalValue(e){return this.h===e.h&&this.s===e.s&&this.l===e.l}roundToPrecision(e){return new Sn(dn(this.h,e),dn(this.s,e),dn(this.l,e))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class $n{constructor(e,t,n){this.h=e,this.s=t,this.v=n}static fromObject(e){return!e||isNaN(e.h)||isNaN(e.s)||isNaN(e.v)?null:new $n(e.h,e.s,e.v)}equalValue(e){return this.h===e.h&&this.s===e.s&&this.v===e.v}roundToPrecision(e){return new $n(dn(this.h,e),dn(this.s,e),dn(this.v,e))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class Tn{constructor(e,t,n){this.l=e,this.a=t,this.b=n}static fromObject(e){return!e||isNaN(e.l)||isNaN(e.a)||isNaN(e.b)?null:new Tn(e.l,e.a,e.b)}equalValue(e){return this.l===e.l&&this.a===e.a&&this.b===e.b}roundToPrecision(e){return new Tn(dn(this.l,e),dn(this.a,e),dn(this.b,e))}toObject(){return{l:this.l,a:this.a,b:this.b}}}Tn.epsilon=216/24389,Tn.kappa=24389/27;class An{constructor(e,t,n){this.l=e,this.c=t,this.h=n}static fromObject(e){return!e||isNaN(e.l)||isNaN(e.c)||isNaN(e.h)?null:new An(e.l,e.c,e.h)}equalValue(e){return this.l===e.l&&this.c===e.c&&this.h===e.h}roundToPrecision(e){return new An(dn(this.l,e),dn(this.c,e),dn(this.h,e))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class On{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromObject(e){return!e||isNaN(e.x)||isNaN(e.y)||isNaN(e.z)?null:new On(e.x,e.y,e.z)}equalValue(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}roundToPrecision(e){return new On(dn(this.x,e),dn(this.y,e),dn(this.z,e))}toObject(){return{x:this.x,y:this.y,z:this.z}}}function En(e){return.2126*e.r+.7152*e.g+.0722*e.b}function Pn(e){function t(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}return En(new pn(t(e.r),t(e.g),t(e.b),1))}On.whitePoint=new On(.95047,1,1.08883);const Rn=(e,t)=>(e+.05)/(t+.05);function In(e,t){const n=Pn(e),i=Pn(t);return n>i?Rn(n,i):Rn(i,n)}function jn(e){const t=Math.max(e.r,e.g,e.b),n=Math.min(e.r,e.g,e.b),i=t-n;let s=0;0!==i&&(s=t===e.r?(e.g-e.b)/i%6*60:t===e.g?60*((e.b-e.r)/i+2):60*((e.r-e.g)/i+4)),s<0&&(s+=360);const o=(t+n)/2;let r=0;return 0!==i&&(r=i/(1-Math.abs(2*o-1))),new Sn(s,r,o)}function Fn(e,t=1){const n=(1-Math.abs(2*e.l-1))*e.s,i=n*(1-Math.abs(e.h/60%2-1)),s=e.l-n/2;let o=0,r=0,a=0;return e.h<60?(o=n,r=i,a=0):e.h<120?(o=i,r=n,a=0):e.h<180?(o=0,r=n,a=i):e.h<240?(o=0,r=i,a=n):e.h<300?(o=i,r=0,a=n):e.h<360&&(o=n,r=0,a=i),new pn(o+s,r+s,a+s,t)}function Ln(e){const t=Math.max(e.r,e.g,e.b),n=t-Math.min(e.r,e.g,e.b);let i=0;0!==n&&(i=t===e.r?(e.g-e.b)/n%6*60:t===e.g?60*((e.b-e.r)/n+2):60*((e.r-e.g)/n+4)),i<0&&(i+=360);let s=0;return 0!==t&&(s=n/t),new $n(i,s,t)}function Dn(e){function t(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}const n=t(e.r),i=t(e.g),s=t(e.b);return new On(.4124564*n+.3575761*i+.1804375*s,.2126729*n+.7151522*i+.072175*s,.0193339*n+.119192*i+.9503041*s)}function Nn(e,t=1){function n(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}const i=n(3.2404542*e.x-1.5371385*e.y-.4985314*e.z),s=n(-.969266*e.x+1.8760108*e.y+.041556*e.z),o=n(.0556434*e.x-.2040259*e.y+1.0572252*e.z);return new pn(i,s,o,t)}function Mn(e){return function(e){function t(e){return e>Tn.epsilon?Math.pow(e,1/3):(Tn.kappa*e+16)/116}const n=t(e.x/On.whitePoint.x),i=t(e.y/On.whitePoint.y),s=t(e.z/On.whitePoint.z);return new Tn(116*i-16,500*(n-i),200*(i-s))}(Dn(e))}function Bn(e,t=1){return Nn(function(e){const t=(e.l+16)/116,n=t+e.a/500,i=t-e.b/200,s=Math.pow(n,3),o=Math.pow(t,3),r=Math.pow(i,3);let a=0;a=s>Tn.epsilon?s:(116*n-16)/Tn.kappa;let l=0;l=e.l>Tn.epsilon*Tn.kappa?o:e.l/Tn.kappa;let c=0;return c=r>Tn.epsilon?r:(116*i-16)/Tn.kappa,a=On.whitePoint.x*a,l=On.whitePoint.y*l,c=On.whitePoint.z*c,new On(a,l,c)}(e),t)}function Hn(e){return function(e){let t=0;(Math.abs(e.b)>.001||Math.abs(e.a)>.001)&&(t=Math.atan2(e.b,e.a)*(180/Math.PI)),t<0&&(t+=360);const n=Math.sqrt(e.a*e.a+e.b*e.b);return new An(e.l,n,t)}(Mn(e))}function Vn(e,t=1){return Bn(function(e){let t=0,n=0;return 0!==e.h&&(t=Math.cos(cn(e.h))*e.c,n=Math.sin(cn(e.h))*e.c),new Tn(e.l,t,n)}(e),t)}const qn="object"==typeof global&&global&&global.Object===Object&&global;var Un="object"==typeof self&&self&&self.Object===Object&&self;const zn=qn||Un||Function("return this")(),_n=zn.Symbol;var Wn=Object.prototype,Kn=Wn.hasOwnProperty,Gn=Wn.toString,Yn=_n?_n.toStringTag:void 0;var Qn=Object.prototype.toString;var Zn=_n?_n.toStringTag:void 0;const Xn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Zn&&Zn in Object(e)?function(e){var t=Kn.call(e,Yn),n=e[Yn];try{e[Yn]=void 0;var i=!0}catch(e){}var s=Gn.call(e);return i&&(t?e[Yn]=n:delete e[Yn]),s}(e):function(e){return Qn.call(e)}(e)},Jn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ei=function(e){if(!Jn(e))return!1;var t=Xn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ti=zn["__core-js_shared__"];var ni,ii=(ni=/[^.]+$/.exec(ti&&ti.keys&&ti.keys.IE_PROTO||""))?"Symbol(src)_1."+ni:"";var si=Function.prototype.toString;var oi=/^\[object .+?Constructor\]$/,ri=Function.prototype,ai=Object.prototype,li=ri.toString,ci=ai.hasOwnProperty,ui=RegExp("^"+li.call(ci).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const hi=function(e){return!(!Jn(e)||(t=e,ii&&ii in t))&&(ei(e)?ui:oi).test(function(e){if(null!=e){try{return si.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t},di=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return hi(n)?n:void 0},pi=di(Object,"create");var gi=Object.prototype.hasOwnProperty;var fi=Object.prototype.hasOwnProperty;function mi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}mi.prototype.clear=function(){this.__data__=pi?pi(null):{},this.size=0},mi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mi.prototype.get=function(e){var t=this.__data__;if(pi){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gi.call(t,e)?t[e]:void 0},mi.prototype.has=function(e){var t=this.__data__;return pi?void 0!==t[e]:fi.call(t,e)},mi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pi&&void 0===t?"__lodash_hash_undefined__":t,this};const vi=mi,bi=function(e,t){for(var n=e.length;n--;)if((i=e[n][0])===(s=t)||i!=i&&s!=s)return n;var i,s;return-1};var yi=Array.prototype.splice;function wi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}wi.prototype.clear=function(){this.__data__=[],this.size=0},wi.prototype.delete=function(e){var t=this.__data__,n=bi(t,e);return!(n<0||(n==t.length-1?t.pop():yi.call(t,n,1),--this.size,0))},wi.prototype.get=function(e){var t=this.__data__,n=bi(t,e);return n<0?void 0:t[n][1]},wi.prototype.has=function(e){return bi(this.__data__,e)>-1},wi.prototype.set=function(e,t){var n=this.__data__,i=bi(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};const xi=wi,Ci=di(zn,"Map"),ki=function(e,t){var n,i,s=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map};function Si(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Si.prototype.clear=function(){this.size=0,this.__data__={hash:new vi,map:new(Ci||xi),string:new vi}},Si.prototype.delete=function(e){var t=ki(this,e).delete(e);return this.size-=t?1:0,t},Si.prototype.get=function(e){return ki(this,e).get(e)},Si.prototype.has=function(e){return ki(this,e).has(e)},Si.prototype.set=function(e,t){var n=ki(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};const $i=Si;function Ti(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],o=n.cache;if(o.has(s))return o.get(s);var r=e.apply(this,i);return n.cache=o.set(s,r)||o,r};return n.cache=new(Ti.Cache||$i),n}Ti.Cache=$i;const Ai=Ti;var Oi;function Ei(e){const t=Ai(e);return function(e){return"function"==typeof e||"string"==typeof e?n=>t(Object.assign({},n,{backgroundColor:"function"==typeof e?e(n):e})):t(e)}}function Pi(e,t){const n=Ai(t);return t=>"function"==typeof t||"string"==typeof t?i=>n(Object.assign({},i,{backgroundColor:"function"==typeof t?t(i):t}))[e]:n(t)[e]}!function(e){e.rest="rest",e.hover="hover",e.active="active",e.focus="focus",e.selected="selected"}(Oi||(Oi={}));const Ri=Ai((e=>{let t=xn(e);if(null!==t)return t;if(t=Cn(e),null!==t)return t;throw new Error(`${e} cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"`)}));function Ii(e){return yn(e)||wn(e)}const ji=Ai(((e,t)=>In(Ri(e),Ri(t))),((e,t)=>e+t));function Fi(e){return Pn(Ri(e))}function Li(...e){return t=>Math.max.apply(null,e.map((e=>e(t))))}const Di=(e,t,n)=>Math.min(Math.max(e,t),n);var Ni;function Mi(e,t){return n=>{if(!Ii(t))return-1;const i=gt(e,n),s=i.indexOf(t);return-1!==s?s:i.findIndex((e=>{return Ii(e)&&(n=e,Ri(t).equalValue(Ri(n)));var n}))}}function Bi(e,t){return n=>{const i=gt(e,n),s=gt(t,n),o=Mi(i,s)(n);let r;if(-1!==o)return o;try{r=Fi(s)}catch(e){r=-1}return-1===r?0:i.map(((e,t)=>({luminance:Fi(e),index:t}))).reduce(((e,t)=>Math.abs(t.luminance-r)<Math.abs(e.luminance-r)?t:e)).index}}function Hi(e){return Fi(mt(e))<=(-.1+Math.sqrt(.21))/2}function Vi(e,t){return"function"==typeof e?n=>t(n)[Di(e(n),0,t(n).length-1)]:t[Di(e,0,t.length-1)]}function qi(e){return(t,n)=>i=>Vi(Hi(i)?gt(n,i):gt(t,i),e(i))}function Ui(e,t,n=0,i=e.length-1){if(i===n)return e[n];const s=Math.floor((i-n)/2)+n;return t(e[s])?Ui(e,t,n,s):Ui(e,t,s+1,i)}function zi(e){return t=>n=>i=>s=>o=>{const r=gt(e,o),a=gt(t,o),l=a.length,c=Di(n(r,a,o),0,l-1),u=i(c,a,o),h=[].concat(a),d=l-1;let p=c;return-1===u&&(h.reverse(),p=d-p),Ui(h,(function(e){return s(ji(r,e))}),p,d)}}function _i(e,t,n){return Bi(t,e)(n)}function Wi(e){return Bi(bt,mt(e))(e)}function Ki(e,t,n,i,s,o){return r=>{const a=gt(e,r),l=Hi(r)?-1:1,c=zi(mt)(a)(_i)((()=>l))((u=gt(t,r),e=>e>=u))(r);var u;const h=Mi(e,c)(r),d=gt(n,r),p=gt(i,r),g=gt(s,r),f=gt(o,r);return function(e,t,n,i,s,o,r){const a=e+n*Math.abs(i-s),l=1===n?i<s:n*i>n*s,c=l?e:a,u=l?a:e,h=c+n*o,d=c+n*r;return{rest:Vi(c,t),hover:Vi(u,t),active:Vi(h,t),focus:Vi(d,t)}}(h,a,l,d,p,g,f)}}!function(e){e.neutral="neutral",e.accent="accent"}(Ni||(Ni={}));const Gi=Ei(Ki(bt,14,0,Gt,Yt,Qt)),Yi=Pi(Oi.rest,Gi),Qi=(Pi(Oi.hover,Gi),Pi(Oi.active,Gi),Pi(Oi.focus,Gi),"#FFFFFF"),Zi="#000000",Xi=Ei(Ki(bt,4.5,0,Ut,zt,_t)),Ji=Pi(Oi.rest,Xi),es=(Pi(Oi.hover,Xi),Pi(Oi.active,Xi),Pi(Oi.focus,Xi),(e,t)=>ji(Qi,e)>=t?Qi:Zi);function ts(e){return function(t){return"function"==typeof t||"string"==typeof t?n=>es("function"==typeof t?t(n):t,e):es(Ji(t),e)}}const ns=ts(4.5),is=ts(3);function ss(e){return Ki(bt,e,0,0,0,0)}const os=Pi(Oi.rest,Ei(ss(4.5))),rs=Pi(Oi.rest,Ei(ss(3)));function as(e){return t=>{const n=yt(t),i=vt(t),s=Bi(yt,i)(t),o={rest:St(t),hover:$t(t),active:Tt(t),focus:At(t)},r=Hi(t)?-1:1,a=s+(1===r?Math.min(o.rest,o.hover):Math.max(r*o.rest,r*o.hover)),l=zi(mt)(yt)((()=>a))((()=>r))((t=>t>=e))(t),c=Mi(yt,l)(t),u=c+r*Math.abs(o.rest-o.hover),h=1===r?o.rest<o.hover:r*o.rest>r*o.hover,d=h?c:u,p=h?u:c,g=d+r*o.active,f=d+r*o.focus;return{rest:Vi(d,n),hover:Vi(p,n),active:Vi(g,n),focus:Vi(f,n)}}}const ls=Ei(as(4.5)),cs=Ei(as(3)),us=(Pi(Oi.rest,ls),Pi(Oi.hover,ls),Pi(Oi.active,ls),Pi(Oi.focus,ls),Pi(Oi.rest,cs),Pi(Oi.hover,cs),Pi(Oi.active,cs),Pi(Oi.focus,cs),(e,t)=>ji(Qi,e)>=t?Qi:Zi);function hs(e){return function(t){return"function"==typeof t||"string"==typeof t?n=>us("function"==typeof t?t(n):t,e):us(vt(t),e)}}const ds=hs(4.5),ps=(hs(3),Li(Ot,Et,Pt,Rt));function gs(e){return t=>{const n=Wi(t);return Vi(n+(n>=ps(t)?-1:1)*e(t),bt(t))}}const fs=Ei(gs(Ot)),ms=Ei(gs(Et)),vs=Ei(gs(Pt)),bs=Ei(gs(Rt)),ys=Ei(gs(It)),ws=Ei((e=>({rest:fs(e),hover:ms(e),active:vs(e),focus:bs(e),selected:ys(e)}))),xs=Li(Ot,Et,Pt,Rt,Mt,Bt,Ht,Vt);function Cs(e){return t=>{const n=Wi(t);return Vi(n+(n>=xs(t)?-1:1)*e(t),bt(t))}}const ks=Ei(Cs(Mt)),Ss=Ei(Cs(Bt)),$s=Ei(Cs(Ht)),Ts=Ei(Cs(Vt)),As=Ei(Cs(qt)),Os=Ei((e=>({rest:ks(e),hover:Ss(e),active:$s(e),focus:Ts(e),selected:As(e)})));function Es(e){return t=>{const n=Hi(t)?-1:1;return Vi(Wi(t)-e(t)*n,bt(t))}}const Ps=Ei(Es(jt)),Rs=Ei(Es(Ft)),Is=Ei(Es(Lt)),js=Ei(Es(Dt)),Fs=Ei(Es(Nt)),Ls=Ei((e=>({rest:Ps(e),hover:Rs(e),active:Is(e),focus:js(e),selected:Fs(e)})));var Ds=Math.max,Ns=Math.min;var Ms=/\s/;var Bs=/^\s+/;const Hs=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ms.test(e.charAt(t)););return t}(e)+1).replace(Bs,""):e},Vs=function(e){return null!=e&&"object"==typeof e},qs=function(e){return"symbol"==typeof e||Vs(e)&&"[object Symbol]"==Xn(e)};var Us=/^[-+]0x[0-9a-f]+$/i,zs=/^0b[01]+$/i,_s=/^0o[0-7]+$/i,Ws=parseInt;const Ks=function(e){if("number"==typeof e)return e;if(qs(e))return NaN;if(Jn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Jn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Hs(e);var n=zs.test(e);return n||_s.test(e)?Ws(e.slice(2),n?2:8):Us.test(e)?NaN:+e};const Gs=function(e){return e?Infinity===(e=Ks(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Ys=function(e,t,n){return t=Gs(t),void 0===n?(n=t,t=0):n=Gs(n),function(e,t,n){return e>=Ns(t,n)&&e<Ds(t,n)}(e=Ks(e),t,n)},Qs=Li(Ot,Et,Pt);function Zs(e){return t=>{const n=yt(t),i=n.length,s=vt(t),o=ds(Object.assign({},t,{backgroundColor:s})),r=wt(t),a=Wi(t)>=Qs(t)?-1:1,l=i-1,c=Bi(yt,s)(t);let u=0;for(;u<a*r&&Ys(c+u+a,0,i)&&ji(n[c+u+a],o)>=e&&Ys(c+u+a+a,0,l);)u+=a;const h=c+u,d=h+-1*a*r,p=d+a*xt(t),g=d+a*Ct(t);return{rest:Vi(d,n),hover:Vi(h,n),active:Vi(p,n),focus:Vi(g,n),selected:Vi(d+(Hi(t)?-1*kt(t):kt(t)),n)}}}const Xs=Ei(Zs(4.5)),Js=Ei(Zs(3)),eo=(Pi(Oi.rest,Xs),Pi(Oi.hover,Xs),Pi(Oi.active,Xs),Pi(Oi.focus,Xs),Pi(Oi.selected,Xs),Pi(Oi.rest,Js),Pi(Oi.hover,Js),Pi(Oi.active,Js),Pi(Oi.focus,Js),Pi(Oi.selected,Js),e=>{const t=Kt(e),n=Bi(bt,mt(e))(e);return Vi(n-(n<t?-1*t:t),bt(e))});function to(e){return"function"==typeof e?t=>eo(Object.assign({},t,{backgroundColor:e(t)})):eo(e)}const no=Ei((e=>{const t=bt(e),n=Wi(e),i=Hi(e)?-1:1,s=Xt(e),o=n+i*s,r=o+i*(Jt(e)-s),a=o+i*(en(e)-s),l=o+i*(tn(e)-s);return{rest:Vi(o,t),hover:Vi(r,t),active:Vi(a,t),focus:Vi(l,t)}})),io=(Pi(Oi.rest,no),Pi(Oi.hover,no),Pi(Oi.active,no),Pi(Oi.focus,no),Ei((e=>{const t=bt(e),n=Wi(e),i=Zt(e);return Vi(n+(Hi(e)?-1:1)*i,t)})));function so(e){return(...t)=>n=>{const i=t[0];let s="function"==typeof i?i(n):i;for(let i=1;i<t.length;i++){const o=t[i];s=e(s,"function"==typeof o?o(n):o)}return s}}const oo=so(((e,t)=>e+t)),ro=so(((e,t)=>e-t)),ao=so(((e,t)=>e*t));function lo(...e){return oo.apply(this,e)}function co(...e){return ro.apply(this,e)}function uo(...e){return ao.apply(this,e)}var ho;function po(e,t){return n=>-1===Wt(n)?t(n):e(n)}so(((e,t)=>e/t)),function(e){e[e.LightMode=1]="LightMode",e[e.DarkMode=.23]="DarkMode"}(ho||(ho={}));const go=Bi(bt,(e=>{const t=Wt(e);return new pn(t,t,t,1).toStringHexRGB()})),fo=e=>rn(co(go,Kt)(e),0,bt(e).length-1),mo=Li(Ot,Et,Pt),vo=Li(lo(go,Kt),mo),bo=e=>{const t=.14,n=new pn(t,t,t,1);return Bi(bt,n.toStringHexRGB())(e)},yo=Ei(po(Vi(co(fo,Kt),bt),qi(bt)(0,co(bo,uo(Kt,5))))),wo=Ei(po(Vi(fo,bt),qi(bt)(0,co(bo,uo(Kt,4))))),xo=Ei(po(Vi(lo(fo,Kt),bt),qi(bt)(Kt,co(bo,uo(Kt,3))))),Co=Ei(po(Vi(go,bt),qi(bt)(0,co(bo,uo(Kt,3))))),ko=xo,So=Ei(po(Vi(vo,bt),qi(bt)(mo,co(bo,uo(Kt,2))))),$o=Ei(po(Vi(lo(vo,Kt),bt),qi(bt)(lo(mo,Kt),co(bo,Kt)))),To=Ei(po(Vi(lo(vo,uo(Kt,2)),bt),qi(bt)(lo(mo,uo(Kt,2)),bo)));function Ao(e){return e>3.5}const Oo=Ei(zi(mt)(bt)((function(e,t,n){return Bi(bt,e)(n)}))((function(e,t,n){return Hi(n)?-1:1}))(Ao));const Eo=Ei(Ki(bt,14,0,nn,sn,on)),Po=Pi(Oi.rest,Eo);function Ro(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}Pi(Oi.hover,Eo),Pi(Oi.active,Eo),Pi(Oi.focus,Eo);class Io extends class{constructor(e){this.listenerCache=new WeakMap,this.query=e}bind(e){const{query:t}=this,n=this.constructListener(e);n.bind(t)(),t.addListener(n),this.listenerCache.set(e,n)}unbind(e){const t=this.listenerCache.get(e);t&&(this.query.removeListener(t),this.listenerCache.delete(e))}}{constructor(e,t){super(e),this.styles=t}static with(e){return t=>new Io(e,t)}constructListener(e){let t=!1;const n=this.styles;return function(){const{matches:i}=this;i&&!t?(e.$fastController.addStyles(n),t=i):!i&&t&&(e.$fastController.removeStyles(n),t=i)}}unbind(e){super.unbind(e),e.$fastController.removeStyles(this.styles)}}const jo=Io.with(window.matchMedia("(forced-colors)")),Fo=(Io.with(window.matchMedia("(prefers-color-scheme: dark)")),Io.with(window.matchMedia("(prefers-color-scheme: light)")),":host{}");class Lo{constructor(){this.queue=new Set,this.customPropertyTarget=null,this._owner=null,this.ticking=!1,this.cssCustomPropertyDefinitions=new Map}get owner(){return this._owner}register(e){const t=this.cssCustomPropertyDefinitions.get(e.name);t?t.count+=1:(this.cssCustomPropertyDefinitions.set(e.name,Object.assign(Object.assign({},e),{count:1})),this.set(e))}unregister(e){const t=this.cssCustomPropertyDefinitions.get(e);t&&(t.count-=1,0===t.count&&(this.cssCustomPropertyDefinitions.delete(e),this.remove(e)))}set(e){this.owner&&(this.customPropertyTarget?this.customPropertyTarget.setProperty(`--${e.name}`,this.owner.evaluate(e)):this.queue.add(this.set.bind(this,e)))}remove(e){this.customPropertyTarget?this.customPropertyTarget.removeProperty(`--${e}`):this.queue.add(this.remove.bind(this,e))}setAll(){this.ticking||(this.ticking=!0,H.queueUpdate((()=>{this.ticking=!1,this.cssCustomPropertyDefinitions.forEach((e=>{this.set(e)}))})))}}class Do extends Lo{constructor(e){super(),this.subscribers=new Set,this.sheet=e,this.styles=le.create([e]),this.customPropertyTarget=e.cssRules[e.insertRule(Fo)].style}subscribe(e){this.subscribers.add(e),1===this.subscribers.size&&(this._owner=e),e.cssCustomPropertyDefinitions.forEach((e=>{this.register(e)})),e.$fastController.addStyles(this.styles)}unsubscribe(e){this.subscribers.delete(e),e.cssCustomPropertyDefinitions.forEach((e=>this.unregister(e.name))),this.owner===e&&(this._owner=this.subscribers.size?this.subscribers.values().next().value:null),!this.sheet.ownerNode&&this.styles&&e.$fastController.removeStyles(this.styles)}isSubscribed(e){return this.subscribers.has(e)}}class No extends Lo{constructor(e,t){super(),this._sheet=null,this.handleConnection={handleChange:()=>{var e;this._sheet=this.styles.sheet;const t=this.sheet.insertRule(Fo);this.customPropertyTarget=this.sheet.rules[t].style,J.getNotifier(null===(e=this._owner)||void 0===e?void 0:e.$fastController).unsubscribe(this.handleConnection,"isConnected")}};const n=t.$fastController;n.addStyles(e),this.styles=e,this._owner=t,t.isConnected?this.handleConnection.handleChange():J.getNotifier(n).subscribe(this.handleConnection,"isConnected"),t.cssCustomPropertyDefinitions.forEach((e=>{this.register(e)}))}get sheet(){return this._sheet}customPropertyTargetChanged(e,t){!e&&this.queue.size&&(this.queue.forEach((e=>e())),this.queue.clear())}}function Mo(e){const t=e.parentElement;if(t)return t;{const t=e.getRootNode();if(t.host instanceof HTMLElement)return t.host}return null}function Bo(e){const t=e.provider;return null!=t&&Vo.isDesignSystemProvider(t)}Ro([ne],No.prototype,"customPropertyTarget",void 0);const Ho={bind(e){e.provider=Vo.findProvider(e)},unbind(e){}};class Vo extends Ae{constructor(){super(),this.isDesignSystemProvider=!0,this.designSystem={},this.useDefaults=!1,this.provider=null,this.cssCustomPropertyDefinitions=new Map,this.attributeChangeHandler={handleChange:(e,t)=>{const n=this[t],i=this.customPropertyManager;if(this.isValidDesignSystemValue(n)){this.designSystem[t]=n;const e=this.designSystemProperties[t];e&&e.cssCustomProperty&&i&&i.set({name:e.cssCustomProperty,value:n})}else{this.syncDesignSystemWithProvider();const e=this.designSystemProperties[t].cssCustomProperty;i&&("string"==typeof e&&i.remove(e),i.setAll())}}},this.localDesignSystemChangeHandler={handleChange:()=>{const e=this.customPropertyManager;e&&e.owner===this&&e.setAll()}},this.providerDesignSystemChangeHandler={handleChange:(e,t)=>{e[t]===this.designSystem[t]||this.isValidDesignSystemValue(this[t])||(this.designSystem[t]=e[t])}},H.supportsAdoptedStyleSheets?this.customPropertyManager=new Do(new CSSStyleSheet):this.customPropertyManager=new No(document.createElement("style"),this),void 0===this.designSystemProperties&&(this.designSystemProperties={}),this.$fastController.addBehaviors([Ho])}static get tagNames(){return Vo._tagNames}static isDesignSystemProvider(e){return e.isDesignSystemProvider||-1!==Vo.tagNames.indexOf(e.tagName)}static findProvider(e){if(Bo(e))return e.provider;let t=Mo(e);for(;null!==t;){if(Vo.isDesignSystemProvider(t))return e.provider=t,t;if(Bo(t))return e.provider=t.provider,t.provider;t=Mo(t)}return null}static registerTagName(e){const t=e.toUpperCase();-1===Vo.tagNames.indexOf(t)&&Vo._tagNames.push(t)}useDefaultsChanged(){if(this.useDefaults){const e=this.designSystemProperties;Object.keys(e).forEach((t=>{void 0===this[t]&&(this[t]=e[t].default)}))}}providerChanged(e,t){if(e instanceof HTMLElement){const t=J.getNotifier(e.designSystem);J.getAccessors(e.designSystem).forEach((e=>{t.unsubscribe(this.providerDesignSystemChangeHandler,e.name)}))}if(t instanceof HTMLElement&&Vo.isDesignSystemProvider(t)){const e=J.getNotifier(t.designSystem),n=J.getAccessors(this.designSystem).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t})),{}),i=J.getNotifier(this.designSystem);J.getAccessors(t.designSystem).forEach((t=>{e.subscribe(this.providerDesignSystemChangeHandler,t.name),n[t.name]||(ne(this.designSystem,t.name),i.subscribe(this.localDesignSystemChangeHandler,t.name))})),this.syncDesignSystemWithProvider()}}customPropertyManagerChanged(e,t){e&&e.unsubscribe&&e.unsubscribe(this),t.subscribe&&t.subscribe(this)}connectedCallback(){super.connectedCallback(),this.customPropertyManager.subscribe&&this.customPropertyManager.isSubscribed&&!this.customPropertyManager.isSubscribed(this)&&this.customPropertyManager.subscribe(this);const e=J.getNotifier(this),t=J.getNotifier(this.designSystem);if(Object.keys(this.designSystemProperties).forEach((n=>{ne(this.designSystem,n),e.subscribe(this.attributeChangeHandler,n),t.subscribe(this.localDesignSystemChangeHandler,n);const i=this[n];if(this.isValidDesignSystemValue(i)){this.designSystem[n]=i;const{cssCustomProperty:e}=this.designSystemProperties[n];"string"==typeof e&&this.customPropertyManager&&this.customPropertyManager.owner===this&&this.customPropertyManager.set({name:e,value:this[n]})}})),Array.isArray(this.disconnectedCSSCustomPropertyRegistry)){for(let e=0;e<this.disconnectedCSSCustomPropertyRegistry.length;e++)this.registerCSSCustomProperty(this.disconnectedCSSCustomPropertyRegistry[e]);delete this.disconnectedCSSCustomPropertyRegistry}if(Array.isArray(this.disconnectedRegistry)){for(let e=0;e<this.disconnectedRegistry.length;e++)this.disconnectedRegistry[e](this);delete this.disconnectedRegistry}}disconnectedCallback(){super.disconnectedCallback(),this.customPropertyManager.unsubscribe&&this.customPropertyManager.unsubscribe(this)}registerCSSCustomProperty(e){this.cssCustomPropertyDefinitions.set(e.name,e),this.customPropertyManager.register(e)}unregisterCSSCustomProperty(e){this.cssCustomPropertyDefinitions.delete(e.name),this.customPropertyManager.unregister(e.name)}evaluate(e){return"function"==typeof e.value?e.value(Object.assign({},this.designSystem)):e.value}syncDesignSystemWithProvider(){if(this.provider){const e=J.getAccessors(this.designSystem).reduce(((e,t)=>(e[t.name]=t,e)),{});J.getAccessors(this.provider.designSystem).forEach((t=>{var n;this.designSystemProperties.hasOwnProperty(t.name)&&this.isValidDesignSystemValue(this[t.name])||!this.isValidDesignSystemValue(null===(n=this.provider)||void 0===n?void 0:n.designSystem[t.name])||(e[t.name]||J.defineProperty(this.designSystem,t.name),this.designSystem[t.name]=this.provider.designSystem[t.name])}))}}isValidDesignSystemValue(e){return null!=e}}function qo(e){return t=>{Oe(e)(t),t.registerTagName("string"==typeof e?e:e.name)}}Vo._tagNames=[],Ro([ve({attribute:"use-defaults",mode:"boolean"})],Vo.prototype,"useDefaults",void 0),Ro([ne],Vo.prototype,"provider",void 0),Ro([ne],Vo.prototype,"customPropertyManager",void 0);const Uo=qo;function zo(e){return(t,n)=>{((e,t,n)=>{const{cssCustomProperty:i,attribute:s}=n;e.designSystemProperties||(e.designSystemProperties={}),!1===s?ne(e,t):(void 0===n.mode&&(n=Object.assign(Object.assign({},n),{mode:"fromView"})),ve(n)(e,t)),e.designSystemProperties[t]={cssCustomProperty:!1!==i&&("string"==typeof i?i:"string"==typeof s?s:t),default:n.default}})(t,n,e)}}const _o=ot`
    <slot></slot>
`;var Wo;!function(e){e.Canvas="Canvas",e.CanvasText="CanvasText",e.LinkText="LinkText",e.VisitedText="VisitedText",e.ActiveText="ActiveText",e.ButtonFace="ButtonFace",e.ButtonText="ButtonText",e.Field="Field",e.FieldText="FieldText",e.Highlight="Highlight",e.HighlightText="HighlightText",e.GrayText="GrayText"}(Wo||(Wo={}));const Ko=Pe`
    ${Re("block")};
`,Go=new ut("neutral-foreground-rest",Yi,(e=>e)),Yo=Pe`
    :host {
        background-color: var(--background-color);
        color: ${Go.var};
    }
`.withBehaviors(Go,jo(Pe`
            :host {
                background-color: ${Wo.ButtonFace};
                box-shadow: 0 0 0 1px ${Wo.CanvasText};
                color: ${Wo.ButtonText};
            }
        `));let Qo=class extends Vo{constructor(){super(...arguments),this.noPaint=!1}noPaintChanged(){this.noPaint||void 0===this.backgroundColor?this.$fastController.removeStyles(Yo):this.$fastController.addStyles(Yo)}backgroundColorChanged(){this.noPaintChanged()}};Ro([ve({attribute:"no-paint",mode:"boolean"})],Qo.prototype,"noPaint",void 0),Ro([zo({attribute:"background-color",default:pt.backgroundColor})],Qo.prototype,"backgroundColor",void 0),Ro([zo({attribute:"accent-base-color",cssCustomProperty:!1,default:pt.accentBaseColor})],Qo.prototype,"accentBaseColor",void 0),Ro([zo({attribute:!1,cssCustomProperty:!1,default:pt.neutralPalette})],Qo.prototype,"neutralPalette",void 0),Ro([zo({attribute:!1,cssCustomProperty:!1,default:pt.accentPalette})],Qo.prototype,"accentPalette",void 0),Ro([zo({default:pt.density,converter:fe})],Qo.prototype,"density",void 0),Ro([zo({attribute:"design-unit",converter:fe,default:pt.designUnit})],Qo.prototype,"designUnit",void 0),Ro([zo({attribute:"direction",cssCustomProperty:!1,default:pt.direction})],Qo.prototype,"direction",void 0),Ro([zo({attribute:"base-height-multiplier",default:pt.baseHeightMultiplier,converter:fe})],Qo.prototype,"baseHeightMultiplier",void 0),Ro([zo({attribute:"base-horizontal-spacing-multiplier",converter:fe,default:pt.baseHorizontalSpacingMultiplier})],Qo.prototype,"baseHorizontalSpacingMultiplier",void 0),Ro([zo({attribute:"corner-radius",converter:fe,default:pt.cornerRadius})],Qo.prototype,"cornerRadius",void 0),Ro([zo({attribute:"outline-width",converter:fe,default:pt.outlineWidth})],Qo.prototype,"outlineWidth",void 0),Ro([zo({attribute:"focus-outline-width",converter:fe,default:pt.focusOutlineWidth})],Qo.prototype,"focusOutlineWidth",void 0),Ro([zo({attribute:"disabled-opacity",converter:fe,default:pt.disabledOpacity})],Qo.prototype,"disabledOpacity",void 0),Ro([zo({attribute:"type-ramp-minus-2-font-size",default:pt.typeRampMinus2FontSize})],Qo.prototype,"typeRampMinus2FontSize",void 0),Ro([zo({attribute:"type-ramp-minus-2-line-height",default:pt.typeRampMinus2LineHeight})],Qo.prototype,"typeRampMinus2LineHeight",void 0),Ro([zo({attribute:"type-ramp-minus-1-font-size",default:pt.typeRampMinus1FontSize})],Qo.prototype,"typeRampMinus1FontSize",void 0),Ro([zo({attribute:"type-ramp-minus-1-line-height",default:pt.typeRampMinus1LineHeight})],Qo.prototype,"typeRampMinus1LineHeight",void 0),Ro([zo({attribute:"type-ramp-base-font-size",default:pt.typeRampBaseFontSize})],Qo.prototype,"typeRampBaseFontSize",void 0),Ro([zo({attribute:"type-ramp-base-line-height",default:pt.typeRampBaseLineHeight})],Qo.prototype,"typeRampBaseLineHeight",void 0),Ro([zo({attribute:"type-ramp-plus-1-font-size",default:pt.typeRampPlus1FontSize})],Qo.prototype,"typeRampPlus1FontSize",void 0),Ro([zo({attribute:"type-ramp-plus-1-line-height",default:pt.typeRampPlus1LineHeight})],Qo.prototype,"typeRampPlus1LineHeight",void 0),Ro([zo({attribute:"type-ramp-plus-2-font-size",default:pt.typeRampPlus2FontSize})],Qo.prototype,"typeRampPlus2FontSize",void 0),Ro([zo({attribute:"type-ramp-plus-2-line-height",default:pt.typeRampPlus2LineHeight})],Qo.prototype,"typeRampPlus2LineHeight",void 0),Ro([zo({attribute:"type-ramp-plus-3-font-size",default:pt.typeRampPlus3FontSize})],Qo.prototype,"typeRampPlus3FontSize",void 0),Ro([zo({attribute:"type-ramp-plus-3-line-height",default:pt.typeRampPlus3LineHeight})],Qo.prototype,"typeRampPlus3LineHeight",void 0),Ro([zo({attribute:"type-ramp-plus-4-font-size",default:pt.typeRampPlus4FontSize})],Qo.prototype,"typeRampPlus4FontSize",void 0),Ro([zo({attribute:"type-ramp-plus-4-line-height",default:pt.typeRampPlus4LineHeight})],Qo.prototype,"typeRampPlus4LineHeight",void 0),Ro([zo({attribute:"type-ramp-plus-5-font-size",default:pt.typeRampPlus5FontSize})],Qo.prototype,"typeRampPlus5FontSize",void 0),Ro([zo({attribute:"type-ramp-plus-5-line-height",default:pt.typeRampPlus5LineHeight})],Qo.prototype,"typeRampPlus5LineHeight",void 0),Ro([zo({attribute:"type-ramp-plus-6-font-size",default:pt.typeRampPlus6FontSize})],Qo.prototype,"typeRampPlus6FontSize",void 0),Ro([zo({attribute:"type-ramp-plus-6-line-height",default:pt.typeRampPlus6LineHeight})],Qo.prototype,"typeRampPlus6LineHeight",void 0),Ro([zo({attribute:"accent-fill-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.accentFillRestDelta})],Qo.prototype,"accentFillRestDelta",void 0),Ro([zo({attribute:"accent-fill-hover-delta",cssCustomProperty:!1,converter:fe,default:pt.accentFillHoverDelta})],Qo.prototype,"accentFillHoverDelta",void 0),Ro([zo({attribute:"accent-fill-active-delta",cssCustomProperty:!1,converter:fe,default:pt.accentFillActiveDelta})],Qo.prototype,"accentFillActiveDelta",void 0),Ro([zo({attribute:"accent-fill-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.accentFillFocusDelta})],Qo.prototype,"accentFillFocusDelta",void 0),Ro([zo({attribute:"accent-fill-selected-delta",converter:fe,cssCustomProperty:!1,default:pt.accentFillSelectedDelta})],Qo.prototype,"accentFillSelectedDelta",void 0),Ro([zo({attribute:"accent-foreground-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.accentForegroundRestDelta})],Qo.prototype,"accentForegroundRestDelta",void 0),Ro([zo({attribute:"accent-foreground-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.accentForegroundHoverDelta})],Qo.prototype,"accentForegroundHoverDelta",void 0),Ro([zo({attribute:"accent-foreground-active-delta",converter:fe,cssCustomProperty:!1,default:pt.accentForegroundActiveDelta})],Qo.prototype,"accentForegroundActiveDelta",void 0),Ro([zo({attribute:"accent-foreground-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.accentForegroundFocusDelta})],Qo.prototype,"accentForegroundFocusDelta",void 0),Ro([zo({attribute:"neutral-fill-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillRestDelta})],Qo.prototype,"neutralFillRestDelta",void 0),Ro([zo({attribute:"neutral-fill-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillHoverDelta})],Qo.prototype,"neutralFillHoverDelta",void 0),Ro([zo({attribute:"neutral-fill-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillActiveDelta})],Qo.prototype,"neutralFillActiveDelta",void 0),Ro([zo({attribute:"neutral-fill-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillFocusDelta})],Qo.prototype,"neutralFillFocusDelta",void 0),Ro([zo({attribute:"neutral-fill-selected-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillSelectedDelta})],Qo.prototype,"neutralFillSelectedDelta",void 0),Ro([zo({attribute:"neutral-fill-input-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillInputRestDelta})],Qo.prototype,"neutralFillInputRestDelta",void 0),Ro([zo({attribute:"neutral-fill-input-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillInputHoverDelta})],Qo.prototype,"neutralFillInputHoverDelta",void 0),Ro([zo({attribute:"neutral-fill-input-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillInputActiveDelta})],Qo.prototype,"neutralFillInputActiveDelta",void 0),Ro([zo({attribute:"neutral-fill-input-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillInputFocusDelta})],Qo.prototype,"neutralFillInputFocusDelta",void 0),Ro([zo({attribute:"neutral-fill-input-selected-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillInputSelectedDelta})],Qo.prototype,"neutralFillInputSelectedDelta",void 0),Ro([zo({attribute:"neutral-fill-stealth-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillStealthRestDelta})],Qo.prototype,"neutralFillStealthRestDelta",void 0),Ro([zo({attribute:"neutral-fill-stealth-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillStealthHoverDelta})],Qo.prototype,"neutralFillStealthHoverDelta",void 0),Ro([zo({attribute:"neutral-fill-stealth-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillStealthActiveDelta})],Qo.prototype,"neutralFillStealthActiveDelta",void 0),Ro([zo({attribute:"neutral-fill-stealth-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillStealthFocusDelta})],Qo.prototype,"neutralFillStealthFocusDelta",void 0),Ro([zo({attribute:"neutral-fill-stealth-selected-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillStealthSelectedDelta})],Qo.prototype,"neutralFillStealthSelectedDelta",void 0),Ro([zo({attribute:"neutral-fill-toggle-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillToggleHoverDelta})],Qo.prototype,"neutralFillToggleHoverDelta",void 0),Ro([zo({attribute:"neutral-fill-toggle-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillToggleActiveDelta})],Qo.prototype,"neutralFillToggleActiveDelta",void 0),Ro([zo({attribute:"neutral-fill-toggle-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillToggleFocusDelta})],Qo.prototype,"neutralFillToggleFocusDelta",void 0),Ro([zo({attribute:"base-layer-luminance",converter:fe,cssCustomProperty:!1,default:pt.baseLayerLuminance})],Qo.prototype,"baseLayerLuminance",void 0),Ro([zo({attribute:"neutral-fill-card-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralFillCardDelta})],Qo.prototype,"neutralFillCardDelta",void 0),Ro([zo({attribute:"neutral-foreground-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralForegroundHoverDelta})],Qo.prototype,"neutralForegroundHoverDelta",void 0),Ro([zo({attribute:"neutral-foreground-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralForegroundActiveDelta})],Qo.prototype,"neutralForegroundActiveDelta",void 0),Ro([zo({attribute:"neutral-foreground-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralForegroundFocusDelta})],Qo.prototype,"neutralForegroundFocusDelta",void 0),Ro([zo({attribute:"neutral-divider-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralDividerRestDelta})],Qo.prototype,"neutralDividerRestDelta",void 0),Ro([zo({attribute:"neutral-outline-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralOutlineRestDelta})],Qo.prototype,"neutralOutlineRestDelta",void 0),Ro([zo({attribute:"neutral-outline-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralOutlineHoverDelta})],Qo.prototype,"neutralOutlineHoverDelta",void 0),Ro([zo({attribute:"neutral-outline-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralOutlineActiveDelta})],Qo.prototype,"neutralOutlineActiveDelta",void 0),Ro([zo({attribute:"neutral-outline-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralOutlineFocusDelta})],Qo.prototype,"neutralOutlineFocusDelta",void 0),Ro([zo({attribute:"neutral-contrast-fill-rest-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralContrastFillRestDelta})],Qo.prototype,"neutralContrastFillRestDelta",void 0),Ro([zo({attribute:"neutral-contrast-fill-hover-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralContrastFillHoverDelta})],Qo.prototype,"neutralContrastFillHoverDelta",void 0),Ro([zo({attribute:"neutral-contrast-fill-active-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralContrastFillActiveDelta})],Qo.prototype,"neutralContrastFillActiveDelta",void 0),Ro([zo({attribute:"neutral-contrast-fill-focus-delta",converter:fe,cssCustomProperty:!1,default:pt.neutralContrastFillFocusDelta})],Qo.prototype,"neutralContrastFillFocusDelta",void 0),Qo=Ro([Uo({name:"fast-design-system-provider",template:_o,styles:Ko})],Qo);const Zo=ht("neutral-foreground-rest",(e=>Gi(e).rest),Qo.findProvider),Xo=ht("neutral-foreground-hover",(e=>Gi(e).hover),Qo.findProvider),Jo=ht("neutral-foreground-active",(e=>Gi(e).active),Qo.findProvider),er=(ht("neutral-foreground-focus",(e=>Gi(e).focus),Qo.findProvider),ht("neutral-foreground-toggle",ns,Qo.findProvider),ht("neutral-foreground-toggle-large",is,Qo.findProvider),ht("neutral-foreground-hint",os,Qo.findProvider),ht("neutral-foreground-hint-large",rs,Qo.findProvider),ht("accent-foreground-rest",(e=>ls(e).rest),Qo.findProvider)),tr=ht("accent-foreground-hover",(e=>ls(e).hover),Qo.findProvider),nr=ht("accent-foreground-active",(e=>ls(e).active),Qo.findProvider),ir=ht("accent-foreground-focus",(e=>ls(e).focus),Qo.findProvider),sr=ht("accent-foreground-cut-rest",(e=>ds(e)),Qo.findProvider),or=(ht("accent-foreground-large-rest",(e=>cs(e).rest),Qo.findProvider),ht("accent-foreground-large-hover",(e=>cs(e).hover),Qo.findProvider),ht("accent-foreground-large-active",(e=>cs(e).active),Qo.findProvider),ht("accent-foreground-large-focus",(e=>cs(e).focus),Qo.findProvider),ht("neutral-fill-rest",(e=>ws(e).rest),Qo.findProvider)),rr=ht("neutral-fill-hover",(e=>ws(e).hover),Qo.findProvider),ar=ht("neutral-fill-active",(e=>ws(e).active),Qo.findProvider),lr=(ht("neutral-fill-focus",(e=>ws(e).focus),Qo.findProvider),ht("neutral-fill-selected",(e=>ws(e).selected),Qo.findProvider),ht("neutral-fill-stealth-rest",(e=>Os(e).rest),Qo.findProvider)),cr=ht("neutral-fill-stealth-hover",(e=>Os(e).hover),Qo.findProvider),ur=ht("neutral-fill-stealth-active",(e=>Os(e).active),Qo.findProvider),hr=(ht("neutral-fill-stealth-focus",(e=>Os(e).focus),Qo.findProvider),ht("neutral-fill-stealth-selected",(e=>Os(e).selected),Qo.findProvider)),dr=(ht("neutral-fill-toggle-rest",(e=>Xi(e).rest),Qo.findProvider),ht("neutral-fill-toggle-hover",(e=>Xi(e).hover),Qo.findProvider),ht("neutral-fill-toggle-active",(e=>Xi(e).active),Qo.findProvider),ht("neutral-fill-toggle-focus",(e=>Xi(e).focus),Qo.findProvider),ht("neutral-fill-input-rest",(e=>Ls(e).rest),Qo.findProvider)),pr=ht("neutral-fill-input-hover",(e=>Ls(e).hover),Qo.findProvider),gr=ht("neutral-fill-input-active",(e=>Ls(e).active),Qo.findProvider),fr=(ht("neutral-fill-input-selected",(e=>Ls(e).selected),Qo.findProvider),ht("neutral-fill-input-focus",(e=>Ls(e).focus),Qo.findProvider),ht("accent-fill-rest",(e=>Xs(e).rest),Qo.findProvider)),mr=ht("accent-fill-hover",(e=>Xs(e).hover),Qo.findProvider),vr=ht("accent-fill-active",(e=>Xs(e).active),Qo.findProvider),br=(ht("accent-fill-focus",(e=>Xs(e).focus),Qo.findProvider),ht("accent-fill-selected",(e=>Xs(e).selected),Qo.findProvider)),yr=(ht("accent-fill-large-rest",(e=>Js(e).rest),Qo.findProvider),ht("accent-fill-large-hover",(e=>Js(e).hover),Qo.findProvider),ht("accent-fill-large-active",(e=>Js(e).active),Qo.findProvider),ht("accent-fill-large-focus",(e=>Js(e).focus),Qo.findProvider),ht("accent-fill-large-selected",(e=>Js(e).selected),Qo.findProvider),ht("neutral-fill-card-rest",(e=>to(e)),Qo.findProvider),ht("neutral-outline-rest",(e=>no(e).rest),Qo.findProvider)),wr=ht("neutral-outline-hover",(e=>no(e).hover),Qo.findProvider),xr=(ht("neutral-outline-active",(e=>no(e).active),Qo.findProvider),ht("neutral-outline-focus",(e=>no(e).focus),Qo.findProvider),ht("neutral-divider-rest",io,Qo.findProvider)),Cr=ht("neutral-layer-floating",yo,Qo.findProvider),kr=(ht("neutral-layer-card",wo,Qo.findProvider),ht("neutral-layer-card-container",xo,Qo.findProvider),ht("neutral-layer-l1",Co,Qo.findProvider)),Sr=(ht("neutral-layer-l1-alt",ko,Qo.findProvider),ht("neutral-layer-l2",So,Qo.findProvider)),$r=ht("neutral-layer-l3",$o,Qo.findProvider),Tr=ht("neutral-layer-l4",To,Qo.findProvider),Ar=ht("neutral-focus",Oo,Qo.findProvider),Or=ht("neutral-focus-inner-accent",(Er=vt,zi(Oo)(yt)(function(e){return(t,n,i)=>n.indexOf(e(i))}(Er))((function(e,t,n){return Hi(n)?1:-1}))(Ao)),Qo.findProvider);var Er;ht("neutral-contrast-foreground-rest",(e=>Yi(Po)(e)),Qo.findProvider),ht("neutral-contrast-fill-rest",(e=>Eo(e).rest),Qo.findProvider),ht("neutral-contrast-fill-hover",(e=>Eo(e).hover),Qo.findProvider),ht("neutral-contrast-fill-active",(e=>Eo(e).active),Qo.findProvider),ht("neutral-contrast-fill-focus",(e=>Eo(e).focus),Qo.findProvider);const Pr=Pe`
  ${Re("block")}

  :host {
    fill: ${fr.var};
  }

`.withBehaviors(fr);function Rr(e,t,n){return{index:e,removed:t,addedCount:n}}function Ir(e,t,n,i,s,o){let r=0,a=0;const l=Math.min(n-t,o-s);if(0===t&&0===s&&(r=function(e,t,n){for(let i=0;i<n;++i)if(e[i]!==t[i])return i;return n}(e,i,l)),n===e.length&&o===i.length&&(a=function(e,t,n){let i=e.length,s=t.length,o=0;for(;o<n&&e[--i]===t[--s];)o++;return o}(e,i,l-r)),s+=r,o-=a,(n-=a)-(t+=r)==0&&o-s==0)return I;if(t===n){const e=Rr(t,[],0);for(;s<o;)e.removed.push(i[s++]);return[e]}if(s===o)return[Rr(t,[],n-t)];const c=function(e){let t=e.length-1,n=e[0].length-1,i=e[t][n];const s=[];for(;t>0||n>0;){if(0===t){s.push(2),n--;continue}if(0===n){s.push(3),t--;continue}const o=e[t-1][n-1],r=e[t-1][n],a=e[t][n-1];let l;l=r<a?r<o?r:o:a<o?a:o,l===o?(o===i?s.push(0):(s.push(1),i=o),t--,n--):l===r?(s.push(3),t--,i=r):(s.push(2),n--,i=a)}return s.reverse(),s}(function(e,t,n,i,s,o){const r=o-s+1,a=n-t+1,l=new Array(r);let c,u;for(let e=0;e<r;++e)l[e]=new Array(a),l[e][0]=e;for(let e=0;e<a;++e)l[0][e]=e;for(let n=1;n<r;++n)for(let o=1;o<a;++o)e[t+o-1]===i[s+n-1]?l[n][o]=l[n-1][o-1]:(c=l[n-1][o]+1,u=l[n][o-1]+1,l[n][o]=c<u?c:u);return l}(e,t,n,i,s,o)),u=[];let h,d=t,p=s;for(let e=0;e<c.length;++e)switch(c[e]){case 0:void 0!==h&&(u.push(h),h=void 0),d++,p++;break;case 1:void 0===h&&(h=Rr(d,[],0)),h.addedCount++,d++,h.removed.push(i[p]),p++;break;case 2:void 0===h&&(h=Rr(d,[],0)),h.addedCount++,d++;break;case 3:void 0===h&&(h=Rr(d,[],0)),h.removed.push(i[p]),p++}return void 0!==h&&u.push(h),u}const jr=Array.prototype.push;function Fr(e,t,n,i){const s=Rr(t,n,i);let o=!1,r=0;for(let t=0;t<e.length;t++){const n=e[t];if(n.index+=r,o)continue;const i=(a=s.index,l=s.index+s.removed.length,c=n.index,u=n.index+n.addedCount,l<c||u<a?-1:l===c||u===a?0:a<c?l<u?l-c:u-c:u<l?u-a:l-a);if(i>=0){e.splice(t,1),t--,r-=n.addedCount-n.removed.length,s.addedCount+=n.addedCount-i;const a=s.removed.length+n.removed.length-i;if(s.addedCount||a){let e=n.removed;if(s.index<n.index){const t=s.removed.slice(0,n.index-s.index);jr.apply(t,e),e=t}if(s.index+s.removed.length>n.index+n.addedCount){const t=s.removed.slice(n.index+n.addedCount-s.index);jr.apply(e,t)}s.removed=e,n.index<s.index&&(s.index=n.index)}else o=!0}else if(s.index<n.index){o=!0,e.splice(t,0,s),t++;const i=s.addedCount-s.removed.length;n.index+=i,r+=i}}var a,l,c,u;o||e.push(s)}let Lr=!1;function Dr(e,t){let n=e.index;const i=t.length;return n>i?n=i-e.addedCount:n<0&&(n=i+e.removed.length+n-e.addedCount),n<0&&(n=0),e.index=n,e}class Nr extends _{constructor(e){super(e),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,e.$fastController=this}addSplice(e){void 0===this.splices?this.splices=[e]:this.splices.push(e),this.needsQueue&&(this.needsQueue=!1,H.queueUpdate(this))}reset(e){this.oldCollection=e,this.needsQueue&&(this.needsQueue=!1,H.queueUpdate(this))}flush(){const e=this.splices,t=this.oldCollection;if(void 0===e&&void 0===t)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const n=void 0===t?function(e,t){let n=[];const i=function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];Fr(t,i.index,i.removed,i.addedCount)}return t}(t);for(let t=0,s=i.length;t<s;++t){const s=i[t];1!==s.addedCount||1!==s.removed.length?n=n.concat(Ir(e,s.index,s.index+s.addedCount,s.removed,0,s.removed.length)):s.removed[0]!==e[s.index]&&n.push(s)}return n}(this.source,e):Ir(this.source,0,this.source.length,t,0,t.length);this.notify(n)}}const Mr=Object.freeze({positioning:!1});function Br(e,t,n,i){e.bind(t[n],i)}function Hr(e,t,n,i){const s=Object.create(i);s.index=n,s.length=t.length,e.bind(t[n],s)}class Vr{constructor(e,t,n,i,s,o){this.location=e,this.itemsBinding=t,this.templateBinding=i,this.options=o,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=Br,this.itemsBindingObserver=J.binding(t,this,n),this.templateBindingObserver=J.binding(i,this,s),o.positioning&&(this.bindView=Hr)}bind(e,t){this.source=e,this.originalContext=t,this.childContext=Object.create(t),this.childContext.parent=e,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(e,this.originalContext),this.template=this.templateBindingObserver.observe(e,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,null!==this.itemsObserver&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(e,t){e===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):e===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(t)}observeItems(e=!1){if(!this.items)return void(this.items=I);const t=this.itemsObserver,n=this.itemsObserver=J.getNotifier(this.items),i=t!==n;i&&null!==t&&t.unsubscribe(this),(i||e)&&n.subscribe(this)}updateViews(e){const t=this.childContext,n=this.views,i=[],s=this.bindView;let o=0;for(let t=0,s=e.length;t<s;++t){const s=e[t],r=s.removed;i.push(...n.splice(s.index+o,r.length)),o-=s.addedCount}const r=this.items,a=this.template;for(let o=0,l=e.length;o<l;++o){const l=e[o];let c=l.index;const u=c+l.addedCount;for(;c<u;++c){const e=n[c],o=e?e.firstChild:this.location,l=i.length>0?i.shift():a.create();n.splice(c,0,l),s(l,r,c,t),l.insertBefore(o)}}for(let e=0,t=i.length;e<t;++e)i[e].dispose();if(this.options.positioning)for(let e=0,t=n.length;e<t;++e){const i=n[e].context;i.length=t,i.index=e}}refreshAllViews(e=!1){const t=this.items,n=this.childContext,i=this.template,s=this.location,o=this.bindView;let r=t.length,a=this.views,l=a.length;if((0===r||e)&&(nt.disposeContiguousBatch(a),l=0),0===l){this.views=a=new Array(r);for(let e=0;e<r;++e){const r=i.create();o(r,t,e,n),a[e]=r,r.insertBefore(s)}}else{let e=0;for(;e<r;++e)if(e<l)o(a[e],t,e,n);else{const r=i.create();o(r,t,e,n),a.push(r),r.insertBefore(s)}const c=a.splice(e,l-e);for(e=0,r=c.length;e<r;++e)c[e].dispose()}}unbindAllViews(){const e=this.views;for(let t=0,n=e.length;t<n;++t)e[t].unbind()}}class qr extends je{constructor(e,t,n){super(),this.itemsBinding=e,this.templateBinding=t,this.options=n,this.createPlaceholder=H.createBlockPlaceholder,function(){if(Lr)return;Lr=!0,J.setArrayObserverFactory((e=>new Nr(e)));const e=Array.prototype,t=e.pop,n=e.push,i=e.reverse,s=e.shift,o=e.sort,r=e.splice,a=e.unshift;e.pop=function(){const e=this.length>0,n=t.apply(this,arguments),i=this.$fastController;return void 0!==i&&e&&i.addSplice(Rr(this.length,[n],0)),n},e.push=function(){const e=n.apply(this,arguments),t=this.$fastController;return void 0!==t&&t.addSplice(Dr(Rr(this.length-arguments.length,[],arguments.length),this)),e},e.reverse=function(){let e;const t=this.$fastController;void 0!==t&&(t.flush(),e=this.slice());const n=i.apply(this,arguments);return void 0!==t&&t.reset(e),n},e.shift=function(){const e=this.length>0,t=s.apply(this,arguments),n=this.$fastController;return void 0!==n&&e&&n.addSplice(Rr(0,[t],0)),t},e.sort=function(){let e;const t=this.$fastController;void 0!==t&&(t.flush(),e=this.slice());const n=o.apply(this,arguments);return void 0!==t&&t.reset(e),n},e.splice=function(){const e=r.apply(this,arguments),t=this.$fastController;return void 0!==t&&t.addSplice(Dr(Rr(+arguments[0],e,arguments.length>2?arguments.length-2:0),this)),e},e.unshift=function(){const e=a.apply(this,arguments),t=this.$fastController;return void 0!==t&&t.addSplice(Dr(Rr(0,[],arguments.length),this)),e}}(),this.isItemsBindingVolatile=J.isVolatileBinding(e),this.isTemplateBindingVolatile=J.isVolatileBinding(t)}createBehavior(e){return new Vr(e,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}const Ur=ot`
  <svg viewbox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
    ${function(e,t,n=Mr){return new qr(e,"function"==typeof t?t:()=>t,n)}((e=>e.paths),ot`
    <svg>
      <path 
        stroke="none" 
        fill-opacity="0.2"
        d="
          M${(e,t)=>t.parent.getX(e.p1)},${(e,t)=>t.parent.getY(e.p1)}
          L${(e,t)=>t.parent.getX(e.p2)},${(e,t)=>t.parent.getY(e.p2)}
          L${(e,t)=>t.parent.getX(e.p3)},${(e,t)=>t.parent.getY(e.p3)}
          z" ></path></svg>
          `)}     
  </svg>
`;var zr=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let _r=class extends Ae{constructor(){super(...arguments),this.paths=[],this.nbPaths=12,this.constraints=[{path:0,p1:1200,p2:1800,p3min:1e3,p3max:1200},{path:3,p1:1200,p2:1800,p3min:800,p3max:900},{path:4,p1:2e3,p2:1400,p3min:2200,p3max:2400},{path:6,p1:2e3,p2:1400,p3min:2e3,p3max:2200},{path:8,p1:0,p2:500,p3min:900,p3max:1100},{path:9,p1:0,p2:500,p3min:800,p3max:900},{path:10,p1:800,p2:300,p3min:2200,p3max:2400}],this.increments=[],this.running=!1}connectedCallback(){super.connectedCallback(),this.init(),this.start()}start(){this.running=!0,this.nextFrame()}stop(){this.running=!1}getX(e){return e>2e3?0:e>1200?800-(e-1200):e>800?800:e}getY(e){return e>2e3?400-(e-2e3):e>1200?400:e>800?e-800:0}init(){for(let e=0;e<this.nbPaths;e++){const e=Math.round(3*Math.random()),t=Math.round(3*Math.random());let n=Math.round(3*Math.random());n===t&&n===e&&(n=3===n?0:n+1);const i={p1:this.randomPointOnSegement(e),p2:this.randomPointOnSegement(t),p3:this.randomPointOnSegement(n)};this.paths.push(i),this.increments.push(this.randomInc()),this.increments.push(this.randomInc()),this.increments.push(this.randomInc())}}setRandomIncrements(){for(const e in this.increments){const t=Math.random();t>.5||(t>.25?this.increments[e]*=-1:this.increments[e]=this.randomInc())}}randomInc(){return Math.random()-.5}randomPointOnSegement(e){return 0===e?Math.round(800*Math.random()):1===e?Math.round(400*Math.random())+800:2===e?Math.round(800*Math.random())+1200:3===e?Math.round(400*Math.random())+2e3:void 0}nextFrame(){window.requestAnimationFrame((()=>{for(let e=0;e<this.paths.length;e++){const t=this.paths[e].p1+this.increments[3*e+0],n=this.paths[e].p2+this.increments[3*e+1],i=this.paths[e].p3+this.increments[3*e+2];this.paths.splice(e,1,{p1:t,p2:n,p3:i})}Math.random()<.01&&this.setRandomIncrements(),this.applyConstraints(),this.nextFrame()}))}applyConstraints(){for(let e=0;e<this.paths.length;e++){const t=this.constraints.find((t=>t.path===e));if(!t)continue;const n=t.p1,i=t.p2,s=Math.max(Math.min(this.paths[e].p3,t.p3max),t.p3min);(s===t.p3min&&this.increments[3*e+2]<0||s===t.p3max&&this.increments[3*e+2]>0)&&(this.increments[3*e+2]*=-1),this.paths.splice(e,1,{p1:n,p2:i,p3:s})}}};zr([ne,function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Array)],_r.prototype,"paths",void 0),_r=zr([Oe({name:"animated-svg2",template:Ur,styles:Pr})],_r);var Wr=n(379),Kr=n.n(Wr),Gr=n(619);Kr()(Gr.Z,{insert:"head",singleton:!1}),Gr.Z.locals;class Yr{}Ro([ve({attribute:"aria-atomic",mode:"fromView"})],Yr.prototype,"ariaAtomic",void 0),Ro([ve({attribute:"aria-busy",mode:"fromView"})],Yr.prototype,"ariaBusy",void 0),Ro([ve({attribute:"aria-controls",mode:"fromView"})],Yr.prototype,"ariaControls",void 0),Ro([ve({attribute:"aria-current",mode:"fromView"})],Yr.prototype,"ariaCurrent",void 0),Ro([ve({attribute:"aria-describedby",mode:"fromView"})],Yr.prototype,"ariaDescribedby",void 0),Ro([ve({attribute:"aria-details",mode:"fromView"})],Yr.prototype,"ariaDetails",void 0),Ro([ve({attribute:"aria-disabled",mode:"fromView"})],Yr.prototype,"ariaDisabled",void 0),Ro([ve({attribute:"aria-errormessage",mode:"fromView"})],Yr.prototype,"ariaErrormessage",void 0),Ro([ve({attribute:"aria-flowto",mode:"fromView"})],Yr.prototype,"ariaFlowto",void 0),Ro([ve({attribute:"aria-haspopup",mode:"fromView"})],Yr.prototype,"ariaHaspopup",void 0),Ro([ve({attribute:"aria-hidden",mode:"fromView"})],Yr.prototype,"ariaHidden",void 0),Ro([ve({attribute:"aria-invalid",mode:"fromView"})],Yr.prototype,"ariaInvalid",void 0),Ro([ve({attribute:"aria-keyshortcuts",mode:"fromView"})],Yr.prototype,"ariaKeyshortcuts",void 0),Ro([ve({attribute:"aria-label",mode:"fromView"})],Yr.prototype,"ariaLabel",void 0),Ro([ve({attribute:"aria-labelledby",mode:"fromView"})],Yr.prototype,"ariaLabelledby",void 0),Ro([ve({attribute:"aria-live",mode:"fromView"})],Yr.prototype,"ariaLive",void 0),Ro([ve({attribute:"aria-owns",mode:"fromView"})],Yr.prototype,"ariaOwns",void 0),Ro([ve({attribute:"aria-relevant",mode:"fromView"})],Yr.prototype,"ariaRelevant",void 0),Ro([ve({attribute:"aria-roledescription",mode:"fromView"})],Yr.prototype,"ariaRoledescription",void 0);class Qr{constructor(e,t){this.target=e,this.propertyName=t}bind(e){e[this.propertyName]=this.target}unbind(){}}function Zr(e){return new Le("fast-ref",Qr,e)}class Xr{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const Jr=ot`
    <span part="end" ${Zr("endContainer")}>
        <slot
            name="end"
            ${Zr("end")}
            @slotchange="${e=>e.handleEndContentChange()}"
        ></slot>
    </span>
`,ea=ot`
    <span part="start" ${Zr("startContainer")}>
        <slot
            name="start"
            ${Zr("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        ></slot>
    </span>
`;function ta(e,...t){t.forEach((t=>{if(Object.getOwnPropertyNames(t.prototype).forEach((n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))})),t.attributes){const n=e.attributes||[];e.attributes=n.concat(t.attributes)}}))}class na extends Ae{}Ro([ve],na.prototype,"download",void 0),Ro([ve],na.prototype,"href",void 0),Ro([ve],na.prototype,"hreflang",void 0),Ro([ve],na.prototype,"ping",void 0),Ro([ve],na.prototype,"referrerpolicy",void 0),Ro([ve],na.prototype,"rel",void 0),Ro([ve],na.prototype,"target",void 0),Ro([ve],na.prototype,"type",void 0),Ro([ne],na.prototype,"defaultSlottedContent",void 0);class ia{}Ro([ve({attribute:"aria-expanded",mode:"fromView"})],ia.prototype,"ariaExpanded",void 0),ta(ia,Yr),ta(na,Xr,ia);class sa extends class{constructor(e,t){this.target=e,this.options=t,this.source=null}bind(e){const t=this.options.property;this.shouldUpdate=J.getAccessors(e).some((e=>e.name===t)),this.source=e,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(I),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let e=this.getNodes();return void 0!==this.options.filter&&(e=e.filter(this.options.filter)),e}updateTarget(e){this.source[this.options.property]=e}}{constructor(e,t){super(e,t)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function oa(e){return"string"==typeof e&&(e={property:e}),new Le("fast-slotted",sa,e)}const ra=ot`
    <a
        class="control"
        part="control"
        download="${e=>e.download}"
        href="${e=>e.href}"
        hreflang="${e=>e.hreflang}"
        ping="${e=>e.ping}"
        referrerpolicy="${e=>e.referrerpolicy}"
        rel="${e=>e.rel}"
        target="${e=>e.target}"
        type="${e=>e.type}"
        aria-atomic="${e=>e.ariaAtomic}"
        aria-busy="${e=>e.ariaBusy}"
        aria-controls="${e=>e.ariaControls}"
        aria-current="${e=>e.ariaCurrent}"
        aria-describedBy="${e=>e.ariaDescribedby}"
        aria-details="${e=>e.ariaDetails}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-errormessage="${e=>e.ariaErrormessage}"
        aria-expanded="${e=>e.ariaExpanded}"
        aria-flowto="${e=>e.ariaFlowto}"
        aria-haspopup="${e=>e.ariaHaspopup}"
        aria-hidden="${e=>e.ariaHidden}"
        aria-invalid="${e=>e.ariaInvalid}"
        aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
        aria-label="${e=>e.ariaLabel}"
        aria-labelledby="${e=>e.ariaLabelledby}"
        aria-live="${e=>e.ariaLive}"
        aria-owns="${e=>e.ariaOwns}"
        aria-relevant="${e=>e.ariaRelevant}"
        aria-roledescription="${e=>e.ariaRoledescription}"
        ${Zr("control")}
    >
        ${ea}
        <span class="content" part="content">
            <slot ${oa("defaultSlottedContent")}></slot>
        </span>
        ${Jr}
    </a>
`;function aa(...e){return e.every((e=>e instanceof HTMLElement))}let la;const ca=function(){if(!0===(e=la)||!1===e||Vs(e)&&"[object Boolean]"==Xn(e))return la;var e;if("undefined"==typeof window||!window.document||!window.document.createElement)return la=!1,la;const t=document.createElement("style"),n=function(){const e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}();null!==n&&t.setAttribute("nonce",n),document.head.appendChild(t);try{t.sheet.insertRule("foo:focus-visible {color:inherit}",0),la=!0}catch(e){la=!1}finally{document.head.removeChild(t)}return la}()?"focus-visible":"focus",ua="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)",ha=Pe`
    ${Re("inline-flex")} :host {
        font-family: var(--body-font);
        outline: none;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        height: calc(${ua} * 1px);
        min-width: calc(${ua} * 1px);
        background-color: ${or.var};
        color: ${Zo.var};
        border-radius: calc(var(--corner-radius) * 1px);
        fill: currentcolor;
        cursor: pointer;
    }

    .control {
        background: transparent;
        height: inherit;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(var(--outline-width) * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }

    :host(:hover) {
        background-color: ${rr.var};
    }

    :host(:active) {
        background-color: ${ar.var};
    }

    .control:${ca} {
        border: calc(var(--outline-width) * 1px) solid ${Ar.var};
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Ar.var};
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    .start,
    .end {
        display: flex;
    }

    .control.icon-only {
        padding: 0;
        line-height: 0;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        pointer-events: none;
    }

    .start {
        margin-inline-end: 11px;
    }

    .end {
        margin-inline-start: 11px;
    }
`.withBehaviors(or,Zo,rr,ar,jo(Pe`
            :host .control {
              background-color: ${Wo.ButtonFace};
              border-color: ${Wo.ButtonText};
              color: ${Wo.ButtonText};
              fill: currentColor;
            }
    
            :host(:hover) .control {
              forced-color-adjust: none;
              background-color: ${Wo.Highlight};
              color: ${Wo.HighlightText};
            }

            .control:${ca} {
              forced-color-adjust: none;
              background-color: ${Wo.Highlight};
              border-color: ${Wo.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Wo.ButtonText};
              color: ${Wo.HighlightText};
            }

            .control:hover,
            :host([appearance="outline"]) .control:hover {
              border-color: ${Wo.ButtonText};
            }

            :host([href]) .control {
                border-color: ${Wo.LinkText};
                color: ${Wo.LinkText};
            }

            :host([href]) .control:hover,
            :host([href]) .control:${ca}{
              forced-color-adjust: none;
              background: ${Wo.ButtonFace};
              border-color: ${Wo.LinkText};
              box-shadow: 0 0 0 1px ${Wo.LinkText} inset;
              color: ${Wo.LinkText};
              fill: currentColor;
            }
        `)),da=Pe`
    :host([appearance="accent"]) {
        background: ${fr.var};
        color: ${sr.var};
    }

    :host([appearance="accent"]:hover) {
        background: ${mr.var};
    }

    :host([appearance="accent"]:active) .control:active {
        background: ${vr.var};
    }

    :host([appearance="accent"]) .control:${ca} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Or.var};
    }
`.withBehaviors(fr,sr,mr,vr,Or,jo(Pe`
            :host([appearance="accent"]) .control {
                forced-color-adjust: none;
                background: ${Wo.Highlight};
                color: ${Wo.HighlightText};
            }

            :host([appearance="accent"]) .control:hover {
                background: ${Wo.HighlightText};
                border-color: ${Wo.Highlight};
                color: ${Wo.Highlight};
            }

            :host([appearance="accent"]) .control:${ca} {
                border-color: ${Wo.ButtonText};
                box-shadow: 0 0 0 2px ${Wo.HighlightText} inset;
            }

            :host([appearance="accent"][href]) .control{
                background: ${Wo.LinkText};
                color: ${Wo.HighlightText};
            }

            :host([appearance="accent"][href]) .control:hover {
                background: ${Wo.ButtonFace};
                border-color: ${Wo.LinkText};
                box-shadow: none;
                color: ${Wo.LinkText};
                fill: currentColor;
            }

            :host([appearance="accent"][href]) .control:${ca} {
                border-color: ${Wo.LinkText};
                box-shadow: 0 0 0 2px ${Wo.HighlightText} inset;
            }
        `)),pa=Pe`
    :host([appearance="hypertext"]) {
        font-size: inherit;
        line-height: inherit;
        height: auto;
        min-width: 0;
        background: transparent;
    }

    :host([appearance="hypertext"]) .control {
        display: inline;
        padding: 0;
        border: none;
        box-shadow: none;
        border-radius: 0;
        line-height: 1;
    }

    :host a.control:not(:link) {
        background-color: transparent;
        cursor: default;
    }
    :host([appearance="hypertext"]) .control:link,
    :host([appearance="hypertext"]) .control:visited {
        background: transparent;
        color: ${er.var};
        border-bottom: calc(var(--outline-width) * 1px) solid ${er.var};
    }

    :host([appearance="hypertext"]) .control:hover {
        border-bottom-color: ${tr.var};
    }

    :host([appearance="hypertext"]) .control:active {
        border-bottom-color: ${nr.var};
    }

    :host([appearance="hypertext"]) .control:${ca} {
        border-bottom: calc(var(--focus-outline-width) * 1px) solid ${Ar.var};
        margin-bottom: calc(calc(var(--outline-width) - var(--focus-outline-width)) * 1px);
    }
`.withBehaviors(er,tr,nr,Ar,jo(Pe`
            :host([appearance="hypertext"]:hover) {
                background-color: ${Wo.ButtonFace};
                color: ${Wo.ButtonText};
            }
            :host([appearance="hypertext"][href]) .control:hover,
            :host([appearance="hypertext"][href]) .control:active,
            :host([appearance="hypertext"][href]) .control:${ca} {
                color: ${Wo.LinkText};
                border-bottom-color: ${Wo.LinkText};
                box-shadow: none;
            }
        `)),ga=Pe`
    :host([appearance="lightweight"]) {
        background: transparent;
        color: ${er.var};
    }

    :host([appearance="lightweight"]) .control {
        padding: 0;
        height: initial;
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    :host([appearance="lightweight"]:hover) {
        color: ${tr.var};
    }

    :host([appearance="lightweight"]:active) {
        color: ${nr.var};
    }

    :host([appearance="lightweight"]) .content {
        position: relative;
    }

    :host([appearance="lightweight"]) .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        position: absolute;
        top: calc(1em + 4px);
        width: 100%;
    }

    :host([appearance="lightweight"]:hover) .content::before {
        background: ${tr.var};
    }

    :host([appearance="lightweight"]:active) .content::before {
        background: ${nr.var};
    }

    :host([appearance="lightweight"]) .control:${ca} .content::before {
        background: ${Zo.var};
        height: calc(var(--focus-outline-width) * 1px);
    }
`.withBehaviors(er,tr,nr,tr,Zo,jo(Pe`
            :host([appearance="lightweight"]) .control:hover,
            :host([appearance="lightweight"]) .control:${ca} {
                forced-color-adjust: none;
                background: ${Wo.ButtonFace};
                color: ${Wo.Highlight};
            }
            :host([appearance="lightweight"]) .control:hover .content::before,
            :host([appearance="lightweight"]) .control:${ca} .content::before {
                background: ${Wo.Highlight};
            }

            :host([appearance="lightweight"][href]) .control:hover,
            :host([appearance="lightweight"][href]) .control:${ca} {
                background: ${Wo.ButtonFace};
                box-shadow: none;
                color: ${Wo.LinkText};
            }

            :host([appearance="lightweight"][href]) .control:hover .content::before,
            :host([appearance="lightweight"][href]) .control:${ca} .content::before {
                background: ${Wo.LinkText};
            }
        `)),fa=Pe`
    :host([appearance="outline"]) {
        background: transparent;
        border-color: ${fr.var};
    }

    :host([appearance="outline"]:hover) {
        border-color: ${mr.var};
    }

    :host([appearance="outline"]:active) {
        border-color: ${vr.var};
    }

    :host([appearance="outline"]) .control {
        border-color: inherit;
    }

    :host([appearance="outline"]) .control:${ca} {
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Ar.var};
        border-color: ${Ar.var};
    }
`.withBehaviors(fr,mr,vr,Ar,jo(Pe`
            :host([appearance="outline"]) .control {
                border-color: ${Wo.ButtonText};
            }
            :host([appearance="outline"]) .control:${ca} {
              forced-color-adjust: none;
              background-color: ${Wo.Highlight};
              border-color: ${Wo.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Wo.ButtonText};
              color: ${Wo.HighlightText};
              fill: currentColor;
            }
            :host([appearance="outline"][href]) .control {
                background: ${Wo.ButtonFace};
                border-color: ${Wo.LinkText};
                color: ${Wo.LinkText};
                fill: currentColor;
            }
            :host([appearance="outline"][href]) .control:hover,
            :host([appearance="outline"][href]) .control:${ca} {
              forced-color-adjust: none;
              border-color: ${Wo.LinkText};
              box-shadow: 0 0 0 1px ${Wo.LinkText} inset;
            }
        `)),ma=Pe`
    :host([appearance="stealth"]) {
        background: ${lr.var};
    }

    :host([appearance="stealth"]:hover) {
        background: ${cr.var};
    }

    :host([appearance="stealth"]:active) {
        background: ${ur.var};
    }
`.withBehaviors(lr,cr,ur,jo(Pe`
            :host([appearance="stealth"]),
            :host([appearance="stealth"]) .control {
                forced-color-adjust: none;
                background: ${Wo.ButtonFace};
                border-color: transparent;
                color: ${Wo.ButtonText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:hover) .control {
                background: ${Wo.Highlight};
                border-color: ${Wo.Highlight};
                color: ${Wo.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:${ca}) .control {
                background: ${Wo.Highlight};
                box-shadow: 0 0 0 1px ${Wo.Highlight};
                color: ${Wo.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"][href]) .control {
                color: ${Wo.LinkText};
            }

            :host([appearance="stealth"][href]:hover) .control,
            :host([appearance="stealth"][href]:${ca}) .control {
                background: ${Wo.LinkText};
                border-color: ${Wo.LinkText};
                color: ${Wo.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"][href]:${ca}) .control {
                forced-color-adjust: none;
                box-shadow: 0 0 0 1px ${Wo.LinkText};
            }
        `));class va{constructor(e,t,n){this.propertyName=e,this.value=t,this.styles=n}bind(e){J.getNotifier(e).subscribe(this,this.propertyName),this.handleChange(e,this.propertyName)}unbind(e){J.getNotifier(e).unsubscribe(this,this.propertyName),e.$fastController.removeStyles(this.styles)}handleChange(e,t){e[t]===this.value?e.$fastController.addStyles(this.styles):e.$fastController.removeStyles(this.styles)}}function ba(e,t){return new va("appearance",e,t)}const ya=Pe`
    ${ha}
`.withBehaviors(ba("accent",da),ba("hypertext",pa),ba("lightweight",ga),ba("outline",fa),ba("stealth",ma));let wa=class extends na{appearanceChanged(e,t){e!==t&&(this.classList.add(t),this.classList.remove(e))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(e,t){const n=this.defaultSlottedContent.filter((e=>e.nodeType===Node.ELEMENT_NODE));1===n.length&&n[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};Ro([ve],wa.prototype,"appearance",void 0),wa=Ro([Oe({name:"fast-anchor",template:ra,styles:ya,shadowOptions:{delegatesFocus:!0}})],wa);const xa=ya;let Ca=class extends wa{};Ca=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-anchor",template:ra,styles:xa,shadowOptions:{delegatesFocus:!0}})],Ca);const ka="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)",Sa=Pe`
  ${Re("flex")}

  :host {
    contain: content;
    overflow: hidden;
    cursor: pointer;
    flex-direction: column;
    border-radius: calc(var(--corner-radius) * 1px);
  }
  .image {
    position: relative;
    overflow: hidden;
    height: 0;
    padding-top: 56.25%;
    border-bottom-left-radius: calc(var(--corner-radius) * 1px);
    border-bottom-right-radius: calc(var(--corner-radius) * 1px);
  }
  .image-background {
    position: absolute;
    width: 100%;
    height: 100%;
    margin-top: -56.25%;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    transition: all 250ms ease;
  }
  :host(:hover) .image-background {
    transform: scale(1.05) translate(-1.25%, -1.25%);
    opacity: 0.8;
  }
  .button {
    margin-top: calc((${ka}) * -0.5px);
    text-align: right;
    margin-right: calc((${ka}) * 0.5px);
    position: relative;
    z-index: 1;
  }
  .content {
    padding: calc((${ka}) * 0.25px) calc((${ka}) * 0.5px) calc((${ka}) * 0.5px);
  }
`.withBehaviors(kr,Tr,Zo),$a=ot`
<div
  class="image"
  part="image"
  style="padding-top: ${e=>1/e.imageRatio*100}%;">
    <div class="image-background" style="margin-top: ${e=>-1/e.imageRatio*100}%;background-image: url(${e=>e.imageSrc});"></div>
</div>
<div class="button" part="button">
  <slot name="button"></slot>
</div>
<div class="content" part="content">
  <slot></slot>
</div>`;var Ta=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Aa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Oa=class extends Ae{constructor(){super(...arguments),this.imageRatio=4/3}};Ta([ve({attribute:"image-src"}),Aa("design:type",String)],Oa.prototype,"imageSrc",void 0),Ta([ve({attribute:"image-ratio"}),Aa("design:type",Object)],Oa.prototype,"imageRatio",void 0),Oa=Ta([Oe({name:"ecos-article",template:$a,styles:Sa})],Oa);const Ea=Pe`
  ${Re("grid")}

  :host {
    contain: content;
    display: grid;
    justify-content: center;
    grid-gap: var(--spacing-unit);
  }
  
  @media screen and (min-width: 732px) {
    :host {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,Pa=ot`<slot></slot>`;let Ra=class extends Ae{};Ra=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-article-list",template:Pa,styles:Ea})],Ra);class Ia extends Ae{constructor(){super(...arguments),this.generateBadgeStyle=()=>{if(!this.fill&&!this.color)return;const e=`background-color: var(--badge-fill-${this.fill});`,t=`color: var(--badge-color-${this.color});`;return this.fill&&!this.color?e:this.color&&!this.fill?t:`${t} ${e}`}}}Ro([ve({attribute:"fill"})],Ia.prototype,"fill",void 0),Ro([ve({attribute:"color"})],Ia.prototype,"color",void 0),Ro([ve({mode:"boolean"})],Ia.prototype,"circular",void 0);const ja=ot`
    <template class="${e=>e.circular?"circular":""}">
        <div class="control" part="control" style="${e=>e.generateBadgeStyle()}">
            <slot></slot>
        </div>
    </template>
`,Fa=Pe`
    ${Re("inline-block")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
    }

    .control {
        border-radius: calc(var(--corner-radius) * 1px);
        padding: calc(var(--design-unit) * 0.5px) calc(var(--design-unit) * 1px);
        color: ${er.var};
        font-weight: 600;
    }

    .control[style] {
        font-weight: 400;
    }

    :host([circular]) .control {
        border-radius: 100px;
        padding: 0 calc(var(--design-unit) * 1px);
        ${""} height: calc((${ua} - (var(--design-unit) * 3)) * 1px);
        min-width: calc((${ua} - (var(--design-unit) * 3)) * 1px);
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }
`.withBehaviors(er);let La=class extends Ia{};La=Ro([Oe({name:"fast-badge",template:ja,styles:Fa})],La);const Da=Fa;function Na(e,t,n=18){const i=Hn(e);let s=i.c+t*n;return s<0&&(s=0),Vn(new An(i.l,s,i.h))}function Ma(e,t,n=18){const i=Mn(e),s=i.l-t*n;return Bn(new Tn(s,i.a,i.b))}function Ba(e,t,n=18){return Ma(e,-1*t,n)}function Ha(e,t){const n=jn(e),i=jn(t);return 0===i.s?new pn(n.l,n.l,n.l,1):Fn(new Sn(i.h,i.s,n.l))}function Va(e,t){return e*t}function qa(e,t){return new pn(Va(e.r,t.r),Va(e.g,t.g),Va(e.b,t.b),1)}function Ua(e,t){return rn(e<.5?2*t*e:1-2*(1-t)*(1-e),0,1)}function za(e,t){return new pn(Ua(e.r,t.r),Ua(e.g,t.g),Ua(e.b,t.b),1)}var _a;!function(e){e[e.Burn=0]="Burn",e[e.Color=1]="Color",e[e.Darken=2]="Darken",e[e.Dodge=3]="Dodge",e[e.Lighten=4]="Lighten",e[e.Multiply=5]="Multiply",e[e.Overlay=6]="Overlay",e[e.Screen=7]="Screen"}(_a||(_a={})),ht("accent-light-50",(e=>Ba(Ri(e.accentBaseColor),.25).toStringHexRGB()),Qo.findProvider);const Wa=ht("accent-light-100",(e=>Ba(Ri(e.accentBaseColor),1).toStringHexRGB()),Qo.findProvider),Ka=ht("accent-dark-50",(e=>Ma(Ri(e.accentBaseColor),1).toStringHexRGB()),Qo.findProvider),Ga=ht("accent-dark-100",(e=>Ma(Ri(e.accentBaseColor),2).toStringHexRGB()),Qo.findProvider),Ya=Pe`
  .control {
    background: ${or.var};
    color: ${Zo.var};
  }
  :host([appearance=accent]) .control {
    background: ${fr.var};
    color: ${sr.var};
  }
  :host([appearance=accent-light]) .control {
    background: ${Wa.var};
    color: ${sr.var};
  }
  :host([appearance=outline]) .control {
    background: transparent;
    color: ${Zo.var};
    border: calc(var(--outline-width) * 1px) solid ${Zo.var};
    border-radius: calc(var(--corner-radius) * 1px);
  }
`.withBehaviors(or,Zo,fr,sr,Wa);var Qa=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Za=class extends La{constructor(){super(...arguments),this.appearance="neutral",this.generateBadgeStyle=()=>""}};Qa([ve(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],Za.prototype,"appearance",void 0),Za=Qa([Oe({name:"ecos-badge",template:ja,styles:[Da,Ya]})],Za);class Xa extends na{constructor(){super(...arguments),this.separator=!0}}Ro([ne],Xa.prototype,"separator",void 0),ta(Xa,Xr,ia);class Ja extends Ae{slottedBreadcrumbItemsChanged(){if(this.$fastController.isConnected){if(void 0===this.slottedBreadcrumbItems||0===this.slottedBreadcrumbItems.length)return;const e=this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length-1];this.setItemSeparator(e),this.setLastItemAriaCurrent(e)}}setItemSeparator(e){this.slottedBreadcrumbItems.forEach((e=>{e instanceof Xa&&(e.separator=!0)})),e instanceof Xa&&(e.separator=!1)}findChildWithHref(e){var t,n;return e.childElementCount>0?e.querySelector("a[href]"):(null===(t=e.shadowRoot)||void 0===t?void 0:t.childElementCount)?null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelector("a[href]"):null}setLastItemAriaCurrent(e){const t=this.findChildWithHref(e);null===t&&e.hasAttribute("href")&&e instanceof Xa?e.ariaCurrent="page":null!==t&&t.setAttribute("aria-current","page")}}Ro([ne],Ja.prototype,"slottedBreadcrumbItems",void 0);const el=ot`
    <template role="navigation">
        <div role="list" class="list" part="list">
            <slot
                ${oa({property:"slottedBreadcrumbItems",filter:function(e,t,n){return 1===e.nodeType}})}
            ></slot>
        </div>
    </template>
`;const tl=Pe`
    ${Re("inline-block")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .list {
        display: flex;
    }
`;let nl=class extends Ja{};function il(e,t){const n="function"==typeof t?t:()=>t;return(t,i)=>e(t,i)?n(t,i):null}nl=Ro([Oe({name:"fast-breadcrumb",template:el,styles:tl})],nl);const sl=ot`
    <div role="listitem" class="listitem" part="listitem">
        ${il((e=>e.href&&e.href.length>0),ot`
                ${ra}
            `)}
        ${il((e=>!e.href),ot`
                ${ea}
                <slot></slot>
                ${Jr}
            `)}
        ${il((e=>e.separator),ot`
                <span class="separator" part="separator" aria-hidden="true">
                    <slot name="separator">/</slot>
                </span>
            `)}
    </div>
`,ol=Pe`
    ${Re("inline-flex")} :host {
        background: transparent;
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        fill: currentColor;
        line-height: var(--type-ramp-base-line-height);
        min-width: calc(${ua} * 1px);
        outline: none;
    }

    .listitem {
        display: flex;
        align-items: center;
        width: max-content;
    }

    .separator {
        margin: 0 6px;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        color: ${er.var};
        cursor: pointer;
        display: flex;
        fill: inherit;
        outline: none;
        text-decoration: none;
        white-space: nowrap;
    }

    .control:hover {
        color: ${tr.var};
    }

    .control:active {
        color: ${nr.var};
    }

    .control .content {
        position: relative;
    }

    .control .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        left: 0;
        position: absolute;
        right: 0;
        top: calc(1em + 4px);
        width: 100%;
    }

    .control:hover .content::before {
        background: ${tr.var};
    }

    .control:active .content::before {
        background: ${nr.var};
    }

    .control:${ca} .content::before {
        background: ${Zo.var};
        height: calc(var(--focus-outline-width) * 1px);
    }

    .control:not([href]) {
        color: ${Zo.var};
        cursor: default;
    }

    .control:not([href]) .content::before {
        background: none;
    }

    .start,
    .end {
        display: flex;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    .start {
        margin-inline-end: 6px;
    }

    .end {
        margin-inline-start: 6px;
    }
`.withBehaviors(er,tr,nr,tr,Zo,jo(Pe`
            .control:hover .content::before {
                background: ${Wo.LinkText};
            }
        `));let rl=class extends Xa{};rl=Ro([Oe({name:"fast-breadcrumb-item",template:sl,styles:ol,shadowOptions:{delegatesFocus:!0}})],rl);const al=Pe`
    ${Re("inline-block")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }
    .list {
        display: flex;
    }
`,ll=Pe`
    ${Re("inline-flex")} :host {
        background: transparent;
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        fill: currentColor;
        line-height: var(--type-ramp-base-line-height);
        min-width: calc(${"(var(--base-height-multiplier) + var(--density)) * var(--design-unit)"} * 1px);
        outline: none;
    }
    .listitem {
        display: flex;
        align-items: center;
        width: max-content;
    }
    .separator {
        margin: 0 6px;
    }
    .control {
        align-items: center;
        box-sizing: border-box;
        color: ${er.var};
        cursor: pointer;
        display: flex;
        fill: inherit;
        outline: none;
        text-decoration: none;
        white-space: nowrap;
    }
    .control:hover {
        color: ${tr.var};
    }
    .control:active {
        color: ${nr.var};
    }
    .control .content {
        position: relative;
    }
    .control .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        left: 0;
        position: absolute;
        right: 0;
        top: calc(1em + 4px);
        width: 100%;
    }
    .control:hover .content::before {
        background: ${tr.var};
    }
    .control:active .content::before {
        background: ${nr.var};
    }
    .control:${ca} .content::before {
        background: ${Zo.var};
        height: calc(var(--focus-outline-width) * 1px);
    }
    .control:not([href]) {
        color: ${Zo.var};
        cursor: default;
    }
    .control:not([href]) .content::before {
        background: none;
    }
    .start,
    .end {
        display: flex;
    }
    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }
    .start {
        margin-inline-end: 6px;
    }
    .end {
        margin-inline-start: 6px;
    }
`.withBehaviors(er,tr,nr,tr,Zo,jo(Pe`
            .control:hover .content::before {
                background: ${Wo.LinkText};
            }
        `));var cl=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ul=class extends nl{};ul=cl([Oe({name:"ecos-breadcrumb",template:el,styles:al})],ul);let hl=class extends rl{};var dl;hl=cl([Oe({name:"ecos-breadcrumb-item",template:sl,styles:ll,shadowOptions:{delegatesFocus:!0}})],hl),function(e){e[e.alt=18]="alt",e[e.arrowDown=40]="arrowDown",e[e.arrowLeft=37]="arrowLeft",e[e.arrowRight=39]="arrowRight",e[e.arrowUp=38]="arrowUp",e[e.back=8]="back",e[e.backSlash=220]="backSlash",e[e.break=19]="break",e[e.capsLock=20]="capsLock",e[e.closeBracket=221]="closeBracket",e[e.colon=186]="colon",e[e.colon2=59]="colon2",e[e.comma=188]="comma",e[e.ctrl=17]="ctrl",e[e.delete=46]="delete",e[e.end=35]="end",e[e.enter=13]="enter",e[e.equals=187]="equals",e[e.equals2=61]="equals2",e[e.equals3=107]="equals3",e[e.escape=27]="escape",e[e.forwardSlash=191]="forwardSlash",e[e.function1=112]="function1",e[e.function10=121]="function10",e[e.function11=122]="function11",e[e.function12=123]="function12",e[e.function2=113]="function2",e[e.function3=114]="function3",e[e.function4=115]="function4",e[e.function5=116]="function5",e[e.function6=117]="function6",e[e.function7=118]="function7",e[e.function8=119]="function8",e[e.function9=120]="function9",e[e.home=36]="home",e[e.insert=45]="insert",e[e.menu=93]="menu",e[e.minus=189]="minus",e[e.minus2=109]="minus2",e[e.numLock=144]="numLock",e[e.numPad0=96]="numPad0",e[e.numPad1=97]="numPad1",e[e.numPad2=98]="numPad2",e[e.numPad3=99]="numPad3",e[e.numPad4=100]="numPad4",e[e.numPad5=101]="numPad5",e[e.numPad6=102]="numPad6",e[e.numPad7=103]="numPad7",e[e.numPad8=104]="numPad8",e[e.numPad9=105]="numPad9",e[e.numPadDivide=111]="numPadDivide",e[e.numPadDot=110]="numPadDot",e[e.numPadMinus=109]="numPadMinus",e[e.numPadMultiply=106]="numPadMultiply",e[e.numPadPlus=107]="numPadPlus",e[e.openBracket=219]="openBracket",e[e.pageDown=34]="pageDown",e[e.pageUp=33]="pageUp",e[e.period=190]="period",e[e.print=44]="print",e[e.quote=222]="quote",e[e.scrollLock=145]="scrollLock",e[e.shift=16]="shift",e[e.space=32]="space",e[e.tab=9]="tab",e[e.tilde=192]="tilde",e[e.windowsLeft=91]="windowsLeft",e[e.windowsOpera=219]="windowsOpera",e[e.windowsRight=92]="windowsRight"}(dl||(dl={}));const pl="form-associated-proxy",gl="ElementInternals"in window&&"setFormValue"in window.ElementInternals.prototype,fl=new Map;function ml(e){const t=class extends e{constructor(...e){super(...e),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.formDisabledCallback=e=>{this.disabled=e},this.formResetCallback=()=>{this.value=this.initialValue,this.dirtyValue=!1},this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||""}static get formAssociated(){return gl}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const e=this.proxy.labels,t=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=e?t.concat(Array.from(e)):t;return Object.freeze(n)}return I}valueChanged(e,t){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.setFormValue(this.value),this.validate()}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),H.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),H.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!gl)return null;let e=fl.get(this);return e||(e=this.attachInternals(),fl.set(this,e)),e}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback)}disconnectedCallback(){this.proxyEventsToBlock.forEach((e=>this.proxy.removeEventListener(e,this.stopPropagation))),this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(e,t,n){this.elementInternals?this.elementInternals.setValidity(e,t,n):"string"==typeof t&&this.proxy.setCustomValidity(t)}attachProxy(){var e;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((e=>this.proxy.addEventListener(e,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",pl),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",pl)),null===(e=this.shadowRoot)||void 0===e||e.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var e;this.removeChild(this.proxy),null===(e=this.shadowRoot)||void 0===e||e.removeChild(this.proxySlot)}validate(){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage)}setFormValue(e,t){this.elementInternals&&this.elementInternals.setFormValue(e,t||e)}_keypressHandler(e){switch(e.keyCode){case 13:if(this.form instanceof HTMLFormElement){const e=this.form.querySelector("[type=submit]");null==e||e.click()}}}stopPropagation(e){e.stopPropagation()}};return ve({mode:"boolean"})(t.prototype,"disabled"),ve({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),ve(t.prototype,"name"),ve({mode:"boolean"})(t.prototype,"required"),ne(t.prototype,"value"),t}class vl extends Ae{}class bl extends(ml(vl)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class yl extends bl{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const e=this.proxy.isConnected;e||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),e||this.detachProxy()},this.handleFormReset=()=>{var e;null===(e=this.form)||void 0===e||e.reset()}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(e,t){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===t&&this.addEventListener("click",this.handleSubmission),"submit"===e&&this.removeEventListener("click",this.handleSubmission),"reset"===t&&this.addEventListener("click",this.handleFormReset),"reset"===e&&this.removeEventListener("click",this.handleFormReset)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type)}get root(){return this.control}}Ro([ve({mode:"boolean"})],yl.prototype,"autofocus",void 0),Ro([ve({attribute:"form"})],yl.prototype,"formId",void 0),Ro([ve],yl.prototype,"formaction",void 0),Ro([ve],yl.prototype,"formenctype",void 0),Ro([ve],yl.prototype,"formmethod",void 0),Ro([ve({mode:"boolean"})],yl.prototype,"formnovalidate",void 0),Ro([ve],yl.prototype,"formtarget",void 0),Ro([ve],yl.prototype,"type",void 0),Ro([ne],yl.prototype,"defaultSlottedContent",void 0);class wl{}Ro([ve({attribute:"aria-expanded",mode:"fromView"})],wl.prototype,"ariaExpanded",void 0),Ro([ve({attribute:"aria-pressed",mode:"fromView"})],wl.prototype,"ariaPressed",void 0),ta(wl,Yr),ta(yl,Xr,wl);const xl=ot`
    <button
        class="control"
        part="control"
        ?autofocus="${e=>e.autofocus}"
        ?disabled="${e=>e.disabled}"
        form="${e=>e.formId}"
        formaction="${e=>e.formaction}"
        formenctype="${e=>e.formenctype}"
        formmethod="${e=>e.formmethod}"
        formnovalidate="${e=>e.formnovalidate}"
        formtarget="${e=>e.formtarget}"
        name="${e=>e.name}"
        type="${e=>e.type}"
        value="${e=>e.value}"
        aria-atomic="${e=>e.ariaAtomic}"
        aria-busy="${e=>e.ariaBusy}"
        aria-controls="${e=>e.ariaControls}"
        aria-current="${e=>e.ariaCurrent}"
        aria-describedBy="${e=>e.ariaDescribedby}"
        aria-details="${e=>e.ariaDetails}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-errormessage="${e=>e.ariaErrormessage}"
        aria-expanded="${e=>e.ariaExpanded}"
        aria-flowto="${e=>e.ariaFlowto}"
        aria-haspopup="${e=>e.ariaHaspopup}"
        aria-hidden="${e=>e.ariaHidden}"
        aria-invalid="${e=>e.ariaInvalid}"
        aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
        aria-label="${e=>e.ariaLabel}"
        aria-labelledby="${e=>e.ariaLabelledby}"
        aria-live="${e=>e.ariaLive}"
        aria-owns="${e=>e.ariaOwns}"
        aria-pressed="${e=>e.ariaPressed}"
        aria-relevant="${e=>e.ariaRelevant}"
        aria-roledescription="${e=>e.ariaRoledescription}"
        ${Zr("control")}
    >
        ${ea}
        <span class="content" part="content">
            <slot ${oa("defaultSlottedContent")}></slot>
        </span>
        ${Jr}
    </button>
`,Cl="not-allowed",kl=Pe`
    :host([disabled]),
    :host([disabled]:hover),
    :host([disabled]:active) {
        opacity: var(--disabled-opacity);
        background-color: ${or.var};
        cursor: ${Cl};
    }

    ${ha}
`.withBehaviors(jo(Pe`
            :host([disabled]),
            :host([disabled]) .control {
                forced-color-adjust: none;
                background-color: ${Wo.ButtonFace};
                border-color: ${Wo.GrayText};
                color: ${Wo.GrayText};
                cursor: ${Cl};
                opacity: 1;
            }
        `),ba("accent",Pe`
            :host([appearance="accent"][disabled]),
            :host([appearance="accent"][disabled]:hover),
            :host([appearance="accent"][disabled]:active) {
                background: ${fr.var};
            }

            ${da}
        `.withBehaviors(jo(Pe`
                    :host([appearance="accent"][disabled]) .control,
                    :host([appearance="accent"][disabled]) .control:hover {
                        background: ${Wo.ButtonFace};
                        border-color: ${Wo.GrayText};
                        color: ${Wo.GrayText};
                    }
                `))),ba("lightweight",Pe`
            :host([appearance="lightweight"][disabled]:hover),
            :host([appearance="lightweight"][disabled]:active) {
                background-color: transparent;
                color: ${er.var};
            }

            :host([appearance="lightweight"][disabled]) .content::before,
            :host([appearance="lightweight"][disabled]:hover) .content::before,
            :host([appearance="lightweight"][disabled]:active) .content::before {
                background: transparent;
            }

            ${ga}
        `.withBehaviors(jo(Pe`
                    :host([appearance="lightweight"].disabled) .control {
                        forced-color-adjust: none;
                        color: ${Wo.GrayText};
                    }

                    :host([appearance="lightweight"].disabled)
                        .control:hover
                        .content::before {
                        background: none;
                    }
                `))),ba("outline",Pe`
            :host([appearance="outline"][disabled]),
            :host([appearance="outline"][disabled]:hover),
            :host([appearance="outline"][disabled]:active) {
                background: transparent;
                border-color: ${fr.var};
            }

            ${fa}
        `.withBehaviors(jo(Pe`
                    :host([appearance="outline"][disabled]) .control {
                        border-color: ${Wo.GrayText};
                    }
                `))),ba("stealth",Pe`
            :host([appearance="stealth"][disabled]),
            :host([appearance="stealth"][disabled]:hover),
            :host([appearance="stealth"][disabled]:active) {
                background: ${lr.var};
            }

            ${ma}
        `.withBehaviors(jo(Pe`
                    :host([appearance="stealth"][disabled]) {
                        background: ${Wo.ButtonFace};
                    }

                    :host([appearance="stealth"][disabled]) .control {
                        background: ${Wo.ButtonFace};
                        border-color: transparent;
                        color: ${Wo.GrayText};
                    }
                `))));let Sl=class extends yl{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(e,t){const n=this.defaultSlottedContent.filter((e=>e.nodeType===Node.ELEMENT_NODE));1===n.length&&n[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};Ro([ve],Sl.prototype,"appearance",void 0),Sl=Ro([Oe({name:"fast-button",template:xl,styles:kl,shadowOptions:{delegatesFocus:!0}})],Sl);const $l=kl;const Tl=Pe`
  .control {
    padding: 0 calc((10 + max(0, calc(var(--corner-radius) - 10)) + (var(--design-unit) * 2 * max(var(--density), 0)))  * 1px);
  }
`;let Al=class extends Sl{};Al=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-button",template:xl,styles:[$l,Tl],shadowOptions:{delegatesFocus:!0}})],Al);const Ol=ot`
    <button
        class="control"
        part="control"
        ?autofocus="${e=>e.autofocus}"
        ?disabled="${e=>e.disabled}"
        form="${e=>e.formId}"
        formaction="${e=>e.formaction}"
        formenctype="${e=>e.formenctype}"
        formmethod="${e=>e.formmethod}"
        formnovalidate="${e=>e.formnovalidate}"
        formtarget="${e=>e.formtarget}"
        name="${e=>e.name}"
        type="${e=>e.type}"
        value="${e=>e.value}"
        aria-atomic="${e=>e.ariaAtomic}"
        aria-busy="${e=>e.ariaBusy}"
        aria-controls="${e=>e.ariaControls}"
        aria-current="${e=>e.ariaCurrent}"
        aria-describedBy="${e=>e.ariaDescribedby}"
        aria-details="${e=>e.ariaDetails}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-errormessage="${e=>e.ariaErrormessage}"
        aria-expanded="${e=>e.ariaExpanded}"
        aria-flowto="${e=>e.ariaFlowto}"
        aria-haspopup="${e=>e.ariaHaspopup}"
        aria-hidden="${e=>e.ariaHidden}"
        aria-invalid="${e=>e.ariaInvalid}"
        aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
        aria-label="${e=>e.ariaLabel}"
        aria-labelledby="${e=>e.ariaLabelledby}"
        aria-live="${e=>e.ariaLive}"
        aria-owns="${e=>e.ariaOwns}"
        aria-pressed="${e=>e.ariaPressed}"
        aria-relevant="${e=>e.ariaRelevant}"
        aria-roledescription="${e=>e.ariaRoledescription}"
        ${Zr("control")}
    >
        <span class="shadow" part="shadow"></span>
        <span class="edge" part="edge"></span>
        <span class="front" part="front">
            ${ea}
            <span class="content" part="content">
                <slot ${oa("defaultSlottedContent")}></slot>
            </span>
            ${Jr}
        </span>
    </button>
`,El=Pe`
  ${Re("inline")}

  .control {
    position: relative;
    border: none;
    background: transparent;
    padding: 0;
    cursor: pointer;
    outline-offset: 4px;
    transition: filter 250ms;
  }
  :host {
    contain: content;
  }
  
  :host([disabled]) {
    opacity: var(--disabled-opacity);
    cursor: ${Cl};
  }
  .start,
  .end {
    display: flex;
  }
  .control.icon-only {
    padding: 0;
    line-height: 0;
  }
  ::slotted(svg) {
    ${""} width: 16px;
    height: 16px;
    pointer-events: none;
  }
  .start {
    margin-inline-end: 11px;
  }
  .end {
    margin-inline-start: 11px;
  }


  .shadow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: hsl(0deg 0% 0% / 0.25);
    will-change: transform;
    transform: translateY(2px);
    transition:
      transform
      600ms
      cubic-bezier(.3, .7, .4, 1);
  }
  .edge {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: linear-gradient(
      to left,
      ${Ga.var} 0%,
      ${Ka.var} 8%,
      ${Ka.var} 92%,
      ${Ga.var} 100%
    );
  }
  .front {
    display: block;
    position: relative;
    padding: 12px 42px;
    border-radius: 12px;
    font-size: 1.25rem;
    color: ${sr.var};;
    background: ${fr.var};
    will-change: transform;
    transform: translateY(-4px);
    transition:
      transform
      600ms
      cubic-bezier(.3, .7, .4, 1);
  }
  :host(:hover) {
    filter: brightness(110%);
  }
  :host(:hover) .front {
    transform: translateY(-6px);
    transition:
      transform
      250ms
      cubic-bezier(.3, .7, .4, 1.5);
  }
  :host(:active) .front {
    transform: translateY(-2px);
    transition: transform 34ms;
  }
  :host(:hover) .shadow {
    transform: translateY(4px);
    transition:
      transform
      250ms
      cubic-bezier(.3, .7, .4, 1.5);
  }
  :host(:active) .shadow {
    transform: translateY(1px);
    transition: transform 34ms;
  }
  :host(:focus:not(:focus-visible)) {
    outline: none;
  }
`.withBehaviors(fr,er,sr,Ka,Ga);let Pl=class extends Sl{};Pl=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-button-3d",template:Ol,styles:[El],shadowOptions:{delegatesFocus:!0}})],Pl);const Rl=ot`
    <slot></slot>
`;var Il;function jl(e,t,n,i){if(isNaN(e)||e<=0)return n;if(e>=1)return i;switch(t){case Il.HSL:return Fn(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Sn(hn(e,t.h,n.h),un(e,t.s,n.s),un(e,t.l,n.l))}(e,jn(n),jn(i)));case Il.HSV:return function(e,t=1){const n=e.s*e.v,i=n*(1-Math.abs(e.h/60%2-1)),s=e.v-n;let o=0,r=0,a=0;return e.h<60?(o=n,r=i,a=0):e.h<120?(o=i,r=n,a=0):e.h<180?(o=0,r=n,a=i):e.h<240?(o=0,r=i,a=n):e.h<300?(o=i,r=0,a=n):e.h<360&&(o=n,r=0,a=i),new pn(o+s,r+s,a+s,t)}(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new $n(hn(e,t.h,n.h),un(e,t.s,n.s),un(e,t.v,n.v))}(e,Ln(n),Ln(i)));case Il.XYZ:return Nn(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new On(un(e,t.x,n.x),un(e,t.y,n.y),un(e,t.z,n.z))}(e,Dn(n),Dn(i)));case Il.LAB:return Bn(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Tn(un(e,t.l,n.l),un(e,t.a,n.a),un(e,t.b,n.b))}(e,Mn(n),Mn(i)));case Il.LCH:return Vn(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new An(un(e,t.l,n.l),un(e,t.c,n.c),hn(e,t.h,n.h))}(e,Hn(n),Hn(i)));default:return function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new pn(un(e,t.r,n.r),un(e,t.g,n.g),un(e,t.b,n.b),un(e,t.a,n.a))}(e,n,i)}}!function(e){e[e.RGB=0]="RGB",e[e.HSL=1]="HSL",e[e.HSV=2]="HSV",e[e.XYZ=3]="XYZ",e[e.LAB=4]="LAB",e[e.LCH=5]="LCH"}(Il||(Il={}));class Fl{constructor(e){if(null==e||0===e.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(e)}static createBalancedColorScale(e){if(null==e||0===e.length)throw new Error("The colors argument must be non-empty");const t=new Array(e.length);for(let n=0;n<e.length;n++)0===n?t[n]={color:e[n],position:0}:n===e.length-1?t[n]={color:e[n],position:1}:t[n]={color:e[n],position:n*(1/(e.length-1))};return new Fl(t)}getColor(e,t=Il.RGB){if(1===this.stops.length)return this.stops[0].color;if(e<=0)return this.stops[0].color;if(e>=1)return this.stops[this.stops.length-1].color;let n=0;for(let t=0;t<this.stops.length;t++)this.stops[t].position<=e&&(n=t);let i=n+1;return i>=this.stops.length&&(i=this.stops.length-1),jl((e-this.stops[n].position)*(1/(this.stops[i].position-this.stops[n].position)),t,this.stops[n].color,this.stops[i].color)}trim(e,t,n=Il.RGB){if(e<0||t>1||t<e)throw new Error("Invalid bounds");if(e===t)return new Fl([{color:this.getColor(e,n),position:0}]);const i=[];for(let n=0;n<this.stops.length;n++)this.stops[n].position>=e&&this.stops[n].position<=t&&i.push(this.stops[n]);if(0===i.length)return new Fl([{color:this.getColor(e),position:e},{color:this.getColor(t),position:t}]);i[0].position!==e&&i.unshift({color:this.getColor(e),position:e}),i[i.length-1].position!==t&&i.push({color:this.getColor(t),position:t});const s=t-e,o=new Array(i.length);for(let t=0;t<i.length;t++)o[t]={color:i[t].color,position:(i[t].position-e)/s};return new Fl(o)}findNextColor(e,t,n=!1,i=Il.RGB,s=.005,o=32){isNaN(e)||e<=0?e=0:e>=1&&(e=1);const r=this.getColor(e,i),a=n?0:1;if(In(r,this.getColor(a,i))<=t)return a;let l=n?0:e,c=n?e:0,u=a,h=0;for(;h<=o;){u=Math.abs(c-l)/2+l;const e=In(r,this.getColor(u,i));if(Math.abs(e-t)<=s)return u;e>t?n?l=u:c=u:n?c=u:l=u,h++}return u}clone(){const e=new Array(this.stops.length);for(let t=0;t<e.length;t++)e[t]={color:this.stops[t].color,position:this.stops[t].position};return new Fl(e)}sortColorScaleStops(e){return e.sort(((e,t)=>{const n=e.position,i=t.position;return n<i?-1:n>i?1:0}))}}class Ll{constructor(e){this.config=Object.assign({},Ll.defaultPaletteConfig,e),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(e){let t=!1;for(const n in e)this.config[n]&&(this.config[n].equalValue?this.config[n].equalValue(e[n])||(this.config[n]=e[n],t=!0):e[n]!==this.config[n]&&(this.config[n]=e[n],t=!0));return t&&this.updatePaletteColors(),t}updatePaletteColors(){const e=this.generatePaletteColorScale();for(let t=0;t<this.config.steps;t++)this.palette[t]=e.getColor(t/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const e=jn(this.config.baseColor),t=new Fl([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let n=t.getColor(0),i=t.getColor(1);if(e.s>=this.config.saturationAdjustmentCutoff&&(n=Na(n,this.config.saturationLight),i=Na(i,this.config.saturationDark)),0!==this.config.multiplyLight){const e=qa(this.config.baseColor,n);n=jl(this.config.multiplyLight,this.config.interpolationMode,n,e)}if(0!==this.config.multiplyDark){const e=qa(this.config.baseColor,i);i=jl(this.config.multiplyDark,this.config.interpolationMode,i,e)}if(0!==this.config.overlayLight){const e=za(this.config.baseColor,n);n=jl(this.config.overlayLight,this.config.interpolationMode,n,e)}if(0!==this.config.overlayDark){const e=za(this.config.baseColor,i);i=jl(this.config.overlayDark,this.config.interpolationMode,i,e)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new Fl([{position:0,color:this.config.baseColor},{position:1,color:i.clamp()}]):this.config.baseScalePosition>=1?new Fl([{position:0,color:n.clamp()},{position:1,color:this.config.baseColor}]):new Fl([{position:0,color:n.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:i.clamp()}]):new Fl([{position:0,color:n.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:i.clamp()}])}}Ll.defaultPaletteConfig={baseColor:xn("#808080"),steps:11,interpolationMode:Il.RGB,scaleColorLight:new pn(1,1,1,1),scaleColorDark:new pn(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},Ll.greyscalePaletteConfig={baseColor:xn("#808080"),steps:11,interpolationMode:Il.RGB,scaleColorLight:new pn(1,1,1,1),scaleColorDark:new pn(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},Ll.defaultPaletteConfig.scaleColorLight,Ll.defaultPaletteConfig.scaleColorDark;class Dl{constructor(e){this.palette=[],this.config=Object.assign({},Dl.defaultPaletteConfig,e),this.regenPalettes()}regenPalettes(){let e=this.config.steps;(isNaN(e)||e<3)&&(e=3);const t=.14,n=new pn(t,t,t,1),i=new Ll(Object.assign(Object.assign({},Ll.greyscalePaletteConfig),{baseColor:n,baseScalePosition:86/94,steps:e})).palette,s=(En(this.config.baseColor)+jn(this.config.baseColor).l)/2,o=this.matchRelativeLuminanceIndex(s,i)/(e-1),r=this.matchRelativeLuminanceIndex(t,i)/(e-1),a=jn(this.config.baseColor),l=Fn(Sn.fromObject({h:a.h,s:a.s,l:t})),c=Fn(Sn.fromObject({h:a.h,s:a.s,l:.06})),u=new Array(5);u[0]={position:0,color:new pn(1,1,1,1)},u[1]={position:o,color:this.config.baseColor},u[2]={position:r,color:l},u[3]={position:.99,color:c},u[4]={position:1,color:new pn(0,0,0,1)};const h=new Fl(u);this.palette=new Array(e);for(let t=0;t<e;t++){const n=h.getColor(t/(e-1),Il.RGB);this.palette[t]=n}}matchRelativeLuminanceIndex(e,t){let n=Number.MAX_VALUE,i=0,s=0;const o=t.length;for(;s<o;s++){const o=Math.abs(En(t[s])-e);o<n&&(n=o,i=s)}return i}}function Nl(e){return new Dl({baseColor:e}).palette.map((e=>e.toStringHexRGB().toUpperCase()))}Dl.defaultPaletteConfig={baseColor:xn("#808080"),steps:94};const Ml="box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))));",Bl=Pe`
    ${Re("block")} :host {
        --elevation: 4;
        display: block;
        contain: content;
        height: var(--card-height, 100%);
        width: var(--card-width, 100%);
        box-sizing: border-box;
        background: var(--background-color);
        border-radius: calc(var(--corner-radius) * 1px);
        ${Ml}
    }
`.withBehaviors(jo(Pe`
            :host {
                forced-color-adjust: none;
                background: ${Wo.Canvas};
                box-shadow: 0 0 0 1px ${Wo.CanvasText};
            }
        `)),Hl=new Map;let Vl=class extends Vo{cardBackgroundColorChanged(e,t){if(t){const e=xn(this.cardBackgroundColor);if(null!==e){if(Hl.has(e))this.neutralPalette=Hl.get(e);else{const t=Nl(e);Hl.set(e,t),this.neutralPalette=t}this.backgroundColor=this.cardBackgroundColor}}else this.provider&&this.provider.designSystem&&this.handleChange(this.provider.designSystem,"backgroundColor")}handleChange(e,t){this.cardBackgroundColor||(this.backgroundColor=to(e))}connectedCallback(){var e,t;super.connectedCallback();const n=J.getNotifier(null===(e=this.provider)||void 0===e?void 0:e.designSystem);n.subscribe(this,"backgroundColor"),n.subscribe(this,"neutralPalette"),this.handleChange(null===(t=this.provider)||void 0===t?void 0:t.designSystem,"backgroundColor")}};Ro([zo({attribute:!1,cssCustomProperty:"background-color",default:"#FFFFFF"})],Vl.prototype,"backgroundColor",void 0),Ro([ve({attribute:"card-background-color"})],Vl.prototype,"cardBackgroundColor",void 0),Ro([zo({attribute:!1,default:Nl(xn("#FFFFFF")),cssCustomProperty:!1})],Vl.prototype,"neutralPalette",void 0),Vl=Ro([Oe({name:"fast-card",template:Rl,styles:Bl})],Vl);const ql=Bl;const Ul=Pe`
  :host {
    color: ${Zo.var};
    height: min-content;
  }
`.withBehaviors(Zo);let zl=class extends Vl{};zl=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-card",template:Rl,styles:[ql,Ul]})],zl);const _l=Pe`
  ${Re("block")}
  :host {
    contain: content;
    padding: calc(var(--spacing-unit) * 0.5);
  }
`,Wl=ot`<slot></slot>`;let Kl=class extends Ae{};Kl=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-card-content",template:Wl,styles:_l})],Kl);const Gl=Pe`
  ${Re("grid")}

  :host {
    contain: content;
    grid-gap: calc(var(--spacing-unit) * 0.5);
    grid-template-columns: 1fr min-content;
    padding: calc(var(--spacing-unit) * 0.5);
    align-items: center;
  }
`,Yl=ot`<slot></slot>`;let Ql=class extends Ae{};Ql=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-card-row",template:Yl,styles:Gl})],Ql);const Zl=Pe`
  ${Re("grid")}

  :host {
    contain: content;
    display: grid;
    justify-content: center;
    grid-gap: var(--spacing-unit);
  }
  
  @media screen and (min-width: 732px) {
    :host {
      grid-template-columns: repeat(auto-fit, minmax(var(--ecos-collection-min-item-width), 1fr));
    }
  }
`,Xl=ot`<template style="--ecos-collection-min-item-width: ${e=>e.minItemWidth};"><slot></slot></template>`;var Jl=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ec=class extends Ae{constructor(){super(...arguments),this.minItemWidth="250px"}};Jl([ve({attribute:"min-item-width"}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],ec.prototype,"minItemWidth",void 0),ec=Jl([Oe({name:"ecos-collection",template:Xl,styles:Zl})],ec);const tc=Pe`
  ${Re("inline")}

  :host {
    position: relative;
    display: inline-block;
  }

  .colorizer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: currentColor;
    mix-blend-mode: lighten;
  }
`,nc=ot`
<slot></slot>
<span part="colorizer" class="colorizer"></span>
`;var ic=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let sc=class extends Ae{constructor(){super(...arguments),this.mode="lighten"}modeChanged(){window.requestAnimationFrame((()=>{if(!this.shadowRoot||!this.shadowRoot.querySelector(".colorizer"))return void this.modeChanged();const e=this.shadowRoot.querySelector(".colorizer");e&&("ligthen"===this.mode?e.removeAttribute("style"):e.setAttribute("style","mix-blend-mode:"+this.mode))}))}};ic([ve(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],sc.prototype,"mode",void 0),sc=ic([Oe({name:"ecos-colorize",template:nc,styles:tc})],sc);var oc=n(337),rc=n.n(oc);function ac(e,t,n=1.2){const i=e.typeRampBaseFontSize,s=rc()({ratio:t,base:i});e.typeRampBaseFontSize=`${s(0)}px`,e.typeRampBaseLineHeight=s(0)*n+"px",e.typeRampMinus1FontSize=`${s(-1)}px`,e.typeRampMinus1LineHeight=s(-1)*n+"px",e.typeRampMinus2FontSize=`${s(-2)}px`,e.typeRampMinus2LineHeight=s(-2)*n+"px",e.typeRampPlus1FontSize=`${s(1)}px`,e.typeRampPlus1LineHeight=s(1)*n+"px",e.typeRampPlus2FontSize=`${s(2)}px`,e.typeRampPlus2LineHeight=s(2)*n+"px",e.typeRampPlus3FontSize=`${s(3)}px`,e.typeRampPlus3LineHeight=s(3)*n+"px",e.typeRampPlus4FontSize=`${s(4)}px`,e.typeRampPlus4LineHeight=s(4)*n+"px",e.typeRampPlus5FontSize=`${s(5)}px`,e.typeRampPlus5LineHeight=s(5)*n+"px",e.typeRampPlus6FontSize=`${s(6)}px`,e.typeRampPlus6LineHeight=s(6)*n+"px"}var lc,cc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},uc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let hc=lc=class extends Qo{constructor(){super(...arguments),this.applyBackgroundToBody=!1,this.densify=!1}connectedCallback(){super.connectedCallback(),J.getNotifier(this).subscribe(this,"backgroundColor")}disconnectedCallback(){super.disconnectedCallback(),J.getNotifier(this).unsubscribe(this,"backgroundColor")}handleChange(e,t){"backgroundColor"===t&&void 0!==this.backgroundColor&&this.backgroundColorChanged2()}accentBaseColorChanged(e,t){if(t!==e){this.accentBaseColor=t;const e=kn(t);e&&(this.accentPalette=Nl(e)),this.setBackgroundTeintedColor()}}backgroundColorChanged2(){const e=kn(this.backgroundColor);e&&(this.neutralPalette=Nl(e)),this.setBackgroundTeintedColor(),this.applyBackgroundToBody&&document.body.style.setProperty("background-color",e.toStringHexRGB())}typeRampBaseFontSizeChanged(e,t){t!==e&&ac(this,this.typeRampRatio,this.lineHeightRatio)}typeRampRatioChanged(e,t){t!==e&&ac(this,this.typeRampRatio,this.lineHeightRatio)}lineHeightRatioChanged(e,t){t!==e&&ac(this,this.typeRampRatio,this.lineHeightRatio)}setBackgroundTeintedColor(){const e=kn(this.backgroundColor),t=kn(this.accentBaseColor),n=Ha(e,t).toStringHexRGB();n!==e.toStringHexRGB()?this.backgroundTeintedColor=n:this.backgroundTeintedColor=Ha(t,e).toStringHexRGB()}baseUnitChanged(){"number"==typeof this.baseUnit&&(this.designUnit=this.baseUnit/2)}baseHMultiplierChanged(){"number"==typeof this.baseHMultiplier&&(this.baseHeightMultiplier=2*this.baseHMultiplier)}baseSpacingMultiplierChanged(){"number"==typeof this.baseSpacingMultiplier&&(this.baseHorizontalSpacingMultiplier=2*this.baseSpacingMultiplier)}densifyChanged(){this.densify&&H.queueUpdate((()=>{const e=lc.findProvider(this);e instanceof lc&&(this.density=e.density+1)}))}};cc([ve({mode:"boolean",attribute:"apply-background-to-body"}),uc("design:type",Object)],hc.prototype,"applyBackgroundToBody",void 0),cc([zo({attribute:"type-ramp-ratio",default:1.25}),uc("design:type",Number)],hc.prototype,"typeRampRatio",void 0),cc([zo({attribute:"line-height-ratio",default:1.2}),uc("design:type",Number)],hc.prototype,"lineHeightRatio",void 0),cc([zo({attribute:!1,cssCustomProperty:"background-teinted-color",default:pt.backgroundColor}),uc("design:type",String)],hc.prototype,"backgroundTeintedColor",void 0),cc([zo({attribute:"base-unit",converter:fe,default:8}),uc("design:type",Number)],hc.prototype,"baseUnit",void 0),cc([zo({attribute:"base-h-multiplier",converter:fe,default:5}),uc("design:type",Number)],hc.prototype,"baseHMultiplier",void 0),cc([zo({attribute:"base-spacing-multiplier",converter:fe,default:1.5}),uc("design:type",Number)],hc.prototype,"baseSpacingMultiplier",void 0),cc([ve({mode:"boolean"}),uc("design:type",Object)],hc.prototype,"densify",void 0),hc=lc=cc([qo({name:"ecos-design-system-provider",template:_o,styles:Pe`:host { display: block }`})],hc);var dc=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),pc="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gc=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t},fc=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},mc=function(e){return"INPUT"===e.tagName},vc=function(e,t){return!(!function(e,t){return!(t.disabled||function(e){return mc(e)&&"hidden"===e.type}(t)||function(e,t){if("hidden"===getComputedStyle(e).visibility)return!0;var n=pc.call(e,"details>summary:first-of-type")?e.parentElement:e;if(pc.call(n,"details:not([open]) *"))return!0;if(t&&"full"!==t){if("non-zero-area"===t){var i=e.getBoundingClientRect(),s=i.width,o=i.height;return 0===s&&0===o}}else for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(t,e.displayCheck)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t))}(e,t)||function(e){return function(e){return mc(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||e.ownerDocument,i=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=i(window.CSS.escape(e.name));else try{t=i(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var s=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!s||s===e}(e)}(t)||gc(t)<0)},bc=function(e,t){var n=[],i=[];return function(e,t,n){var i=Array.prototype.slice.apply(e.querySelectorAll(dc));return t&&pc.call(e,dc)&&i.unshift(e),i.filter(n)}(e,(t=t||{}).includeContainer,vc.bind(null,t)).forEach((function(e,t){var s=gc(e);0===s?n.push(e):i.push({documentOrder:t,tabIndex:s,node:e})})),i.sort(fc).map((function(e){return e.node})).concat(n)};class yc extends Ae{constructor(){super(...arguments),this.modal=!0,this.hidden=!1,this.trapFocus=!0,this.onChildListChange=e=>{e.length&&(this.tabbableElements=bc(this))},this.trapFocusChanged=()=>{this.trapFocus?(this.tabbableElements=bc(this),document.addEventListener("focusin",this.handleDocumentFocus),this.shouldForceFocus(document.activeElement)&&this.focusFirstElement()):document.removeEventListener("focusin",this.handleDocumentFocus)},this.handleDocumentKeydown=e=>{if(!e.defaultPrevented&&!this.hidden)switch(e.keyCode){case 27:this.dismiss();break;case 9:this.handleTabKeyDown(e)}},this.handleDocumentFocus=e=>{!e.defaultPrevented&&this.shouldForceFocus(e.target)&&(this.focusFirstElement(),e.preventDefault())},this.handleTabKeyDown=e=>{if(!this.trapFocus)return;const t=this.tabbableElements.length;if(0===t)return this.dialog.focus(),void e.preventDefault();e.shiftKey&&e.target===this.tabbableElements[0]?(this.tabbableElements[t-1].focus(),e.preventDefault()):e.shiftKey||e.target!==this.tabbableElements[t-1]||(this.tabbableElements[0].focus(),e.preventDefault())},this.focusFirstElement=()=>{0===this.tabbableElements.length?this.dialog.focus():this.tabbableElements[0].focus()},this.shouldForceFocus=e=>!this.hidden&&!this.contains(e)}dismiss(){this.$emit("dismiss")}show(){this.hidden=!1}hide(){this.hidden=!0}connectedCallback(){super.connectedCallback(),this.observer=new MutationObserver(this.onChildListChange),this.observer.observe(this,{childList:!0}),document.addEventListener("keydown",this.handleDocumentKeydown),H.queueUpdate(this.trapFocusChanged)}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect(),document.removeEventListener("keydown",this.handleDocumentKeydown),this.trapFocus&&document.removeEventListener("focusin",this.handleDocumentFocus)}}Ro([ve({mode:"boolean"})],yc.prototype,"modal",void 0),Ro([ve({mode:"boolean"})],yc.prototype,"hidden",void 0),Ro([ve({attribute:"trap-focus",mode:"boolean"})],yc.prototype,"trapFocus",void 0),Ro([ve({attribute:"aria-describedby"})],yc.prototype,"ariaDescribedby",void 0),Ro([ve({attribute:"aria-labelledby"})],yc.prototype,"ariaLabelledby",void 0),Ro([ve({attribute:"aria-label"})],yc.prototype,"ariaLabel",void 0);const wc=ot`
    <div class="positioning-region" part="positioning-region">
        ${il((e=>e.modal),ot`
                <div
                    class="overlay"
                    part="overlay"
                    role="presentation"
                    tabindex="-1"
                    @click="${e=>e.dismiss()}"
                ></div>
            `)}
        <div
            role="dialog"
            class="control"
            part="control"
            aria-modal="${e=>e.modal}"
            aria-describedby="${e=>e.ariaDescribedby}"
            aria-labelledby="${e=>e.ariaLabelledby}"
            aria-label="${e=>e.ariaLabel}"
            ${Zr("dialog")}
        >
            <slot></slot>
        </div>
    </div>
`,xc=Pe`
    :host([hidden]) {
        display: none;
    }

    :host {
        --elevation: 14;
        --dialog-height: 480px;
        --dialog-width: 640px;
        display: block;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        touch-action: none;
    }

    .positioning-region {
        display: flex;
        justify-content: center;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: auto;
    }

    .control {
        ${Ml}
        margin-top: auto;
        margin-bottom: auto;
        width: var(--dialog-width);
        height: var(--dialog-height);
        background-color: var(--background-color);
        z-index: 1;
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid transparent;
    }
`;let Cc=class extends yc{};Cc=Ro([Oe({name:"fast-dialog",template:wc,styles:xc})],Cc);const kc=xc,Sc=Pe`
  :host(.ecos-dialog--fading) {
    opacity: 1;
    transition: opacity ease-in-out 250ms;
  }
  :host(.ecos-dialog--fading[hidden]) {
    opacity: 0;
    display: block!important;
    pointer-events: none;
  }
  :host(.ecos-dialog--fading) .control {
    transform: scale(1);
    transition: transform ease-in-out 250ms;
  }
  :host(.ecos-dialog--fading[hidden]) .control {
    transform: scale(0);
  }

  :host(.ecos-dialog--slide-up) {
    opacity: 1;
    transition: opacity ease-in-out 250ms;
  }
  :host(.ecos-dialog--slide-up[hidden]) {
    opacity: 0;
    display: block!important;
    pointer-events: none;
  }
  :host(.ecos-dialog--slide-up) .control {
    transform: translateY(0);
    transition: transform ease-in-out 250ms;
  }
  :host(.ecos-dialog--slide-up[hidden]) .control {
    transform: translateY(100vh);
  }
`;var $c=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};const Tc=ot`<template class="ecos-dialog--${e=>e.effect}">${wc}</template>`;let Ac=class extends Cc{constructor(){super(...arguments),this.effect=""}};$c([ve(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],Ac.prototype,"effect",void 0),Ac=$c([Oe({name:"ecos-dialog",template:Tc,styles:[kc,Sc]})],Ac);const Oc=Pe`
  ${Re("grid")}

  :host {
    contain: content;
    grid-gap: calc(var(--spacing-unit) * 0.5);
  }
`,Ec=ot`<slot></slot>`;let Pc=class extends Ae{};Pc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-form",template:Ec,styles:Oc})],Pc);const Rc=Pe`
  ${Re("flex")}

  :host {
    contain: content;
    flex-direction: column;
  }
  ::slotted(label) {
    margin-bottom: 4px;
  }
`,Ic=ot`<slot></slot>`;let jc=class extends Ae{};jc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-form-row",template:Ic,styles:Rc})],jc);const Fc=ot`<span class="${e=>e.button?"button":""} ${e=>e.accent?"accent":""} ${e=>e.lightweight?"lightweight":""}"></span>`,Lc=Pe`
  :host {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    contain: content;
    stroke-width: 1px;
  }
  span {
    display:inline-flex;
    align-items: center;
    justify-content: center;
    contain: content;
    stroke-width: 1px;
  }
  .button {
    margin: 4px;
    padding: 8px;
    background: ${or.var};
    color: ${Zo.var};
    border-radius: calc(var(--corner-radius) * 1px);
    cursor: pointer;
  }
  .button:hover {
    background: ${rr.var};
  }
  .button:active {
    background: ${ar.var};
  }
  .button.disabled {
    background: ${or.var};
  }
  .button.lightweight {
    background: transparent;
    color: ${er.var};
  }
  .button.lightweight:hover {
    color: ${tr.var};
  }
  .button.lightweight:active {
    color: ${nr.var};
  }
  .button.accent {
    margin: 4px;
    padding: 8px;
    background: ${fr.var};
    color: ${sr.var};
    box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Or.var};
    border-radius: calc(var(--corner-radius) * 1px);
  }
  .button.accent:hover {
    background: ${mr.var};
  }
  .button.accent:active {
    background: ${vr.var};
  }
  .button.accent.disabled {
    background: ${fr.var};
  }
`.withBehaviors(or,Zo,rr,ar,fr,sr,tr,nr,Or,vr,er);var Dc,Nc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Mc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Bc=Dc=class extends Ae{constructor(){super(...arguments),this.button=!1,this.lightweight=!1,this.accent=!1,this.type="outline",this.weight=1,this.size="lg"}buttonChanged(){this.setIcon()}lightweightChanged(){this.setIcon()}accentChanged(){this.setIcon()}iconChanged(){this.setIcon()}setIcon(){window.requestAnimationFrame((()=>{if(!this.shadowRoot||!this.shadowRoot.querySelector("span"))return void this.setIcon();this.shadowRoot.querySelector("span").innerHTML="solid"===this.type?Dc.solid[this.icon]:Dc.outline[this.icon];const e=this.shadowRoot.querySelector("svg");e instanceof SVGElement&&(e.setAttribute("part","svg"),e.style.width=`${this.sizeInPx()}px`,e.style.height=`${this.sizeInPx()}px`);const t=this.shadowRoot.querySelectorAll("path");for(const e of t)e.setAttribute("stroke-width",`${this.weight}`)}))}typeChanged(){"solid"!==this.type&&"outline"!==this.type&&(this.type="outline"),this.setIcon()}weightChanged(){this.setIcon()}sizeChanged(){this.setIcon()}sizeInPx(){return parseInt(this.size,10).toString()===this.size?parseInt(this.size,10):"sm"===this.size||"small"===this.size?16:"md"===this.size||"medium"===this.size?20:"lg"===this.size||"large"===this.size?24:"xl"===this.size||"extra-large"===this.size?28:24}};Bc.solid={},Bc.outline={},Nc([ve({mode:"boolean"}),Mc("design:type",Object)],Bc.prototype,"button",void 0),Nc([ve({mode:"boolean"}),Mc("design:type",Object)],Bc.prototype,"lightweight",void 0),Nc([ve({mode:"boolean"}),Mc("design:type",Object)],Bc.prototype,"accent",void 0),Nc([ve(),Mc("design:type",String)],Bc.prototype,"icon",void 0),Nc([ve(),Mc("design:type",String)],Bc.prototype,"type",void 0),Nc([ve(),Mc("design:type",Object)],Bc.prototype,"weight",void 0),Nc([ve(),Mc("design:type",Object)],Bc.prototype,"size",void 0),Bc=Dc=Nc([Oe({name:"ecos-icon",template:Fc,styles:Lc})],Bc);const Hc=Pe`
  ${Re("flex")}

  :host {
    contain: content;
    gap: calc(var(--spacing-unit) * 0.25);
    align-items: center;
  }


`,Vc=ot`<slot></slot>`;let qc=class extends Ae{};qc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-inline-group",template:Vc,styles:Hc})],qc);const Uc=function(e,t,n){for(var i=-1,s=Object(e),o=n(e),r=o.length;r--;){var a=o[++i];if(!1===t(s[a],a,s))break}return e},zc=function(e){return Vs(e)&&"[object Arguments]"==Xn(e)};var _c=Object.prototype,Wc=_c.hasOwnProperty,Kc=_c.propertyIsEnumerable;const Gc=zc(function(){return arguments}())?zc:function(e){return Vs(e)&&Wc.call(e,"callee")&&!Kc.call(e,"callee")},Yc=Array.isArray;var Qc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zc=Qc&&"object"==typeof module&&module&&!module.nodeType&&module,Xc=Zc&&Zc.exports===Qc?zn.Buffer:void 0;const Jc=(Xc?Xc.isBuffer:void 0)||function(){return!1};var eu=/^(?:0|[1-9]\d*)$/;const tu=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eu.test(e))&&e>-1&&e%1==0&&e<t},nu=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var iu={};iu["[object Float32Array]"]=iu["[object Float64Array]"]=iu["[object Int8Array]"]=iu["[object Int16Array]"]=iu["[object Int32Array]"]=iu["[object Uint8Array]"]=iu["[object Uint8ClampedArray]"]=iu["[object Uint16Array]"]=iu["[object Uint32Array]"]=!0,iu["[object Arguments]"]=iu["[object Array]"]=iu["[object ArrayBuffer]"]=iu["[object Boolean]"]=iu["[object DataView]"]=iu["[object Date]"]=iu["[object Error]"]=iu["[object Function]"]=iu["[object Map]"]=iu["[object Number]"]=iu["[object Object]"]=iu["[object RegExp]"]=iu["[object Set]"]=iu["[object String]"]=iu["[object WeakMap]"]=!1;var su="object"==typeof exports&&exports&&!exports.nodeType&&exports,ou=su&&"object"==typeof module&&module&&!module.nodeType&&module,ru=ou&&ou.exports===su&&qn.process,au=function(){try{return ou&&ou.require&&ou.require("util").types||ru&&ru.binding&&ru.binding("util")}catch(e){}}(),lu=au&&au.isTypedArray;const cu=lu?(uu=lu,function(e){return uu(e)}):function(e){return Vs(e)&&nu(e.length)&&!!iu[Xn(e)]};var uu,hu=Object.prototype.hasOwnProperty;const du=function(e,t){var n=Yc(e),i=!n&&Gc(e),s=!n&&!i&&Jc(e),o=!n&&!i&&!s&&cu(e),r=n||i||s||o,a=r?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!hu.call(e,c)||r&&("length"==c||s&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||tu(c,l))||a.push(c);return a};var pu=Object.prototype;const gu=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object);var fu=Object.prototype.hasOwnProperty;const mu=function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||pu))return gu(e);var t,n,i=[];for(var s in Object(e))fu.call(e,s)&&"constructor"!=s&&i.push(s);return i},vu=function(e){return null!=(t=e)&&nu(t.length)&&!ei(t)?du(e):mu(e);var t},bu=function(e,t,n,i){return function(e,t){e&&Uc(e,t,vu)}(e,(function(e,s,o){t(i,n(e),s,o)})),i};var yu=Object.prototype.toString;const wu=(xu=function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=yu.call(t)),e[t]=n},ku=function(e){return e},Cu=function(){return ku},function(e,t){return bu(e,xu,Cu(t),{})});var xu,Cu,ku,Su;!function(e){e.menuitem="menuitem",e.menuitemcheckbox="menuitemcheckbox",e.menuitemradio="menuitemradio"}(Su||(Su={}));class $u extends Ae{constructor(){super(...arguments),this.expandedItem=null,this.focusIndex=-1,this.isNestedMenu=()=>null!==this.parentElement&&aa(this.parentElement)&&"menuitem"===this.parentElement.getAttribute("role"),this.handleFocusOut=e=>{if(!this.contains(e.relatedTarget)){this.collapseExpandedItem();const e=this.menuItems.findIndex(this.isFocusableElement);this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.menuItems[e].setAttribute("tabindex","0"),this.focusIndex=e}},this.handleItemFocus=e=>{const t=e.target;t!==this.menuItems[this.focusIndex]&&(this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0"))},this.handleExpandedChanged=e=>{if(e.defaultPrevented||null===e.target||this.menuItems.indexOf(e.target)<0)return;e.preventDefault();const t=e.target;null===this.expandedItem||t!==this.expandedItem||!1!==t.expanded?t.expanded&&(null!==this.expandedItem&&this.expandedItem!==t&&(this.expandedItem.expanded=!1),this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.expandedItem=t,this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0")):this.expandedItem=null},this.setItems=()=>{const e=this.menuItems.filter(this.isMenuItemElement);e.length&&(this.focusIndex=0),e.forEach(((e,t)=>{e.setAttribute("tabindex",0===t?"0":"-1"),e.addEventListener("expanded-change",this.handleExpandedChanged),e.addEventListener("focus",this.handleItemFocus)}))},this.resetItems=e=>{e.forEach((e=>{e.removeEventListener("expanded-change",this.handleExpandedChanged),e.removeEventListener("focus",this.handleItemFocus)}))},this.changeHandler=e=>{const t=e.target,n=this.menuItems.indexOf(t);if(-1!==n&&"menuitemradio"===t.role&&!0===t.checked){for(let e=n-1;e>=0;--e){const t=this.menuItems[e],n=t.getAttribute("role");if(n===Su.menuitemradio&&(t.checked=!1),"separator"===n)break}const e=this.menuItems.length-1;for(let t=n+1;t<=e;++t){const e=this.menuItems[t],n=e.getAttribute("role");if(n===Su.menuitemradio&&(e.checked=!1),"separator"===n)break}}},this.isMenuItemElement=e=>aa(e)&&$u.focusableElementRoles.hasOwnProperty(e.getAttribute("role")),this.isFocusableElement=e=>this.isMenuItemElement(e)}itemsChanged(e,t){this.$fastController.isConnected&&(this.menuItems=this.domChildren(),this.resetItems(e),this.setItems())}connectedCallback(){super.connectedCallback(),this.menuItems=this.domChildren(),this.addEventListener("change",this.changeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.menuItems=[],this.removeEventListener("change",this.changeHandler)}focus(){this.setFocus(0,1)}collapseExpandedItem(){null!==this.expandedItem&&(this.expandedItem.expanded=!1,this.expandedItem=null)}handleMenuKeyDown(e){if(!e.defaultPrevented)switch(e.keyCode){case 40:return void this.setFocus(this.focusIndex+1,1);case 38:return void this.setFocus(this.focusIndex-1,-1);case 35:return void this.setFocus(this.menuItems.length-1,-1);case 36:return void this.setFocus(0,1);default:return!0}}domChildren(){return Array.from(this.children)}setFocus(e,t){if(void 0!==this.menuItems)for(;Ys(e,this.menuItems.length);){const n=this.menuItems[e];if(this.isFocusableElement(n)){this.focusIndex>-1&&this.menuItems.length>=this.focusIndex-1&&this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=e,n.setAttribute("tabindex","0"),n.focus();break}e+=t}}}$u.focusableElementRoles=wu(Su),Ro([ne],$u.prototype,"items",void 0);const Tu=ot`
    <template
        slot="${e=>e.isNestedMenu()?"submenu":void 0}"
        role="menu"
        @keydown="${(e,t)=>e.handleMenuKeyDown(t.event)}"
        @focusout="${(e,t)=>e.handleFocusOut(t.event)}"
    >
        <slot ${oa("items")}></slot>
    </template>
`,Au=Pe`
    ${Re("block")} :host {
        --elevation: 11;
        background: ${Cr.var};
        border: calc(var(--outline-width) * 1px) solid transparent;
        ${Ml}
        margin: 0;
        border-radius: calc(var(--corner-radius) * 1px);
        padding: calc(var(--design-unit) * 1px) 0;
        max-width: 368px;
        min-width: 64px;
    }

    :host([slot="submenu"]) {
        width: max-content;
        margin: 0 calc(var(--design-unit) * 1px);
    }

    ::slotted(hr) {
        box-sizing: content-box;
        height: 0;
        margin: 0;
        border: none;
        border-top: calc(var(--outline-width) * 1px) solid var(--neutral-divider-rest);
    }
`.withBehaviors(Cr,xr,jo(Pe`
            :host {
                background: ${Wo.Canvas};
                border-color: ${Wo.CanvasText};
            }
        `));let Ou=class extends $u{};Ou=Ro([Oe({name:"fast-menu",template:Tu,styles:Au})],Ou);const Eu=Au;let Pu=class extends Ou{};function Ru(e){return ot`
    <template
        role="${e=>e.role}"
        aria-haspopup="${e=>e.hasSubmenu?"menu":void 0}"
        aria-checked="${e=>e.role!==Su.menuitem?e.checked:void 0}"
        aria-disabled="${e=>e.disabled}"
        aria-expanded="${e=>e.expanded}"
        @keydown="${(e,t)=>e.handleMenuItemKeyDown(t.event)}"
        @click="${(e,t)=>e.handleMenuItemClick(t.event)}"
        @mouseover="${(e,t)=>e.handleMouseOver(t.event)}"
        @mouseout="${(e,t)=>e.handleMouseOut(t.event)}"
        class="${e=>e.disabled?"disabled":""} ${e=>e.expanded?"expanded":""}"
    >

            ${il((e=>e.role===Su.menuitemcheckbox),ot`
                    <div part="input-container" class="input-container">
                        <span part="checkbox" class="checkbox">
                            <slot name="checkbox-indicator">
                                <svg
                                    aria-hidden="true"
                                    part="checkbox-indicator"
                                    class="checkbox-indicator"
                                    viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
                                    />
                                </svg>
                            </slot>
                        </span>
                    </div>
                `)}
            ${il((e=>e.role===Su.menuitemradio),ot`
                    <div part="input-container" class="input-container">
                        <span part="radio" class="radio">
                            <slot name="radio-indicator">
                                <span
                                    part="radio-indicator"
                                    class="radio-indicator"
                                ></span>
                            </slot>
                        </span>
                    </div>
                `)}
            ${il((e=>e.hasSubmenu),ot`
                    <div
                        part="expand-collapse-glyph-container"
                        class="expand-collapse-glyph-container"
                    >
                        <span part="expand-collapse" class="expand-collapse">
                            <slot name="expand-collapse-indicator">
                                <svg
                                    viewBox="0 0 16 16"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="expand-collapse-glyph"
                                    part="expand-collapse-glyph"
                                >
                                    <path
                                        d="M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z"
                                    />
                                </svg>
                            </slot>
                        </span>
                    </div>
                `)}
        </div>
        ${ea}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${Jr}
        ${il((e=>e.expanded),ot`
                <${e}-anchored-region
                    :anchorElement="${e=>e}"
                    vertical-positioning-mode="dynamic"
                    vertical-default-position="bottom"
                    vertical-inset="true"
                    horizontal-positioning-mode="dynamic"
                    horizontal-default-position="end"
                    class="submenu-region"
                    dir="${e=>e.currentDirection}"
                    @loaded="${e=>e.submenuLoaded()}"
                    ${Zr("submenuRegion")}
                    part="submenu-region"
                >
                    <slot name="submenu"></slot>
                </${e}-anchored-region>
            `)}
    </template>
`}Pu=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-menu",template:Tu,styles:Eu})],Pu),Ru("fast");const Iu=e=>{const t=e.closest("[dir]");return null!==t&&"rtl"===t.dir?dt.rtl:dt.ltr};class ju extends Ae{constructor(){super(...arguments),this.role=Su.menuitem,this.hasSubmenu=!1,this.currentDirection=dt.ltr,this.focusSubmenuOnLoad=!1,this.handleMenuItemKeyDown=e=>{if(e.defaultPrevented)return!1;switch(e.keyCode){case 13:case 32:return this.invoke(),!1;case 39:return this.expandAndFocus(),!1;case 37:if(this.expanded)return this.expanded=!1,this.focus(),!1}return!0},this.handleMenuItemClick=e=>(e.defaultPrevented||this.disabled||this.invoke(),!1),this.submenuLoaded=()=>{this.focusSubmenuOnLoad&&(this.focusSubmenuOnLoad=!1,this.hasSubmenu&&(this.submenu.focus(),this.setAttribute("tabindex","-1")))},this.handleMouseOver=e=>(this.disabled||!this.hasSubmenu||this.expanded||(this.expanded=!0),!1),this.handleMouseOut=e=>(!this.expanded||this.contains(document.activeElement)||(this.expanded=!1),!1),this.expandAndFocus=()=>{this.hasSubmenu&&(this.focusSubmenuOnLoad=!0,this.expanded=!0)},this.invoke=()=>{if(!this.disabled)switch(this.role){case Su.menuitemcheckbox:this.checked=!this.checked,this.$emit("change");break;case Su.menuitem:this.updateSubmenu(),this.hasSubmenu?this.expandAndFocus():this.$emit("change");break;case Su.menuitemradio:this.checked||(this.checked=!0)}},this.updateSubmenu=()=>{this.submenu=this.domChildren().find((e=>"menu"===e.getAttribute("role"))),this.hasSubmenu=void 0!==this.submenu}}expandedChanged(e){if(this.$fastController.isConnected){if(void 0===this.submenu)return;!1===this.expanded?this.submenu.collapseExpandedItem():this.currentDirection=Iu(this),this.$emit("expanded-change",this,{bubbles:!1})}}checkedChanged(e,t){this.$fastController.isConnected&&this.$emit("change")}connectedCallback(){super.connectedCallback(),H.queueUpdate((()=>{this.updateSubmenu()})),this.observer=new MutationObserver(this.updateSubmenu)}disconnectedCallback(){super.disconnectedCallback(),this.submenu=void 0,void 0!==this.observer&&(this.observer.disconnect(),this.observer=void 0)}domChildren(){return Array.from(this.children)}}Ro([ve({mode:"boolean"})],ju.prototype,"disabled",void 0),Ro([ve({attribute:"expanded"})],ju.prototype,"expanded",void 0),Ro([ve],ju.prototype,"role",void 0),Ro([ve],ju.prototype,"checked",void 0),Ro([ne],ju.prototype,"submenuRegion",void 0),Ro([ne],ju.prototype,"hasSubmenu",void 0),Ro([ne],ju.prototype,"currentDirection",void 0),Ro([ne],ju.prototype,"submenu",void 0),ta(ju,Xr);class Fu{constructor(e,t,n){this.ltr=e,this.rtl=t,this.source=n,this.attached=null}handleChange(e){this.attach(e.direction)}attach(e){this.attached!==this[e]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[e],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}const Lu=Pe`
    ${Re("grid")} :host {
        contain: layout;
        overflow: visible;
        font-family: var(--body-font);
        outline: none;
        box-sizing: border-box;
        height: calc(${ua} * 1px);
        grid-template-columns: minmax(42px, auto) 1fr minmax(42px, auto);
        grid-template-rows: auto;
        justify-items: center;
        align-items: center;
        padding: 0;
        margin: 0 calc(var(--design-unit) * 1px);
        white-space: nowrap;
        color: ${Zo.var};
        fill: currentcolor;
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
    }

    :host(:${ca}) {
        border-color: ${Ar.var};
        background: ${$r.var};
        color: ${Zo.var};
    }

    :host(:hover) {
        background: ${$r.var};
        color: ${Xo.var};
    }

    :host([aria-checked="true"]),
    :host(:active),
    :host(.expanded) {
        background: ${Sr.var};
        color: ${Zo.var};
    }

    :host([disabled]) {
        cursor: ${Cl};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        color: ${Zo.var};
        fill: currentcolor;
        background: ${lr.var}
    }

    :host([disabled]:hover) .start,
    :host([disabled]:hover) .end,
    :host([disabled]:hover)::slotted(svg) {
        fill: ${Zo.var};
    }

    .expand-collapse-glyph {
        ${""} width: 16px;
        height: 16px;
        transition: transform 0.1s linear;
        fill: currentcolor;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end {
        display: flex;
        justify-content: center;
    }
    
    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    :host(:hover) .start,
    :host(:hover) .end,
    :host(:hover)::slotted(svg),
    :host(:active) .start,
    :host(:active) .end,
    :host(:active)::slotted(svg) {
        fill: ${Zo.var};
    }

    :host([aria-haspopup="menu"]),
    :host([role="menuitemcheckbox"]),
    :host([role="menuitemradio"]) {
        display: grid;
        grid-template-columns: auto auto 1fr minmax(42px, auto);
        align-items: center;
        min-height: 32px;
    }

    :host .input-container,
    :host .expand-collapse-glyph-container {
        display: none;
    }

    :host([aria-haspopup="menu"]) .expand-collapse-glyph-container,
    :host([role="menuitemcheckbox"]) .input-container,
    :host([role="menuitemradio"]) .input-container {
        display: grid;
        margin-inline-end: 10px;
    }

    :host([aria-haspopup="menu"]) .start,
    :host([role="menuitemcheckbox"]) .start,
    :host([role="menuitemradio"]) .start {
        grid-column-start: 2;
        margin-inline-end: 10px;
    }

    :host([aria-haspopup="menu"]) .content,
    :host([role="menuitemcheckbox"]) .content,
    :host([role="menuitemradio"]) .content {
        grid-column-start: 3;
    }

    :host([aria-haspopup="menu"]) .end,
    :host([role="menuitemcheckbox"]) .end,
    :host([role="menuitemradio"]) .end {
        grid-column-start: 4;
    }

    :host .expand-collapse,
    :host .checkbox,
    :host .radio {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: 20px;
        height: 20px;
        box-sizing: border-box;
        outline: none;
        margin-inline-start: 10px;
    }

    :host .checkbox,
    :host .radio {
        border: calc(var(--outline-width) * 1px) solid ${Zo.var};
    }

    :host([aria-checked="true"]) .checkbox,
    :host([aria-checked="true"]) .radio {
        background: ${fr.var};
        border-color: ${fr.var};
    }

    :host .checkbox {
        border-radius: calc(var(--corner-radius) * 1px);
    }

    :host .radio {
        border-radius: 999px;
    }

    :host .checkbox-indicator,
    :host .radio-indicator,
    :host .expand-collapse-indicator,
    ::slotted([slot="checkbox-indicator"]),
    ::slotted([slot="radio-indicator"]),
    ::slotted([slot="expand-collapse-indicator"]) {
        display: none;
    }

    :host([aria-checked="true"]) .checkbox-indicator,
    :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]) {
        width: 100%;
        height: 100%;
        display: block;
        fill: ${Zo.var};
        pointer-events: none;
    }

    :host([aria-checked="true"]) .radio-indicator {
        position: absolute;
        top: 4px;
        left: 4px;
        right: 4px;
        bottom: 4px;
        border-radius: 999px;
        display: block;
        background: ${Zo.var};
        pointer-events: none;
    }

    :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
        display: block;
        pointer-events: none;
    }
`.withBehaviors(fr,lr,Ar,Xo,Zo,Sr,$r,jo(Pe`
            :host {
                border-color: transparent;
                color: ${Wo.ButtonText};
                forced-color-adjust: none;
            }

            :host(:hover) {
                background: ${Wo.Highlight};
                color: ${Wo.HighlightText};
            }

            :host(:hover) .start,
            :host(:hover) .end,
            :host(:hover)::slotted(svg),
            :host(:active) .start,
            :host(:active) .end,
            :host(:active)::slotted(svg) {
                fill: ${Wo.HighlightText};
            }

            :host(.expanded) {
                background: ${Wo.Highlight};
                border-color: ${Wo.Highlight};
                color: ${Wo.HighlightText};
            }

            :host(:${ca}) {
                background: ${Wo.Highlight};
                border-color: ${Wo.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Wo.HighlightText};
                color: ${Wo.HighlightText};
                fill: currentcolor;
            }

            :host([disabled]),
            :host([disabled]:hover),
            :host([disabled]:hover) .start,
            :host([disabled]:hover) .end,
            :host([disabled]:hover)::slotted(svg) {
                background: ${Wo.Canvas};
                color: ${Wo.GrayText};
                fill: currentcolor;
                opacity: 1;
            }

            :host .expanded-toggle,
            :host .checkbox,
            :host .radio{
                border-color: ${Wo.ButtonText};
                background: ${Wo.HighlightText};
            }

            :host([checked="true"]) .checkbox,
            :host([checked="true"]) .radio {
                background: ${Wo.HighlightText};
                border-color: ${Wo.HighlightText};
            }

            :host(:hover) .expanded-toggle,
            :host(:hover) .checkbox,
            :host(:hover) .radio,
            :host(:${ca}) .expanded-toggle,
            :host(:${ca}) .checkbox,
            :host(:${ca}) .radio,
            :host([checked="true"]:hover) .checkbox,
            :host([checked="true"]:hover) .radio,
            :host([checked="true"]:${ca}) .checkbox,
            :host([checked="true"]:${ca}) .radio {
                border-color: ${Wo.HighlightText};
            }

            :host([aria-checked="true"]) {
                background: ${Wo.Highlight};
                color: ${Wo.HighlightText};
            }

            :host([aria-checked="true"]) .checkbox-indicator,
            :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]),
            :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
                fill: ${Wo.Highlight};
            }

            :host([aria-checked="true"]) .radio-indicator {
                background: ${Wo.Highlight};
            }
        `),new class{constructor(e,t){this.cache=new WeakMap,this.ltr=e,this.rtl=t}bind(e){const t=Vo.findProvider(e);null!==t&&(t.$fastController&&t.$fastController.isConnected?this.attach(e,t):(Array.isArray(t.disconnectedRegistry)||(t.disconnectedRegistry=[]),t.disconnectedRegistry.push(this.attach.bind(this,e))))}unbind(e){const t=this.cache.get(e);t&&J.getNotifier(t[0].designSystem).unsubscribe(t[1])}attach(e,t){const n=new Fu(this.ltr,this.rtl,e);J.getNotifier(t.designSystem).subscribe(n,"direction"),n.attach(t.designSystem.direction),this.cache.set(e,[t,n])}}(Pe`
            .expand-collapse-glyph {
                transform: rotate(0deg);
            }
            :host([expanded="true"]) .expand-collapse-glyph {
                transform: rotate(45deg);
            }
        `,Pe`
            .expand-collapse-glyph {
                transform: rotate(180deg);
            }
            :host([expanded="true"]) .expand-collapse-glyph {
                transform: rotate(135deg);
            }
        `)),Du=Ru("fast");let Nu=class extends ju{};Nu=Ro([Oe({name:"fast-menu-item",template:Du,styles:Lu})],Nu);const Mu=Lu;const Bu=Ru("ecos");let Hu=class extends ju{};Hu=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-menu-item",template:Bu,styles:Mu})],Hu);const Vu="((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) + 2 * var(--design-unit) + (10 + (var(--design-unit) * 2 * max(0, var(--density))))",qu=Pe`
  ${Re("block")}

  :host {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  :host(.fixed) {
    position: fixed;
  }

  .navbar {
    position: relative;
    z-index: 2;
    height: calc((${Vu}) * 1px);
    width: 100%;
    box-sizing: border-box;
    font-family: var(--body-font);
    font-size: var(--type-ramp-base-font-size);
    line-height: var(--type-ramp-base-line-height);
    padding-left: calc(var(--design-unit) * 4px);
    padding-right: calc(var(--design-unit) * 4px);
    box-shadow: var(--elevation2);
    background: ${Tr.var};
    color: ${Zo.var};
    transition: 500ms ease;
    transition-property: background-color, box-shadow;
  }
  :host(.transparent-first:not(.scrolled)) .navbar {
    background-color: transparent;
    box-shadow: none;
  }
  .navbar.secondary-opened {
    box-shadow: none;
  }
  :host(.navbar-layer-1) .navbar {
    background: ${kr.var};
  }

  .navbar-content {
    display: grid;
    height: 100%;
    max-width: 100ch;
    margin-left: auto;
    margin-right: auto;
    align-items: center;
    justify-content: flex-start;
  }

  /* (mobile) mode */
  .navbar-content {
    grid-template-columns: 1fr 50px;
  }
  .branding {
    justify-self: start;
  }
  .main {
    display: none;
  }
  .secondary {
    display: none;
  }
  .secondary-toggler {
    display: none;
    cursor: pointer;
  }
  .secondary-toggler ::part(control) {
    cursor: pointer;
  }
  .toggler {
    justify-self: end;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
  }
  .toggler > svg {
    width: 24px;
    height: 24px;
  }
  .mobile-content {
    transition: transform 250ms ease, opacity 250ms ease;
    position: absolute;
    z-index: 1;
    top: calc((${Vu}) * 1px);
    width: 100%;
    padding: calc(var(--design-unit) * 4px);
    background: ${Tr.var};
    color: ${Zo.var};
    box-shadow: var(--elevation2);
  }
  :host(.navbar-layer-1) .mobile-content {
    background: ${kr.var};
  }
  .mobile-content[hidden] {
    display: block;
    opacity: 0;
    transform: translateY(-100%);
    pointer-events: none;
  }

  .mobile-main,
  .mobile-secondary {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .mobile-secondary {
    margin-top: calc(var(--design-unit) * 4px);
  }

  /* (desktop) mode */
  @media screen and (min-width: 732px) {
    .navbar-content {
      grid-template-columns: 1fr max-content 1fr;
    }
    .main {
      display: block;
      justify-self: center;
    }
    .xxx-secondary {
      display: block;
      justify-self: end;
    }
    .secondary-toggler {
      display: block;
      justify-self: end;
    }
    .secondary-content {
      box-sizing: border-box;
      transition: transform 250ms ease, opacity 250ms ease;
      position: absolute;
      z-index: 1;
      top: calc((${Vu}) * 1px);
      width: 100%;
      padding: calc(var(--design-unit) * 4px);
      text-align: center;
      box-shadow: var(--elevation2);
      background: ${Tr.var};
      color: ${Zo.var};
    }
    .secondary-content[hidden] {
      display: block;
      opacity: 0;
      transform: translateY(-100%);
      pointer-events: none;
    }
    :host(.navbar-layer-1) .secondary-content {
      background: ${kr.var};
    }
    .toggler {
      display: none;
    }
  }
`.withBehaviors(kr,Tr,Zo),Uu=ot`
<template class="${e=>e.fixed?"fixed":""} ${e=>e.transparentFirst?"transparent-first":""} ${e=>e.scrolled?"scrolled":""} navbar-layer-${e=>e.layer}">
  <div class="navbar" part="navbar" ${Zr("navbarElement")}>
    <div class="navbar-content" part="navbar-content">
      <div class="branding" part="branding">
        <slot name="branding"></slot>
      </div>
      <div class="main" part="main" ${Zr("mainContentSource")}>
        <slot name="main" ${Zr("mainContentSlot")}></slot>
      </div>
      <div class="secondary" part="secondary" ${Zr("secondaryContentSource")}>
        <slot name="secondary" ${Zr("secondaryContentSlot")}></slot>
      </div>
      <div class="secondary-toggler" part="secondary-toggler" ${Zr("secondaryTogglerElement")} @click="${e=>e.toggleSecondary()}">
        <slot name="secondary-toggler"></slot>
      </div>
      <div class="toggler" part="toggler" ${Zr("mobileTogglerElement")} @click="${e=>e.toggle()}">
        ${il((e=>!e.isMobileOpened),ot`
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/>
        </svg>
        `)}
        ${il((e=>e.isMobileOpened),ot`
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
        `)}
      </div>
    </div>
  </div>
  <div hidden class="secondary-content" part="secondary-content" ${Zr("secondaryContentElement")}>

  </div>
  <div hidden class="mobile-content" part="mobile-content" ${Zr("mobileContentElement")}>
    <div class="mobile-main" part="mobile-main" ${Zr("mainContentMobileContainer")}>
    </div>
    <div class="mobile-secondary" part="mobile-secondary" ${Zr("secondaryContentMobileContainer")}>
    </div>
  </div>
</template>`;var zu=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},_u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Wu=class extends Ae{constructor(){super(...arguments),this.layer="4",this.fixed=!0,this.transparentFirst=!1,this.scrollingContainerSelector="",this.scrolled=!1,this.isMobileOpened=!1,this.isSecondaryOpened=!1}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this),this.addScrollListener()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this),this.removeScrollListener()}addScrollListener(){this.scrollingContainerSelector?document.querySelector(this.scrollingContainerSelector).addEventListener("scroll",this):document.addEventListener("scroll",this)}removeScrollListener(){this.scrollingContainerSelector?document.querySelector(this.scrollingContainerSelector).removeEventListener("scroll",this):document.removeEventListener("scroll",this)}handleEvent(e){e instanceof MouseEvent?this.handleClick(e):this.handleScroll(e)}handleClick(e){for(const t of e.composedPath()){if(t===this.secondaryTogglerElement)return;if(t===this.mobileTogglerElement)return}this.isMobileOpened&&this.toggle(),this.isSecondaryOpened&&this.toggleSecondary()}handleScroll(e){e.target instanceof HTMLElement?this.scrolled=e.target.scrollTop>20:this.scrolled=window.scrollY>20}toggle(){this.isMobileOpened?(this.mainContentSource.appendChild(this.mainContentSlot),this.secondaryContentSource.appendChild(this.secondaryContentSlot)):(this.mainContentMobileContainer.appendChild(this.mainContentSlot),this.secondaryContentMobileContainer.appendChild(this.secondaryContentSlot)),this.isMobileOpened=!this.isMobileOpened,this.mobileContentElement.toggleAttribute("hidden",!this.isMobileOpened)}toggleSecondary(){this.isSecondaryOpened?(this.navbarElement.classList.toggle("secondary-opened",!1),this.secondaryContentSource.appendChild(this.secondaryContentSlot)):(this.navbarElement.classList.toggle("secondary-opened",!0),this.secondaryContentElement.appendChild(this.secondaryContentSlot)),this.isSecondaryOpened=!this.isSecondaryOpened,this.secondaryContentElement.toggleAttribute("hidden",!this.isSecondaryOpened)}};zu([ve(),_u("design:type",Object)],Wu.prototype,"layer",void 0),zu([ve({mode:"boolean"}),_u("design:type",Object)],Wu.prototype,"fixed",void 0),zu([ve({mode:"boolean",attribute:"transparent-first"}),_u("design:type",Object)],Wu.prototype,"transparentFirst",void 0),zu([ve({attribute:"scrolling-container-selector"}),_u("design:type",Object)],Wu.prototype,"scrollingContainerSelector",void 0),zu([ne,_u("design:type",Object)],Wu.prototype,"scrolled",void 0),zu([ne,_u("design:type",Object)],Wu.prototype,"isMobileOpened",void 0),zu([ne,_u("design:type",Object)],Wu.prototype,"isSecondaryOpened",void 0),Wu=zu([Oe({name:"ecos-navbar",template:Uu,styles:qu})],Wu);const Ku=Pe`

  .ecos-section {
    display: grid;
    contain: content;
    --ecos-section-center-width: 60ch;
  }
  .ecos-section[nocontain] {
    contain: inherit;
  }

  .ecos-section {
    grid-template-columns: 1fr min(var(--ecos-section-center-width), calc(100% - 2 * var(--spacing-unit))) 1fr;
    grid-column-gap: var(--spacing-unit);
  }

  .ecos-section:not(.no-vertical-padding) {
    padding-top: var(--spacing-unit);
    padding-bottom: var(--spacing-unit);
  }
  .ecos-section.largev:not(.no-vertical-padding) {
    padding-top: calc(var(--spacing-unit) * 2);
    padding-bottom: calc(var(--spacing-unit) * 2);
  }

  .ecos-section > * {
    grid-column: 2;
    /* this prevent content of the grid item from growing */
    /* https://stackoverflow.com/questions/43311943/prevent-content-from-expanding-grid-items */
    min-width: 0; 
  }
  .ecos-section > .full-bleed {
    grid-column: 1 / -1;
    width: 100%;
  }
  @media screen and (max-width: 732px) {
    .ecos-section > .mobile-full-bleed {
      grid-column: 1 / -1;
      width: 100%;
    }
  }
  .ecos-section > .padded-full-bleed {
    grid-column: 1 / -1;
    width: 100%;
    padding-left: var(--spacing-unit);
    padding-right: var(--spacing-unit);
  }
  .ecos-section > .larger {
    grid-column: 1 / -1;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
`,Gu=ot`
<template 
  class="ecos-section ${e=>e.verticalpadded?"":"no-vertical-padding"} ${e=>e.stacked?"ecos-stack":""} ${e=>e.largev?"largev":""}"
  style="--ecos-section-center-width: ${e=>e.centerwidth};"
  >
  <slot></slot>
</template>`,Yu=Pe`
  
  .ecos-stack:not(.ecos-stack--inline):not(.ecos-section) {
    display: block;
    contain: content;
  }
  .ecos-stack:not(.ecos-stack--inline) > * + * {
    margin-top: calc(var(--type-ramp-base-font-size) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--large:not(.ecos-stack--inline) > * + * {
    margin-top: calc((var(--type-ramp-base-font-size) * 2) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--small:not(.ecos-stack--inline) > * + * {
    margin-top: calc((var(--type-ramp-base-font-size) * 0.5) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));  
  }

  .ecos-stack.ecos-stack--inline {
    display: inline;
    contain: content;
  }
  .ecos-stack.ecos-stack--inline > * + * {
    margin-left: calc(var(--type-ramp-base-font-size) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--large.ecos-stack--inline > * + * {
    margin-left: calc((var(--type-ramp-base-font-size) * 2) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--small.ecos-stack--inline > * + * {
    margin-left: calc((var(--type-ramp-base-font-size) * 0.5) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));  
  }

`;var Qu=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Zu=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Xu=class extends Ae{constructor(){super(...arguments),this.verticalpadded=!0,this.nocontain=!1,this.stacked=!0,this.centerwidth="65ch",this.largev=!1}};Qu([ve({mode:"boolean"}),Zu("design:type",Object)],Xu.prototype,"verticalpadded",void 0),Qu([ve({mode:"boolean"}),Zu("design:type",Object)],Xu.prototype,"nocontain",void 0),Qu([ve({mode:"boolean"}),Zu("design:type",Object)],Xu.prototype,"stacked",void 0),Qu([ve(),Zu("design:type",Object)],Xu.prototype,"centerwidth",void 0),Qu([ve({mode:"boolean"}),Zu("design:type",Object)],Xu.prototype,"largev",void 0),Xu=Qu([Oe({name:"ecos-section",template:Gu,styles:[Yu,Ku],shadowOptions:null})],Xu);var Ju=_n?_n.prototype:void 0,eh=Ju?Ju.toString:void 0;const th=function e(t){if("string"==typeof t)return t;if(Yc(t))return function(e,t){for(var n=-1,i=null==e?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}(t,e)+"";if(qs(t))return eh?eh.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var nh=0;const ih=function(e){var t=++nh;return function(e){return null==e?"":th(e)}(e)+t};function sh(e){return aa(e)&&("option"===e.getAttribute("role")||e instanceof HTMLOptionElement)}class oh extends Ae{constructor(e,t,n,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,this.initialValue=this.initialValue||"",e&&(this.textContent=e),t&&(this.initialValue=t),n&&(this.defaultSelected=n),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(e,t){this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.$fastController.isConnected&&(this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected))}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){return this.value?this.value:this.textContent?this.textContent:""}get text(){return this.textContent}set value(e){this._value=e,this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=e),J.notify(this,"value")}get value(){return J.track(this,"value"),this._value?this._value:this.text}get form(){return this.proxy?this.proxy.form:null}}var rh,ah,lh;Ro([ne],oh.prototype,"defaultSelected",void 0),Ro([ve({mode:"boolean"})],oh.prototype,"disabled",void 0),Ro([ve({attribute:"selected",mode:"boolean"})],oh.prototype,"selectedAttribute",void 0),Ro([ne],oh.prototype,"selected",void 0),Ro([ve({attribute:"value",mode:"fromView"})],oh.prototype,"initialValue",void 0),ta(oh,Xr),function(e){e.listbox="listbox"}(rh||(rh={}));class ch extends Ae{constructor(){super(...arguments),this.selectedIndex=-1,this.typeaheadBuffer="",this.typeaheadTimeout=-1,this.typeAheadExpired=!0,this.role=rh.listbox,this._options=[],this.selectedOptions=[],this.shouldSkipFocus=!1,this.handleTypeAhead=e=>{this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeAheadExpired=!0),ch.TYPE_AHEAD_TIMEOUT_MS),e.length>1||(this.typeaheadBuffer=`${this.typeAheadExpired?"":this.typeaheadBuffer}${e}`)}}selectedIndexChanged(e,t){this.setSelectedOptions()}typeaheadBufferChanged(e,t){if(this.$fastController.isConnected){const e=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),t=new RegExp(`^${e}`,"gi"),n=this.options.filter((e=>e.text.trim().match(t)));if(n.length){const e=this.options.indexOf(n[0]);e>-1&&(this.selectedIndex=e)}this.typeAheadExpired=!1}}slottedOptionsChanged(e,t){this.$fastController.isConnected&&(this.options=t.reduce(((e,t)=>(sh(t)&&e.push(t),e)),[]),this.options.forEach((e=>{e.id=e.id||ih("option-")})),this.setSelectedOptions(),this.setDefaultSelectedOption())}get options(){return J.track(this,"options"),this._options}set options(e){this._options=e,J.notify(this,"options")}selectedOptionsChanged(e,t){this.$fastController.isConnected&&this.options.forEach((e=>{e.selected=t.includes(e)}))}get firstSelectedOption(){return this.selectedOptions[0]}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&this.firstSelectedOption&&(this.firstSelectedOption.focus(),requestAnimationFrame((()=>{this.firstSelectedOption.scrollIntoView({block:"nearest"})})))}focusinHandler(e){this.shouldSkipFocus||e.target!==e.currentTarget||(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}mousedownHandler(e){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}setDefaultSelectedOption(){if(this.options&&this.$fastController.isConnected){const e=this.options.findIndex((e=>null!==e.getAttribute("selected")));if(-1!==e)return void(this.selectedIndex=e);this.selectedIndex=0}}setSelectedOptions(){if(this.$fastController.isConnected&&this.options){const e=this.options[this.selectedIndex]||null;this.selectedOptions=this.options.filter((t=>t.isSameNode(e))),this.ariaActiveDescendant=this.firstSelectedOption?this.firstSelectedOption.id:"",this.focusAndScrollOptionIntoView()}}selectFirstOption(){this.disabled||(this.selectedIndex=0)}selectLastOption(){this.disabled||(this.selectedIndex=this.options.length-1)}selectNextOption(){!this.disabled&&this.options&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}get length(){return this.options?this.options.length:0}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}clickHandler(e){const t=e.target.closest("option,[role=option]");if(t&&!t.disabled)return this.selectedIndex=this.options.indexOf(t),!0}keydownHandler(e){if(this.disabled)return!0;this.shouldSkipFocus=!1;const t=e.key;switch(t){case"Home":e.shiftKey||(e.preventDefault(),this.selectFirstOption());break;case"ArrowDown":e.shiftKey||(e.preventDefault(),this.selectNextOption());break;case"ArrowUp":e.shiftKey||(e.preventDefault(),this.selectPreviousOption());break;case"End":e.preventDefault(),this.selectLastOption();break;case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Enter":case"Escape":return!0;case" ":if(this.typeAheadExpired)return!0;default:return 1===t.length&&this.handleTypeAhead(`${t}`),!0}}}ch.TYPE_AHEAD_TIMEOUT_MS=1e3,ch.slottedOptionFilter=e=>sh(e)&&!e.disabled&&!e.hidden,Ro([ne],ch.prototype,"selectedIndex",void 0),Ro([ne],ch.prototype,"typeaheadBuffer",void 0),Ro([ve],ch.prototype,"role",void 0),Ro([ve({mode:"boolean"})],ch.prototype,"disabled",void 0),Ro([ne],ch.prototype,"slottedOptions",void 0),Ro([ne],ch.prototype,"selectedOptions",void 0);class uh{constructor(){this.ariaActiveDescendant=""}}Ro([ne],uh.prototype,"ariaActiveDescendant",void 0),Ro([ne],uh.prototype,"ariaDisabled",void 0),Ro([ne],uh.prototype,"ariaExpanded",void 0),ta(uh,Yr),ta(ch,uh);class hh extends ch{}class dh extends(ml(hh)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}!function(e){e.above="above",e.below="below"}(ah||(ah={})),function(e){e.combobox="combobox"}(lh||(lh={}));class ph extends dh{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.role=lh.combobox,this.position=ah.below,this.maxHeight=0,this.displayValue="",this.formResetCallback=()=>{this.setProxyOptions(),this.setDefaultSelectedOption(),this.value=this.firstSelectedOption.value}}openChanged(){this.ariaExpanded=this.open?"true":"false",this.open&&(this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex)}get value(){return J.track(this,"value"),this._value}set value(e){const t=`${this._value}`;if(this.$fastController.isConnected&&this.options){const t=this.options.findIndex((t=>t.value===e)),n=this.options[this.selectedIndex],i=this.options[t],s=n?n.value:null,o=i?i.value:null;-1!==t&&s===o||(e="",this.selectedIndex=t),this.firstSelectedOption&&(e=this.firstSelectedOption.value)}t!==e&&(this._value=e,super.valueChanged(t,e),J.notify(this,"value"))}updateValue(e){this.$fastController.isConnected&&(this.value=this.firstSelectedOption?this.firstSelectedOption.value:"",this.displayValue=this.firstSelectedOption?this.firstSelectedOption.textContent||this.firstSelectedOption.value:this.value),e&&this.$emit("change")}selectedIndexChanged(e,t){super.selectedIndexChanged(e,t),this.updateValue()}setPositioning(){const e=this.getBoundingClientRect(),t=window.innerHeight-e.bottom;this.position=this.forcedPosition?this.positionAttribute:e.top>t?ah.above:ah.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===ah.above?~~e.top:~~t}disabledChanged(e,t){super.disabledChanged&&super.disabledChanged(e,t),this.ariaDisabled=this.disabled?"true":"false"}clickHandler(e){if(!this.disabled){if(this.open){const t=e.target.closest("option,[role=option]");if(t&&t.disabled)return}return super.clickHandler(e),this.open=!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(e){if(!this.open)return!0;const t=e.relatedTarget;this.isSameNode(t)?this.focus():this.options&&this.options.includes(t)||(this.open=!1)}slottedOptionsChanged(e,t){super.slottedOptionsChanged(e,t),this.setProxyOptions(),this.updateValue()}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((e=>{const t=e.proxy||(e instanceof HTMLOptionElement?e.cloneNode():null);t&&this.proxy.appendChild(t)})))}keydownHandler(e){switch(super.keydownHandler(e),e.key||e.key.charCodeAt(0)){case" ":this.typeAheadExpired&&(e.preventDefault(),this.open=!this.open);break;case"Enter":e.preventDefault(),this.open=!this.open;break;case"Escape":this.open&&(e.preventDefault(),this.open=!1);break;case"Tab":if(!this.open)return!0;e.preventDefault(),this.open=!1}return this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute}}Ro([ve({attribute:"open",mode:"boolean"})],ph.prototype,"open",void 0),Ro([ve({attribute:"position"})],ph.prototype,"positionAttribute",void 0),Ro([ne],ph.prototype,"position",void 0),Ro([ne],ph.prototype,"maxHeight",void 0),Ro([ne],ph.prototype,"displayValue",void 0);class gh{}Ro([ne],gh.prototype,"ariaExpanded",void 0),Ro([ve({attribute:"aria-pressed",mode:"fromView"})],gh.prototype,"ariaPressed",void 0),ta(gh,Yr),ta(ph,Xr,gh);const fh=ot`
    <template
        class="${e=>e.open?"open":""} ${e=>e.disabled?"disabled":""} ${e=>e.position}"
        role="${e=>e.role}"
        tabindex="${e=>e.disabled?null:"0"}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-expanded="${e=>e.ariaExpanded}"
        @click="${(e,t)=>e.clickHandler(t.event)}"
        @focusout="${(e,t)=>e.focusoutHandler(t.event)}"
        @keydown="${(e,t)=>e.keydownHandler(t.event)}"
    >
        <div
            aria-activedescendant="${e=>e.open?e.ariaActiveDescendant:null}"
            aria-controls="listbox"
            aria-expanded="${e=>e.ariaExpanded}"
            aria-haspopup="listbox"
            class="control"
            part="control"
            role="button"
            ?disabled="${e=>e.disabled}"
        >
            ${ea}
            <slot name="button-container">
                <div class="selected-value" part="selected-value">
                    <slot name="selected-value">${e=>e.displayValue}</slot>
                </div>
                <div class="indicator" part="indicator" aria-hidden="true">
                    <slot name="indicator">
                        <svg
                            class="select-indicator"
                            part="select-indicator"
                            viewBox="0 0 12 7"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z"
                            />
                        </svg>
                    </slot>
                </div>
            </slot>
            ${Jr}
        </div>
        <div
            aria-disabled="${e=>e.disabled}"
            class="listbox"
            id="listbox"
            part="listbox"
            role="listbox"
            style="--max-height: ${e=>e.maxHeight}px"
            ?disabled="${e=>e.disabled}"
            ?hidden="${e=>!e.open}"
        >
            <slot
                ${oa({filter:ch.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,mh=Pe`
    ${Re("inline-flex")} :host {
        --elevation: 14;
        background: ${dr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${fr.var};
        box-sizing: border-box;
        color: ${Zo.var};
        font-family: var(--body-font);
        height: calc(${ua} * 1px);
        position: relative;
        user-select: none;
        min-width: 250px;
        outline: none;
        vertical-align: top;
    }

    .listbox {
        ${Ml}
        background: ${Cr.var};
        border: calc(var(--outline-width) * 1px) solid ${yr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        box-sizing: border-box;
        display: inline-flex;
        flex-direction: column;
        left: 0;
        max-height: calc(var(--max-height) - (${ua} * 1px));
        padding: calc(var(--design-unit) * 1px) 0;
        overflow-y: auto;
        position: absolute;
        width: 100%;
        z-index: 1;
    }

    .listbox[hidden] {
        display: none;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: flex;
        font-size: var(--type-ramp-base-font-size);
        font-family: inherit;
        line-height: var(--type-ramp-base-line-height);
        min-height: 100%;
        padding: 0 calc(var(--design-unit) * 2.25px);
        width: 100%;
    }

    :host(:not([disabled]):hover) {
        background: ${pr.var};
        border-color: ${mr.var};
    }

    :host(:${ca}) {
        border-color: ${Ar.var};
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Ar.var};
    }

    :host(:${ca}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Or.var};
        border-color: ${Ar.var};
        background: ${mr.var};
        color: ${sr.var};
    }

    :host([disabled]) {
        cursor: ${Cl};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        cursor: ${Cl};
        user-select: none;
    }

    :host([disabled]:hover) {
        background: ${lr.var};
        color: ${Zo.var};
        fill: currentcolor;
    }

    :host(:not([disabled])) .control:active {
        background: ${gr.var};
        border-color: ${vr.var};
    }

    :host([open][position="above"]) .listbox,
    :host([open][position="below"]) .control {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    :host([open][position="above"]) .control,
    :host([open][position="below"]) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    :host([open][position="above"]) .listbox {
        border-bottom: 0;
        bottom: calc(${ua} * 1px);
    }

    :host([open][position="below"]) .listbox {
        border-top: 0;
        top: calc(${ua} * 1px);
    }

    .selected-value {
        flex: 1 1 auto;
        font-family: inherit;
        text-align: start;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .indicator {
        flex: 0 0 auto;
        margin-inline-start: 1em;
    }

    slot[name="listbox"] {
        display: none;
        width: 100%;
    }

    :host([open]) slot[name="listbox"] {
        display: flex;
        position: absolute;
        ${Ml}
    }

    .end {
        margin-inline-start: auto;
    }

    .start,
    .end,
    .indicator,
    .select-indicator,
    ::slotted(svg) {
        ${""}
        fill: currentcolor;
        height: 1em;
        min-height: calc(var(--design-unit) * 4px);
        min-width: calc(var(--design-unit) * 4px);
        width: 1em;
    }

    ::slotted([role="option"]),
    ::slotted(option) {
        flex: 0 0 auto;
    }

`.withBehaviors(vr,mr,fr,sr,ir,jo(Pe`
            :host(:not([disabled]):hover),
            :host(:not([disabled]):active) {
                border-color: ${Wo.Highlight};
            }

            :host(:not([disabled]):${ca}) {
                background-color: ${Wo.ButtonFace};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Wo.Highlight};
                color: ${Wo.ButtonText};
                fill: currentcolor;
                forced-color-adjust: none;
            }

            :host(:not([disabled]):${ca}) .listbox {
                background: ${Wo.ButtonFace};
            }

            :host([disabled]) {
                border-color: ${Wo.GrayText};
                background-color: ${Wo.ButtonFace};
                color: ${Wo.GrayText};
                fill: currentcolor;
                opacity: 1;
                forced-color-adjust: none;
            }

            :host([disabled]:hover) {
                background: ${Wo.ButtonFace};
            }

            :host([disabled]) .control {
                color: ${Wo.GrayText};
                border-color: ${Wo.GrayText};
            }

            :host([disabled]) .control .select-indicator {
                fill: ${Wo.GrayText};
            }

            :host(:${ca}) ::slotted([aria-selected="true"][role="option"]),
            :host(:${ca}) ::slotted(option[aria-selected="true"]),
            :host(:${ca}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
                background: ${Wo.Highlight};
                border-color: ${Wo.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Wo.HighlightText};
                color: ${Wo.HighlightText};
                fill: currentcolor;
            }

            .start,
            .end,
            .indicator,
            .select-indicator,
            ::slotted(svg) {
                color: ${Wo.ButtonText};
                fill: currentcolor;
            }
        `),gr,pr,dr,Ar,Or,Zo,Cr,yr);let vh=class extends ph{};vh=Ro([Oe({name:"fast-select",template:fh,styles:mh})],vh);const bh=mh,yh=ot`
    <template
        aria-selected="${e=>e.selected}"
        class="${e=>e.selected?"selected":""} ${e=>e.disabled?"disabled":""}"
        role="option"
    >
        ${ea}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${Jr}
    </template>
`,wh=Pe`
    ${Re("inline-flex")} :host {
        align-items: center;
        font-family: var(--body-font);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: ${Zo.var};
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(${ua} * 1px);
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: hidden;
        padding: 0 calc(var(--design-unit) * 2.25px);
        user-select: none;
        white-space: nowrap;
    }

    :host(:${ca}) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Or.var};
        border-color: ${Ar.var};
        background: ${mr.var};
        color: ${sr.var};
    }

    :host([aria-selected="true"]) {
        background: ${mr.var};
        color: ${sr.var};
    }

    :host(:active) {
        background: ${vr.var};
        color: ${sr.var};
    }

    :host(:not([aria-selected="true"]):hover) {
        background: ${rr.var};
        color: ${Xo.var};
    }

    :host(:not([aria-selected="true"]):active) {
        background: ${rr.var};
        color: ${Xo.var};
    }

    :host([disabled]) {
        cursor: ${Cl};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        background-color: inherit;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end,
    ::slotted(svg) {
        display: flex;
    }

    ::slotted(svg) {
        ${""}
        height: calc(var(--design-unit) * 4px);
        width: calc(var(--design-unit) * 4px);
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 1ch;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 1ch;
    }

`.withBehaviors(vr,mr,br,sr,jo(Pe`
            :host {
                border-color: transparent;
                forced-color-adjust: none;
                color: ${Wo.ButtonText};
                fill: currentcolor;
            }

            :host(:not([aria-selected="true"]):hover),
            :host([aria-selected="true"]) {
                background: ${Wo.Highlight};
                color: ${Wo.HighlightText};
            }

            :host([disabled]),
            :host([disabled]:not([aria-selected="true"]):hover) {
                background: ${Wo.Canvas};
                color: ${Wo.GrayText};
                fill: currentcolor;
                opacity: 1;
            }
        `),rr,cr,lr,hr,Ar,Or,Xo,Zo,kr);let xh=class extends oh{};xh=Ro([Oe({name:"fast-option",template:yh,styles:wh})],xh);const Ch=wh;var kh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Sh=class extends vh{};Sh=kh([Oe({name:"ecos-select",template:fh,styles:bh})],Sh);let $h=class extends xh{};var Th,Ah;function Oh(e,t,n,i){let s=(0,1,o=(e-t)/(n-t),Math.min(Math.max(o,0),1));var o;return i===dt.rtl&&(s=1-s),s}$h=kh([Oe({name:"ecos-option",template:yh,styles:Ch})],$h),function(e){e.horizontal="horizontal",e.vertical="vertical"}(Th||(Th={}));class Eh extends Ae{}class Ph extends(ml(Eh)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}!function(e){e.singleValue="single-value"}(Ah||(Ah={}));class Rh extends Ph{constructor(){super(...arguments),this.direction=dt.ltr,this.isDragging=!1,this.trackWidth=0,this.trackMinWidth=0,this.trackHeight=0,this.trackLeft=0,this.trackMinHeight=0,this.valueTextFormatter=()=>null,this.min=0,this.max=10,this.step=1,this.orientation=Th.horizontal,this.mode=Ah.singleValue,this.keypressHandler=e=>{if(9!==e.keyCode&&e.preventDefault(),36===e.keyCode)this.value=`${this.min}`;else if(35===e.keyCode)this.value=`${this.max}`;else if(!e.shiftKey)switch(e.keyCode){case 39:case 38:this.increment();break;case 37:case 40:this.decrement()}},this.setupTrackConstraints=()=>{const e=this.track.getBoundingClientRect();this.trackWidth=this.track.clientWidth,this.trackMinWidth=this.track.clientLeft,this.trackHeight=e.bottom,this.trackMinHeight=e.top,this.trackLeft=this.getBoundingClientRect().left,0===this.trackWidth&&(this.trackWidth=1)},this.setupListeners=()=>{this.addEventListener("keydown",this.keypressHandler),this.addEventListener("mousedown",this.handleMouseDown),this.thumb.addEventListener("mousedown",this.handleThumbMouseDown),this.thumb.addEventListener("touchstart",this.handleThumbMouseDown)},this.initialValue="",this.handleThumbMouseDown=e=>{this.readOnly||this.disabled||e.defaultPrevented||(e.preventDefault(),e.target.focus(),window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("touchmove",this.handleMouseMove),window.addEventListener("touchend",this.handleWindowMouseUp),this.isDragging=!0)},this.handleMouseMove=e=>{if(this.readOnly||this.disabled||e.defaultPrevented)return;const t=window.TouchEvent&&e instanceof TouchEvent?e.touches[0]:e,n=this.orientation===Th.horizontal?t.pageX-this.trackLeft:t.pageY;this.value=`${this.calculateNewValue(n)}`},this.calculateNewValue=e=>{const t=Oh(e,this.orientation===Th.horizontal?this.trackMinWidth:this.trackMinHeight,this.orientation===Th.horizontal?this.trackWidth:this.trackHeight,this.direction),n=(this.max-this.min)*t+this.min;return this.convertToConstrainedValue(n)},this.handleWindowMouseUp=e=>{this.stopDragging()},this.stopDragging=()=>{this.isDragging=!1,window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("touchend",this.handleWindowMouseUp)},this.handleMouseDown=e=>{if(e.preventDefault(),!this.disabled&&!this.readOnly){this.setupTrackConstraints(),e.target.focus(),window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleMouseMove);const t=this.orientation===Th.horizontal?e.pageX-this.trackLeft:e.pageY;this.value=`${this.calculateNewValue(t)}`}},this.convertToConstrainedValue=e=>{isNaN(e)&&(e=this.min);let t=e-this.min;const n=t-Math.round(t/this.step)*(this.stepMultiplier*this.step)/this.stepMultiplier;return t=n>=Number(this.step)/2?t-n+Number(this.step):t-n,t+this.min}}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}valueChanged(e,t){super.valueChanged(e,t),this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction),this.$emit("change")}minChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.min=`${this.min}`),this.validate()}maxChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.max=`${this.max}`),this.validate()}stepChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.step=`${this.step}`),this.updateStepMultiplier(),this.validate()}orientationChanged(){this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","range"),this.direction=Iu(this),this.updateStepMultiplier(),this.setupTrackConstraints(),this.setupListeners(),this.setupDefaultValue(),this.setThumbPositionForOrientation(this.direction)}disconnectedCallback(){this.removeEventListener("keydown",this.keypressHandler),this.removeEventListener("mousedown",this.handleMouseDown),this.thumb.removeEventListener("mousedown",this.handleThumbMouseDown),this.thumb.removeEventListener("touchstart",this.handleThumbMouseDown)}increment(){const e=this.direction!==dt.rtl&&this.orientation!==Th.vertical?Number(this.value)+Number(this.step):Number(this.value)-Number(this.step),t=this.convertToConstrainedValue(e),n=t<Number(this.max)?`${t}`:`${this.max}`;this.value=n}decrement(){const e=this.direction!==dt.rtl&&this.orientation!==Th.vertical?Number(this.value)-Number(this.step):Number(this.value)+Number(this.step),t=this.convertToConstrainedValue(e),n=t>Number(this.min)?`${t}`:`${this.min}`;this.value=n}setThumbPositionForOrientation(e){const t=Oh(Number(this.value),Number(this.min),Number(this.max),e),n=Math.round(100*(1-t));this.orientation===Th.horizontal?this.position=this.isDragging?`right: ${n}%; transition: none;`:`right: ${n}%; transition: all 0.2s ease;`:this.position=this.isDragging?`bottom: ${n}%; transition: none;`:`bottom: ${n}%; transition: all 0.2s ease;`}updateStepMultiplier(){const e=this.step+"",t=this.step%1?e.length-e.indexOf(".")-1:0;this.stepMultiplier=Math.pow(10,t)}get midpoint(){return`${this.convertToConstrainedValue((this.max+this.min)/2)}`}setupDefaultValue(){if("string"==typeof this.value)if(0===this.value.length)this.initialValue=this.midpoint;else{const e=parseFloat(this.value);!Number.isNaN(e)&&(e<this.min||e>this.max)&&(this.value=this.midpoint)}}}Ro([ve({attribute:"readonly",mode:"boolean"})],Rh.prototype,"readOnly",void 0),Ro([ne],Rh.prototype,"direction",void 0),Ro([ne],Rh.prototype,"isDragging",void 0),Ro([ne],Rh.prototype,"position",void 0),Ro([ne],Rh.prototype,"trackWidth",void 0),Ro([ne],Rh.prototype,"trackMinWidth",void 0),Ro([ne],Rh.prototype,"trackHeight",void 0),Ro([ne],Rh.prototype,"trackLeft",void 0),Ro([ne],Rh.prototype,"trackMinHeight",void 0),Ro([ne],Rh.prototype,"valueTextFormatter",void 0),Ro([ve({converter:fe})],Rh.prototype,"min",void 0),Ro([ve({converter:fe})],Rh.prototype,"max",void 0),Ro([ve({converter:fe})],Rh.prototype,"step",void 0),Ro([ve],Rh.prototype,"orientation",void 0),Ro([ve],Rh.prototype,"mode",void 0);const Ih=ot`
    <template
        role="slider"
        class="${e=>e.readOnly?"readonly":""}
        ${e=>e.orientation||Th.horizontal}"
        tabindex="${e=>e.disabled?null:0}"
        aria-valuetext="${e=>e.valueTextFormatter(e.value)}"
        aria-valuenow="${e=>e.value}"
        aria-valuemin="${e=>e.min}"
        aria-valuemax="${e=>e.max}"
        aria-disabled="${e=>!!e.disabled||void 0}"
        aria-readonly="${e=>!!e.readOnly||void 0}"
        aria-orientation="${e=>e.orientation}"
        class="${e=>e.orientation}"
    >
        <div part="positioning-region" class="positioning-region">
            <div ${Zr("track")} part="track-container" class="track">
                <slot name="track"></slot>
            </div>
            <slot></slot>
            <div
                ${Zr("thumb")}
                part="thumb-container"
                class="thumb-container"
                style=${e=>e.position}
            >
                <slot name="thumb"><div class="thumb-cursor"></div></slot>
            </div>
        </div>
    </template>
`,jh=Pe`
    :host([hidden]) {
        display: none;
    }

    ${Re("inline-grid")} :host {
        --thumb-size: calc(${ua} * 0.5 - var(--design-unit));
        --thumb-translate: calc(var(--thumb-size) * 0.5);
        --track-overhang: calc((var(--design-unit) / 2) * -1);
        --track-width: var(--design-unit);
        --fast-slider-height: calc(var(--thumb-size) * 10);
        align-items: center;
        width: 100%;
        margin: calc(var(--design-unit) * 1px) 0;
        user-select: none;
        box-sizing: border-box;
        border-radius: calc(var(--corner-radius) * 1px);
        outline: none;
        cursor: pointer;
    }
    :host([orientation="horizontal"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        grid-template-rows: calc(var(--thumb-size) * 1px) 1fr;
    }
    :host([orientation="vertical"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        height: 100%;
        grid-template-columns: calc(var(--thumb-size) * 1px) 1fr;
    }

    :host(:${ca}) .thumb-cursor {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px var(--neutral-focus);
    }
    
    .thumb-container {
        position: absolute;
        height: calc(var(--thumb-size) * 1px);
        width: calc(var(--thumb-size) * 1px);
        transition: all 0.2s ease;
        color: ${Zo.var};
        fill: currentcolor;
    }
    .thumb-cursor {
        border: none;
        width: calc(var(--thumb-size) * 1px);
        height: calc(var(--thumb-size) * 1px);
        background: ${Zo.var};
        border-radius: calc(var(--corner-radius) * 1px);
    }
    .thumb-cursor:hover {
        background: ${Xo.var};
        border-color: ${wr.var};
    }
    .thumb-cursor:active {
        background: ${Jo.var};
    }
    :host([orientation="horizontal"]) .thumb-container {
        transform: translateX(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="vertical"]) .thumb-container {
        transform: translateY(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="horizontal"]) {
        min-width: calc(var(--thumb-size) * 1px);
    }
    :host([orientation="horizontal"]) .track {
        right: calc(var(--track-overhang) * 1px);
        left: calc(var(--track-overhang) * 1px);
        align-self: start;
        margin-top: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        height: calc(var(--track-width) * 1px);
    }
    :host([orientation="vertical"]) .track {
        top: calc(var(--track-overhang) * 1px);
        bottom: calc(var(--track-overhang) * 1px);
        width: calc(var(--track-width) * 1px);
        margin-inline-start: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        height: 100%;
    }
    .track {
        background: ${yr.var};
        position: absolute;
        border-radius: calc(var(--corner-radius) * 1px);
    }
    :host([orientation="vertical"]) {
        height: calc(var(--fast-slider-height) * 1px);
        min-height: calc(var(--thumb-size) * 1px);
        min-width: calc(var(--design-unit) * 20px);
    }
    :host([disabled]), :host([readonly]) {
        cursor: ${Cl};
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors(Ar,Jo,Xo,Zo,wr,yr,jo(Pe`
            .thumb-cursor {
                forced-color-adjust: none;
                border-color: ${Wo.FieldText};
                background: ${Wo.FieldText};
            }
            .thumb-cursor:hover,
            .thumb-cursor:active {
                background: ${Wo.Highlight};
            }
            .track {
                forced-color-adjust: none;
                background: ${Wo.FieldText};
            }
            :host(:${ca}) .thumb-cursor {
                border-color: ${Wo.Highlight};
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .track,
            :host([disabled]) .thumb-cursor {
                forced-color-adjust: none;
                background: ${Wo.GrayText};
            }

            :host(:${ca}) .thumb-cursor {
                background: ${Wo.Highlight};
                border-color: ${Wo.Highlight};
                box-shadow: 0 0 0 2px ${Wo.Field}, 0 0 0 4px ${Wo.FieldText};    
            }
        `));let Fh=class extends Rh{};Fh=Ro([Oe({name:"fast-slider",template:Ih,styles:jh})],Fh);const Lh=jh;let Dh=class extends Fh{};Dh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-slider",template:Ih,styles:Lh})],Dh);const Nh=ot`<template class="ecos-stack ${e=>e.small?"ecos-stack--small":""} ${e=>e.large?"ecos-stack--large":""} ${e=>e.inline?"ecos-stack--inline":""}"><slot></slot></template>`;var Mh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Bh=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Hh=class extends Ae{constructor(){super(...arguments),this.small=!1,this.large=!1,this.inline=!1}};Mh([ve({mode:"boolean"}),Bh("design:type",Object)],Hh.prototype,"small",void 0),Mh([ve({mode:"boolean"}),Bh("design:type",Object)],Hh.prototype,"large",void 0),Mh([ve({mode:"boolean"}),Bh("design:type",Object)],Hh.prototype,"inline",void 0),Hh=Mh([Oe({name:"ecos-stack",template:Nh,styles:Yu})],Hh);const Vh=Pe`
  ${Re("block")}

  :host {
    
  }

  ::slotted(ecos-table-row) {
    padding: 16px 0;
  }
`,qh=ot`
<template>
  <slot></slot>
</template>`;let Uh=class extends Ae{};Uh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-table",template:qh,styles:Vh})],Uh);const zh=Pe`
  ${Re("flex")}

  :host {
    flex-direction: column;
    justify-content: center;
    padding: calc(var(--spacing-unit) * 0.25);
    flex-shrink: 0;
    width: 100%;
  }

  :host([meta]) {
    font-size: 80%;
  }

  label {
    display: block;
    text-transform: uppercase;
    opacity: 0.5;
  }

  @media screen and (min-width: 732px) {
    :host {
      width: 200px;
    }
    :host([small]) {
      width: 100px;
    }
  }
`,_h=ot`
<template>
  <label part="label">
    <slot name="label"></slot>
  </label>
  <slot></slot>
</template>`;let Wh=class extends Ae{};Wh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-table-item",template:_h,styles:zh})],Wh);const Kh=Pe`
  ${Re("flex")}

  :host {
    display: flex;
    gap: calc(var(--spacing-unit) * 0.5);
    align-items: center;
  }

  .start {
    flex-shrink: 0;
  }

  .end {
    flex-shring: 0;
    margin-left: auto;
  }

  .content {
    display: flex;
    gap: calc(var(--spacing-unit) * 0.5);
    row-gap: 0;
    flex-wrap: wrap;
    width: 100%;
  }

  @media screen and (min-width: 732px) {
    :host {
      
    }
    .content {
      row-gap: calc(var(--spacing-unit) * 0.25);
    }
  }
`,Gh=ot`
<template>
  ${ea}
  <div class="content" part="content">
    <slot></slot>
  </div>
  ${Jr}
</template>`;let Yh=class extends Ae{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}};Yh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-table-row",template:Gh,styles:Kh})],Yh);class Qh extends Ae{}class Zh extends(ml(Qh)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}var Xh;!function(e){e.email="email",e.password="password",e.tel="tel",e.text="text",e.url="url"}(Xh||(Xh={}));class Jh extends Zh{constructor(){super(...arguments),this.type=Xh.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&H.queueUpdate((()=>{this.focus()}))}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}}Ro([ve({attribute:"readonly",mode:"boolean"})],Jh.prototype,"readOnly",void 0),Ro([ve({mode:"boolean"})],Jh.prototype,"autofocus",void 0),Ro([ve],Jh.prototype,"placeholder",void 0),Ro([ve],Jh.prototype,"type",void 0),Ro([ve],Jh.prototype,"list",void 0),Ro([ve({converter:fe})],Jh.prototype,"maxlength",void 0),Ro([ve({converter:fe})],Jh.prototype,"minlength",void 0),Ro([ve],Jh.prototype,"pattern",void 0),Ro([ve({converter:fe})],Jh.prototype,"size",void 0),Ro([ve({mode:"boolean"})],Jh.prototype,"spellcheck",void 0),Ro([ne],Jh.prototype,"defaultSlottedNodes",void 0);class ed{}ta(ed,Yr),ta(Jh,Xr,ed);const td=ot`
    <template
        class="
            ${e=>e.readOnly?"readonly":""}
        "
    >
        <label
            part="label"
            for="control"
            class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot
                ${oa({property:"defaultSlottedNodes",filter:function(e,t,n){return e.nodeType!==Node.TEXT_NODE||"string"==typeof e.nodeValue&&!!e.nodeValue.trim().length}})}
            ></slot>
        </label>
        <div class="root" part="root">
            ${ea}
            <input
                class="control"
                part="control"
                id="control"
                @input="${e=>e.handleTextInput()}"
                @change="${e=>e.handleChange()}"
                ?autofocus="${e=>e.autofocus}"
                ?disabled="${e=>e.disabled}"
                list="${e=>e.list}"
                maxlength="${e=>e.maxlength}"
                minlength="${e=>e.minlength}"
                pattern="${e=>e.pattern}"
                placeholder="${e=>e.placeholder}"
                ?readonly="${e=>e.readOnly}"
                ?required="${e=>e.required}"
                size="${e=>e.size}"
                ?spellcheck="${e=>e.spellcheck}"
                :value="${e=>e.value}"
                type="${e=>e.type}"
                aria-atomic="${e=>e.ariaAtomic}"
                aria-busy="${e=>e.ariaBusy}"
                aria-controls="${e=>e.ariaControls}"
                aria-current="${e=>e.ariaCurrent}"
                aria-describedBy="${e=>e.ariaDescribedby}"
                aria-details="${e=>e.ariaDetails}"
                aria-disabled="${e=>e.ariaDisabled}"
                aria-errormessage="${e=>e.ariaErrormessage}"
                aria-flowto="${e=>e.ariaFlowto}"
                aria-haspopup="${e=>e.ariaHaspopup}"
                aria-hidden="${e=>e.ariaHidden}"
                aria-invalid="${e=>e.ariaInvalid}"
                aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
                aria-label="${e=>e.ariaLabel}"
                aria-labelledby="${e=>e.ariaLabelledby}"
                aria-live="${e=>e.ariaLive}"
                aria-owns="${e=>e.ariaOwns}"
                aria-relevant="${e=>e.ariaRelevant}"
                aria-roledescription="${e=>e.ariaRoledescription}"
                ${Zr("control")}
            />
            ${Jr}
        </div>
    </template>
`,nd=Pe`
    ${Re("inline-block")} :host {
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }

    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: ${Zo.var};
        background: ${dr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${fr.var};
        height: calc(${ua} * 1px);
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        border: 0;
        color: inherit;
        height: calc(100% - 4px);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .control:hover,
    .control:${ca},
    .control:disabled,
    .control:active {
        outline: none;
    }

    .label {
        display: block;
        color: ${Zo.var};
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .start,
    .end {
        margin: auto;
        fill: currentcolor;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    .start {
        margin-inline-start: 11px;
    }

    .end {
        margin-inline-end: 11px;
    }

    :host(:hover:not([disabled])) .root {
        background: ${pr.var};
        border-color: ${mr.var};
    }

    :host(:active:not([disabled])) .root {
        background: ${pr.var};
        border-color: ${vr.var};
    }

    :host(:focus-within:not([disabled])) .root {
        border-color: ${Ar.var};
        box-shadow: 0 0 0 1px ${Ar.var} inset;
    }

    :host([appearance="filled"]) .root {
        background: ${or.var};
    }

    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: ${rr.var};
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: ${Cl};
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        border-color: ${yr.var};
    }
`.withBehaviors(vr,mr,fr,rr,pr,dr,or,Ar,Zo,yr,jo(Pe`
            .root,
            :host([appearance="filled"]) .root {
                forced-color-adjust: none;
                background: ${Wo.Field};
                border-color: ${Wo.FieldText};
            }
            :host(:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover) .root {
                background: ${Wo.Field};
                border-color: ${Wo.Highlight};
            }
            .start,
            .end {
                fill: currentcolor;
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .root,
            :host([appearance="filled"]:hover[disabled]) .root {
                border-color: ${Wo.GrayText};
                background: ${Wo.Field};
            }
            :host(:focus-within:enabled) .root {
                border-color: ${Wo.Highlight};
                box-shadow: 0 0 0 1px ${Wo.Highlight} inset;
            }
        `));let id=class extends Jh{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="outline")}};Ro([ve],id.prototype,"appearance",void 0),id=Ro([Oe({name:"fast-text-field",template:td,styles:nd,shadowOptions:{delegatesFocus:!0}})],id);const sd=nd;let od=class extends id{};od=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Oe({name:"ecos-text-field",template:td,styles:sd,shadowOptions:{delegatesFocus:!0}})],od);const rd=Pe`

  .ecos-two {
    display: grid;
    contain: content;
    grid-gap: var(--spacing-unit);
    justify-items: center;
    text-align: center;
  }

  @media screen and (min-width: 732px) {
    .ecos-two {
      grid-template-columns: 1fr 1fr;
      align-items: center;
      text-align: inherit;
    }
    .ecos-two.rightleft > :nth-child(1) {
      grid-column: 2;
      grid-row: 1;
    }
    .ecos-two.rightleft > :nth-child(2) {
      grid-row: 1;
      grid-column: 1;
    }
  }

`,ad=ot`
<template class="ecos-two ${e=>e.rightleft?"rightleft":""}">
  <slot></slot>
</template>`;var ld=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let cd=class extends Ae{constructor(){super(...arguments),this.rightleft=!1}};function ud(e){return"object"==typeof e&&null!==e||"function"==typeof e}function hd(e){return null==e}ld([ve({mode:"boolean"}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],cd.prototype,"rightleft",void 0),cd=ld([Oe({name:"ecos-two",template:ad,styles:rd,shadowOptions:null})],cd);const dd=new WeakMap;function pd(e,t,n,i,s){return new TypeError(`${e}(${t.map(String).join(",")}) - Expected '${n}' to be of type ${s}, but got: ${Object.prototype.toString.call(i)} (${String(i)})`)}function gd(e){switch(typeof e){case"undefined":case"string":case"symbol":return e;default:return`${e}`}}function fd(e,t,n){let i=dd.get(e);if(void 0===i){if(!n)return;i=new Map,dd.set(e,i)}let s=i.get(t);if(void 0===s){if(!n)return;s=new Map,i.set(t,s)}return s}function md(e,t,n){const i=fd(t,n,!1);return void 0!==i&&i.has(e)}function vd(e,t,n){if(md(e,t,n))return!0;const i=Object.getPrototypeOf(t);return null!==i&&vd(e,i,n)}function bd(e,t,n){const i=fd(t,n,!1);if(void 0!==i)return i.get(e)}function yd(e,t,n){if(md(e,t,n))return bd(e,t,n);const i=Object.getPrototypeOf(t);return null!==i?yd(e,i,n):void 0}function wd(e,t,n,i){fd(n,i,!0).set(e,t)}function xd(e,t){const n=[],i=fd(e,t,!1);if(void 0===i)return n;const s=i.keys();let o=0;for(const e of s)n[o]=e,++o;return n}function Cd(e,t){const n=xd(e,t),i=Object.getPrototypeOf(e);if(null===i)return n;const s=Cd(i,t),o=n.length;if(0===o)return s;const r=s.length;if(0===r)return n;const a=new Set,l=[];let c,u=0;for(let e=0;e<o;++e)c=n[e],a.has(c)||(a.add(c),l[u]=c,++u);for(let e=0;e<r;++e)c=s[e],a.has(c)||(a.add(c),l[u]=c,++u);return l}function kd(e,t){return function(n,i){if(!ud(n))throw pd("@metadata",[e,t,n,i],"target",n,"Object or Function");wd(e,t,n,function(e){switch(typeof e){case"undefined":case"string":case"symbol":return e;default:throw new TypeError(`Invalid metadata propertyKey: ${e}.`)}}(i))}}function Sd(e,t,n,i){if(void 0!==n){if(!Array.isArray(e))throw pd("Metadata.decorate",[e,t,n,i],"decorators",e,"Array");if(!ud(t))throw pd("Metadata.decorate",[e,t,n,i],"target",t,"Object or Function");if(!ud(i)&&!hd(i))throw pd("Metadata.decorate",[e,t,n,i],"attributes",i,"Object, Function, null, or undefined");return null===i&&(i=void 0),function(e,t,n,i){for(let s=e.length-1;s>=0;--s){const o=(0,e[s])(t,n,i);if(!hd(o)){if(!ud(o))throw pd("DecorateProperty",[e,t,n,i],"decorated",o,"Object, Function, null, or undefined");i=o}}return i}(e,t,n=function(e){switch(typeof e){case"string":case"symbol":return e;default:return`${e}`}}(n),i)}if(!Array.isArray(e))throw pd("Metadata.decorate",[e,t,n,i],"decorators",e,"Array");if("function"!=typeof t)throw pd("Metadata.decorate",[e,t,n,i],"target",t,"Function");return function(e,t){for(let n=e.length-1;n>=0;--n){const i=(0,e[n])(t);if(!hd(i)){if("function"!=typeof i)throw pd("DecorateConstructor",[e,t],"decorated",i,"Function, null, or undefined");t=i}}return t}(e,t)}function $d(e,t,n,i){if(!ud(n))throw pd("Metadata.define",[e,t,n,i],"target",n,"Object or Function");return wd(e,t,n,gd(i))}function Td(e,t,n){if(!ud(t))throw pd("Metadata.has",[e,t,n],"target",t,"Object or Function");return vd(e,t,gd(n))}function Ad(e,t,n){if(!ud(t))throw pd("Metadata.hasOwn",[e,t,n],"target",t,"Object or Function");return md(e,t,gd(n))}function Od(e,t,n){if(!ud(t))throw pd("Metadata.get",[e,t,n],"target",t,"Object or Function");return yd(e,t,gd(n))}function Ed(e,t,n){if(!ud(t))throw pd("Metadata.getOwn",[e,t,n],"target",t,"Object or Function");return bd(e,t,gd(n))}function Pd(e,t){if(!ud(e))throw pd("Metadata.getKeys",[e,t],"target",e,"Object or Function");return Cd(e,gd(t))}function Rd(e,t){if(!ud(e))throw pd("Metadata.getOwnKeys",[e,t],"target",e,"Object or Function");return xd(e,gd(t))}function Id(e,t,n){if(!ud(t))throw pd("Metadata.delete",[e,t,n],"target",t,"Object or Function");return function(e,t,n){const i=fd(e,n,!1);return void 0!==i&&i.delete(t)}(t,e,gd(n))}const jd={define:$d,has:Td,hasOwn:Ad,get:Od,getOwn:Ed,getKeys:Pd,getOwnKeys:Rd,delete:Id};function Fd(e,t,n,i,s){if(!Reflect.defineProperty(e,t,{writable:i,enumerable:!1,configurable:s,value:n}))throw new Error(`Unable to apply metadata polyfill: could not add property '${t}' to the global Reflect object`)}const Ld="[[$au]]";function Dd(e,t,n){Fd(e,Ld,dd,t,n),Fd(e,"metadata",kd,t,n),Fd(e,"decorate",Sd,t,n),Fd(e,"defineMetadata",$d,t,n),Fd(e,"hasMetadata",Td,t,n),Fd(e,"hasOwnMetadata",Ad,t,n),Fd(e,"getMetadata",Od,t,n),Fd(e,"getOwnMetadata",Ed,t,n),Fd(e,"getMetadataKeys",Pd,t,n),Fd(e,"getOwnMetadataKeys",Rd,t,n),Fd(e,"deleteMetadata",Id,t,n)}const Nd={};function Md(e){switch(typeof e){case"number":return e>=0&&(0|e)===e;case"string":{const t=Nd[e];if(void 0!==t)return t;const n=e.length;if(0===n)return Nd[e]=!1;let i=0;for(let t=0;t<n;++t)if(i=e.charCodeAt(t),0===t&&48===i&&n>1||i<48||i>57)return Nd[e]=!1;return Nd[e]=!0}default:return!1}}function Bd(e){switch(typeof e){case"number":case"bigint":return!0;default:return!1}}function Hd(e){switch(typeof e){case"string":return!0;case"object":return e instanceof Date;default:return!1}}const Vd=function(){let e;!function(e){e[e.none=0]="none",e[e.digit=1]="digit",e[e.upper=2]="upper",e[e.lower=3]="lower"}(e||(e={}));const t=Object.assign(Object.create(null),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0});function n(e){return""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0}return function(e,t){const i=e.length;if(0===i)return e;let s,o=!1,r="",a="",l=0,c=e.charAt(0),u=n(c);for(let h=0;h<i;++h)s=l,a=c,l=u,c=e.charAt(h+1),u=n(c),0===l?r.length>0&&(o=!0):(!o&&r.length>0&&2===l&&(o=3===s||3===u),r+=t(a,o),o=!1);return r}}(),qd=function(){const e=Object.create(null);function t(e,t){return t?e.toUpperCase():e.toLowerCase()}return function(n){let i=e[n];return void 0===i&&(i=e[n]=Vd(n,t)),i}}(),Ud=function(){const e=Object.create(null);return function(t){let n=e[t];return void 0===n&&(n=qd(t),n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),e[t]=n),n}}(),zd=function(){const e=Object.create(null);function t(e,t){return t?`-${e.toLowerCase()}`:e.toLowerCase()}return function(n){let i=e[n];return void 0===i&&(i=e[n]=Vd(n,t)),i}}();function _d(e){const{length:t}=e,n=Array(t);for(let i=0;i<t;++i)n[i]=e[i];return n}const Wd={};function Kd(e){return void 0===Wd[e]&&(Wd[e]=0),++Wd[e]}function Gd(e,t){return e-t}function Yd(e,t,n){return{configurable:!0,enumerable:n.enumerable,get(){const e=n.value.bind(this);return Reflect.defineProperty(this,t,{value:e,writable:!0,configurable:!0,enumerable:n.enumerable}),e}}}function Qd(...e){const t=[];let n=0;const i=e.length;let s,o=0;for(let r=0;r<i;++r)if(s=e[r],void 0!==s){o=s.length;for(let e=0;e<o;++e)t[n++]=s[e]}return t}function Zd(...e){const t=e.length;let n;for(let i=0;i<t;++i)if(n=e[i],void 0!==n)return n;throw new Error("No default value found")}const Xd=function(){const e=Function.prototype,t=Object.getPrototypeOf,n=new WeakMap;let i,s=e,o=0;return function(r){if(i=n.get(r),void 0===i)for(n.set(r,i=[s=r]),o=0;(s=t(s))!==e;)i[++o]=s;return i}}();function Jd(...e){return Object.assign(Object.create(null),...e)}const ep=function(){const e=new WeakMap;let t=!1,n="",i=0;return function(s){return t=e.get(s),void 0===t&&(n=s.toString(),i=n.length,t=i>=29&&i<=100&&125===n.charCodeAt(i-1)&&n.charCodeAt(i-2)<=32&&93===n.charCodeAt(i-3)&&101===n.charCodeAt(i-4)&&100===n.charCodeAt(i-5)&&111===n.charCodeAt(i-6)&&99===n.charCodeAt(i-7)&&32===n.charCodeAt(i-8)&&101===n.charCodeAt(i-9)&&118===n.charCodeAt(i-10)&&105===n.charCodeAt(i-11)&&116===n.charCodeAt(i-12)&&97===n.charCodeAt(i-13)&&110===n.charCodeAt(i-14)&&88===n.charCodeAt(i-15),e.set(s,t)),t}}();function tp(e,t){return e instanceof Promise?e.then(t):t(e)}function np(...e){let t,n,i;for(let s=0,o=e.length;s<o;++s)t=e[s],(t=e[s])instanceof Promise&&(void 0===n?n=t:void 0===i?i=[n,t]:i.push(t));return void 0===i?n:Promise.all(i)}const ip={name:"au:annotation",appendTo(e,t){const n=jd.getOwn(ip.name,e);void 0===n?jd.define(ip.name,[t],e):n.push(t)},set(e,t,n){jd.define(ip.keyFor(t),n,e)},get:(e,t)=>jd.getOwn(ip.keyFor(t),e),getKeys(e){let t=jd.getOwn(ip.name,e);return void 0===t&&jd.define(ip.name,t=[],e),t},isKey:e=>e.startsWith(ip.name),keyFor:(e,t)=>void 0===t?`${ip.name}:${e}`:`${ip.name}:${e}:${t}`},sp={name:"au:resource",appendTo(e,t){const n=jd.getOwn(sp.name,e);void 0===n?jd.define(sp.name,[t],e):n.push(t)},has:e=>jd.hasOwn(sp.name,e),getAll(e){const t=jd.getOwn(sp.name,e);return void 0===t?zp:t.map((t=>jd.getOwn(t,e)))},getKeys(e){let t=jd.getOwn(sp.name,e);return void 0===t&&jd.define(sp.name,t=[],e),t},isKey:e=>e.startsWith(sp.name),keyFor:(e,t)=>void 0===t?`${sp.name}:${e}`:`${sp.name}:${e}:${t}`},op={annotation:ip,resource:sp},rp=Object.prototype.hasOwnProperty;function ap(e,t,n,i){let s=jd.getOwn(op.annotation.keyFor(e),n);return void 0===s?(s=t[e],void 0===s?(s=n[e],void 0!==s&&rp.call(n,e)?s:i()):s):s}function lp(e,t,n){let i=jd.getOwn(op.annotation.keyFor(e),t);return void 0===i?(i=t[e],void 0!==i&&rp.call(t,e)?i:n()):i}function cp(e,t,n){const i=t[e];return void 0===i?n():i}!function(e,t=!0,n=!1,i=!0,s=!0){if(function(e){return Ld in e}(e)){if(e["[[$au]]"]===dd)return;throw new Error("Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.")}const o=["metadata","decorate","defineMetadata","hasMetadata","hasOwnMetadata","getMetadata","getOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata"].filter((function(e){return e in Reflect}));if(o.length>0){if(t){const e=o.map((function(e){return`${e}:\n${Reflect[e].toString().slice(0,100)}...`})).join("\n\n");throw new Error(`Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\n\n${e}`)}n&&Dd(e,i,s)}else Dd(e,i,s)}(Reflect,!1,!1);class up{constructor(e,t){this.container=e,this.key=t}instance(e){return this.registerResolver(0,e)}singleton(e){return this.registerResolver(1,e)}transient(e){return this.registerResolver(2,e)}callback(e){return this.registerResolver(3,e)}cachedCallback(e){return this.registerResolver(3,Mp(e))}aliasTo(e){return this.registerResolver(5,e)}registerResolver(e,t){const{container:n,key:i}=this;return this.container=this.key=void 0,n.registerResolver(i,new Tp(i,e,t))}}function hp(e){const t=e.slice(),n=Object.keys(e),i=n.length;let s;for(let o=0;o<i;++o)s=n[o],Md(s)||(t[s]=e[s]);return t}const dp={none(e){throw Error(`${e.toString()} not registered, did you forget to add @singleton()?`)},singleton:e=>new Tp(e,1,e),transient:e=>new Tp(e,2,e)};class pp{constructor(e,t){this.inheritParentResources=e,this.defaultResolver=t}static from(e){var t,n;return void 0===e||e===pp.DEFAULT?pp.DEFAULT:new pp(null!==(t=e.inheritParentResources)&&void 0!==t&&t,null!==(n=e.defaultResolver)&&void 0!==n?n:dp.singleton)}}pp.DEFAULT=pp.from({});const gp={createContainer:e=>new Lp(null,pp.from(e)),getDesignParamtypes:e=>jd.getOwn("design:paramtypes",e),getAnnotationParamtypes(e){const t=op.annotation.keyFor("di:paramtypes");return jd.getOwn(t,e)},getOrCreateAnnotationParamTypes(e){const t=op.annotation.keyFor("di:paramtypes");let n=jd.getOwn(t,e);return void 0===n&&(jd.define(t,n=[],e),op.annotation.appendTo(e,t)),n},getDependencies(e){const t=op.annotation.keyFor("di:dependencies");let n=jd.getOwn(t,e);if(void 0===n){const i=e.inject;if(void 0===i){const t=gp.getDesignParamtypes(e),i=gp.getAnnotationParamtypes(e);if(void 0===t)if(void 0===i){const t=Object.getPrototypeOf(e);n="function"==typeof t&&t!==Function.prototype?hp(gp.getDependencies(t)):[]}else n=hp(i);else if(void 0===i)n=hp(t);else{n=hp(t);let e,s=i.length;for(let t=0;t<s;++t)e=i[t],void 0!==e&&(n[t]=e);const o=Object.keys(i);let r;s=o.length;for(let e=0;e<s;++e)r=o[e],Md(r)||(n[r]=i[r])}}else n=hp(i);jd.define(t,n,e),op.annotation.appendTo(e,t)}return n},createInterface(e,t){const n="function"==typeof e?e:t,i="string"==typeof e?e:void 0,s=function(e,t,n){if(null==e||void 0!==new.target)throw new Error(`No registration for interface: '${s.friendlyName}'`);gp.getOrCreateAnnotationParamTypes(e)[n]=s};return s.$isInterface=!0,s.friendlyName=null==i?"(anonymous)":i,null!=n&&(s.register=function(e,t){return n(new up(e,null!=t?t:s))}),s.toString=function(){return`InterfaceSymbol<${s.friendlyName}>`},s},inject:(...e)=>function(t,n,i){if("number"==typeof i){const n=gp.getOrCreateAnnotationParamTypes(t),s=e[0];void 0!==s&&(n[i]=s)}else if(n){const i=gp.getOrCreateAnnotationParamTypes(t.constructor),s=e[0];void 0!==s&&(i[n]=s)}else if(i){const t=i.value,n=gp.getOrCreateAnnotationParamTypes(t);let s;for(let t=0;t<e.length;++t)s=e[t],void 0!==s&&(n[t]=s)}else{const n=gp.getOrCreateAnnotationParamTypes(t);let i;for(let t=0;t<e.length;++t)i=e[t],void 0!==i&&(n[t]=i)}},transient:e=>(e.register=function(t){return Bp.transient(e,e).register(t,e)},e.registerInRequestor=!1,e),singleton:(e,t=yp)=>(e.register=function(t){return Bp.singleton(e,e).register(t,e)},e.registerInRequestor=t.scoped,e)},fp=gp.createInterface("IContainer"),mp=fp;function vp(e){return function(t){const n=function(e,t,i){gp.inject(n)(e,t,i)};return n.$isResolver=!0,n.resolve=function(n,i){return e(t,n,i)},n}}const bp=gp.inject,yp={scoped:!1},wp=(xp=(e,t,n,i)=>n.getAll(e,i),function(e,t){t=!!t;const n=function(e,t,i){gp.inject(n)(e,t,i)};return n.$isResolver=!0,n.resolve=function(n,i){return xp(e,0,i,t)},n});var xp;vp(((e,t,n)=>()=>n.get(e)));const Cp=vp(((e,t,n)=>n.has(e,!0)?n.get(e):void 0));function kp(e,t,n){gp.inject(kp)(e,t,n)}function Sp(e,t){return t.getFactory(e).construct(t)}var $p;kp.$isResolver=!0,kp.resolve=()=>{},vp(((e,t,n)=>{const i=Sp(e,t),s=new Hp(String(e));return s.prepare(i),n.registerResolver(e,s,!0),i})),vp(((e,t,n)=>Sp(e,t))),function(e){e[e.instance=0]="instance",e[e.singleton=1]="singleton",e[e.transient=2]="transient",e[e.callback=3]="callback",e[e.array=4]="array",e[e.alias=5]="alias"}($p||($p={}));class Tp{constructor(e,t,n){this.key=e,this.strategy=t,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(e,t){return e.registerResolver(t||this.key,this)}resolve(e,t){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=e.getFactory(this.state).construct(t),this.strategy=0,this.resolving=!1,this.state;case 2:{const n=e.getFactory(this.state);if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return n.construct(t)}case 3:return this.state(e,t,this);case 4:return this.state[0].resolve(e,t);case 5:return t.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(e){var t,n,i;switch(this.strategy){case 1:case 2:return e.getFactory(this.state);case 5:return null!==(i=null===(n=null===(t=e.getResolver(this.state))||void 0===t?void 0:t.getFactory)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:null;default:return null}}}function Ap(e){return this.get(e)}function Op(e,t){return t(e)}class Ep{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){let n;return n=void 0===t?new this.Type(...this.dependencies.map(Ap,e)):new this.Type(...this.dependencies.map(Ap,e),...t),null==this.transformers?n:this.transformers.reduce(Op,n)}registerTransformer(e){var t;(null!==(t=this.transformers)&&void 0!==t?t:this.transformers=[]).push(e)}}const Pp={$isResolver:!0,resolve:(e,t)=>t};function Rp(e){return"function"==typeof e.register}function Ip(e){return function(e){return Rp(e)&&"boolean"==typeof e.registerInRequestor}(e)&&e.registerInRequestor}const jp=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]);op.annotation.keyFor("di:factory");let Fp=0;class Lp{constructor(e,t){this.parent=e,this.config=t,this.id=++Fp,this.registerDepth=0,this.disposableResolvers=new Set,null===e?(this.root=this,this.resolvers=new Map,this.factories=new Map,this.resourceResolvers=Object.create(null)):(this.root=e.root,this.resolvers=new Map,this.factories=e.factories,t.inheritParentResources?this.resourceResolvers=Object.assign(Object.create(null),e.resourceResolvers,this.root.resourceResolvers):this.resourceResolvers=Object.assign(Object.create(null),this.root.resourceResolvers)),this.resolvers.set(fp,Pp)}get depth(){return null===this.parent?0:this.parent.depth+1}register(...e){if(100==++this.registerDepth)throw new Error(`Unable to autoregister dependency: [${e.map(String)}]`);let t,n,i,s,o;for(let r=0,a=e.length;r<a;++r)if(t=e[r],ud(t))if(Rp(t))t.register(this);else if(op.resource.has(t)){const e=op.resource.getAll(t);if(1===e.length)e[0].register(this);else{const t=e.length;for(let n=0;n<t;++n)e[n].register(this)}}else if(void 0!==t.prototype)Bp.singleton(t,t).register(this);else for(n=Object.keys(t),s=0,o=n.length;s<o;++s)i=t[n[s]],ud(i)&&(Rp(i)?i.register(this):this.register(i));return--this.registerDepth,this}registerResolver(e,t,n=!1){Vp(e);const i=this.resolvers,s=i.get(e);return null==s?(i.set(e,t),function(e){return"string"==typeof e&&e.indexOf(":")>0}(e)&&(this.resourceResolvers[e]=t)):s instanceof Tp&&4===s.strategy?s.state.push(t):i.set(e,new Tp(e,4,[s,t])),n&&this.disposableResolvers.add(t),t}registerTransformer(e,t){const n=this.getResolver(e);if(null==n)return!1;if(n.getFactory){const e=n.getFactory(this);return null!=e&&(e.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(Vp(e),void 0!==e.resolve)return e;let n,i=this;for(;null!=i;){if(n=i.resolvers.get(e),null!=n)return n;if(null==i.parent){const n=Ip(e)?this:i;return t?this.jitRegister(e,n):null}i=i.parent}return null}has(e,t=!1){return!!this.resolvers.has(e)||!(!t||null==this.parent)&&this.parent.has(e,!0)}get(e){if(Vp(e),e.$isResolver)return e.resolve(this,this);let t,n=this;for(;null!=n;){if(t=n.resolvers.get(e),null!=t)return t.resolve(n,this);if(null==n.parent){const i=Ip(e)?this:n;return t=this.jitRegister(e,i),t.resolve(n,this)}n=n.parent}throw new Error(`Unable to resolve key: ${e}`)}getAll(e,t=!1){Vp(e);const n=this;let i,s=n;if(t){let t=zp;for(;null!=s;)i=s.resolvers.get(e),null!=i&&(t=t.concat(qp(i,s,n))),s=s.parent;return t}for(;null!=s;){if(i=s.resolvers.get(e),null!=i)return qp(i,s,n);if(s=s.parent,null==s)return zp}return zp}invoke(e,t){if(ep(e))throw Up(e);return new Ep(e,gp.getDependencies(e)).construct(this,t)}getFactory(e){let t=this.factories.get(e);if(void 0===t){if(ep(e))throw Up(e);this.factories.set(e,t=new Ep(e,gp.getDependencies(e)))}return t}registerFactory(e,t){this.factories.set(e,t)}createChild(e){return void 0===e&&this.config.inheritParentResources?this.config===pp.DEFAULT?new Lp(this,this.config):new Lp(this,pp.from({...this.config,inheritParentResources:!1})):new Lp(this,pp.from(null!=e?e:this.config))}disposeResolvers(){var e;const t=Array.from(this.disposableResolvers);for(;t.length>0;)null===(e=t.pop())||void 0===e||e.dispose()}find(e,t){const n=e.keyFrom(t);let i=this.resourceResolvers[n];if(void 0===i&&(i=this.root.resourceResolvers[n],void 0===i))return null;if(null===i)return null;if("function"==typeof i.getFactory){const t=i.getFactory(this);if(null==t)return null;const n=jd.getOwn(e.name,t.Type);return void 0===n?null:n}return null}create(e,t){var n,i;const s=e.keyFrom(t);let o=this.resourceResolvers[s];return void 0===o?(o=this.root.resourceResolvers[s],void 0===o?null:null!==(n=o.resolve(this.root,this))&&void 0!==n?n:null):null!==(i=o.resolve(this,this))&&void 0!==i?i:null}dispose(){this.disposeResolvers(),this.resolvers.clear()}jitRegister(e,t){if("function"!=typeof e)throw new Error(`Attempted to jitRegister something that is not a constructor: '${e}'. Did you forget to register this resource?`);if(jp.has(e.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${e.name}. Did you forget to add @inject(Key)`);if(Rp(e)){const n=e.register(t,e);if(!(n instanceof Object)||null==n.resolve){const n=t.resolvers.get(e);if(null!=n)return n;throw new Error("Invalid resolver returned from the static register method")}return n}if(op.resource.has(e)){const n=op.resource.getAll(e);if(1===n.length)n[0].register(t);else{const e=n.length;for(let i=0;i<e;++i)n[i].register(t)}const i=t.resolvers.get(e);if(null!=i)return i;throw new Error("Invalid resolver returned from the static register method")}if(e.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${e.friendlyName}`);{const n=this.config.defaultResolver(e,t);return t.resolvers.set(e,n),n}}}class Dp{constructor(e,t){this.key=e,this.params=t}register(e){e.has(this.key,!0)?e.get(this.key).register(e,...this.params):e.register(...this.params.filter((e=>"object"==typeof e)))}}const Np=new WeakMap;function Mp(e){return function(t,n,i){let s=Np.get(t);if(void 0===s&&Np.set(t,s=new WeakMap),s.has(i))return s.get(i);const o=e(t,n,i);return s.set(i,o),o}}const Bp={instance:(e,t)=>new Tp(e,0,t),singleton:(e,t)=>new Tp(e,1,t),transient:(e,t)=>new Tp(e,2,t),callback:(e,t)=>new Tp(e,3,t),cachedCallback:(e,t)=>new Tp(e,3,Mp(t)),aliasTo:(e,t)=>new Tp(t,5,e),defer:(e,...t)=>new Dp(e,t)};class Hp{constructor(e){this.friendlyName=e,this.instance=null}prepare(e){this.instance=e}get $isResolver(){return!0}resolve(){if(null==this.instance)throw new Error(`Cannot call resolve ${this.friendlyName} before calling prepare or after calling dispose.`);return this.instance}dispose(){this.instance=null}}function Vp(e){if(null==e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function qp(e,t,n){if(e instanceof Tp&&4===e.strategy){const i=e.state;let s=i.length;const o=new Array(s);for(;s--;)o[s]=i[s].resolve(t,n);return o}return[e.resolve(t,n)]}function Up(e){return new Error(`${e.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`)}const zp=Object.freeze([]),_p=Object.freeze({});function Wp(){}const Kp=gp.createInterface("IPlatform"),Gp=new Map;function Yp(e){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${e}'.`)}}class Qp{constructor(e,t={}){var n,i,s,o,r,a,l,c,u,h,d,p,g;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=e,this.decodeURI="decodeURI"in t?t.decodeURI:e.decodeURI,this.decodeURIComponent="decodeURIComponent"in t?t.decodeURIComponent:e.decodeURIComponent,this.encodeURI="encodeURI"in t?t.encodeURI:e.encodeURI,this.encodeURIComponent="encodeURIComponent"in t?t.encodeURIComponent:e.encodeURIComponent,this.Date="Date"in t?t.Date:e.Date,this.Reflect="Reflect"in t?t.Reflect:e.Reflect,this.clearInterval="clearInterval"in t?t.clearInterval:null!==(i=null===(n=e.clearInterval)||void 0===n?void 0:n.bind(e))&&void 0!==i?i:Yp("clearInterval"),this.clearTimeout="clearTimeout"in t?t.clearTimeout:null!==(o=null===(s=e.clearTimeout)||void 0===s?void 0:s.bind(e))&&void 0!==o?o:Yp("clearTimeout"),this.queueMicrotask="queueMicrotask"in t?t.queueMicrotask:null!==(a=null===(r=e.queueMicrotask)||void 0===r?void 0:r.bind(e))&&void 0!==a?a:Yp("queueMicrotask"),this.setInterval="setInterval"in t?t.setInterval:null!==(c=null===(l=e.setInterval)||void 0===l?void 0:l.bind(e))&&void 0!==c?c:Yp("setInterval"),this.setTimeout="setTimeout"in t?t.setTimeout:null!==(h=null===(u=e.setTimeout)||void 0===u?void 0:u.bind(e))&&void 0!==h?h:Yp("setTimeout"),this.console="console"in t?t.console:e.console,this.performanceNow="performanceNow"in t?t.performanceNow:null!==(g=null===(p=null===(d=e.performance)||void 0===d?void 0:d.now)||void 0===p?void 0:p.bind(e.performance))&&void 0!==g?g:Yp("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Xp(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(e,t={}){let n=Gp.get(e);return void 0===n&&Gp.set(e,n=new Qp(e,t)),n}static set(e,t){Gp.set(e,t)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}function Zp(e){return e.persistent}class Xp{constructor(e,t,n){this.platform=e,this.$request=t,this.$cancel=n,this.processing=[],this.suspenderTask=void 0,this.pendingAsyncCount=0,this.pending=[],this.delayed=[],this.flushRequested=!1,this.yieldPromise=void 0,this.taskPool=[],this.taskPoolSize=0,this.lastRequest=0,this.lastFlush=0,this.requestFlush=()=>{this.tracer.enabled&&this.tracer.enter(this,"requestFlush"),this.flushRequested||(this.flushRequested=!0,this.lastRequest=this.platform.performanceNow(),this.$request()),this.tracer.enabled&&this.tracer.leave(this,"requestFlush")},this.tracer=new sg(e.console)}get isEmpty(){return 0===this.pendingAsyncCount&&0===this.processing.length&&0===this.pending.length&&0===this.delayed.length}get hasNoMoreFiniteWork(){return 0===this.pendingAsyncCount&&this.processing.every(Zp)&&this.pending.every(Zp)&&this.delayed.every(Zp)}flush(e=this.platform.performanceNow()){if(this.tracer.enabled&&this.tracer.enter(this,"flush"),this.flushRequested=!1,this.lastFlush=e,void 0===this.suspenderTask){if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let t=-1;for(;++t<this.delayed.length&&this.delayed[t].queueTime<=e;);this.processing.push(...this.delayed.splice(0,t))}let t;for(;this.processing.length>0;)if((t=this.processing.shift()).run(),1===t.status){if(!0===t.suspend)return this.suspenderTask=t,this.requestFlush(),void(this.tracer.enabled&&this.tracer.leave(this,"flush early async"));++this.pendingAsyncCount}if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let t=-1;for(;++t<this.delayed.length&&this.delayed[t].queueTime<=e;);this.processing.push(...this.delayed.splice(0,t))}if((this.processing.length>0||this.delayed.length>0||this.pendingAsyncCount>0)&&this.requestFlush(),void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const e=this.yieldPromise;this.yieldPromise=void 0,e.resolve()}}else this.requestFlush();this.tracer.enabled&&this.tracer.leave(this,"flush full")}cancel(){this.tracer.enabled&&this.tracer.enter(this,"cancel"),this.flushRequested&&(this.$cancel(),this.flushRequested=!1),this.tracer.enabled&&this.tracer.leave(this,"cancel")}async yield(){this.tracer.enabled&&this.tracer.enter(this,"yield"),this.isEmpty?this.tracer.enabled&&this.tracer.leave(this,"yield empty"):(void 0===this.yieldPromise&&(this.tracer.enabled&&this.tracer.trace(this,"yield - creating promise"),this.yieldPromise=cg()),await this.yieldPromise,this.tracer.enabled&&this.tracer.leave(this,"yield task"))}queueTask(e,t){this.tracer.enabled&&this.tracer.enter(this,"queueTask");const{delay:n,preempt:i,persistent:s,reusable:o,suspend:r}={...og,...t};if(i){if(n>0)throw new Error("Invalid arguments: preempt cannot be combined with a greater-than-zero delay");if(s)throw new Error("Invalid arguments: preempt cannot be combined with persistent")}0===this.processing.length&&this.requestFlush();const a=this.platform.performanceNow();let l;if(o){const t=this.taskPool,c=this.taskPoolSize-1;c>=0?(l=t[c],t[c]=void 0,this.taskPoolSize=c,l.reuse(a,n,i,s,r,e)):l=new ig(this.tracer,this,a,a+n,i,s,r,o,e)}else l=new ig(this.tracer,this,a,a+n,i,s,r,o,e);return i?this.processing[this.processing.length]=l:0===n?this.pending[this.pending.length]=l:this.delayed[this.delayed.length]=l,this.tracer.enabled&&this.tracer.leave(this,"queueTask"),l}remove(e){this.tracer.enabled&&this.tracer.enter(this,"remove");let t=this.processing.indexOf(e);if(t>-1)return this.processing.splice(t,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove processing"));if(t=this.pending.indexOf(e),t>-1)return this.pending.splice(t,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove pending"));if(t=this.delayed.indexOf(e),t>-1)return this.delayed.splice(t,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove delayed"));throw this.tracer.enabled&&this.tracer.leave(this,"remove error"),new Error(`Task #${e.id} could not be found`)}returnToPool(e){this.tracer.enabled&&this.tracer.trace(this,"returnToPool"),this.taskPool[this.taskPoolSize++]=e}resetPersistentTask(e){this.tracer.enabled&&this.tracer.enter(this,"resetPersistentTask"),e.reset(this.platform.performanceNow()),e.createdTime===e.queueTime?this.pending[this.pending.length]=e:this.delayed[this.delayed.length]=e,this.tracer.enabled&&this.tracer.leave(this,"resetPersistentTask")}completeAsyncTask(e){var t;if(this.tracer.enabled&&this.tracer.enter(this,"completeAsyncTask"),!0===e.suspend){if(this.suspenderTask!==e)throw this.tracer.enabled&&this.tracer.leave(this,"completeAsyncTask error"),new Error(`Async task completion mismatch: suspenderTask=${null===(t=this.suspenderTask)||void 0===t?void 0:t.id}, task=${e.id}`);this.suspenderTask=void 0}else--this.pendingAsyncCount;if(void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const e=this.yieldPromise;this.yieldPromise=void 0,e.resolve()}this.isEmpty&&this.cancel(),this.tracer.enabled&&this.tracer.leave(this,"completeAsyncTask")}}class Jp extends Error{constructor(e){super("Task was canceled."),this.task=e}}let eg=0;var tg,ng;!function(e){e[e.pending=0]="pending",e[e.running=1]="running",e[e.completed=2]="completed",e[e.canceled=3]="canceled"}(tg||(tg={}));class ig{constructor(e,t,n,i,s,o,r,a,l){this.tracer=e,this.taskQueue=t,this.createdTime=n,this.queueTime=i,this.preempt=s,this.persistent=o,this.suspend=r,this.reusable=a,this.callback=l,this.id=++eg,this.resolve=void 0,this.reject=void 0,this._result=void 0,this._status=0}get result(){const e=this._result;if(void 0===e)switch(this._status){case 0:{const e=this._result=cg();return this.resolve=e.resolve,this.reject=e.reject,e}case 1:throw new Error("Trying to await task from within task will cause a deadlock.");case 2:return this._result=Promise.resolve();case 3:return this._result=Promise.reject(new Jp(this))}return e}get status(){return this._status}run(e=this.taskQueue.platform.performanceNow()){if(this.tracer.enabled&&this.tracer.enter(this,"run"),0!==this._status)throw this.tracer.enabled&&this.tracer.leave(this,"run error"),new Error(`Cannot run task in ${this._status} state`);const{persistent:t,reusable:n,taskQueue:i,callback:s,resolve:o,reject:r,createdTime:a}=this;this._status=1;try{const l=s(e-a);l instanceof Promise?l.then((e=>{this.persistent?i.resetPersistentTask(this):(this._status=t?3:2,this.dispose()),i.completeAsyncTask(this),this.tracer.enabled&&this.tracer.leave(this,"run async then"),void 0!==o&&o(e),!this.persistent&&n&&i.returnToPool(this)})).catch((e=>{if(this.persistent||this.dispose(),i.completeAsyncTask(this),this.tracer.enabled&&this.tracer.leave(this,"run async catch"),void 0===r)throw e;r(e)})):(this.persistent?i.resetPersistentTask(this):(this._status=t?3:2,this.dispose()),this.tracer.enabled&&this.tracer.leave(this,"run sync success"),void 0!==o&&o(l),!this.persistent&&n&&i.returnToPool(this))}catch(e){if(this.persistent||this.dispose(),this.tracer.enabled&&this.tracer.leave(this,"run sync error"),void 0===r)throw e;r(e)}}cancel(){if(this.tracer.enabled&&this.tracer.enter(this,"cancel"),0===this._status){const e=this.taskQueue,t=this.reusable,n=this.reject;return e.remove(this),e.isEmpty&&e.cancel(),this._status=3,this.dispose(),t&&e.returnToPool(this),void 0!==n&&n(new Jp(this)),this.tracer.enabled&&this.tracer.leave(this,"cancel true =pending"),!0}return 1===this._status&&this.persistent?(this.persistent=!1,this.tracer.enabled&&this.tracer.leave(this,"cancel true =running+persistent"),!0):(this.tracer.enabled&&this.tracer.leave(this,"cancel false"),!1)}reset(e){this.tracer.enabled&&this.tracer.enter(this,"reset");const t=this.queueTime-this.createdTime;this.createdTime=e,this.queueTime=e+t,this._status=0,this.resolve=void 0,this.reject=void 0,this._result=void 0,this.tracer.enabled&&this.tracer.leave(this,"reset")}reuse(e,t,n,i,s,o){this.tracer.enabled&&this.tracer.enter(this,"reuse"),this.createdTime=e,this.queueTime=e+t,this.preempt=n,this.persistent=i,this.suspend=s,this.callback=o,this._status=0,this.tracer.enabled&&this.tracer.leave(this,"reuse")}dispose(){this.tracer.enabled&&this.tracer.trace(this,"dispose"),this.callback=void 0,this.resolve=void 0,this.reject=void 0,this._result=void 0}}class sg{constructor(e){this.console=e,this.enabled=!1,this.depth=0}enter(e,t){this.log(`${"  ".repeat(this.depth++)}> `,e,t)}leave(e,t){this.log(`${"  ".repeat(--this.depth)}< `,e,t)}trace(e,t){this.log(`${"  ".repeat(this.depth)}- `,e,t)}log(e,t,n){if(t instanceof Xp){const i=`processing=${t.processing.length} pending=${t.pending.length} delayed=${t.delayed.length} flushReq=${t.flushRequested} susTask=${!!t.suspenderTask}`;this.console.log(`${e}[Q.${n}] ${i}`)}else{const i=t.id,s=Math.round(10*t.createdTime)/10,o=Math.round(10*t.queueTime)/10,r=t.preempt,a=t.reusable,l=t.persistent,c=t.suspend,u=`id=${i} created=${s} queue=${o} preempt=${r} persistent=${l} reusable=${a} status=${function(e){switch(e){case 0:return"pending";case 1:return"running";case 3:return"canceled";case 2:return"completed"}}(t._status)} suspend=${c}`;this.console.log(`${e}[T.${n}] ${u}`)}}}!function(e){e[e.render=0]="render",e[e.macroTask=1]="macroTask",e[e.postRender=2]="postRender"}(ng||(ng={}));const og={delay:0,preempt:!1,persistent:!1,reusable:!0,suspend:!1};let rg,ag;function lg(e,t){rg=e,ag=t}function cg(){const e=new Promise(lg);return e.resolve=rg,e.reject=ag,e}var ug,hg,dg=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},pg=function(e,t){return function(n,i){t(n,i,e)}};!function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal",e[e.none=6]="none"}(ug||(ug={})),function(e){e[e.noColors=0]="noColors",e[e.colors=1]="colors"}(hg||(hg={}));const gg=gp.createInterface("ILogConfig",(e=>e.instance(new xg(0,3)))),fg=gp.createInterface("ISink"),mg=gp.createInterface("ILogEventFactory",(e=>e.singleton($g))),vg=gp.createInterface("ILogger",(e=>e.singleton(Ag))),bg=gp.createInterface("ILogScope"),yg=Object.freeze({key:op.annotation.keyFor("logger-sink-handles"),define(e,t){return jd.define(this.key,t.handles,e.prototype),e},getHandles(e){return jd.get(this.key,e)}}),wg=Jd({red:e=>`[31m${e}[39m`,green:e=>`[32m${e}[39m`,yellow:e=>`[33m${e}[39m`,blue:e=>`[34m${e}[39m`,magenta:e=>`[35m${e}[39m`,cyan:e=>`[36m${e}[39m`,white:e=>`[37m${e}[39m`,grey:e=>`[90m${e}[39m`});class xg{constructor(e,t){this.colorOptions=e,this.level=t}}const Cg=function(){const e=[Jd({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),Jd({TRC:wg.grey("TRC"),DBG:wg.grey("DBG"),INF:wg.white("INF"),WRN:wg.yellow("WRN"),ERR:wg.red("ERR"),FTL:wg.red("FTL"),QQQ:wg.grey("???")})];return function(t,n){return t<=0?e[n].TRC:t<=1?e[n].DBG:t<=2?e[n].INF:t<=3?e[n].WRN:t<=4?e[n].ERR:t<=5?e[n].FTL:e[n].QQQ}}();function kg(e,t){return 0===t?new Date(e).toISOString():wg.grey(new Date(e).toISOString())}class Sg{constructor(e,t,n,i,s,o){this.severity=e,this.message=t,this.optionalParams=n,this.scope=i,this.colorOptions=s,this.timestamp=o}toString(){const{severity:e,message:t,scope:n,colorOptions:i,timestamp:s}=this;return 0===n.length?`${kg(s,i)} [${Cg(e,i)}] ${t}`:`${kg(s,i)} [${Cg(e,i)} ${function(e,t){return 0===t?e.join("."):e.map(wg.cyan).join(".")}(n,i)}] ${t}`}}let $g=class{constructor(e){this.config=e}createLogEvent(e,t,n,i){return new Sg(t,n,i,e.scope,this.config.colorOptions,Date.now())}};$g=dg([pg(0,gg)],$g);let Tg=class e{constructor(e){const t=e.console;this.handleEvent=function(e){const n=e.optionalParams;if(void 0===n||0===n.length){const n=e.toString();switch(e.severity){case 0:case 1:return t.debug(n);case 2:return t.info(n);case 3:return t.warn(n);case 4:case 5:return t.error(n)}}else{let i=e.toString(),s=0;for(;i.includes("%s");)i=i.replace("%s",String(n[s++]));switch(e.severity){case 0:case 1:return t.debug(i,...n.slice(s));case 2:return t.info(i,...n.slice(s));case 3:return t.warn(i,...n.slice(s));case 4:case 5:return t.error(i,...n.slice(s))}}}}static register(t){Bp.singleton(fg,e).register(t)}};Tg=dg([pg(0,Kp)],Tg);let Ag=class e{constructor(e,t,n,i=[],s=null){var o,r,a,l,c,u;let h,d,p,g,f,m;if(this.config=e,this.factory=t,this.scope=i,this.scopedLoggers=Object.create(null),null===s){this.root=this,this.parent=this,h=this.traceSinks=[],d=this.debugSinks=[],p=this.infoSinks=[],g=this.warnSinks=[],f=this.errorSinks=[],m=this.fatalSinks=[];for(const e of n){const t=yg.getHandles(e);(null===(o=null==t?void 0:t.includes(0))||void 0===o||o)&&h.push(e),(null===(r=null==t?void 0:t.includes(1))||void 0===r||r)&&d.push(e),(null===(a=null==t?void 0:t.includes(2))||void 0===a||a)&&p.push(e),(null===(l=null==t?void 0:t.includes(3))||void 0===l||l)&&g.push(e),(null===(c=null==t?void 0:t.includes(4))||void 0===c||c)&&f.push(e),(null===(u=null==t?void 0:t.includes(5))||void 0===u||u)&&m.push(e)}}else this.root=s.root,this.parent=s,h=this.traceSinks=s.traceSinks,d=this.debugSinks=s.debugSinks,p=this.infoSinks=s.infoSinks,g=this.warnSinks=s.warnSinks,f=this.errorSinks=s.errorSinks,m=this.fatalSinks=s.fatalSinks}trace(e,...t){this.config.level<=0&&this.emit(this.traceSinks,0,e,t)}debug(e,...t){this.config.level<=1&&this.emit(this.debugSinks,1,e,t)}info(e,...t){this.config.level<=2&&this.emit(this.infoSinks,2,e,t)}warn(e,...t){this.config.level<=3&&this.emit(this.warnSinks,3,e,t)}error(e,...t){this.config.level<=4&&this.emit(this.errorSinks,4,e,t)}fatal(e,...t){this.config.level<=5&&this.emit(this.fatalSinks,5,e,t)}scopeTo(t){const n=this.scopedLoggers;let i=n[t];return void 0===i&&(i=n[t]=new e(this.config,this.factory,void 0,this.scope.concat(t),this)),i}emit(e,t,n,i){const s="function"==typeof n?n():n,o=this.factory.createLogEvent(this,t,s,i);for(let t=0,n=e.length;t<n;++t)e[t].handleEvent(o)}};dg([Yd],Ag.prototype,"trace",null),dg([Yd],Ag.prototype,"debug",null),dg([Yd],Ag.prototype,"info",null),dg([Yd],Ag.prototype,"warn",null),dg([Yd],Ag.prototype,"error",null),dg([Yd],Ag.prototype,"fatal",null),Ag=dg([pg(0,gg),pg(1,mg),pg(2,wp(fg)),pg(3,Cp(bg)),pg(4,kp)],Ag);const Og=Jd({create:({level:e=3,colorOptions:t=0,sinks:n=[]}={})=>Jd({register(i){i.register(Bp.instance(gg,new xg(t,e)));for(const e of n)"function"==typeof e?i.register(Bp.singleton(fg,e)):i.register(e);return i}})}),Eg=gp.createInterface((e=>e.singleton(Ig)));function Pg(e){return e}class Rg{constructor(e){this.$transform=e,this.promiseCache=new Map,this.objectCache=new Map}transform(e){if(e instanceof Promise)return this.transformPromise(e);if("object"==typeof e&&null!==e)return this.transformObject(e);throw new Error(`Invalid input: ${String(e)}. Expected Promise or Object.`)}transformPromise(e){if(this.promiseCache.has(e))return this.promiseCache.get(e);const t=e.then((e=>this.transformObject(e)));return this.promiseCache.set(e,t),t.then((t=>{this.promiseCache.set(e,t)})),t}transformObject(e){if(this.objectCache.has(e))return this.objectCache.get(e);const t=this.$transform(this.analyze(e));return this.objectCache.set(e,t),t instanceof Promise&&t.then((t=>{this.objectCache.set(e,t)})),t}analyze(e){let t,n,i,s;const o=[];for(const r in e){switch(typeof(t=e[r])){case"object":if(null===t)continue;n="function"==typeof t.register,i=!1,s=zp;break;case"function":n="function"==typeof t.register,i=void 0!==t.prototype,s=op.resource.getAll(t);break;default:continue}o.push(new Fg(r,t,n,i,s))}return new jg(e,o)}}class Ig{constructor(){this.transformers=new Map}load(e,t=Pg){const n=this.transformers;let i=n.get(t);return void 0===i&&n.set(t,i=new Rg(t)),i.transform(e)}dispose(){this.transformers.clear()}}class jg{constructor(e,t){this.raw=e,this.items=t}}class Fg{constructor(e,t,n,i,s){this.key=e,this.value=t,this.isRegistry=n,this.isConstructable=i,this.definitions=s}}class Lg{constructor(e,t){this.messageType=e,this.callback=t}handle(e){e instanceof this.messageType&&this.callback.call(null,e)}}const Dg=gp.createInterface("IEventAggregator",(e=>e.singleton(Ng)));class Ng{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(e,t){if(!e)throw new Error(`Invalid channel name or instance: ${e}.`);if("string"==typeof e){let n=this.eventLookup[e];if(void 0!==n){n=n.slice();let i=n.length;for(;i-- >0;)n[i](t,e)}}else{const t=this.messageHandlers.slice();let n=t.length;for(;n-- >0;)t[n].handle(e)}}subscribe(e,t){if(!e)throw new Error(`Invalid channel name or type: ${e}.`);let n,i;return"string"==typeof e?(void 0===this.eventLookup[e]&&(this.eventLookup[e]=[]),n=t,i=this.eventLookup[e]):(n=new Lg(e,t),i=this.messageHandlers),i.push(n),{dispose(){const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}}subscribeOnce(e,t){const n=this.subscribe(e,(function(e,i){n.dispose(),t(e,i)}));return n}}const Mg=new Map;function Bg(e){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${e}'.`)}}class Hg extends Qp{constructor(e,t={}){var n,i,s,o,r,a;super(e,t),this.domReadRequested=!1,this.domReadHandle=-1,this.domWriteRequested=!1,this.domWriteHandle=-1,this.Node="Node"in t?t.Node:e.Node,this.Element="Element"in t?t.Element:e.Element,this.HTMLElement="HTMLElement"in t?t.HTMLElement:e.HTMLElement,this.CustomEvent="CustomEvent"in t?t.CustomEvent:e.CustomEvent,this.CSSStyleSheet="CSSStyleSheet"in t?t.CSSStyleSheet:e.CSSStyleSheet,this.ShadowRoot="ShadowRoot"in t?t.ShadowRoot:e.ShadowRoot,this.MutationObserver="MutationObserver"in t?t.MutationObserver:e.MutationObserver,this.window="window"in t?t.window:e.window,this.document="document"in t?t.document:e.document,this.location="location"in t?t.location:e.location,this.history="history"in t?t.history:e.history,this.navigator="navigator"in t?t.navigator:e.navigator,this.fetch="fetch"in t?t.fetch:null!==(i=null===(n=e.fetch)||void 0===n?void 0:n.bind(e))&&void 0!==i?i:Bg("fetch"),this.requestAnimationFrame="requestAnimationFrame"in t?t.requestAnimationFrame:null!==(o=null===(s=e.requestAnimationFrame)||void 0===s?void 0:s.bind(e))&&void 0!==o?o:Bg("requestAnimationFrame"),this.cancelAnimationFrame="cancelAnimationFrame"in t?t.cancelAnimationFrame:null!==(a=null===(r=e.cancelAnimationFrame)||void 0===r?void 0:r.bind(e))&&void 0!==a?a:Bg("cancelAnimationFrame"),this.customElements="customElements"in t?t.customElements:e.customElements,this.flushDomRead=this.flushDomRead.bind(this),this.flushDomWrite=this.flushDomWrite.bind(this),this.domReadQueue=new Xp(this,this.requestDomRead.bind(this),this.cancelDomRead.bind(this)),this.domWriteQueue=new Xp(this,this.requestDomWrite.bind(this),this.cancelDomWrite.bind(this))}static getOrCreate(e,t={}){let n=Mg.get(e);return void 0===n&&Mg.set(e,n=new Hg(e,t)),n}static set(e,t){Mg.set(e,t)}requestDomRead(){this.domReadRequested=!0,-1===this.domWriteHandle&&(this.domWriteHandle=this.requestAnimationFrame(this.flushDomWrite))}cancelDomRead(){this.domReadRequested=!1,this.domReadHandle>-1&&(this.clearTimeout(this.domReadHandle),this.domReadHandle=-1),!1===this.domWriteRequested&&this.domWriteHandle>-1&&(this.cancelAnimationFrame(this.domWriteHandle),this.domWriteHandle=-1)}flushDomRead(){this.domReadHandle=-1,!0===this.domReadRequested&&(this.domReadRequested=!1,this.domReadQueue.flush())}requestDomWrite(){this.domWriteRequested=!0,-1===this.domWriteHandle&&(this.domWriteHandle=this.requestAnimationFrame(this.flushDomWrite))}cancelDomWrite(){this.domWriteRequested=!1,this.domWriteHandle>-1&&(!1===this.domReadRequested||this.domReadHandle>-1)&&(this.cancelAnimationFrame(this.domWriteHandle),this.domWriteHandle=-1)}flushDomWrite(){this.domWriteHandle=-1,!0===this.domWriteRequested&&(this.domWriteRequested=!1,this.domWriteQueue.flush()),!0===this.domReadRequested&&-1===this.domReadHandle&&(this.domReadHandle=this.setTimeout(this.flushDomRead,0))}}function Vg(e,t,n,i){for(let s=0,o=e.length;s<o;++s)Bp.aliasTo(n,t.keyFrom(e[s])).register(i)}const qg=Object.freeze({});class Ug{constructor(e,t){if(void 0!==e)if(void 0!==t)this[e]=t;else for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])}static create(e,t){return new Ug(e,t)}static get(e,t,n,i,s){if(null==e&&null==s)throw new Error(`Scope is ${e} and HostScope is ${s}.`);const o=s!==e&&null!=s;let r=zg(e,t,n,null);return null!==r&&(null!=r&&t in r||!o)||o&&(r=zg(s,t,n,e),null!=r&&t in r)?r:16&i?qg:e.bindingContext||e.overrideContext}}function zg(e,t,n,i){var s,o;let r=e.overrideContext,a=e;if(n>0){for(;n>0;)if(n--,a=a.parentScope,null==(null==a?void 0:a.overrideContext))return;return r=a.overrideContext,t in r?r:r.bindingContext}for(;(!(null==a?void 0:a.isComponentBoundary)||null!==i&&i!==a)&&r&&!(t in r)&&(!r.bindingContext||!(t in r.bindingContext));)a=null!==(s=a.parentScope)&&void 0!==s?s:null,r=null!==(o=null==a?void 0:a.overrideContext)&&void 0!==o?o:null;return r?t in r?r:r.bindingContext:null}class _g{constructor(e,t,n,i){this.parentScope=e,this.bindingContext=t,this.overrideContext=n,this.isComponentBoundary=i}static create(e,t,n){return new _g(null,e,null==t?Wg.create(e):t,null!=n&&n)}static fromOverride(e){if(null==e)throw new Error(`OverrideContext is ${e}`);return new _g(null,e.bindingContext,e,!1)}static fromParent(e,t){if(null==e)throw new Error(`ParentScope is ${e}`);return new _g(e,t,Wg.create(t),!1)}}class Wg{constructor(e){this.bindingContext=e}static create(e){return new Wg(e)}}const Kg=gp.createInterface("ISignaler",(e=>e.singleton(Gg)));class Gg{constructor(){this.signals=Object.create(null)}dispatchSignal(e,t){const n=this.signals[e];if(void 0!==n)for(const e of n.keys())e.handleChange(void 0,void 0,t)}addSignalListener(e,t){const n=this.signals,i=n[e];void 0===i?n[e]=new Set([t]):i.add(t)}removeSignalListener(e,t){const n=this.signals[e];n&&n.delete(t)}}var Yg;function Qg(e){return function(t){return ef.define(e,t)}}!function(e){e[e.singleton=1]="singleton",e[e.interceptor=2]="interceptor"}(Yg||(Yg={}));class Zg{constructor(e,t,n,i,s){this.Type=e,this.name=t,this.aliases=n,this.key=i,this.strategy=s}static create(e,t){let n,i;"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e);const s=Object.getPrototypeOf(t)===Jg;return new Zg(t,Zd(ef.getAnnotation(t,"name"),n),Qd(ef.getAnnotation(t,"aliases"),i.aliases,t.aliases),ef.keyFrom(n),ap("strategy",i,t,(()=>s?2:1)))}register(e){const{Type:t,key:n,aliases:i,strategy:s}=this;switch(s){case 1:Bp.singleton(n,t).register(e);break;case 2:Bp.instance(n,new Xg(e,t)).register(e)}Bp.aliasTo(n,t).register(e),Vg(i,ef,n,e)}}class Xg{constructor(e,t){this.container=e,this.Type=t,this.deps=gp.getDependencies(t)}construct(e,t){const n=this.container,i=this.deps;switch(i.length){case 0:case 1:case 2:return new this.Type(e,t);case 3:return new this.Type(n.get(i[0]),e,t);case 4:return new this.Type(n.get(i[0]),n.get(i[1]),e,t);default:return new this.Type(...i.map((e=>n.get(e))),e,t)}}}class Jg{constructor(e,t){let n;for(this.binding=e,this.expr=t,this.interceptor=this;e.interceptor!==this;)n=e.interceptor,e.interceptor=this,e=n}get observerLocator(){return this.binding.observerLocator}get locator(){return this.binding.locator}get $scope(){return this.binding.$scope}get $hostScope(){return this.binding.$hostScope}get isBound(){return this.binding.isBound}get obs(){return this.binding.obs}get sourceExpression(){return this.binding.sourceExpression}updateTarget(e,t){this.binding.updateTarget(e,t)}updateSource(e,t){this.binding.updateSource(e,t)}callSource(e){return this.binding.callSource(e)}handleChange(e,t,n){this.binding.handleChange(e,t,n)}handleCollectionChange(e,t){this.binding.handleCollectionChange(e,t)}observeProperty(e,t){this.binding.observeProperty(e,t)}observeCollection(e){this.binding.observeCollection(e)}$bind(e,t,n){this.binding.$bind(e,t,n)}$unbind(e){this.binding.$unbind(e)}}const ef={name:op.resource.keyFor("binding-behavior"),keyFrom:e=>`${ef.name}:${e}`,isType:e=>"function"==typeof e&&jd.hasOwn(ef.name,e),define(e,t){const n=Zg.create(e,t);return jd.define(ef.name,n,n.Type),jd.define(ef.name,n,n),op.resource.appendTo(t,ef.name),n.Type},getDefinition(e){const t=jd.getOwn(ef.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,t,n){jd.define(op.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>jd.getOwn(op.annotation.keyFor(t),e)};function tf(e){return function(t){return sf.define(e,t)}}class nf{constructor(e,t,n,i){this.Type=e,this.name=t,this.aliases=n,this.key=i}static create(e,t){let n,i;return"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e),new nf(t,Zd(sf.getAnnotation(t,"name"),n),Qd(sf.getAnnotation(t,"aliases"),i.aliases,t.aliases),sf.keyFrom(n))}register(e){const{Type:t,key:n,aliases:i}=this;Bp.singleton(n,t).register(e),Bp.aliasTo(n,t).register(e),Vg(i,sf,n,e)}}const sf={name:op.resource.keyFor("value-converter"),keyFrom:e=>`${sf.name}:${e}`,isType:e=>"function"==typeof e&&jd.hasOwn(sf.name,e),define(e,t){const n=nf.create(e,t);return jd.define(sf.name,n,n.Type),jd.define(sf.name,n,n),op.resource.appendTo(t,sf.name),n.Type},getDefinition(e){const t=jd.getOwn(sf.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,t,n){jd.define(op.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>jd.getOwn(op.annotation.keyFor(t),e)};var of;!function(e){e[e.Connects=32]="Connects",e[e.Observes=64]="Observes",e[e.CallsFunction=128]="CallsFunction",e[e.HasAncestor=256]="HasAncestor",e[e.IsPrimary=512]="IsPrimary",e[e.IsLeftHandSide=1024]="IsLeftHandSide",e[e.HasBind=2048]="HasBind",e[e.HasUnbind=4096]="HasUnbind",e[e.IsAssignable=8192]="IsAssignable",e[e.IsLiteral=16384]="IsLiteral",e[e.IsResource=32768]="IsResource",e[e.IsForDeclaration=65536]="IsForDeclaration",e[e.Type=31]="Type",e[e.AccessThis=1793]="AccessThis",e[e.AccessScope=10082]="AccessScope",e[e.ArrayLiteral=17955]="ArrayLiteral",e[e.ObjectLiteral=17956]="ObjectLiteral",e[e.PrimitiveLiteral=17925]="PrimitiveLiteral",e[e.Template=17958]="Template",e[e.Unary=39]="Unary",e[e.CallScope=1448]="CallScope",e[e.CallMember=1161]="CallMember",e[e.CallFunction=1162]="CallFunction",e[e.AccessMember=9323]="AccessMember",e[e.AccessKeyed=9324]="AccessKeyed",e[e.TaggedTemplate=1197]="TaggedTemplate",e[e.Binary=46]="Binary",e[e.Conditional=63]="Conditional",e[e.Assign=8208]="Assign",e[e.ValueConverter=36913]="ValueConverter",e[e.BindingBehavior=38962]="BindingBehavior",e[e.HtmlLiteral=51]="HtmlLiteral",e[e.ArrayBindingPattern=65556]="ArrayBindingPattern",e[e.ObjectBindingPattern=65557]="ObjectBindingPattern",e[e.BindingIdentifier=65558]="BindingIdentifier",e[e.ForOfStatement=6199]="ForOfStatement",e[e.Interpolation=24]="Interpolation"}(of||(of={}));class rf{constructor(){this.text=""}static unparse(e){const t=new rf;return e.accept(t),t.text}visitAccessMember(e){e.object.accept(this),this.text+=`.${e.name}`}visitAccessKeyed(e){e.object.accept(this),this.text+="[",e.key.accept(this),this.text+="]"}visitAccessThis(e){if(0===e.ancestor)return void(this.text+="$this");this.text+="$parent";let t=e.ancestor-1;for(;t--;)this.text+=".$parent"}visitAccessScope(e){let t=e.ancestor;for(;t--;)this.text+="$parent.";this.text+=e.name}visitArrayLiteral(e){const t=e.elements;this.text+="[";for(let e=0,n=t.length;e<n;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+="]"}visitObjectLiteral(e){const t=e.keys,n=e.values;this.text+="{";for(let e=0,i=t.length;e<i;++e)0!==e&&(this.text+=","),this.text+=`'${t[e]}':`,n[e].accept(this);this.text+="}"}visitPrimitiveLiteral(e){if(this.text+="(","string"==typeof e.value){const t=e.value.replace(/'/g,"\\'");this.text+=`'${t}'`}else this.text+=`${e.value}`;this.text+=")"}visitCallFunction(e){this.text+="(",e.func.accept(this),this.writeArgs(e.args),this.text+=")"}visitCallMember(e){this.text+="(",e.object.accept(this),this.text+=`.${e.name}`,this.writeArgs(e.args),this.text+=")"}visitCallScope(e){this.text+="(";let t=e.ancestor;for(;t--;)this.text+="$parent.";this.text+=e.name,this.writeArgs(e.args),this.text+=")"}visitTemplate(e){const{cooked:t,expressions:n}=e,i=n.length;this.text+="`",this.text+=t[0];for(let e=0;e<i;e++)n[e].accept(this),this.text+=t[e+1];this.text+="`"}visitTaggedTemplate(e){const{cooked:t,expressions:n}=e,i=n.length;e.func.accept(this),this.text+="`",this.text+=t[0];for(let e=0;e<i;e++)n[e].accept(this),this.text+=t[e+1];this.text+="`"}visitUnary(e){this.text+=`(${e.operation}`,e.operation.charCodeAt(0)>=97&&(this.text+=" "),e.expression.accept(this),this.text+=")"}visitBinary(e){this.text+="(",e.left.accept(this),105===e.operation.charCodeAt(0)?this.text+=` ${e.operation} `:this.text+=e.operation,e.right.accept(this),this.text+=")"}visitConditional(e){this.text+="(",e.condition.accept(this),this.text+="?",e.yes.accept(this),this.text+=":",e.no.accept(this),this.text+=")"}visitAssign(e){this.text+="(",e.target.accept(this),this.text+="=",e.value.accept(this),this.text+=")"}visitValueConverter(e){const t=e.args;e.expression.accept(this),this.text+=`|${e.name}`;for(let e=0,n=t.length;e<n;++e)this.text+=":",t[e].accept(this)}visitBindingBehavior(e){const t=e.args;e.expression.accept(this),this.text+=`&${e.name}`;for(let e=0,n=t.length;e<n;++e)this.text+=":",t[e].accept(this)}visitArrayBindingPattern(e){const t=e.elements;this.text+="[";for(let e=0,n=t.length;e<n;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+="]"}visitObjectBindingPattern(e){const t=e.keys,n=e.values;this.text+="{";for(let e=0,i=t.length;e<i;++e)0!==e&&(this.text+=","),this.text+=`'${t[e]}':`,n[e].accept(this);this.text+="}"}visitBindingIdentifier(e){this.text+=e.name}visitHtmlLiteral(e){throw new Error("visitHtmlLiteral")}visitForOfStatement(e){e.declaration.accept(this),this.text+=" of ",e.iterable.accept(this)}visitInterpolation(e){const{parts:t,expressions:n}=e,i=n.length;this.text+="${",this.text+=t[0];for(let e=0;e<i;e++)n[e].accept(this),this.text+=t[e+1];this.text+="}"}writeArgs(e){this.text+="(";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+=")"}}function af(e,t,n){if(e){if(null==n)throw new Error("Host scope is missing. Are you using `$host` outside the `au-slot`? Or missing the `au-slot` attribute?");return n}return t}class lf{constructor(e){this.value=e}evaluate(e,t,n,i,s){return this.value}}class cf{constructor(e,t,n){this.expression=e,this.name=t,this.args=n,this.behaviorKey=ef.keyFrom(t)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(e,t,n,i,s){return this.expression.evaluate(e,t,n,i,s)}assign(e,t,n,i,s){return this.expression.assign(e,t,n,i,s)}bind(e,t,n,i){this.expression.hasBind&&this.expression.bind(e,t,n,i);const s=i.locator.get(this.behaviorKey);if(null==s)throw new Error(`BindingBehavior named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(!(s instanceof Xg)){if(void 0!==i[this.behaviorKey])throw new Error(`BindingBehavior named '${this.name}' already applied.`);i[this.behaviorKey]=s,s.bind.call(s,e,t,n,i,...this.args.map((s=>s.evaluate(e,t,n,i.locator,null))))}}unbind(e,t,n,i){const s=this.behaviorKey,o=i;void 0!==o[s]&&("function"==typeof o[s].unbind&&o[s].unbind(e,t,n,i),o[s]=void 0),this.expression.hasUnbind&&this.expression.unbind(e,t,n,i)}accept(e){return e.visitBindingBehavior(this)}toString(){return rf.unparse(this)}}class uf{constructor(e,t,n){this.expression=e,this.name=t,this.args=n,this.converterKey=sf.keyFrom(t)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(e,t,n,i,s){const o=i.get(this.converterKey);if(null==o)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(null!==s&&"handleChange"in s){const e=o.signals;if(null!=e){const t=i.get(Kg);for(let n=0,i=e.length;n<i;++n)t.addSignalListener(e[n],s)}}return"toView"in o?o.toView(this.expression.evaluate(e,t,n,i,s),...this.args.map((o=>o.evaluate(e,t,n,i,s)))):this.expression.evaluate(e,t,n,i,s)}assign(e,t,n,i,s){const o=i.get(this.converterKey);if(null==o)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);return"fromView"in o&&(s=o.fromView(s,...this.args.map((s=>s.evaluate(e,t,n,i,null))))),this.expression.assign(e,t,n,i,s)}unbind(e,t,n,i){const s=i.locator.get(this.converterKey);if(void 0===s.signals)return;const o=i.locator.get(Kg);for(let e=0;e<s.signals.length;++e)o.removeSignalListener(s.signals[e],i)}accept(e){return e.visitValueConverter(this)}toString(){return rf.unparse(this)}}class hf{constructor(e,t){this.target=e,this.value=t}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){return this.target.assign(e,t,n,i,this.value.evaluate(e,t,n,i,s))}assign(e,t,n,i,s){return this.value.assign(e,t,n,i,s),this.target.assign(e,t,n,i,s)}accept(e){return e.visitAssign(this)}toString(){return rf.unparse(this)}}class df{constructor(e,t,n){this.condition=e,this.yes=t,this.no=n}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){return this.condition.evaluate(e,t,n,i,s)?this.yes.evaluate(e,t,n,i,s):this.no.evaluate(e,t,n,i,s)}assign(e,t,n,i,s){}accept(e){return e.visitConditional(this)}toString(){return rf.unparse(this)}}class pf{constructor(e=0){this.ancestor=e}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){var o;this===pf.$host&&(t=af(!0,t,n));let r=t.overrideContext,a=t,l=this.ancestor;for(;l--&&r;)a=a.parentScope,r=null!==(o=null==a?void 0:a.overrideContext)&&void 0!==o?o:null;return l<1&&r?r.bindingContext:void 0}assign(e,t,n,i,s){}accept(e){return e.visitAccessThis(this)}toString(){return rf.unparse(this)}}pf.$this=new pf(0),pf.$host=new pf(0),pf.$parent=new pf(1);class gf{constructor(e,t=0,n=!1){this.name=e,this.ancestor=t,this.accessHostScope=n}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o=Ug.get(af(this.accessHostScope,t,n),this.name,this.ancestor,e,n);null!==s&&s.observeProperty(o,this.name);const r=o[this.name];return 1&e?r:null==r?"":r}assign(e,t,n,i,s){var o;const r=Ug.get(af(this.accessHostScope,t,n),this.name,this.ancestor,e,n);if(r instanceof Object)return void 0!==(null===(o=r.$observers)||void 0===o?void 0:o[this.name])?(r.$observers[this.name].setValue(s,e),s):r[this.name]=s}accept(e){return e.visitAccessScope(this)}toString(){return rf.unparse(this)}}class ff{constructor(e,t){this.object=e,this.name=t}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o=this.object.evaluate(e,t,n,i,(128&e)>0?null:s);return 1&e?null==o?o:(null!==s&&s.observeProperty(o,this.name),o[this.name]):(null!==s&&o instanceof Object&&s.observeProperty(o,this.name),o?o[this.name]:"")}assign(e,t,n,i,s){const o=this.object.evaluate(e,t,n,i,null);return o instanceof Object?void 0!==o.$observers&&void 0!==o.$observers[this.name]?o.$observers[this.name].setValue(s,e):o[this.name]=s:this.object.assign(e,t,n,i,{[this.name]:s}),s}accept(e){return e.visitAccessMember(this)}toString(){return rf.unparse(this)}}class mf{constructor(e,t){this.object=e,this.key=t}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o=this.object.evaluate(e,t,n,i,(128&e)>0?null:s);if(o instanceof Object){const r=this.key.evaluate(e,t,n,i,(128&e)>0?null:s);return null!==s&&s.observeProperty(o,r),o[r]}}assign(e,t,n,i,s){return this.object.evaluate(e,t,n,i,null)[this.key.evaluate(e,t,n,i,null)]=s}accept(e){return e.visitAccessKeyed(this)}toString(){return rf.unparse(this)}}class vf{constructor(e,t,n=0,i=!1){this.name=e,this.args=t,this.ancestor=n,this.accessHostScope=i}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){t=af(this.accessHostScope,t,n);const o=this.args.map((o=>o.evaluate(e,t,n,i,s))),r=Ug.get(t,this.name,this.ancestor,e,n),a=jf(e,r,this.name);if(a)return a.apply(r,o)}assign(e,t,n,i,s){}accept(e){return e.visitCallScope(this)}toString(){return rf.unparse(this)}}class bf{constructor(e,t,n){this.object=e,this.name=t,this.args=n}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o=this.object.evaluate(e,t,n,i,(128&e)>0?null:s),r=this.args.map((o=>o.evaluate(e,t,n,i,s))),a=jf(e,o,this.name);if(a)return a.apply(o,r)}assign(e,t,n,i,s){}accept(e){return e.visitCallMember(this)}toString(){return rf.unparse(this)}}class yf{constructor(e,t){this.func=e,this.args=t}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o=this.func.evaluate(e,t,n,i,s);if("function"==typeof o)return o(...this.args.map((o=>o.evaluate(e,t,n,i,s))));if(8&e||null!=o)throw new Error("Expression is not a function.")}assign(e,t,n,i,s){}accept(e){return e.visitCallFunction(this)}toString(){return rf.unparse(this)}}class wf{constructor(e,t,n){this.operation=e,this.left=t,this.right=n}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){switch(this.operation){case"&&":return this.left.evaluate(e,t,n,i,s)&&this.right.evaluate(e,t,n,i,s);case"||":return this.left.evaluate(e,t,n,i,s)||this.right.evaluate(e,t,n,i,s);case"==":return this.left.evaluate(e,t,n,i,s)==this.right.evaluate(e,t,n,i,s);case"===":return this.left.evaluate(e,t,n,i,s)===this.right.evaluate(e,t,n,i,s);case"!=":return this.left.evaluate(e,t,n,i,s)!=this.right.evaluate(e,t,n,i,s);case"!==":return this.left.evaluate(e,t,n,i,s)!==this.right.evaluate(e,t,n,i,s);case"instanceof":{const o=this.right.evaluate(e,t,n,i,s);return"function"==typeof o&&this.left.evaluate(e,t,n,i,s)instanceof o}case"in":{const o=this.right.evaluate(e,t,n,i,s);return o instanceof Object&&this.left.evaluate(e,t,n,i,s)in o}case"+":{const o=this.left.evaluate(e,t,n,i,s),r=this.right.evaluate(e,t,n,i,s);if((1&e)>0)return o+r;if(!o||!r){if(Bd(o)||Bd(r))return(o||0)+(r||0);if(Hd(o)||Hd(r))return(o||"")+(r||"")}return o+r}case"-":return this.left.evaluate(e,t,n,i,s)-this.right.evaluate(e,t,n,i,s);case"*":return this.left.evaluate(e,t,n,i,s)*this.right.evaluate(e,t,n,i,s);case"/":return this.left.evaluate(e,t,n,i,s)/this.right.evaluate(e,t,n,i,s);case"%":return this.left.evaluate(e,t,n,i,s)%this.right.evaluate(e,t,n,i,s);case"<":return this.left.evaluate(e,t,n,i,s)<this.right.evaluate(e,t,n,i,s);case">":return this.left.evaluate(e,t,n,i,s)>this.right.evaluate(e,t,n,i,s);case"<=":return this.left.evaluate(e,t,n,i,s)<=this.right.evaluate(e,t,n,i,s);case">=":return this.left.evaluate(e,t,n,i,s)>=this.right.evaluate(e,t,n,i,s);default:throw new Error(`Unknown binary operator: '${this.operation}'`)}}assign(e,t,n,i,s){}accept(e){return e.visitBinary(this)}toString(){return rf.unparse(this)}}class xf{constructor(e,t){this.operation=e,this.expression=t}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){switch(this.operation){case"void":return void this.expression.evaluate(e,t,n,i,s);case"typeof":return typeof this.expression.evaluate(1|e,t,n,i,s);case"!":return!this.expression.evaluate(e,t,n,i,s);case"-":return-this.expression.evaluate(e,t,n,i,s);case"+":return+this.expression.evaluate(e,t,n,i,s);default:throw new Error(`Unknown unary operator: '${this.operation}'`)}}assign(e,t,n,i,s){}accept(e){return e.visitUnary(this)}toString(){return rf.unparse(this)}}class Cf{constructor(e){this.value=e}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){return this.value}assign(e,t,n,i,s){}accept(e){return e.visitPrimitiveLiteral(this)}toString(){return rf.unparse(this)}}Cf.$undefined=new Cf(void 0),Cf.$null=new Cf(null),Cf.$true=new Cf(!0),Cf.$false=new Cf(!1),Cf.$empty=new Cf("");class kf{constructor(e){this.elements=e}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){return this.elements.map((o=>o.evaluate(e,t,n,i,s)))}assign(e,t,n,i,s){}accept(e){return e.visitArrayLiteral(this)}toString(){return rf.unparse(this)}}kf.$empty=new kf(zp);class Sf{constructor(e,t){this.keys=e,this.values=t}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o={};for(let r=0;r<this.keys.length;++r)o[this.keys[r]]=this.values[r].evaluate(e,t,n,i,s);return o}assign(e,t,n,i,s){}accept(e){return e.visitObjectLiteral(this)}toString(){return rf.unparse(this)}}Sf.$empty=new Sf(zp,zp);class $f{constructor(e,t=zp){this.cooked=e,this.expressions=t}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){let o=this.cooked[0];for(let r=0;r<this.expressions.length;++r)o+=String(this.expressions[r].evaluate(e,t,n,i,s)),o+=this.cooked[r+1];return o}assign(e,t,n,i,s){}accept(e){return e.visitTemplate(this)}toString(){return rf.unparse(this)}}$f.$empty=new $f([""]);class Tf{constructor(e,t,n,i=zp){this.cooked=e,this.func=n,this.expressions=i,e.raw=t}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){const o=this.expressions.map((o=>o.evaluate(e,t,n,i,s))),r=this.func.evaluate(e,t,n,i,s);if("function"!=typeof r)throw new Error("Left-hand side of tagged template expression is not a function.");return r(this.cooked,...o)}assign(e,t,n,i,s){}accept(e){return e.visitTaggedTemplate(this)}toString(){return rf.unparse(this)}}class Af{constructor(e){this.elements=e}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){}assign(e,t,n,i,s){}accept(e){return e.visitArrayBindingPattern(this)}toString(){return rf.unparse(this)}}class Of{constructor(e,t){this.keys=e,this.values=t}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){}assign(e,t,n,i,s){}accept(e){return e.visitObjectBindingPattern(this)}toString(){return rf.unparse(this)}}class Ef{constructor(e){this.name=e}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){return this.name}accept(e){return e.visitBindingIdentifier(this)}toString(){return rf.unparse(this)}}const Pf=Object.prototype.toString;class Rf{constructor(e,t){this.declaration=e,this.iterable=t}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){return this.iterable.evaluate(e,t,n,i,s)}assign(e,t,n,i,s){}count(e,t){switch(Pf.call(t)){case"[object Array]":return t.length;case"[object Map]":case"[object Set]":return t.size;case"[object Number]":return t;case"[object Null]":case"[object Undefined]":return 0;default:throw new Error(`Cannot count ${Pf.call(t)}`)}}iterate(e,t,n){switch(Pf.call(t)){case"[object Array]":return Ff(t,n);case"[object Map]":return function(e,t){const n=Array(e.size);let i=-1;for(const t of e.entries())n[++i]=t;Ff(n,t)}(t,n);case"[object Set]":return function(e,t){const n=Array(e.size);let i=-1;for(const t of e.keys())n[++i]=t;Ff(n,t)}(t,n);case"[object Number]":return function(e,t){const n=Array(e);for(let t=0;t<e;++t)n[t]=t;Ff(n,t)}(t,n);case"[object Null]":case"[object Undefined]":return;default:throw new Error(`Cannot iterate over ${Pf.call(t)}`)}}bind(e,t,n,i){this.iterable.hasBind&&this.iterable.bind(e,t,n,i)}unbind(e,t,n,i){this.iterable.hasUnbind&&this.iterable.unbind(e,t,n,i)}accept(e){return e.visitForOfStatement(this)}toString(){return rf.unparse(this)}}class If{constructor(e,t=zp){this.parts=e,this.expressions=t,this.isMulti=t.length>1,this.firstExpression=t[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i,s){if(this.isMulti){let o=this.parts[0];for(let r=0;r<this.expressions.length;++r)o+=String(this.expressions[r].evaluate(e,t,n,i,s)),o+=this.parts[r+1];return o}return`${this.parts[0]}${this.firstExpression.evaluate(e,t,n,i,s)}${this.parts[1]}`}assign(e,t,n,i,s){}accept(e){return e.visitInterpolation(this)}toString(){return rf.unparse(this)}}function jf(e,t,n){const i=null==t?null:t[n];if("function"==typeof i)return i;if(!(8&e)&&null==i)return null;throw new Error(`Expected '${n}' to be a function`)}function Ff(e,t){for(let n=0,i=e.length;n<i;++n)t(e,n,e[n])}const Lf=Reflect.defineProperty;function Df(e,t,n){Lf(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function Nf(e,t,n,i=!1){!i&&Object.prototype.hasOwnProperty.call(e,t)||Df(e,t,n)}var Mf,Bf,Hf,Vf,qf,Uf,zf;function _f(e=0){const t=Array(e);let n=0;for(;n<e;)t[n]=n++;return t.deletedItems=[],t.isIndexMap=!0,t}function Wf(e){return null==e?Kf:Kf(e)}function Kf(e){const t=e.prototype;Lf(t,"subs",{get:Yf}),Nf(t,"subscribe",Qf),Nf(t,"unsubscribe",Zf)}(zf=Mf||(Mf={}))[zf.oneTime=1]="oneTime",zf[zf.toView=2]="toView",zf[zf.fromView=4]="fromView",zf[zf.twoWay=6]="twoWay",zf[zf.default=8]="default",function(e){e[e.none=0]="none",e[e.persistentBindingFlags=961]="persistentBindingFlags",e[e.allowParentScopeTraversal=64]="allowParentScopeTraversal",e[e.observeLeafPropertiesOnly=128]="observeLeafPropertiesOnly",e[e.targetObserverFlags=769]="targetObserverFlags",e[e.noFlush=256]="noFlush",e[e.persistentTargetObserverQueue=512]="persistentTargetObserverQueue",e[e.bindingStrategy=1]="bindingStrategy",e[e.isStrictBindingStrategy=1]="isStrictBindingStrategy",e[e.fromBind=2]="fromBind",e[e.fromUnbind=4]="fromUnbind",e[e.mustEvaluate=8]="mustEvaluate",e[e.isTraversingParentScope=16]="isTraversingParentScope",e[e.dispose=32]="dispose"}(Bf||(Bf={})),function(e){e[e.None=0]="None",e[e.Subscriber0=1]="Subscriber0",e[e.Subscriber1=2]="Subscriber1",e[e.Subscriber2=4]="Subscriber2",e[e.SubscribersRest=8]="SubscribersRest",e[e.Any=15]="Any"}(Hf||(Hf={})),function(e){e[e.none=0]="none",e[e.capturing=1]="capturing",e[e.bubbling=2]="bubbling"}(Vf||(Vf={})),function(e){e[e.indexed=8]="indexed",e[e.keyed=4]="keyed",e[e.array=9]="array",e[e.map=6]="map",e[e.set=7]="set"}(qf||(qf={})),function(e){e[e.None=0]="None",e[e.Observer=1]="Observer",e[e.Node=2]="Node",e[e.Layout=4]="Layout",e[e.Primtive=8]="Primtive",e[e.Array=18]="Array",e[e.Set=34]="Set",e[e.Map=66]="Map"}(Uf||(Uf={}));class Gf{constructor(){this._sf=0,this.count=0}add(e){if(this.has(e))return!1;const t=this._sf;return 0==(1&t)?(this._s0=e,this._sf|=1):0==(2&t)?(this._s1=e,this._sf|=2):0==(4&t)?(this._s2=e,this._sf|=4):0==(8&t)?(this._sr=[e],this._sf|=8):this._sr.push(e),++this.count,!0}has(e){const t=this._sf;if((1&t)>0&&this._s0===e)return!0;if((2&t)>0&&this._s1===e)return!0;if((4&t)>0&&this._s2===e)return!0;if((8&t)>0){const t=this._sr,n=t.length;let i=0;for(;i<n;++i)if(t[i]===e)return!0}return!1}any(){return 0!==this._sf}remove(e){const t=this._sf;if((1&t)>0&&this._s0===e)return this._s0=void 0,this._sf=1^(1|this._sf),--this.count,!0;if((2&t)>0&&this._s1===e)return this._s1=void 0,this._sf=2^(2|this._sf),--this.count,!0;if((4&t)>0&&this._s2===e)return this._s2=void 0,this._sf=4^(4|this._sf),--this.count,!0;if((8&t)>0){const t=this._sr,n=t.length;let i=0;for(;i<n;++i)if(t[i]===e)return t.splice(i,1),1===n&&(this._sf=8^(8|this._sf)),--this.count,!0}return!1}notify(e,t,n){const i=this._s0,s=this._s1,o=this._s2;let r=this._sr;if(void 0!==r&&(r=r.slice()),void 0!==i&&i.handleChange(e,t,n),void 0!==s&&s.handleChange(e,t,n),void 0!==o&&o.handleChange(e,t,n),void 0!==r){const i=r.length;let s,o=0;for(;o<i;++o)s=r[o],void 0!==s&&s.handleChange(e,t,n)}}notifyCollection(e,t){const n=this._s0,i=this._s1,s=this._s2;let o=this._sr;if(void 0!==o&&(o=o.slice()),void 0!==n&&n.handleCollectionChange(e,t),void 0!==i&&i.handleCollectionChange(e,t),void 0!==s&&s.handleCollectionChange(e,t),void 0!==o){const n=o.length;let i,s=0;for(;s<n;++s)i=o[s],void 0!==i&&i.handleCollectionChange(e,t)}}}function Yf(){const e=new Gf;return Df(this,"subs",e),e}function Qf(e){return this.subs.add(e)}function Zf(e){return this.subs.remove(e)}function Xf(e){return null==e?Jf:Jf(e)}function Jf(e){const t=e.prototype;Lf(t,"queue",{get:tm})}class em{constructor(){this.flushing=!1,this.items=new Set}get count(){return this.items.size}add(e){if(this.items.add(e),this.flushing)return;this.flushing=!0;const t=this.items;let n;try{for(n of t)t.delete(n),n.flush()}finally{this.flushing=!1}}clear(){this.items.clear(),this.flushing=!1}}function tm(){return em.instance}em.instance=new em;class nm{constructor(e){this.owner=e,this.f=0,this.type=18,this.value=this.oldvalue=(this.obj=e.collection).length}getValue(){return this.obj.length}setValue(e,t){const n=this.value;e!==n&&Md(e)&&(0==(256&t)&&(this.obj.length=e),this.value=e,this.oldvalue=n,this.f=t,this.queue.add(this))}handleCollectionChange(e,t){const n=this.value,i=this.obj.length;(this.value=i)!==n&&(this.oldvalue=n,this.f=t,this.queue.add(this))}flush(){am=this.oldvalue,this.oldvalue=this.value,this.subs.notify(this.value,am,this.f)}}class im{constructor(e){this.owner=e,this.f=0,this.value=this.oldvalue=(this.obj=e.collection).size,this.type=this.obj instanceof Map?66:34}getValue(){return this.obj.size}setValue(){throw new Error('Map/Set "size" is a readonly property')}handleCollectionChange(e,t){const n=this.value,i=this.obj.size;(this.value=i)!==n&&(this.oldvalue=n,this.f=t,this.queue.add(this))}flush(){am=this.oldvalue,this.oldvalue=this.value,this.subs.notify(this.value,am,this.f)}}function sm(e){const t=e.prototype;Nf(t,"subscribe",om,!0),Nf(t,"unsubscribe",rm,!0),Xf(e),Wf(e)}function om(e){this.subs.add(e)&&1===this.subs.count&&this.owner.subscribe(this)}function rm(e){this.subs.remove(e)&&0===this.subs.count&&this.owner.subscribe(this)}let am;sm(nm),sm(im);const lm=new WeakMap;function cm(e,t){return e===t?0:(e=null===e?"null":e.toString())<(t=null===t?"null":t.toString())?-1:1}function um(e,t){return void 0===e?void 0===t?0:1:void 0===t?-1:0}function hm(e,t,n,i,s){let o,r,a,l,c,u,h;for(u=n+1;u<i;u++){for(o=e[u],r=t[u],h=u-1;h>=n&&(a=e[h],l=t[h],c=s(a,o),c>0);h--)e[h+1]=a,t[h+1]=l;e[h+1]=o,t[h+1]=r}}function dm(e,t,n,i,s){let o,r,a,l,c,u,h,d,p,g,f,m,v,b,y,w,x,C,k,S=0,$=0;for(;;){if(i-n<=10)return void hm(e,t,n,i,s);S=n+(i-n>>1),o=e[n],l=t[n],r=e[i-1],c=t[i-1],a=e[S],u=t[S],h=s(o,r),h>0&&(g=o,f=l,o=r,l=c,r=g,c=f),d=s(o,a),d>=0?(g=o,f=l,o=a,l=u,a=r,u=c,r=g,c=f):(p=s(r,a),p>0&&(g=r,f=c,r=a,c=u,a=g,u=f)),e[n]=o,t[n]=l,e[i-1]=a,t[i-1]=u,m=r,v=c,b=n+1,y=i-1,e[S]=e[b],t[S]=t[b],e[b]=m,t[b]=v;e:for($=b+1;$<y;$++)if(w=e[$],x=t[$],C=s(w,m),C<0)e[$]=e[b],t[$]=t[b],e[b]=w,t[b]=x,b++;else if(C>0){do{if(y--,y==$)break e;k=e[y],C=s(k,m)}while(C>0);e[$]=e[y],t[$]=t[y],e[y]=w,t[y]=x,C<0&&(w=e[$],x=t[$],e[$]=e[b],t[$]=t[b],e[b]=w,t[b]=x,b++)}i-y<b-n?(dm(e,t,y,i,s),i=b):(dm(e,t,n,b,s),n=y)}}const pm=Array.prototype,gm=pm.push,fm=pm.unshift,mm=pm.pop,vm=pm.shift,bm=pm.splice,ym=pm.reverse,wm=pm.sort,xm=["push","unshift","pop","shift","splice","reverse","sort"],Cm={push:function(...e){const t=lm.get(this);if(void 0===t)return gm.apply(this,e);const n=this.length,i=e.length;if(0===i)return n;this.length=t.indexMap.length=n+i;let s=n;for(;s<this.length;)this[s]=e[s-n],t.indexMap[s]=-2,s++;return t.notify(),this.length},unshift:function(...e){const t=lm.get(this);if(void 0===t)return fm.apply(this,e);const n=e.length,i=new Array(n);let s=0;for(;s<n;)i[s++]=-2;fm.apply(t.indexMap,i);const o=fm.apply(this,e);return t.notify(),o},pop:function(){const e=lm.get(this);if(void 0===e)return mm.call(this);const t=e.indexMap,n=mm.call(this),i=t.length-1;return t[i]>-1&&t.deletedItems.push(t[i]),mm.call(t),e.notify(),n},shift:function(){const e=lm.get(this);if(void 0===e)return vm.call(this);const t=e.indexMap,n=vm.call(this);return t[0]>-1&&t.deletedItems.push(t[0]),vm.call(t),e.notify(),n},splice:function(...e){const t=e[0],n=e[1],i=lm.get(this);if(void 0===i)return bm.apply(this,e);const s=this.length,o=0|t,r=o<0?Math.max(s+o,0):Math.min(o,s),a=i.indexMap,l=e.length,c=0===l?0:1===l?s-r:n;if(c>0){let e=r;const t=e+c;for(;e<t;)a[e]>-1&&a.deletedItems.push(a[e]),e++}if(l>2){const e=l-2,i=new Array(e);let s=0;for(;s<e;)i[s++]=-2;bm.call(a,t,n,...i)}else bm.apply(a,e);const u=bm.apply(this,e);return i.notify(),u},reverse:function(){const e=lm.get(this);if(void 0===e)return ym.call(this),this;const t=this.length,n=t/2|0;let i=0;for(;i!==n;){const n=t-i-1,s=this[i],o=e.indexMap[i],r=this[n],a=e.indexMap[n];this[i]=r,e.indexMap[i]=a,this[n]=s,e.indexMap[n]=o,i++}return e.notify(),this},sort:function(e){const t=lm.get(this);if(void 0===t)return wm.call(this,e),this;const n=this.length;if(n<2)return this;dm(this,t.indexMap,0,n,um);let i=0;for(;i<n&&void 0!==this[i];)i++;return void 0!==e&&"function"==typeof e||(e=cm),dm(this,t.indexMap,0,i,e),t.notify(),this}};for(const e of xm)Lf(Cm[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let km=!1;class Sm{constructor(e){this.type=18,km||(km=!0,function(){for(const e of xm)!0!==pm[e].observing&&Df(pm,e,Cm[e])}()),this.indexObservers={},this.collection=e,this.indexMap=_f(e.length),this.lenObs=void 0,lm.set(e,this)}notify(){const e=this.indexMap,t=this.collection.length;this.indexMap=_f(t),this.subs.notifyCollection(e,0)}getLengthObserver(){var e;return null!==(e=this.lenObs)&&void 0!==e?e:this.lenObs=new nm(this)}getIndexObserver(e){var t,n;return null!==(t=(n=this.indexObservers)[e])&&void 0!==t?t:n[e]=new $m(this,e)}}class $m{constructor(e,t){this.owner=e,this.index=t,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(e,t){if(e===this.getValue())return;const n=this.owner,i=this.index,s=n.indexMap;s[i]>-1&&s.deletedItems.push(s[i]),s[i]=-2,n.collection[i]=e,n.notify()}handleCollectionChange(e,t){const n=this.index;if(e[n]===n)return;const i=this.value,s=this.value=this.getValue();i!==s&&this.subs.notify(s,i,t)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function Tm(e){let t=lm.get(e);return void 0===t&&(t=new Sm(e)),t}Wf(Sm),Wf($m);const Am=new WeakMap,Om=Set.prototype,Em=Om.add,Pm=Om.clear,Rm=Om.delete,Im=["add","clear","delete"],jm={add:function(e){const t=Am.get(this);if(void 0===t)return Em.call(this,e),this;const n=this.size;return Em.call(this,e),this.size===n||(t.indexMap[n]=-2,t.notify()),this},clear:function(){const e=Am.get(this);if(void 0===e)return Pm.call(this);if(this.size>0){const t=e.indexMap;let n=0;for(const e of this.keys())t[n]>-1&&t.deletedItems.push(t[n]),n++;Pm.call(this),t.length=0,e.notify()}},delete:function(e){const t=Am.get(this);if(void 0===t)return Rm.call(this,e);if(0===this.size)return!1;let n=0;const i=t.indexMap;for(const s of this.keys()){if(s===e){i[n]>-1&&i.deletedItems.push(i[n]),i.splice(n,1);const s=Rm.call(this,e);return!0===s&&t.notify(),s}n++}return!1}},Fm={writable:!0,enumerable:!1,configurable:!0};for(const e of Im)Lf(jm[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Lm=!1;class Dm{constructor(e){this.type=34,Lm||(Lm=!0,function(){for(const e of Im)!0!==Om[e].observing&&Lf(Om,e,{...Fm,value:jm[e]})}()),this.collection=e,this.indexMap=_f(e.size),this.lenObs=void 0,Am.set(e,this)}notify(){const e=this.indexMap,t=this.collection.size;this.indexMap=_f(t),this.subs.notifyCollection(e,0)}getLengthObserver(){var e;return null!==(e=this.lenObs)&&void 0!==e?e:this.lenObs=new im(this)}}function Nm(e){let t=Am.get(e);return void 0===t&&(t=new Dm(e)),t}Wf(Dm);const Mm=new WeakMap,Bm=Map.prototype,Hm=Bm.set,Vm=Bm.clear,qm=Bm.delete,Um=["set","clear","delete"],zm={set:function(e,t){const n=Mm.get(this);if(void 0===n)return Hm.call(this,e,t),this;const i=this.get(e),s=this.size;if(Hm.call(this,e,t),this.size===s){let t=0;for(const s of this.entries()){if(s[0]===e)return s[1]!==i&&(n.indexMap.deletedItems.push(n.indexMap[t]),n.indexMap[t]=-2,n.notify()),this;t++}return this}return n.indexMap[s]=-2,n.notify(),this},clear:function(){const e=Mm.get(this);if(void 0===e)return Vm.call(this);if(this.size>0){const t=e.indexMap;let n=0;for(const e of this.keys())t[n]>-1&&t.deletedItems.push(t[n]),n++;Vm.call(this),t.length=0,e.notify()}},delete:function(e){const t=Mm.get(this);if(void 0===t)return qm.call(this,e);if(0===this.size)return!1;let n=0;const i=t.indexMap;for(const s of this.keys()){if(s===e){i[n]>-1&&i.deletedItems.push(i[n]),i.splice(n,1);const s=qm.call(this,e);return!0===s&&t.notify(),s}++n}return!1}},_m={writable:!0,enumerable:!1,configurable:!0};for(const e of Um)Lf(zm[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Wm=!1;class Km{constructor(e){this.type=66,Wm||(Wm=!0,function(){for(const e of Um)!0!==Bm[e].observing&&Lf(Bm,e,{..._m,value:zm[e]})}()),this.collection=e,this.indexMap=_f(e.size),this.lenObs=void 0,Mm.set(e,this)}notify(){const e=this.indexMap,t=this.collection.size;this.indexMap=_f(t),this.subs.notifyCollection(e,0)}getLengthObserver(){var e;return null!==(e=this.lenObs)&&void 0!==e?e:this.lenObs=new im(this)}}function Gm(e){let t=Mm.get(e);return void 0===t&&(t=new Km(e)),t}function Ym(e,t){const n=this.observerLocator.getObserver(e,t);this.obs.add(n)}function Qm(){const e=new tv(this);return Df(this,"obs",e),e}function Zm(e){let t;if(e instanceof Array)t=Tm(e);else if(e instanceof Set)t=Nm(e);else{if(!(e instanceof Map))throw new Error("Unrecognised collection type.");t=Gm(e)}this.obs.add(t)}function Xm(e){this.obs.add(e)}function Jm(){throw new Error('method "handleChange" not implemented')}function ev(){throw new Error('method "handleCollectionChange" not implemented')}Wf(Km);class tv{constructor(e){this.binding=e,this.version=0,this.count=0,this.slots=0}handleChange(e,t,n){return this.binding.interceptor.handleChange(e,t,n)}handleCollectionChange(e,t){this.binding.interceptor.handleCollectionChange(e,t)}add(e){const t=this.slots;let n=t;for(;n--&&this[`_o${n}`]!==e;);if(-1===n){for(n=0;void 0!==this[`_o${n}`];)n++;this[`_o${n}`]=e,e.subscribe(this),n===t&&(this.slots=n+1),++this.count}this[`_v${n}`]=this.version}clear(e){const t=this.slots;let n,i,s=0;if(!0===e){for(;s<t;++s)n=`_o${s}`,i=this[n],void 0!==i&&(this[n]=void 0,i.unsubscribe(this));this.count=this.slots=0}else for(;s<t;++s)this[`_v${s}`]!==this.version&&(n=`_o${s}`,i=this[n],void 0!==i&&(this[n]=void 0,i.unsubscribe(this),this.count--))}}function nv(e){const t=e.prototype;return Nf(t,"observeProperty",Ym,!0),Nf(t,"observeCollection",Zm,!0),Nf(t,"subscribeTo",Xm,!0),Lf(t,"obs",{get:Qm}),Nf(t,"handleChange",Jm),Nf(t,"handleCollectionChange",ev),e}function iv(e){return null==e?nv:nv(e)}nv(class{constructor(e,t,n,i){this.key=e,this.binding=t,this.observerLocator=n,this.locator=i,this.interceptor=this}$bind(e,t,n,i){throw new Error("Method not implemented.")}$unbind(e){throw new Error("Method not implemented.")}handleChange(e,t,n){this.binding[this.key](e,t,n)}});const sv=gp.createInterface("IExpressionParser",(e=>e.singleton(ov)));class ov{constructor(){this.expressionLookup=Object.create(null),this.forOfLookup=Object.create(null),this.interpolationLookup=Object.create(null)}parse(e,t){switch(t){case 2048:{let n=this.interpolationLookup[e];return void 0===n&&(n=this.interpolationLookup[e]=this.$parse(e,t)),n}case 539:{let n=this.forOfLookup[e];return void 0===n&&(n=this.forOfLookup[e]=this.$parse(e,t)),n}default:{if(0===e.length&&55&t)return Cf.$empty;let n=this.expressionLookup[e];return void 0===n&&(n=this.expressionLookup[e]=this.$parse(e,t)),n}}}$parse(e,t){return yv.input=e,yv.length=e.length,yv.index=0,yv.currentChar=e.charCodeAt(0),wv(yv,0,61,void 0===t?53:t)}}var rv,av,lv,cv;function uv(e){switch(e){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return e}}!function(e){e[e.Null=0]="Null",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.LineFeed=10]="LineFeed",e[e.VerticalTab=11]="VerticalTab",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.Exclamation=33]="Exclamation",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dollar=36]="Dollar",e[e.Percent=37]="Percent",e[e.Ampersand=38]="Ampersand",e[e.SingleQuote=39]="SingleQuote",e[e.OpenParen=40]="OpenParen",e[e.CloseParen=41]="CloseParen",e[e.Asterisk=42]="Asterisk",e[e.Plus=43]="Plus",e[e.Comma=44]="Comma",e[e.Minus=45]="Minus",e[e.Dot=46]="Dot",e[e.Slash=47]="Slash",e[e.Semicolon=59]="Semicolon",e[e.Backtick=96]="Backtick",e[e.OpenBracket=91]="OpenBracket",e[e.Backslash=92]="Backslash",e[e.CloseBracket=93]="CloseBracket",e[e.Caret=94]="Caret",e[e.Underscore=95]="Underscore",e[e.OpenBrace=123]="OpenBrace",e[e.Bar=124]="Bar",e[e.CloseBrace=125]="CloseBrace",e[e.Colon=58]="Colon",e[e.LessThan=60]="LessThan",e[e.Equals=61]="Equals",e[e.GreaterThan=62]="GreaterThan",e[e.Question=63]="Question",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine",e[e.UpperA=65]="UpperA",e[e.UpperB=66]="UpperB",e[e.UpperC=67]="UpperC",e[e.UpperD=68]="UpperD",e[e.UpperE=69]="UpperE",e[e.UpperF=70]="UpperF",e[e.UpperG=71]="UpperG",e[e.UpperH=72]="UpperH",e[e.UpperI=73]="UpperI",e[e.UpperJ=74]="UpperJ",e[e.UpperK=75]="UpperK",e[e.UpperL=76]="UpperL",e[e.UpperM=77]="UpperM",e[e.UpperN=78]="UpperN",e[e.UpperO=79]="UpperO",e[e.UpperP=80]="UpperP",e[e.UpperQ=81]="UpperQ",e[e.UpperR=82]="UpperR",e[e.UpperS=83]="UpperS",e[e.UpperT=84]="UpperT",e[e.UpperU=85]="UpperU",e[e.UpperV=86]="UpperV",e[e.UpperW=87]="UpperW",e[e.UpperX=88]="UpperX",e[e.UpperY=89]="UpperY",e[e.UpperZ=90]="UpperZ",e[e.LowerA=97]="LowerA",e[e.LowerB=98]="LowerB",e[e.LowerC=99]="LowerC",e[e.LowerD=100]="LowerD",e[e.LowerE=101]="LowerE",e[e.LowerF=102]="LowerF",e[e.LowerG=103]="LowerG",e[e.LowerH=104]="LowerH",e[e.LowerI=105]="LowerI",e[e.LowerJ=106]="LowerJ",e[e.LowerK=107]="LowerK",e[e.LowerL=108]="LowerL",e[e.LowerM=109]="LowerM",e[e.LowerN=110]="LowerN",e[e.LowerO=111]="LowerO",e[e.LowerP=112]="LowerP",e[e.LowerQ=113]="LowerQ",e[e.LowerR=114]="LowerR",e[e.LowerS=115]="LowerS",e[e.LowerT=116]="LowerT",e[e.LowerU=117]="LowerU",e[e.LowerV=118]="LowerV",e[e.LowerW=119]="LowerW",e[e.LowerX=120]="LowerX",e[e.LowerY=121]="LowerY",e[e.LowerZ=122]="LowerZ"}(rv||(rv={})),function(e){e[e.Reset=0]="Reset",e[e.Ancestor=511]="Ancestor",e[e.This=512]="This",e[e.Scope=1024]="Scope",e[e.Member=2048]="Member",e[e.Keyed=4096]="Keyed"}(av||(av={})),function(e){e[e.Variadic=61]="Variadic",e[e.Assign=62]="Assign",e[e.Conditional=63]="Conditional",e[e.LogicalOR=64]="LogicalOR",e[e.LogicalAND=128]="LogicalAND",e[e.Equality=192]="Equality",e[e.Relational=256]="Relational",e[e.Additive=320]="Additive",e[e.Multiplicative=384]="Multiplicative",e[e.Binary=448]="Binary",e[e.LeftHandSide=449]="LeftHandSide",e[e.Primary=450]="Primary",e[e.Unary=451]="Unary"}(lv||(lv={})),function(e){e[e.EOF=1572864]="EOF",e[e.ExpressionTerminal=1048576]="ExpressionTerminal",e[e.AccessScopeTerminal=524288]="AccessScopeTerminal",e[e.ClosingToken=262144]="ClosingToken",e[e.OpeningToken=131072]="OpeningToken",e[e.BinaryOp=65536]="BinaryOp",e[e.UnaryOp=32768]="UnaryOp",e[e.LeftHandSide=16384]="LeftHandSide",e[e.StringOrNumericLiteral=12288]="StringOrNumericLiteral",e[e.NumericLiteral=8192]="NumericLiteral",e[e.StringLiteral=4096]="StringLiteral",e[e.IdentifierName=3072]="IdentifierName",e[e.Keyword=2048]="Keyword",e[e.Identifier=1024]="Identifier",e[e.Contextual=512]="Contextual",e[e.Precedence=448]="Precedence",e[e.Type=63]="Type",e[e.FalseKeyword=2048]="FalseKeyword",e[e.TrueKeyword=2049]="TrueKeyword",e[e.NullKeyword=2050]="NullKeyword",e[e.UndefinedKeyword=2051]="UndefinedKeyword",e[e.ThisScope=3076]="ThisScope",e[e.HostScope=3077]="HostScope",e[e.ParentScope=3078]="ParentScope",e[e.OpenParen=671751]="OpenParen",e[e.OpenBrace=131080]="OpenBrace",e[e.Dot=16393]="Dot",e[e.CloseBrace=1835018]="CloseBrace",e[e.CloseParen=1835019]="CloseParen",e[e.Comma=1572876]="Comma",e[e.OpenBracket=671757]="OpenBracket",e[e.CloseBracket=1835022]="CloseBracket",e[e.Colon=1572879]="Colon",e[e.Question=1572880]="Question",e[e.Ampersand=1572883]="Ampersand",e[e.Bar=1572884]="Bar",e[e.BarBar=1638549]="BarBar",e[e.AmpersandAmpersand=1638614]="AmpersandAmpersand",e[e.EqualsEquals=1638679]="EqualsEquals",e[e.ExclamationEquals=1638680]="ExclamationEquals",e[e.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",e[e.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",e[e.LessThan=1638747]="LessThan",e[e.GreaterThan=1638748]="GreaterThan",e[e.LessThanEquals=1638749]="LessThanEquals",e[e.GreaterThanEquals=1638750]="GreaterThanEquals",e[e.InKeyword=1640799]="InKeyword",e[e.InstanceOfKeyword=1640800]="InstanceOfKeyword",e[e.Plus=623009]="Plus",e[e.Minus=623010]="Minus",e[e.TypeofKeyword=34851]="TypeofKeyword",e[e.VoidKeyword=34852]="VoidKeyword",e[e.Asterisk=1638885]="Asterisk",e[e.Percent=1638886]="Percent",e[e.Slash=1638887]="Slash",e[e.Equals=1048616]="Equals",e[e.Exclamation=32809]="Exclamation",e[e.TemplateTail=540714]="TemplateTail",e[e.TemplateContinuation=540715]="TemplateContinuation",e[e.OfKeyword=1051180]="OfKeyword"}(cv||(cv={}));const hv=Cf.$false,dv=Cf.$true,pv=Cf.$null,gv=Cf.$undefined,fv=pf.$this,mv=pf.$host,vv=pf.$parent;var bv;!function(e){e[e.None=0]="None",e[e.IgnoreAttr=4096]="IgnoreAttr",e[e.Interpolation=2048]="Interpolation",e[e.IsRef=5376]="IsRef",e[e.IsIterator=512]="IsIterator",e[e.IsCustom=256]="IsCustom",e[e.IsFunction=128]="IsFunction",e[e.IsEvent=64]="IsEvent",e[e.IsProperty=32]="IsProperty",e[e.IsCommand=16]="IsCommand",e[e.IsPropertyCommand=48]="IsPropertyCommand",e[e.IsEventCommand=80]="IsEventCommand",e[e.DelegationStrategyDelta=6]="DelegationStrategyDelta",e[e.Command=15]="Command",e[e.OneTimeCommand=49]="OneTimeCommand",e[e.ToViewCommand=50]="ToViewCommand",e[e.FromViewCommand=51]="FromViewCommand",e[e.TwoWayCommand=52]="TwoWayCommand",e[e.BindCommand=53]="BindCommand",e[e.TriggerCommand=4182]="TriggerCommand",e[e.CaptureCommand=4183]="CaptureCommand",e[e.DelegateCommand=4184]="DelegateCommand",e[e.CallCommand=153]="CallCommand",e[e.OptionsCommand=26]="OptionsCommand",e[e.ForCommand=539]="ForCommand",e[e.CustomCommand=284]="CustomCommand"}(bv||(bv={}));const yv=new class{constructor(e){this.input=e,this.index=0,this.startIndex=0,this.lastIndex=0,this.currentToken=1572864,this.tokenValue="",this.assignable=!0,this.length=e.length,this.currentChar=e.charCodeAt(0)}get tokenRaw(){return this.input.slice(this.startIndex,this.index)}}("");function wv(e,t,n,i){if(284===i)return new lf(e.input);if(0===e.index){if(2048&i)return function(e){const t=[],n=[],i=e.length;let s="";for(;e.index<i;){switch(e.currentChar){case 36:if(123===e.input.charCodeAt(e.index+1)){t.push(s),s="",e.index+=2,e.currentChar=e.input.charCodeAt(e.index),Cv(e);const i=wv(e,0,61,2048);n.push(i);continue}s+="$";break;case 92:s+=String.fromCharCode(uv(kv(e)));break;default:s+=String.fromCharCode(e.currentChar)}kv(e)}return n.length?(t.push(s),new If(t,n)):null}(e);if(Cv(e),1048576&e.currentToken)throw new Error(`Invalid start of expression: '${e.input}'`)}let s;if(e.assignable=448>n,32768&e.currentToken){const n=Ev[63&e.currentToken];Cv(e),s=new xf(n,wv(e,t,449,i)),e.assignable=!1}else{e:switch(e.currentToken){case 3078:e.assignable=!1;do{if(Cv(e),t++,!Av(e,16393)){if(524288&e.currentToken){const e=511&t;s=0===e?fv:1===e?vv:new pf(e),t=512;break e}throw new Error(`Invalid member expression: '${e.input}'`)}if(16393===e.currentToken)throw new Error(`Double dot and spread operators are not supported: '${e.input}'`);if(1572864===e.currentToken)throw new Error(`Expected identifier: '${e.input}'`)}while(3078===e.currentToken);case 1024:512&i?s=new Ef(e.tokenValue):(s=new gf(e.tokenValue,511&t),t=1024),e.assignable=!0,Cv(e);break;case 3076:e.assignable=!1,Cv(e),s=fv,t=512;break;case 3077:e.assignable=!1,Cv(e),s=mv,t=512;break;case 671751:Cv(e),s=wv(e,0,62,i),Ov(e,1835019),t=0;break;case 671757:s=function(e,t,n){Cv(e);const i=new Array;for(;1835022!==e.currentToken;)if(Av(e,1572876)){if(i.push(gv),1835022===e.currentToken)break}else{if(i.push(wv(e,t,62,-513&n)),!Av(e,1572876))break;if(1835022===e.currentToken)break}return Ov(e,1835022),512&n?new Af(i):(e.assignable=!1,new kf(i))}(e,t,i),t=0;break;case 131080:s=function(e,t){const n=new Array,i=new Array;for(Cv(e);1835018!==e.currentToken;){if(n.push(e.tokenValue),12288&e.currentToken)Cv(e),Ov(e,1572879),i.push(wv(e,0,62,-513&t));else{if(!(3072&e.currentToken))throw new Error(`Invalid or unsupported property definition in object literal: '${e.input}'`);{const{currentChar:n,currentToken:s,index:o}=e;Cv(e),Av(e,1572879)?i.push(wv(e,0,62,-513&t)):(e.currentChar=n,e.currentToken=s,e.index=o,i.push(wv(e,0,450,-513&t)))}}1835018!==e.currentToken&&Ov(e,1572876)}return Ov(e,1835018),512&t?new Of(n,i):(e.assignable=!1,new Sf(n,i))}(e,i),t=0;break;case 540714:s=new $f([e.tokenValue]),e.assignable=!1,Cv(e),t=0;break;case 540715:s=xv(e,t,i,s,!1),t=0;break;case 4096:case 8192:s=new Cf(e.tokenValue),e.assignable=!1,Cv(e),t=0;break;case 2050:case 2051:case 2049:case 2048:s=Ev[63&e.currentToken],e.assignable=!1,Cv(e),t=0;break;default:throw e.index>=e.length?new Error(`Unexpected end of expression: '${e.input}'`):new Error(`Unconsumed token: '${e.input}'`)}if(512&i)return function(e,t){if(0==(65536&t.$kind))throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${e.input}'`);if(1051180!==e.currentToken)throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${e.input}'`);Cv(e);const n=t,i=wv(e,0,61,0);return new Rf(n,i)}(e,s);if(449<n)return s;let o=e.tokenValue;for(;(16384&e.currentToken)>0;){const n=[];let r;switch(e.currentToken){case 16393:if(e.assignable=!0,Cv(e),0==(3072&e.currentToken))throw new Error(`Expected identifier: '${e.input}'`);if(o=e.tokenValue,Cv(e),t=(1536&t)<<1|2048&t|(4096&t)>>1,671751===e.currentToken){0===t&&(t=2048);continue}s=1024&t?new gf(o,s.ancestor,s===mv):new ff(s,o);continue;case 671757:e.assignable=!0,Cv(e),t=4096,s=new mf(s,wv(e,0,62,i)),Ov(e,1835022);break;case 671751:for(e.assignable=!1,Cv(e);1835019!==e.currentToken&&(n.push(wv(e,0,62,i)),Av(e,1572876)););Ov(e,1835019),s=1024&t?new vf(o,n,s.ancestor,s===mv):2048&t?new bf(s,o,n):new yf(s,n),t=0;break;case 540714:e.assignable=!1,r=[e.tokenValue],s=new Tf(r,r,s),Cv(e);break;case 540715:s=xv(e,t,i,s,!0)}}}if(448<n)return s;for(;(65536&e.currentToken)>0;){const o=e.currentToken;if((448&o)<=n)break;Cv(e),s=new wf(Ev[63&o],s,wv(e,t,448&o,i)),e.assignable=!1}if(63<n)return s;if(Av(e,1572880)){const n=wv(e,t,62,i);Ov(e,1572879),s=new df(s,n,wv(e,t,62,i)),e.assignable=!1}if(62<n)return s;if(Av(e,1048616)){if(!e.assignable)throw new Error(`Left hand side of expression is not assignable: '${e.input}'`);s=new hf(s,wv(e,t,62,i))}if(61<n)return s;for(;Av(e,1572884);){if(1572864===e.currentToken)throw new Error(`Expected identifier to come after ValueConverter operator: '${e.input}'`);const n=e.tokenValue;Cv(e);const o=new Array;for(;Av(e,1572879);)o.push(wv(e,t,62,i));s=new uf(s,n,o)}for(;Av(e,1572883);){if(1572864===e.currentToken)throw new Error(`Expected identifier to come after BindingBehavior operator: '${e.input}'`);const n=e.tokenValue;Cv(e);const o=new Array;for(;Av(e,1572879);)o.push(wv(e,t,62,i));s=new cf(s,n,o)}if(1572864!==e.currentToken){if(2048&i)return s;if("of"===e.tokenRaw)throw new Error(`Unexpected keyword "of": '${e.input}'`);throw new Error(`Unconsumed token: '${e.input}'`)}return s}function xv(e,t,n,i,s){const o=[e.tokenValue];Ov(e,540715);const r=[wv(e,t,62,n)];for(;540714!==(e.currentToken=Tv(e));)o.push(e.tokenValue),Ov(e,540715),r.push(wv(e,t,62,n));return o.push(e.tokenValue),e.assignable=!1,s?(Cv(e),new Tf(o,o,i,r)):(Cv(e),new $f(o,r))}function Cv(e){for(;e.index<e.length;)if(e.startIndex=e.index,null!=(e.currentToken=Nv[e.currentChar](e)))return;e.currentToken=1572864}function kv(e){return e.currentChar=e.input.charCodeAt(++e.index)}function Sv(e,t){let n=e.currentChar;if(!1===t){do{n=kv(e)}while(n<=57&&n>=48);if(46!==n)return e.tokenValue=parseInt(e.tokenRaw,10),8192;if(n=kv(e),e.index>=e.length)return e.tokenValue=parseInt(e.tokenRaw.slice(0,-1),10),8192}if(n<=57&&n>=48)do{n=kv(e)}while(n<=57&&n>=48);else e.currentChar=e.input.charCodeAt(--e.index);return e.tokenValue=parseFloat(e.tokenRaw),8192}function $v(e){let t=!0,n="";for(;96!==kv(e);)if(36===e.currentChar){if(e.index+1<e.length&&123===e.input.charCodeAt(e.index+1)){e.index++,t=!1;break}n+="$"}else if(92===e.currentChar)n+=String.fromCharCode(uv(kv(e)));else{if(e.index>=e.length)throw new Error(`Unterminated template string: '${e.input}'`);n+=String.fromCharCode(e.currentChar)}return kv(e),e.tokenValue=n,t?540714:540715}function Tv(e){if(e.index>=e.length)throw new Error(`Unterminated template string: '${e.input}'`);return e.index--,$v(e)}function Av(e,t){return e.currentToken===t&&(Cv(e),!0)}function Ov(e,t){if(e.currentToken!==t)throw new Error(`Missing expected token: '${e.input}'`);Cv(e)}const Ev=[hv,dv,pv,gv,"$this","$host","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],Pv=Object.create(null);Pv.true=2049,Pv.null=2050,Pv.false=2048,Pv.undefined=2051,Pv.$this=3076,Pv.$host=3077,Pv.$parent=3078,Pv.in=1640799,Pv.instanceof=1640800,Pv.typeof=34851,Pv.void=34852,Pv.of=1051180;const Rv=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Iv=[48,58];function jv(e,t,n,i){const s=n.length;for(let o=0;o<s;o+=2){const s=n[o];let r=n[o+1];if(r=r>0?r:s+1,e&&e.fill(i,s,r),t)for(let e=s;e<r;e++)t.add(e)}}function Fv(e){return t=>(kv(t),e)}const Lv=e=>{throw new Error(`Unexpected character: '${e.input}'`)};Lv.notMapped=!0,jv(null,new Set,[36,0,48,58,65,91,95,0,97,123],!0);const Dv=new Uint8Array(65535);jv(Dv,null,Rv,1),jv(Dv,null,Iv,1);const Nv=new Array(65535);Nv.fill(Lv,0,65535),jv(Nv,null,[0,33,127,161],(e=>(kv(e),null))),jv(Nv,null,Rv,(function(e){for(;Dv[kv(e)];);const t=Pv[e.tokenValue=e.tokenRaw];return void 0===t?1024:t})),jv(Nv,null,Iv,(e=>Sv(e,!1))),Nv[34]=Nv[39]=e=>function(e){const t=e.currentChar;kv(e);let n=0;const i=new Array;let s=e.index;for(;e.currentChar!==t;)if(92===e.currentChar)i.push(e.input.slice(s,e.index)),kv(e),n=uv(e.currentChar),kv(e),i.push(String.fromCharCode(n)),s=e.index;else{if(e.index>=e.length)throw new Error(`Unterminated quote in string literal: '${e.input}'`);kv(e)}const o=e.input.slice(s,e.index);kv(e),i.push(o);const r=i.join("");return e.tokenValue=r,4096}(e),Nv[96]=e=>$v(e),Nv[33]=e=>61!==kv(e)?32809:61!==kv(e)?1638680:(kv(e),1638682),Nv[61]=e=>61!==kv(e)?1048616:61!==kv(e)?1638679:(kv(e),1638681),Nv[38]=e=>38!==kv(e)?1572883:(kv(e),1638614),Nv[124]=e=>124!==kv(e)?1572884:(kv(e),1638549),Nv[46]=e=>kv(e)<=57&&e.currentChar>=48?Sv(e,!0):16393,Nv[60]=e=>61!==kv(e)?1638747:(kv(e),1638749),Nv[62]=e=>61!==kv(e)?1638748:(kv(e),1638750),Nv[37]=Fv(1638886),Nv[40]=Fv(671751),Nv[41]=Fv(1835019),Nv[42]=Fv(1638885),Nv[43]=Fv(623009),Nv[44]=Fv(1572876),Nv[45]=Fv(623010),Nv[47]=Fv(1638887),Nv[58]=Fv(1572879),Nv[63]=Fv(1572880),Nv[91]=Fv(671757),Nv[93]=Fv(1835022),Nv[123]=Fv(131080),Nv[125]=Fv(1835018);let Mv=null;const Bv=[];let Hv=!1;function Vv(){return Mv}function qv(e){if(null==e)throw new Error("Connectable cannot be null/undefined");if(null==Mv)return Mv=e,Bv[0]=Mv,void(Hv=!0);if(Mv===e)throw new Error("Trying to enter an active connectable");Bv.push(Mv),Mv=e,Hv=!0}function Uv(e){if(null==e)throw new Error("Connectable cannot be null/undefined");if(Mv!==e)throw new Error("Trying to exit an unactive connectable");Bv.pop(),Mv=Bv.length>0?Bv[Bv.length-1]:null,Hv=null!=Mv}const zv=Object.freeze({get current(){return Mv},get connecting(){return Hv},enter:qv,exit:Uv,pause:function(){Hv=!1},resume:function(){Hv=!0}}),_v=Reflect.get,Wv=Object.prototype.toString,Kv=new WeakMap;function Gv(e){switch(Wv.call(e)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Yv="__raw__";function Qv(e){return Gv(e)?Zv(e):e}function Zv(e){var t;return null!==(t=Kv.get(e))&&void 0!==t?t:function(e){const t=e instanceof Array?nb:e instanceof Map||e instanceof Set?$b:tb,n=new Proxy(e,t);return Kv.set(e,n),n}(e)}function Xv(e){var t;return null!==(t=e.__raw__)&&void 0!==t?t:e}function Jv(e){return Gv(e)&&e.__raw__||e}function eb(e){return"constructor"===e||"__proto__"===e||"$observers"===e||e===Symbol.toPrimitive||e===Symbol.toStringTag}const tb={get(e,t,n){if(t===Yv)return e;const i=Vv();return!Hv||eb(t)||null==i?_v(e,t,n):(i.observeProperty(e,t),Qv(_v(e,t,n)))}},nb={get(e,t,n){if(t===Yv)return e;const i=Vv();if(!Hv||eb(t)||null==i)return _v(e,t,n);switch(t){case"length":return i.observeProperty(e,"length"),e.length;case"map":return ib;case"includes":return rb;case"indexOf":return ab;case"lastIndexOf":return lb;case"every":return sb;case"filter":return ob;case"find":return ub;case"findIndex":return cb;case"flat":return hb;case"flatMap":return db;case"join":return pb;case"push":return fb;case"pop":return gb;case"reduce":return kb;case"reduceRight":return Sb;case"reverse":return yb;case"shift":return mb;case"unshift":return vb;case"slice":return Cb;case"splice":return bb;case"some":return wb;case"sort":return xb;case"keys":return jb;case"values":case Symbol.iterator:return Fb;case"entries":return Lb}return i.observeProperty(e,t),Qv(_v(e,t,n))},ownKeys(e){var t;return null===(t=Vv())||void 0===t||t.observeProperty(e,"length"),Reflect.ownKeys(e)}};function ib(e,t){var n;const i=Xv(this),s=i.map(((n,i)=>Jv(e.call(t,Qv(n),i,this))));return null===(n=Vv())||void 0===n||n.observeCollection(i),Qv(s)}function sb(e,t){var n;const i=Xv(this),s=i.every(((n,i)=>e.call(t,Qv(n),i,this)));return null===(n=Vv())||void 0===n||n.observeCollection(i),s}function ob(e,t){var n;const i=Xv(this),s=i.filter(((n,i)=>Jv(e.call(t,Qv(n),i,this))));return null===(n=Vv())||void 0===n||n.observeCollection(i),Qv(s)}function rb(e){var t;const n=Xv(this),i=n.includes(Jv(e));return null===(t=Vv())||void 0===t||t.observeCollection(n),i}function ab(e){var t;const n=Xv(this),i=n.indexOf(Jv(e));return null===(t=Vv())||void 0===t||t.observeCollection(n),i}function lb(e){var t;const n=Xv(this),i=n.lastIndexOf(Jv(e));return null===(t=Vv())||void 0===t||t.observeCollection(n),i}function cb(e,t){var n;const i=Xv(this),s=i.findIndex(((n,i)=>Jv(e.call(t,Qv(n),i,this))));return null===(n=Vv())||void 0===n||n.observeCollection(i),s}function ub(e,t){var n;const i=Xv(this),s=i.find(((t,n)=>e(Qv(t),n,this)),t);return null===(n=Vv())||void 0===n||n.observeCollection(i),Qv(s)}function hb(){var e;const t=Xv(this);return null===(e=Vv())||void 0===e||e.observeCollection(t),Qv(t.flat())}function db(e,t){var n;const i=Xv(this);return null===(n=Vv())||void 0===n||n.observeCollection(i),Zv(i.flatMap(((n,i)=>Qv(e.call(t,Qv(n),i,this)))))}function pb(e){var t;const n=Xv(this);return null===(t=Vv())||void 0===t||t.observeCollection(n),n.join(e)}function gb(){return Qv(Xv(this).pop())}function fb(...e){return Xv(this).push(...e)}function mb(){return Qv(Xv(this).shift())}function vb(...e){return Xv(this).unshift(...e)}function bb(...e){return Qv(Xv(this).splice(...e))}function yb(...e){var t;const n=Xv(this),i=n.reverse();return null===(t=Vv())||void 0===t||t.observeCollection(n),Qv(i)}function wb(e,t){var n;const i=Xv(this),s=i.some(((n,i)=>Jv(e.call(t,Qv(n),i,this))));return null===(n=Vv())||void 0===n||n.observeCollection(i),s}function xb(e){var t;const n=Xv(this),i=n.sort(e);return null===(t=Vv())||void 0===t||t.observeCollection(n),Qv(i)}function Cb(e,t){var n;const i=Xv(this);return null===(n=Vv())||void 0===n||n.observeCollection(i),Zv(i.slice(e,t))}function kb(e,t){var n;const i=Xv(this),s=i.reduce(((t,n,i)=>e(t,Qv(n),i,this)),t);return null===(n=Vv())||void 0===n||n.observeCollection(i),Qv(s)}function Sb(e,t){var n;const i=Xv(this),s=i.reduceRight(((t,n,i)=>e(t,Qv(n),i,this)),t);return null===(n=Vv())||void 0===n||n.observeCollection(i),Qv(s)}const $b={get(e,t,n){if(t===Yv)return e;const i=Vv();if(!Hv||eb(t)||null==i)return _v(e,t,n);switch(t){case"size":return i.observeProperty(e,"size"),e.size;case"clear":return Rb;case"delete":return Ib;case"forEach":return Tb;case"add":if(e instanceof Set)return Pb;break;case"get":if(e instanceof Map)return Ob;break;case"set":if(e instanceof Map)return Eb;break;case"has":return Ab;case"keys":return jb;case"values":return Fb;case"entries":return Lb;case Symbol.iterator:return e instanceof Map?Lb:Fb}return Qv(_v(e,t,n))}};function Tb(e,t){var n;const i=Xv(this);return null===(n=Vv())||void 0===n||n.observeCollection(i),i.forEach(((n,i)=>{e.call(t,Qv(n),Qv(i),this)}))}function Ab(e){var t;const n=Xv(this);return null===(t=Vv())||void 0===t||t.observeCollection(n),n.has(Jv(e))}function Ob(e){var t;const n=Xv(this);return null===(t=Vv())||void 0===t||t.observeCollection(n),Qv(n.get(Jv(e)))}function Eb(e,t){return Qv(Xv(this).set(Jv(e),Jv(t)))}function Pb(e){return Qv(Xv(this).add(Jv(e)))}function Rb(){return Qv(Xv(this).clear())}function Ib(e){return Qv(Xv(this).delete(Jv(e)))}function jb(){var e;const t=Xv(this);null===(e=Vv())||void 0===e||e.observeCollection(t);const n=t.keys();return{next(){const e=n.next(),t=e.value,i=e.done;return i?{value:void 0,done:i}:{value:Qv(t),done:i}},[Symbol.iterator](){return this}}}function Fb(){var e;const t=Xv(this);null===(e=Vv())||void 0===e||e.observeCollection(t);const n=t.values();return{next(){const e=n.next(),t=e.value,i=e.done;return i?{value:void 0,done:i}:{value:Qv(t),done:i}},[Symbol.iterator](){return this}}}function Lb(){var e;const t=Xv(this);null===(e=Vv())||void 0===e||e.observeCollection(t);const n=t.entries();return{next(){const e=n.next(),t=e.value,i=e.done;return i?{value:void 0,done:i}:{value:[Qv(t[0]),Qv(t[1])],done:i}},[Symbol.iterator](){return this}}}const Db=Object.freeze({getProxy:Zv,getRaw:Xv,wrap:Qv,unwrap:Jv,rawKey:Yv});class Nb{constructor(e,t,n,i,s){this.obj=e,this.get=t,this.set=n,this.useProxy=i,this.observerLocator=s,this.interceptor=this,this.type=1,this.value=void 0,this.oldValue=void 0,this.running=!1,this.isDirty=!1}static create(e,t,n,i,s){const o=n.get,r=n.set,a=new Nb(e,o,r,s,i),l=()=>a.getValue();return l.getObserver=()=>a,Lf(e,t,{enumerable:n.enumerable,configurable:!0,get:l,set:e=>{a.setValue(e,0)}}),a}getValue(){return 0===this.subs.count?this.get.call(this.obj,this):(this.isDirty&&(this.compute(),this.isDirty=!1),this.value)}setValue(e,t){if("function"!=typeof this.set)throw new Error("Property is readonly");e!==this.value&&(this.running=!0,this.set.call(this.obj,e),this.running=!1,this.run())}handleChange(){this.isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.isDirty=!0,this.subs.count>0&&this.run()}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.compute(),this.isDirty=!1)}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&(this.isDirty=!0,this.obs.clear(!0))}flush(){Mb=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Mb,0)}run(){if(this.running)return;const e=this.value,t=this.compute();this.isDirty=!1,Object.is(t,e)||(this.oldValue=e,this.queue.add(this))}compute(){this.running=!0,this.obs.version++;try{return qv(this),this.value=Jv(this.get.call(this.useProxy?Qv(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,Uv(this)}}}let Mb;iv(Nb),Wf(Nb),Xf(Nb);const Bb=gp.createInterface("IDirtyChecker",(e=>e.singleton(qb))),Hb={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},Vb={persistent:!0};class qb{constructor(e){this.platform=e,this.tracked=[],this.task=null,this.elapsedFrames=0,this.check=()=>{if(Hb.disabled)return;if(++this.elapsedFrames<Hb.timeoutsPerCheck)return;this.elapsedFrames=0;const e=this.tracked,t=e.length;let n,i=0;for(;i<t;++i)n=e[i],n.isDirty()&&this.queue.add(n)}}createProperty(e,t){if(Hb.throw)throw new Error(`Property '${t}' is being dirty-checked.`);return new Ub(this,e,t)}addProperty(e){this.tracked.push(e),1===this.tracked.length&&(this.task=this.platform.taskQueue.queueTask(this.check,Vb))}removeProperty(e){this.tracked.splice(this.tracked.indexOf(e),1),0===this.tracked.length&&(this.task.cancel(),this.task=null)}}qb.inject=[Kp],Xf(qb);class Ub{constructor(e,t,n){this.dirtyChecker=e,this.obj=t,this.propertyKey=n,this.oldValue=void 0,this.type=0}getValue(){return this.obj[this.propertyKey]}setValue(e,t){throw new Error(`Trying to set value for property ${this.propertyKey} in dirty checker`)}isDirty(){return this.oldValue!==this.obj[this.propertyKey]}flush(){const e=this.oldValue,t=this.getValue();this.oldValue=t,this.subs.notify(t,e,0)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.oldValue=this.obj[this.propertyKey],this.dirtyChecker.addProperty(this))}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.dirtyChecker.removeProperty(this)}}Wf(Ub);class zb{constructor(e,t){this.obj=e,this.propertyKey=t,this.type=0}get doNotCache(){return!0}getValue(){return this.obj[this.propertyKey]}setValue(){}subscribe(){}unsubscribe(){}}class _b{constructor(){this.type=0}getValue(e,t){return e[t]}setValue(e,t,n,i){n[i]=e}}let Wb;class Kb{constructor(e,t){this.obj=e,this.propertyKey=t,this.value=void 0,this.oldValue=void 0,this.observing=!1,this.type=1,this.f=0}getValue(){return this.value}setValue(e,t){if(this.observing){const n=this.value;if(Object.is(e,n))return;this.value=e,this.oldValue=n,this.f=t,this.queue.add(this)}else this.obj[this.propertyKey]=e}subscribe(e){!1===this.observing&&this.start(),this.subs.add(e)}flush(){Wb=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Wb,this.f)}start(){return!1===this.observing&&(this.observing=!0,this.value=this.obj[this.propertyKey],Lf(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:e=>{this.setValue(e,0)}})),this}stop(){return this.observing&&(Lf(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,writable:!0,value:this.value}),this.observing=!1),this}}class Gb{constructor(e,t,n,i){this.type=1,this.v=void 0,this.oV=void 0,this.f=0,this.obj=e,this.s=n;const s=e[t];this.cb="function"==typeof s?s:void 0,this.v=i}getValue(){return this.v}setValue(e,t){var n;"function"==typeof this.s&&(e=this.s(e)),Object.is(e,this.v)||(this.oV=this.v,this.v=e,this.f=t,null===(n=this.cb)||void 0===n||n.call(this.obj,this.v,this.oV,t),this.queue.add(this))}flush(){Wb=this.oV,this.oV=this.v,this.subs.notify(this.v,Wb,this.f)}}Wf(Kb),Wf(Gb),Xf(Kb),Xf(Gb);const Yb=new _b,Qb=gp.createInterface("IObserverLocator",(e=>e.singleton(Jb))),Zb=gp.createInterface("INodeObserverLocator",(e=>e.cachedCallback((e=>(e.getAll(vg).forEach((e=>{e.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")})),new Xb)))));class Xb{handles(){return!1}getObserver(){return Yb}getAccessor(){return Yb}}class Jb{constructor(e,t){this.dirtyChecker=e,this.nodeObserverLocator=t,this.adapters=[]}addAdapter(e){this.adapters.push(e)}getObserver(e,t){var n,i;return null!==(i=null===(n=e.$observers)||void 0===n?void 0:n[t])&&void 0!==i?i:this.cache(e,t,this.createObserver(e,t))}getAccessor(e,t){var n;const i=null===(n=e.$observers)||void 0===n?void 0:n[t];return void 0!==i?i:this.nodeObserverLocator.handles(e,t,this)?this.nodeObserverLocator.getAccessor(e,t,this):Yb}getArrayObserver(e){return Tm(e)}getMapObserver(e){return Gm(e)}getSetObserver(e){return Nm(e)}createObserver(e,t){var n,i,s,o;if(!(e instanceof Object))return new zb(e,t);if(this.nodeObserverLocator.handles(e,t,this))return this.nodeObserverLocator.getObserver(e,t,this);switch(t){case"length":if(e instanceof Array)return Tm(e).getLengthObserver();break;case"size":if(e instanceof Map)return Gm(e).getLengthObserver();if(e instanceof Set)return Nm(e).getLengthObserver();break;default:if(e instanceof Array&&Md(t))return Tm(e).getIndexObserver(Number(t))}let r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){let n=Object.getPrototypeOf(e);for(;null!==n&&(r=Object.getOwnPropertyDescriptor(n,t),void 0===r);)n=Object.getPrototypeOf(n)}if(void 0!==r&&!Object.prototype.hasOwnProperty.call(r,"value")){let a=this.getAdapterObserver(e,t,r);return null==a&&(a=null===(o=null!==(i=null===(n=r.get)||void 0===n?void 0:n.getObserver)&&void 0!==i?i:null===(s=r.set)||void 0===s?void 0:s.getObserver)||void 0===o?void 0:o(e,this)),null==a?r.configurable?Nb.create(e,t,r,this,!0):this.dirtyChecker.createProperty(e,t):a}return new Kb(e,t)}getAdapterObserver(e,t,n){if(this.adapters.length>0)for(const i of this.adapters){const s=i.getObserver(e,t,n,this);if(null!=s)return s}return null}cache(e,t,n){return!0===n.doNotCache?n:void 0===e.$observers?(Lf(e,"$observers",{value:{[t]:n}}),n):e.$observers[t]=n}}Jb.inject=[Bb,Zb],gp.createInterface("IObservation",(e=>e.singleton(ey)));class ey{constructor(e){this.observerLocator=e}static get inject(){return[Qb]}run(e){const t=new ty(this.observerLocator,e);return t.run(),t}}class ty{constructor(e,t){this.observerLocator=e,this.fn=t,this.interceptor=this,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw new Error("Effect has already been stopped");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{qv(this),this.fn(this)}finally{this.obs.clear(!1),this.running=!1,Uv(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,new Error("Maximum number of recursive effect run reached. Consider handle effect dependencies differently.");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clear(!0)}}function ny(e,t){let n;function i(e,t){arguments.length>1&&(n.property=t),jd.define(sy.name,oy.create(t,n),e.constructor,t),op.annotation.appendTo(e.constructor,sy.keyFrom(t))}return arguments.length>1?(n={},void i(e,t)):"string"==typeof e?(n={},i):(n=void 0===e?{}:e,i)}function iy(e){return e.startsWith(sy.name)}iv(ty);const sy={name:op.annotation.keyFor("bindable"),keyFrom:e=>`${sy.name}:${e}`,from(...e){const t={},n=Array.isArray;function i(e){t[e]=oy.create(e)}return e.forEach((function(e){n(e)?e.forEach(i):e instanceof oy?t[e.property]=e:void 0!==e&&Object.keys(e).forEach((n=>function(e,n){t[e]=n instanceof oy?n:oy.create(e,n)}(n,e[n])))})),t},for(e){let t;const n={add(i){let s,o;return"string"==typeof i?(s=i,o={property:s}):(s=i.property,o=i),t=oy.create(s,o),jd.hasOwn(sy.name,e,s)||op.annotation.appendTo(e,sy.keyFrom(s)),jd.define(sy.name,t,e,s),n},mode:e=>(t.mode=e,n),callback:e=>(t.callback=e,n),attribute:e=>(t.attribute=e,n),primary:()=>(t.primary=!0,n),set:e=>(t.set=e,n)};return n},getAll(e){const t=sy.name.length+1,n=[],i=Xd(e);let s,o,r,a=i.length,l=0;for(;--a>=0;){r=i[a],s=op.annotation.getKeys(r).filter(iy),o=s.length;for(let e=0;e<o;++e)n[l++]=jd.getOwn(sy.name,r,s[e].slice(t))}return n}};class oy{constructor(e,t,n,i,s,o){this.attribute=e,this.callback=t,this.mode=n,this.primary=i,this.property=s,this.set=o}static create(e,t={}){return new oy(Zd(t.attribute,zd(e)),Zd(t.callback,`${e}Changed`),Zd(t.mode,Mf.toView),Zd(t.primary,!1),Zd(t.property,e),Zd(t.set,Wp))}}class ry{constructor(e,t,n,i,s){this.obj=e,this.propertyKey=t,this.set=i,this.$controller=s,this.value=void 0,this.oldValue=void 0,this.f=0;const o=e[n],r=e.propertyChanged,a=this.hasCb="function"==typeof o,l=this.hasCbAll="function"==typeof r,c=this.hasSetter=i!==Wp;if(this.cb=a?o:Wp,this.cbAll=l?r:Wp,void 0!==this.cb||l||c){this.observing=!0;const n=e[t];this.value=c&&void 0!==n?i(n):n,this.createGetterSetter()}else this.observing=!1}get type(){return 1}getValue(){return this.value}setValue(e,t){if(this.hasSetter&&(e=this.set(e)),this.observing){const n=this.value;if(Object.is(e,n))return;this.value=e,this.oldValue=n,this.f=t,(null==this.$controller||this.$controller.isBound)&&(this.hasCb&&this.cb.call(this.obj,e,n,t),this.hasCbAll&&this.cbAll.call(this.obj,this.propertyKey,e,n,t)),this.queue.add(this)}else this.obj[this.propertyKey]=e}subscribe(e){if(0==!this.observing){this.observing=!0;const e=this.obj[this.propertyKey];this.value=this.hasSetter?this.set(e):e,this.createGetterSetter()}this.subs.add(e)}flush(){ay=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,ay,this.f)}createGetterSetter(){Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.value,set:e=>{this.setValue(e,0)}})}}let ay;Wf(ry),Xf(ry);var ly=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},cy=function(e,t){return function(n,i){t(n,i,e)}};class uy{constructor(e,t,n,i){if(this.chars=e,this.repeat=t,this.isSymbol=n,this.isInverted=i,i)switch(e.length){case 0:this.has=this.hasOfNoneInverse;break;case 1:this.has=this.hasOfSingleInverse;break;default:this.has=this.hasOfMultipleInverse}else switch(e.length){case 0:this.has=this.hasOfNone;break;case 1:this.has=this.hasOfSingle;break;default:this.has=this.hasOfMultiple}}equals(e){return this.chars===e.chars&&this.repeat===e.repeat&&this.isSymbol===e.isSymbol&&this.isInverted===e.isInverted}hasOfMultiple(e){return this.chars.includes(e)}hasOfSingle(e){return this.chars===e}hasOfNone(e){return!1}hasOfMultipleInverse(e){return!this.chars.includes(e)}hasOfSingleInverse(e){return this.chars!==e}hasOfNoneInverse(e){return!0}}class hy{constructor(){this.parts=zp,this._pattern="",this.currentRecord={},this.partsRecord={}}get pattern(){const e=this._pattern;return""===e?null:e}set pattern(e){null==e?(this._pattern="",this.parts=zp):(this._pattern=e,this.parts=this.partsRecord[e])}append(e,t){const{currentRecord:n}=this;void 0===n[e]?n[e]=t:n[e]+=t}next(e){const{currentRecord:t}=this;if(void 0!==t[e]){const{partsRecord:n}=this;void 0===n[e]?n[e]=[t[e]]:n[e].push(t[e]),t[e]=void 0}}}class dy{constructor(e,...t){this.charSpec=e,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=t}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(e){const t=this.nextStates,n=t.length;let i=null;for(let s=0;s<n;++s)if(i=t[s],e.equals(i.charSpec))return i;return null}append(e,t){const{patterns:n}=this;n.includes(t)||n.push(t);let i=this.findChild(e);return null==i&&(i=new dy(e,t),this.nextStates.push(i),e.repeat&&i.nextStates.push(i)),i}findMatches(e,t){const n=[],i=this.nextStates,s=i.length;let o=0,r=null,a=0,l=0;for(;a<s;++a)if(r=i[a],r.charSpec.has(e))if(n.push(r),o=r.patterns.length,l=0,r.charSpec.isSymbol)for(;l<o;++l)t.next(r.patterns[l]);else for(;l<o;++l)t.append(r.patterns[l],e);return n}}class py{constructor(e){this.text=e;const t=this.len=e.length,n=this.specs=[];for(let i=0;i<t;++i)n.push(new uy(e[i],!1,!1,!1))}eachChar(e){const{len:t,specs:n}=this;for(let i=0;i<t;++i)e(n[i])}}class gy{constructor(e){this.text="PART",this.spec=new uy(e,!0,!1,!0)}eachChar(e){e(this.spec)}}class fy{constructor(e){this.text=e,this.spec=new uy(e,!1,!0,!1)}eachChar(e){e(this.spec)}}class my{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const vy=gp.createInterface("ISyntaxInterpreter",(e=>e.singleton(by)));class by{constructor(){this.rootState=new dy(null),this.initialStates=[this.rootState]}add(e){let t=0;if(Array.isArray(e)){const n=e.length;for(;t<n;++t)this.add(e[t]);return}let n=this.rootState;const i=e,s=i.pattern,o=new my,r=this.parse(i,o),a=r.length,l=e=>{n=n.append(e,s)};for(t=0;t<a;++t)r[t].eachChar(l);n.types=o,n.isEndpoint=!0}interpret(e){const t=new hy;let n=this.initialStates;const i=e.length;for(let s=0;s<i&&(n=this.getNextStates(n,e.charAt(s),t),0!==n.length);++s);if(n.sort(((e,t)=>{if(!e.isEndpoint)return t.isEndpoint?1:0;if(!t.isEndpoint)return-1;const n=e.types,i=t.types;return n.statics!==i.statics?i.statics-n.statics:n.dynamics!==i.dynamics?i.dynamics-n.dynamics:n.symbols!==i.symbols?i.symbols-n.symbols:0})),n.length>0){const e=n[0];e.charSpec.isSymbol||t.next(e.pattern),t.pattern=e.pattern}return t}getNextStates(e,t,n){const i=[];let s=null;const o=e.length;for(let r=0;r<o;++r)s=e[r],i.push(...s.findMatches(t,n));return i}parse(e,t){const n=[],i=e.pattern,s=i.length;let o=0,r=0,a="";for(;o<s;)a=i.charAt(o),e.symbols.includes(a)?o!==r?(n.push(new py(i.slice(r,o))),++t.statics,r=o):(n.push(new fy(i.slice(r,o+1))),++t.symbols,r=++o):o===r&&"P"===a&&"PART"===i.slice(o,o+4)?(r=o+=4,n.push(new gy(e.symbols)),++t.dynamics):++o;return r!==o&&(n.push(new py(i.slice(r,o))),++t.statics),n}}class yy{constructor(e,t,n,i){this.rawName=e,this.rawValue=t,this.target=n,this.command=i}}const wy=gp.createInterface("IAttributePattern"),xy=gp.createInterface("IAttributeParser",(e=>e.singleton(Cy)));let Cy=class{constructor(e,t){this.interpreter=e,this.cache={};const n=this.patterns={};t.forEach((t=>{const i=$y.getPatternDefinitions(t.constructor);e.add(i),i.forEach((e=>{n[e.pattern]=t}))}))}parse(e,t){let n=this.cache[e];null==n&&(n=this.cache[e]=this.interpreter.interpret(e));const i=n.pattern;return null==i?new yy(e,t,e,null):this.patterns[i][i](e,t,n.parts)}};function ky(...e){return function(t){return $y.define(e,t)}}Cy=ly([cy(0,vy),cy(1,wp(wy))],Cy);class Sy{constructor(e){this.Type=e,this.name=void 0}register(e){Bp.singleton(wy,this.Type).register(e)}}const $y=Object.freeze({name:op.resource.keyFor("attribute-pattern"),definitionAnnotationKey:"attribute-pattern-definitions",define(e,t){const n=new Sy(t),{name:i,definitionAnnotationKey:s}=$y;return jd.define(i,n,t),op.resource.appendTo(t,i),op.annotation.set(t,s,e),op.annotation.appendTo(t,s),t},getPatternDefinitions:e=>op.annotation.get(e,$y.definitionAnnotationKey)});let Ty=class{"PART.PART"(e,t,n){return new yy(e,t,n[0],n[1])}"PART.PART.PART"(e,t,n){return new yy(e,t,n[0],n[2])}};Ty=ly([ky({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],Ty);let Ay=class{ref(e,t,n){return new yy(e,t,"element","ref")}"PART.ref"(e,t,n){return new yy(e,t,n[0],"ref")}};Ay=ly([ky({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],Ay);let Oy=class{":PART"(e,t,n){return new yy(e,t,n[0],"bind")}};Oy=ly([ky({pattern:":PART",symbols:":"})],Oy);let Ey=class{"@PART"(e,t,n){return new yy(e,t,n[0],"trigger")}};Ey=ly([ky({pattern:"@PART",symbols:"@"})],Ey);class Py{constructor(e,t,n,i,s){this.sourceExpression=e,this.target=t,this.targetProperty=n,this.locator=s,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.targetObserver=i.getObserver(t,n)}callSource(e){const t=this.$scope.overrideContext;Object.assign(t,e);const n=this.sourceExpression.evaluate(8,this.$scope,this.$hostScope,this.locator,null);for(const n in e)Reflect.deleteProperty(t,n);return n}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,n,this.interceptor),this.targetObserver.setValue((e=>this.interceptor.callSource(e)),e,this.target,this.targetProperty),this.isBound=!0}$unbind(e){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,e,this.target,this.targetProperty),this.isBound=!1)}observeProperty(e,t){}handleChange(e,t,n){}}class Ry{constructor(e,t,n,i,s){this.platform=e,this.observerLocator=t,this.obj=n,this.propertyKey=i,this.targetAttribute=s,this.value=null,this.oldValue=null,this.hasChanges=!1,this.type=7,this.f=0}getValue(){return this.value}setValue(e,t){this.value=e,this.hasChanges=e!==this.oldValue,0==(256&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.value;switch(this.oldValue=e,this.targetAttribute){case"class":this.obj.classList.toggle(this.propertyKey,!!e);break;case"style":{let t="",n=e;"string"==typeof n&&n.includes("!important")&&(t="important",n=n.replace("!important","")),this.obj.style.setProperty(this.propertyKey,n,t)}}}}handleMutation(e){let t=!1;for(let n=0,i=e.length;i>n;++n){const i=e[n];if("attributes"===i.type&&i.attributeName===this.propertyKey){t=!0;break}}if(t){let e;switch(this.targetAttribute){case"class":e=this.obj.classList.contains(this.propertyKey);break;case"style":e=this.obj.style.getPropertyValue(this.propertyKey);break;default:throw new Error(`Unsupported targetAttribute: ${this.targetAttribute}`)}e!==this.value&&(this.oldValue=this.value,this.value=e,this.hasChanges=!1,this.f=0,this.queue.add(this))}}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.value=this.oldValue=this.obj.getAttribute(this.propertyKey),Iy(this.obj.ownerDocument.defaultView.MutationObserver,this.obj,this))}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&jy(this.obj,this)}flush(){Dy=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Dy,this.f)}}Wf(Ry),Xf(Ry);const Iy=(e,t,n)=>{void 0===t.$eMObservers&&(t.$eMObservers=new Set),void 0===t.$mObserver&&(t.$mObserver=new e(Fy)).observe(t,{attributes:!0}),t.$eMObservers.add(n)},jy=(e,t)=>{const n=e.$eMObservers;return!(!n||!n.delete(t)||(0===n.size&&(e.$mObserver.disconnect(),e.$mObserver=void 0),0))},Fy=e=>{e[0].target.$eMObservers.forEach(Ly,e)};function Ly(e){e.handleMutation(this)}let Dy;const Ny=Kp;class My{constructor(e){this.b=e}handleChange(e,t,n){const i=this.b;e!==i.sourceExpression.evaluate(n,i.$scope,i.$hostScope,i.locator,null)&&i.updateSource(e,n)}}const{oneTime:By,toView:Hy,fromView:Vy}=Mf,qy=Hy|By,Uy={reusable:!1,preempt:!0};class zy{constructor(e,t,n,i,s,o,r){this.sourceExpression=e,this.targetAttribute=n,this.targetProperty=i,this.mode=s,this.observerLocator=o,this.locator=r,this.interceptor=this,this.isBound=!1,this.$scope=null,this.$hostScope=null,this.task=null,this.targetSubscriber=null,this.persistentFlags=0,this.value=void 0,this.target=t,this.$platform=r.get(Ny)}updateTarget(e,t){t|=this.persistentFlags,this.targetObserver.setValue(e,t,this.target,this.targetProperty)}updateSource(e,t){t|=this.persistentFlags,this.sourceExpression.assign(t,this.$scope,this.$hostScope,this.locator,e)}handleChange(e,t,n){if(!this.isBound)return;n|=this.persistentFlags;const i=this.mode,s=this.interceptor,o=this.sourceExpression,r=this.$scope,a=this.locator,l=this.targetObserver,c=0==(2&n)&&(4&l.type)>0;if(10082!==o.$kind||this.obs.count>1){const t=0==(i&By);t&&this.obs.version++,e=o.evaluate(n,r,this.$hostScope,a,s),t&&this.obs.clear(!1)}let u;e!==this.value&&(this.value=e,c?(u=this.task,this.task=this.$platform.domWriteQueue.queueTask((()=>{this.task=null,s.updateTarget(e,n)}),Uy),null==u||u.cancel()):s.updateTarget(e,n))}$bind(e,t,n,i){var s;if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.persistentFlags=961&e,this.$scope=t,this.$hostScope=n,this.projection=i;let o=this.sourceExpression;o.hasBind&&o.bind(e,t,n,this.interceptor);let r=this.targetObserver;r||(r=this.targetObserver=new Ry(this.$platform,this.observerLocator,this.target,this.targetProperty,this.targetAttribute)),o=this.sourceExpression;const a=this.mode,l=this.interceptor;if(a&qy){const n=(a&Hy)>0;l.updateTarget(this.value=o.evaluate(e,t,this.$hostScope,this.locator,n?l:null),e)}a&Vy&&r.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new My(l)),this.isBound=!0}$unbind(e){var t;this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=this.$hostScope=null,this.value=void 0,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null===(t=this.task)||void 0===t||t.cancel(),this.task=null,this.obs.clear(!0),this.isBound=!1)}}iv(zy);const{toView:_y}=Mf,Wy={reusable:!1,preempt:!0};class Ky{constructor(e,t,n,i,s,o,r){this.observerLocator=e,this.interpolation=t,this.target=n,this.targetProperty=i,this.mode=s,this.locator=o,this.taskQueue=r,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.targetObserver=e.getAccessor(n,i);const a=t.expressions,l=this.partBindings=Array(a.length);for(let t=0,s=a.length;t<s;++t)l[t]=new Gy(a[t],n,i,o,e,this)}updateTarget(e,t){const n=this.partBindings,i=this.interpolation.parts,s=n.length;let o="";if(1===s)o=i[0]+n[0].value+i[1];else{o=i[0];for(let e=0;s>e;++e)o+=n[e].value+i[e+1]}const r=this.targetObserver;if(0==(2&t)&&(4&r.type)>0){const e=this.task;this.task=this.taskQueue.queueTask((()=>{this.task=null,r.setValue(o,t,this.target,this.targetProperty)}),Wy),null==e||e.cancel()}else r.setValue(o,t,this.target,this.targetProperty)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t;const i=this.partBindings;for(let s=0,o=i.length;o>s;++s)i[s].$bind(e,t,n);this.updateTarget(void 0,e)}$unbind(e){var t;if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const n=this.partBindings;for(let t=0,i=n.length;t<i;++t)n[t].interceptor.$unbind(e);null===(t=this.task)||void 0===t||t.cancel(),this.task=null}}class Gy{constructor(e,t,n,i,s,o){this.sourceExpression=e,this.target=t,this.targetProperty=n,this.locator=i,this.observerLocator=s,this.owner=o,this.interceptor=this,this.mode=Mf.toView,this.value="",this.$hostScope=null,this.task=null,this.isBound=!1}handleChange(e,t,n){if(!this.isBound)return;const i=this.sourceExpression,s=this.obs;if(10082!==i.$kind||1!==s.count){const t=(this.mode&_y)>0;t&&s.version++,e=i.evaluate(n,this.$scope,this.$hostScope,this.locator,t?this.interceptor:null),t&&s.clear(!1)}e!=this.value&&(this.value=e,e instanceof Array&&this.observeCollection(e),this.owner.updateTarget(e,n))}handleCollectionChange(e,t){this.owner.updateTarget(void 0,t)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,n,this.interceptor);const i=this.value=this.sourceExpression.evaluate(e,t,n,this.locator,(this.mode&_y)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i)}$unbind(e){this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0))}}iv(Gy);class Yy{constructor(e,t,n,i,s){this.sourceExpression=e,this.target=t,this.locator=n,this.observerLocator=i,this.p=s,this.interceptor=this,this.mode=Mf.toView,this.value="",this.$hostScope=null,this.task=null,this.isBound=!1}updateTarget(e,t){var n,i;const s=this.target,o=this.p.Node,r=this.value;this.value=e,r instanceof o&&(null===(n=r.parentNode)||void 0===n||n.removeChild(r)),e instanceof o?(s.textContent="",null===(i=s.parentNode)||void 0===i||i.insertBefore(e,s)):s.textContent=String(e)}handleChange(e,t,n){var i;if(!this.isBound)return;const s=this.sourceExpression,o=this.obs;if(10082!==s.$kind||1!==o.count){const t=(this.mode&_y)>0;t&&o.version++,e=s.evaluate(n,this.$scope,this.$hostScope,this.locator,t?this.interceptor:null),t&&o.clear(!1)}if(e===this.value)return null===(i=this.task)||void 0===i||i.cancel(),void(this.task=null);0==(2&n)?this.queueUpdate(e,n):this.updateTarget(e,n)}handleCollectionChange(){this.queueUpdate(this.value,0)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,n,this.interceptor);const i=this.value=this.sourceExpression.evaluate(e,t,n,this.locator,(this.mode&_y)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i),this.updateTarget(i,e)}$unbind(e){var t;this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0),null===(t=this.task)||void 0===t||t.cancel(),this.task=null)}queueUpdate(e,t){const n=this.task;this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,this.updateTarget(e,t)}),Wy),null==n||n.cancel()}}iv(Yy);class Qy{constructor(e,t,n,i,s=!1){this.sourceExpression=e,this.targetProperty=t,this.observerLocator=n,this.locator=i,this.toBindingContext=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.target=null}handleChange(e,t,n){if(!this.isBound)return;const i=this.target,s=this.targetProperty,o=i[s];this.obs.version++,e=this.sourceExpression.evaluate(n,this.$scope,this.$hostScope,this.locator,this.interceptor),this.obs.clear(!1),e!==o&&(i[s]=e)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.$hostScope=n,this.target=this.toBindingContext?(null!=n?n:t).bindingContext:(null!=n?n:t).overrideContext;const i=this.sourceExpression;i.hasBind&&i.bind(e,t,n,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(2|e,t,n,this.locator,this.interceptor),this.isBound=!0}$unbind(e){if(!this.isBound)return;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0),this.isBound=!1}}iv(Qy);const{oneTime:Zy,toView:Xy,fromView:Jy}=Mf,ew=Xy|Zy,tw={reusable:!1,preempt:!0};class nw{constructor(e,t,n,i,s,o,r){this.sourceExpression=e,this.target=t,this.targetProperty=n,this.mode=i,this.observerLocator=s,this.locator=o,this.taskQueue=r,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,this.targetSubscriber=null}updateTarget(e,t){t|=this.persistentFlags,this.targetObserver.setValue(e,t,this.target,this.targetProperty)}updateSource(e,t){t|=this.persistentFlags,this.sourceExpression.assign(t,this.$scope,this.$hostScope,this.locator,e)}handleChange(e,t,n){if(!this.isBound)return;n|=this.persistentFlags;const i=this.targetObserver,s=this.interceptor,o=this.sourceExpression,r=this.$scope,a=this.locator,l=0==(2&n)&&(4&i.type)>0,c=this.obs;if(10082!==o.$kind||c.count>1){const t=this.mode>Zy;t&&c.version++,e=o.evaluate(n,r,this.$hostScope,a,s),t&&c.clear(!1)}if(l){const t=this.task;this.task=this.taskQueue.queueTask((()=>{s.updateTarget(e,n),this.task=null}),tw),null==t||t.cancel()}else s.updateTarget(e,n)}$bind(e,t,n){var i;if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}e|=1,this.persistentFlags=961&e,this.$scope=t,this.$hostScope=n;let s=this.sourceExpression;s.hasBind&&s.bind(e,t,n,this.interceptor);const o=this.mode;let r=this.targetObserver;if(!r){const e=this.observerLocator;r=o&Jy?e.getObserver(this.target,this.targetProperty):e.getAccessor(this.target,this.targetProperty),this.targetObserver=r}s=this.sourceExpression;const a=this.interceptor,l=(o&Xy)>0;o&ew&&a.updateTarget(s.evaluate(e,t,this.$hostScope,this.locator,l?a:null),e),o&Jy&&(r.subscribe(null!==(i=this.targetSubscriber)&&void 0!==i?i:this.targetSubscriber=new My(a)),l||a.updateSource(r.getValue(this.target,this.targetProperty),e)),this.isBound=!0}$unbind(e){if(!this.isBound)return;this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null;const t=this.task;this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null!=t&&(t.cancel(),this.task=null),this.obs.clear(!0),this.isBound=!1}}iv(nw);class iw{constructor(e,t,n){this.sourceExpression=e,this.target=t,this.locator=n,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,n,this),this.sourceExpression.assign(e,this.$scope,n,this.locator,this.target),this.isBound=!0}$unbind(e){if(!this.isBound)return;let t=this.sourceExpression;t.evaluate(e,this.$scope,this.$hostScope,this.locator,null)===this.target&&t.assign(e,this.$scope,this.$hostScope,this.locator,null),t=this.sourceExpression,t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.isBound=!1}observeProperty(e,t){}handleChange(e,t,n){}}const sw=gp.createInterface("IAppTask");class ow{constructor(e,t,n){this.c=void 0,this.slot=e,this.k=t,this.cb=n}register(e){return this.c=e.register(Bp.instance(sw,this))}run(){const e=this.k,t=this.cb;return null===e?t():t(this.c.get(e))}}const rw=Object.freeze({beforeCreate:aw("beforeCreate"),hydrating:aw("hydrating"),hydrated:aw("hydrated"),beforeActivate:aw("beforeActivate"),afterActivate:aw("afterActivate"),beforeDeactivate:aw("beforeDeactivate"),afterDeactivate:aw("afterDeactivate")});function aw(e){return function(t,n){return"function"==typeof n?new ow(e,t,n):new ow(e,null,t)}}function lw(e){return e.startsWith(cw.name)}const cw={name:op.annotation.keyFor("children-observer"),keyFrom:e=>`${cw.name}:${e}`,from(...e){const t={},n=Array.isArray;function i(e){t[e]=hw.create(e)}return e.forEach((function(e){n(e)?e.forEach(i):e instanceof hw?t[e.property]=e:void 0!==e&&Object.keys(e).forEach((n=>function(e,n){t[e]=hw.create(e,n)}(n,e)))})),t},getAll(e){const t=cw.name.length+1,n=[],i=Xd(e);let s,o,r,a=i.length,l=0;for(;--a>=0;){r=i[a],s=op.annotation.getKeys(r).filter(lw),o=s.length;for(let e=0;e<o;++e)n[l++]=jd.getOwn(cw.name,r,s[e].slice(t))}return n}},uw={childList:!0};class hw{constructor(e,t,n,i,s,o){this.callback=e,this.property=t,this.options=n,this.query=i,this.filter=s,this.map=o}static create(e,t={}){var n;return new hw(Zd(t.callback,`${e}Changed`),Zd(t.property,e),null!==(n=t.options)&&void 0!==n?n:uw,t.query,t.filter,t.map)}}let dw=class{constructor(e,t,n,i,s=pw,o=gw,r=fw,a){this.controller=e,this.obj=t,this.propertyKey=n,this.query=s,this.filter=o,this.map=r,this.options=a,this.observing=!1,this.children=void 0,this.callback=t[i],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.tryStartObserving(),this.children}setValue(e){}subscribe(e){this.tryStartObserving(),this.subs.add(e)}tryStartObserving(){this.observing||(this.observing=!0,this.children=vw(this.controller,this.query,this.filter,this.map),new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.onChildrenChanged()})).observe(this.controller.host,this.options))}onChildrenChanged(){this.children=vw(this.controller,this.query,this.filter,this.map),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0,0)}};function pw(e){return e.host.childNodes}function gw(e,t,n){return!!n}function fw(e,t,n){return n}dw=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Wf()],dw);const mw={optional:!0};function vw(e,t,n,i){var s;const o=t(e),r=[];for(let e=0,t=o.length;e<t;++e){const t=o[e],a=Sw.for(t,mw),l=null!==(s=null==a?void 0:a.viewModel)&&void 0!==s?s:null;n(t,a,l)&&r.push(i(t,a,l))}return r}const bw=zp,yw={name:op.annotation.keyFor("watch"),add(e,t){let n=jd.getOwn(yw.name,e);null==n&&jd.define(yw.name,n=[],e),n.push(t)},getAnnotation(e){var t;return null!==(t=jd.getOwn(yw.name,e))&&void 0!==t?t:bw}};function ww(e){return function(t){return Sw.define(e,t)}}const xw=new WeakMap;class Cw{constructor(e,t,n,i,s,o,r,a,l,c,u,h,d,p,g,f,m,v,b,y,w){this.Type=e,this.name=t,this.aliases=n,this.key=i,this.cache=s,this.template=o,this.instructions=r,this.dependencies=a,this.injectable=l,this.needsCompile=c,this.surrogates=u,this.bindables=h,this.childrenObservers=d,this.containerless=p,this.isStrictBinding=g,this.shadowOptions=f,this.hasSlots=m,this.enhance=v,this.projectionsMap=b,this.watches=y,this.processContent=w}static create(e,t=null){if(null===t){const n=e;if("string"==typeof n)throw new Error(`Cannot create a custom element definition with only a name and no type: ${e}`);const i=cp("name",n,Sw.generateName);return t="function"==typeof n.Type?n.Type:Sw.generateType(Ud(i)),new Cw(t,i,Qd(n.aliases),cp("key",n,(()=>Sw.keyFrom(i))),cp("cache",n,(()=>0)),cp("template",n,(()=>null)),Qd(n.instructions),Qd(n.dependencies),cp("injectable",n,(()=>null)),cp("needsCompile",n,(()=>!0)),Qd(n.surrogates),sy.from(n.bindables),cw.from(n.childrenObservers),cp("containerless",n,(()=>!1)),cp("isStrictBinding",n,(()=>!1)),cp("shadowOptions",n,(()=>null)),cp("hasSlots",n,(()=>!1)),cp("enhance",n,(()=>!1)),cp("projectionsMap",n,(()=>new Map)),cp("watches",n,(()=>zp)),lp("processContent",t,(()=>null)))}if("string"==typeof e)return new Cw(t,e,Qd(Sw.getAnnotation(t,"aliases"),t.aliases),Sw.keyFrom(e),lp("cache",t,(()=>0)),lp("template",t,(()=>null)),Qd(Sw.getAnnotation(t,"instructions"),t.instructions),Qd(Sw.getAnnotation(t,"dependencies"),t.dependencies),lp("injectable",t,(()=>null)),lp("needsCompile",t,(()=>!0)),Qd(Sw.getAnnotation(t,"surrogates"),t.surrogates),sy.from(...sy.getAll(t),Sw.getAnnotation(t,"bindables"),t.bindables),cw.from(...cw.getAll(t),Sw.getAnnotation(t,"childrenObservers"),t.childrenObservers),lp("containerless",t,(()=>!1)),lp("isStrictBinding",t,(()=>!1)),lp("shadowOptions",t,(()=>null)),lp("hasSlots",t,(()=>!1)),lp("enhance",t,(()=>!1)),lp("projectionsMap",t,(()=>new Map)),Qd(yw.getAnnotation(t),t.watches),lp("processContent",t,(()=>null)));const n=cp("name",e,Sw.generateName);return new Cw(t,n,Qd(Sw.getAnnotation(t,"aliases"),e.aliases,t.aliases),Sw.keyFrom(n),ap("cache",e,t,(()=>0)),ap("template",e,t,(()=>null)),Qd(Sw.getAnnotation(t,"instructions"),e.instructions,t.instructions),Qd(Sw.getAnnotation(t,"dependencies"),e.dependencies,t.dependencies),ap("injectable",e,t,(()=>null)),ap("needsCompile",e,t,(()=>!0)),Qd(Sw.getAnnotation(t,"surrogates"),e.surrogates,t.surrogates),sy.from(...sy.getAll(t),Sw.getAnnotation(t,"bindables"),t.bindables,e.bindables),cw.from(...cw.getAll(t),Sw.getAnnotation(t,"childrenObservers"),t.childrenObservers,e.childrenObservers),ap("containerless",e,t,(()=>!1)),ap("isStrictBinding",e,t,(()=>!1)),ap("shadowOptions",e,t,(()=>null)),ap("hasSlots",e,t,(()=>!1)),ap("enhance",e,t,(()=>!1)),ap("projectionsMap",e,t,(()=>new Map)),Qd(e.watches,yw.getAnnotation(t),t.watches),ap("processContent",e,t,(()=>null)))}static getOrCreate(e){if(e instanceof Cw)return e;if(xw.has(e))return xw.get(e);const t=Cw.create(e);return xw.set(e,t),jd.define(Sw.name,t,t.Type),t}register(e){const{Type:t,key:n,aliases:i}=this;Bp.transient(n,t).register(e),Bp.aliasTo(n,t).register(e),Vg(i,Sw,n,e)}}const kw={name:void 0,searchParents:!1,optional:!1},Sw={name:op.resource.keyFor("custom-element"),keyFrom:e=>`${Sw.name}:${e}`,isType:e=>"function"==typeof e&&jd.hasOwn(Sw.name,e),for(e,t=kw){if(void 0===t.name&&!0!==t.searchParents){const n=Zx(e,Sw.name);if(null===n){if(!0===t.optional)return null;throw new Error("The provided node is not a custom element or containerless host.")}return n}if(void 0!==t.name){if(!0!==t.searchParents){const n=Zx(e,Sw.name);if(null===n)throw new Error("The provided node is not a custom element or containerless host.");return n.is(t.name)?n:void 0}let n=e,i=!1;for(;null!==n;){const e=Zx(n,Sw.name);if(null!==e&&(i=!0,e.is(t.name)))return e;n=sC(n)}if(i)return;throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")}let n=e;for(;null!==n;){const e=Zx(n,Sw.name);if(null!==e)return e;n=sC(n)}throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")},define(e,t){const n=Cw.create(e,t);return jd.define(Sw.name,n,n.Type),jd.define(Sw.name,n,n),op.resource.appendTo(n.Type,Sw.name),n.Type},getDefinition(e){const t=jd.getOwn(Sw.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,t,n){jd.define(op.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>jd.getOwn(op.annotation.keyFor(t),e),generateName:function(){let e=0;return function(){return"unnamed-"+ ++e}}(),createInjectable(){const e=function(t,n,i){return gp.getOrCreateAnnotationParamTypes(t)[i]=e,t};return e.register=function(t){return{resolve:(t,n)=>n.has(e,!0)?n.get(e):null}},e},generateType:function(){const e={value:"",writable:!1,enumerable:!1,configurable:!0},t={};return function(n,i=t){const s=class{};return e.value=n,Reflect.defineProperty(s,"name",e),i!==t&&Object.assign(s.prototype,i),s}}()},$w=op.annotation.keyFor("processContent");function Tw(e,t){"string"==typeof t&&(t=e[t]);const n=typeof t;if("function"!==n)throw new Error(`Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a ${n}.`);return t}function Aw(e){return function(t){return Pw.define(e,t)}}function Ow(e){return function(t){return Pw.define("string"==typeof e?{isTemplateController:!0,name:e}:{isTemplateController:!0,...e},t)}}class Ew{constructor(e,t,n,i,s,o,r,a,l){this.Type=e,this.name=t,this.aliases=n,this.key=i,this.defaultBindingMode=s,this.isTemplateController=o,this.bindables=r,this.noMultiBindings=a,this.watches=l}static create(e,t){let n,i;return"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e),new Ew(t,Zd(Pw.getAnnotation(t,"name"),n),Qd(Pw.getAnnotation(t,"aliases"),i.aliases,t.aliases),Pw.keyFrom(n),Zd(Pw.getAnnotation(t,"defaultBindingMode"),i.defaultBindingMode,t.defaultBindingMode,Mf.toView),Zd(Pw.getAnnotation(t,"isTemplateController"),i.isTemplateController,t.isTemplateController,!1),sy.from(...sy.getAll(t),Pw.getAnnotation(t,"bindables"),t.bindables,i.bindables),Zd(Pw.getAnnotation(t,"noMultiBindings"),i.noMultiBindings,t.noMultiBindings,!1),Qd(yw.getAnnotation(t),t.watches))}register(e){const{Type:t,key:n,aliases:i}=this;Bp.transient(n,t).register(e),Bp.aliasTo(n,t).register(e),Vg(i,Pw,n,e)}}const Pw={name:op.resource.keyFor("custom-attribute"),keyFrom:e=>`${Pw.name}:${e}`,isType:e=>"function"==typeof e&&jd.hasOwn(Pw.name,e),for(e,t){var n;return null!==(n=Zx(e,Pw.keyFrom(t)))&&void 0!==n?n:void 0},define(e,t){const n=Ew.create(e,t);return jd.define(Pw.name,n,n.Type),jd.define(Pw.name,n,n),op.resource.appendTo(t,Pw.name),n.Type},getDefinition(e){const t=jd.getOwn(Pw.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,t,n){jd.define(op.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>jd.getOwn(op.annotation.keyFor(t),e)},Rw=gp.createInterface("IViewFactory");class Iw{constructor(e,t){this.name=e,this.context=t,this.isCaching=!1,this.cache=null,this.cacheSize=-1}setCacheSize(e,t){e&&("*"===e?e=Iw.maxCacheSize:"string"==typeof e&&(e=parseInt(e,10)),-1!==this.cacheSize&&t||(this.cacheSize=e)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}canReturnToCache(e){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(e){return!!this.canReturnToCache(e)&&(this.cache.push(e),!0)}create(e,t){const n=this.cache;let i;return null!=n&&n.length>0?(i=n.pop(),i):(i=Rx.forSyntheticView(null,this.context,this,e,t),i)}}Iw.maxCacheSize=65535;const jw=new WeakSet;function Fw(e){return!jw.has(e)}function Lw(e){return jw.add(e),Cw.create(e)}const Dw={name:op.resource.keyFor("views"),has:e=>"function"==typeof e&&(jd.hasOwn(Dw.name,e)||"$views"in e),get(e){if("function"==typeof e&&"$views"in e){const t=e.$views.filter(Fw).map(Lw);for(const n of t)Dw.add(e,n)}let t=jd.getOwn(Dw.name,e);return void 0===t&&jd.define(Dw.name,t=[],e),t},add(e,t){const n=Cw.create(t);let i=jd.getOwn(Dw.name,e);return void 0===i?jd.define(Dw.name,i=[n],e):i.push(n),i}},Nw=gp.createInterface("IViewLocator",(e=>e.singleton(Mw)));class Mw{constructor(){this.modelInstanceToBoundComponent=new WeakMap,this.modelTypeToUnboundComponent=new Map}getViewComponentForObject(e,t){if(e){const n=Dw.has(e.constructor)?Dw.get(e.constructor):[],i="function"==typeof t?t(e,n):this.getViewName(n,t);return this.getOrCreateBoundComponent(e,n,i)}return null}getOrCreateBoundComponent(e,t,n){let i,s=this.modelInstanceToBoundComponent.get(e);if(void 0===s?(s={},this.modelInstanceToBoundComponent.set(e,s)):i=s[n],void 0===i){const o=this.getOrCreateUnboundComponent(e,t,n);i=Sw.define(Sw.getDefinition(o),class extends o{constructor(){super(e)}}),s[n]=i}return i}getOrCreateUnboundComponent(e,t,n){let i,s=this.modelTypeToUnboundComponent.get(e.constructor);if(void 0===s?(s={},this.modelTypeToUnboundComponent.set(e.constructor,s)):i=s[n],void 0===i){i=Sw.define(this.getView(t,n),class{constructor(e){this.viewModel=e}define(e,t,n){const i=this.viewModel;if(e.scope=_g.fromParent(e.scope,i),void 0!==i.define)return i.define(e,t,n)}});const o=i.prototype;"hydrating"in e&&(o.hydrating=function(e){this.viewModel.hydrating(e)}),"hydrated"in e&&(o.hydrated=function(e){this.viewModel.hydrated(e)}),"created"in e&&(o.created=function(e){this.viewModel.created(e)}),"binding"in e&&(o.binding=function(e,t,n){return this.viewModel.binding(e,t,n)}),"bound"in e&&(o.bound=function(e,t,n){return this.viewModel.bound(e,t,n)}),"attaching"in e&&(o.attaching=function(e,t,n){return this.viewModel.attaching(e,t,n)}),"attached"in e&&(o.attached=function(e,t){return this.viewModel.attached(e,t)}),"detaching"in e&&(o.detaching=function(e,t,n){return this.viewModel.detaching(e,t,n)}),"unbinding"in e&&(o.unbinding=function(e,t,n){return this.viewModel.unbinding(e,t,n)}),"dispose"in e&&(o.dispose=function(){this.viewModel.dispose()}),s[n]=i}return i}getViewName(e,t){return t||(1===e.length?e[0].name:"default-view")}getView(e,t){const n=e.find((e=>e.name===t));if(void 0===n)throw new Error(`Could not find view: ${t}`);return n}}var Bw;gp.createInterface("IProjections"),function(e){e[e.Projection=0]="Projection",e[e.Fallback=1]="Fallback"}(Bw||(Bw={}));class Hw{constructor(e,t,n){this.name=e,this.type=t,this.content=n}}class Vw{constructor(e,t){this.scope=e,this.projections=t}}const qw=gp.createInterface("IProjectionProvider",(e=>e.singleton(_w))),Uw=new WeakMap,zw=new WeakMap;class _w{registerProjections(e,t){for(const[n,i]of e)zw.set(n,new Vw(t,i))}getProjectionFor(e){var t;return null!==(t=zw.get(e))&&void 0!==t?t:null}registerScopeFor(e,t){Uw.set(e,t)}getScopeFor(e){var t;return null!==(t=Uw.get(e))&&void 0!==t?t:null}}class Ww{constructor(e,t,n,i){this.hostScope=null,this.view=n.create().setLocation(i),this.outerScope=e.getScopeFor(t)}static get inject(){return[_w,CC,Rw,tC]}binding(e,t,n){this.hostScope=this.$controller.scope.parentScope}attaching(e,t,n){var i;const{$controller:s}=this;return this.view.activate(e,s,n,null!==(i=this.outerScope)&&void 0!==i?i:this.hostScope,this.hostScope)}detaching(e,t,n){return this.view.deactivate(e,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}}ww({name:"au-slot",template:null,containerless:!0})(Ww);const Kw=gp.createInterface("AuSlotsInfo");class Gw{constructor(e){this.projectedSlots=e}}const Yw=new WeakMap,Qw=new WeakMap,Zw=new WeakMap;function Xw(e,t,n){const i=Cw.getOrCreate(e);if(null!==i.injectable)return new ex(i,t);if(null==n){let e=Yw.get(i);void 0===e&&Yw.set(i,e=new WeakMap);let n=e.get(t);return void 0===n&&e.set(t,n=new ex(i,t)),n}let s=Qw.get(i);void 0===s&&Qw.set(i,s=new WeakMap);let o=s.get(t);void 0===o&&s.set(t,o=new WeakMap);let r=o.get(n);return void 0===r&&o.set(n,r=new ex(i,t)),r}const Jw=new WeakMap;class ex{constructor(e,t){this.definition=e,this.parentContainer=t,this.viewModelProvider=void 0,this.fragment=null,this.factory=void 0,this.isCompiled=!1,this.renderers=Object.create(null),this.compiledDefinition=void 0,this.root=t.root;const n=this.container=t.createChild(),i=n.getAll(qC);let s,o=0;for(;o<i.length;++o)s=i[o],this.renderers[s.instructionType]=s;this.projectionProvider=n.get(qw),n.registerResolver(Rw,this.factoryProvider=new tx,!0),n.registerResolver(Ux,this.parentControllerProvider=new Hp("IController"),!0),n.registerResolver(CC,this.instructionProvider=new Hp("IInstruction"),!0),n.registerResolver(tC,this.renderLocationProvider=new Hp("IRenderLocation"),!0),n.registerResolver(Kw,this.auSlotsInfoProvider=new Hp("IAuSlotsInfo"),!0);const r=this.platform=n.get(Ny),a=this.elementProvider=new Hp("ElementResolver");n.registerResolver(Jx,a),n.registerResolver(r.Node,a),n.registerResolver(r.Element,a),n.registerResolver(r.HTMLElement,a),n.register(...e.dependencies)}get id(){return this.container.id}has(e,t){return this.container.has(e,t)}get(e){return this.container.get(e)}getAll(e){return this.container.getAll(e)}register(...e){return this.container.register(...e)}registerResolver(e,t){return this.container.registerResolver(e,t)}registerTransformer(e,t){return this.container.registerTransformer(e,t)}getResolver(e,t){return this.container.getResolver(e,t)}invoke(e,t){return this.container.invoke(e,t)}getFactory(e){return this.container.getFactory(e)}registerFactory(e,t){this.container.registerFactory(e,t)}createChild(){return this.container.createChild()}find(e,t){return this.container.find(e,t)}create(e,t){return this.container.create(e,t)}disposeResolvers(){this.container.disposeResolvers()}compile(e){let t;if(this.isCompiled)return this.registerScopeForAuSlot(e),this;this.isCompiled=!0;const n=this.definition;if(n.needsCompile){const i=this.container,s=i.get(VC);t=this.compiledDefinition=s.compile(n,i,e),this.registerScopeForAuSlot(e)}else t=this.compiledDefinition=n;if(t.register(this),Zw.has(t))this.fragment=Zw.get(t);else{const e=this.platform.document,n=t.template;if(null===n||!0===this.definition.enhance)this.fragment=null;else if(n instanceof this.platform.Node)"TEMPLATE"===n.nodeName?this.fragment=e.adoptNode(n.content):(this.fragment=e.adoptNode(e.createDocumentFragment())).appendChild(n);else{const t=e.createElement("template");e.adoptNode(t.content),"string"==typeof n&&(t.innerHTML=n),this.fragment=t.content}Zw.set(t,this.fragment)}return this}getViewFactory(e){let t=this.factory;return void 0===t&&(void 0===e&&(e=this.definition.name),t=this.factory=new Iw(e,this)),t}beginChildComponentOperation(e){const t=this.definition;return null!==t.injectable&&(void 0===this.viewModelProvider&&this.container.registerResolver(t.injectable,this.viewModelProvider=new Hp("definition.injectable")),this.viewModelProvider.prepare(e)),this}registerScopeForAuSlot(e){var t,n,i,s;if(null===e)return;const o=e.scope,r=this.projectionProvider,a=this.compiledDefinition.instructions.flat();let l=0;for(;l<a.length;){const e=a[l++];if(e instanceof PC){const i=e.slotInfo;null!=i&&(i.type===Bw.Projection&&r.registerScopeFor(e,o),a.push(...null!==(n=null===(t=i.content.instructions)||void 0===t?void 0:t.flat())&&void 0!==n?n:[]))}else e instanceof IC&&a.push(...null!==(s=null===(i=e.def.instructions)||void 0===i?void 0:i.flat())&&void 0!==s?s:[])}}createNodes(){if(!0===this.compiledDefinition.enhance)return new aC(this.platform,this.compiledDefinition.template);if(null===this.fragment){let e=Jw.get(this.platform);return void 0===e&&Jw.set(this.platform,e=new aC(this.platform,this.platform.document.createDocumentFragment())),e}return new aC(this.platform,this.fragment.cloneNode(!0))}getComponentFactory(e,t,n,i,s,o){return void 0!==e&&this.parentControllerProvider.prepare(e),void 0!==t&&this.elementProvider.prepare(t),void 0!==n&&this.instructionProvider.prepare(n),void 0!==s&&this.renderLocationProvider.prepare(s),void 0!==i&&this.factoryProvider.prepare(i),void 0!==o&&this.auSlotsInfoProvider.prepare(o),this}createComponent(e){return this.container.get(e)}render(e,t,n,i,s){if(n.length!==i.instructions.length)throw new Error(`The compiled template is not aligned with the render instructions. There are ${n.length} targets and ${i.instructions.length} instructions.`);for(let s=0;s<n.length;++s)this.renderChildren(e,i.instructions[s],t,n[s]);null!=s&&this.renderChildren(e,i.surrogates,t,s)}renderChildren(e,t,n,i){for(let s=0;s<t.length;++s){const o=t[s];this.renderers[o.type].render(e,this,n,i,o)}}dispose(){this.elementProvider.dispose()}registerProjections(e,t){this.projectionProvider.registerProjections(e,t)}getProjectionFor(e){return this.projectionProvider.getProjectionFor(e)}registerScopeFor(e,t){this.projectionProvider.registerScopeFor(e,t)}getScopeFor(e){return this.projectionProvider.getScopeFor(e)}}class tx{constructor(){this.factory=null}prepare(e){this.factory=e}get $isResolver(){return!0}resolve(e,t){const n=this.factory;if(null===n)throw new Error("Cannot resolve ViewFactory before the provider was prepared.");if("string"!=typeof n.name||0===n.name.length)throw new Error("Cannot resolve ViewFactory without a (valid) name.");return n}dispose(){this.factory=null}}class nx{constructor(e){this.obj=e,this.value="",this.oldValue="",this.doNotCache=!0,this.nameIndex={},this.version=0,this.hasChanges=!1,this.isActive=!1,this.type=6}getValue(){return this.value}setValue(e,t){this.value=e,this.hasChanges=e!==this.oldValue,0==(256&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.value,t=this.nameIndex;let n=this.version;this.oldValue=e;const i=ix(e);if(i.length>0&&this.addClassesAndUpdateIndex(i),this.version+=1,0===n)return;n-=1;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]===n&&this.obj.classList.remove(e)}}addClassesAndUpdateIndex(e){const t=this.obj;for(let n=0,i=e.length;n<i;n++){const i=e[n];0!==i.length&&(this.nameIndex[i]=this.version,t.classList.add(i))}}}function ix(e){if("string"==typeof e)return sx(e);if("object"!=typeof e)return zp;if(e instanceof Array){const t=e.length;if(t>0){const n=[];for(let i=0;i<t;++i)n.push(...ix(e[i]));return n}return zp}const t=[];for(const n in e)Boolean(e[n])&&(n.includes(" ")?t.push(...sx(n)):t.push(n));return t}function sx(e){const t=e.match(/\S+/g);return null===t?zp:t}var ox=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},rx=function(e,t){return function(n,i){t(n,i,e)}};const ax=gp.createInterface("IShadowDOMStyleFactory",(e=>e.cachedCallback((e=>px.supported(e.get(Ny))?e.get(cx):e.get(ux)))));class lx{constructor(e){this.css=e}register(e){const t=e.get(dx),n=e.get(ax);e.register(Bp.instance(hx,n.createStyles(this.css,t)))}}let cx=class{constructor(e){this.p=e,this.cache=new Map}createStyles(e,t){return new px(this.p,e,this.cache,t)}};cx=ox([rx(0,Ny)],cx);let ux=class{constructor(e){this.p=e}createStyles(e,t){return new gx(this.p,e,t)}};ux=ox([rx(0,Ny)],ux);const hx=gp.createInterface("IShadowDOMStyles"),dx=gp.createInterface("IShadowDOMGlobalStyles",(e=>e.instance({applyTo:Wp})));class px{constructor(e,t,n,i=null){this.sharedStyles=i,this.styleSheets=t.map((t=>{let i;return t instanceof e.CSSStyleSheet?i=t:(i=n.get(t),void 0===i&&(i=new e.CSSStyleSheet,i.replaceSync(t),n.set(t,i))),i}))}static supported(e){return"adoptedStyleSheets"in e.ShadowRoot.prototype}applyTo(e){null!==this.sharedStyles&&this.sharedStyles.applyTo(e),e.adoptedStyleSheets=[...e.adoptedStyleSheets,...this.styleSheets]}}class gx{constructor(e,t,n=null){this.p=e,this.localStyles=t,this.sharedStyles=n}applyTo(e){const t=this.localStyles,n=this.p;for(let i=t.length-1;i>-1;--i){const s=n.document.createElement("style");s.innerHTML=t[i],e.prepend(s)}null!==this.sharedStyles&&this.sharedStyles.applyTo(e)}}const{enter:fx,exit:mx}=zv,{wrap:vx,unwrap:bx}=Db;class yx{constructor(e,t,n,i,s){this.obj=e,this.observerLocator=t,this.get=n,this.cb=i,this.useProxy=s,this.interceptor=this,this.value=void 0,this.isBound=!1,this.running=!1}handleChange(){this.run()}handleCollectionChange(){this.run()}$bind(){this.isBound||(this.isBound=!0,this.compute())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0))}run(){if(!this.isBound||this.running)return;const e=this.obj,t=this.value,n=this.compute();Object.is(n,t)||this.cb.call(e,n,t,e)}compute(){this.running=!0,this.obs.version++;try{return fx(this),this.value=bx(this.get.call(void 0,this.useProxy?vx(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,mx(this)}}}class wx{constructor(e,t,n,i,s){this.scope=e,this.locator=t,this.observerLocator=n,this.expression=i,this.callback=s,this.interceptor=this,this.isBound=!1,this.obj=e.bindingContext}handleChange(e){const t=this.expression,n=this.obj,i=this.value;10082===t.$kind&&1===this.obs.count||(this.obs.version++,e=t.evaluate(0,this.scope,null,this.locator,this),this.obs.clear(!1)),Object.is(e,i)||(this.value=e,this.callback.call(n,e,i,n))}$bind(){this.isBound||(this.isBound=!0,this.obs.version++,this.value=this.expression.evaluate(0,this.scope,null,this.locator,this),this.obs.clear(!1))}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0),this.value=void 0)}}iv(yx),iv(wx);const xx=gp.createInterface("ILifecycleHooks");class Cx{constructor(e,t){this.definition=e,this.instance=t}}class kx{constructor(e,t){this.Type=e,this.propertyNames=t}static create(e,t){const n=new Set;let i=t.prototype;for(;i!==Object.prototype;){for(const e of Object.getOwnPropertyNames(i))"constructor"!==e&&n.add(e);i=Object.getPrototypeOf(i)}return new kx(t,n)}register(e){Bp.singleton(xx,this.Type).register(e)}}const Sx=new WeakMap,$x={name:op.annotation.keyFor("lifecycle-hooks"),define(e,t){const n=kx.create(e,t);return jd.define($x.name,n,t),op.resource.appendTo(t,$x.name),n.Type},resolve(e){let t=Sx.get(e);if(void 0===t){t=new Tx;const n=e.root,i=n.id===e.id?e.getAll(xx):e.has(xx,!1)?[...n.getAll(xx),...e.getAll(xx)]:n.getAll(xx);let s,o,r,a,l;for(s of i)for(a of(o=jd.getOwn($x.name,s.constructor),r=new Cx(o,s),o.propertyNames))l=t[a],void 0===l?t[a]=[r]:l.push(r)}return t}};class Tx{}function Ax(e){e.dispose()}var Ox;!function(e){e[e.none=0]="none",e[e.host=1]="host",e[e.shadowRoot=2]="shadowRoot",e[e.location=3]="location"}(Ox||(Ox={}));const Ex={optional:!0},Px=new WeakMap;class Rx{constructor(e,t,n,i,s,o,r,a){switch(this.root=e,this.container=t,this.vmKind=n,this.flags=i,this.definition=s,this.viewFactory=o,this.viewModel=r,this.host=a,this.id=Kd("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.hostScope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.context=null,this.location=null,this.lifecycleHooks=null,this.state=0,this.logger=null,this.debug=!1,this.fullyNamed=!1,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.activatingStack=0,this.detachingStack=0,this.unbindingStack=0,null===e&&t.has(zx,!0)&&(this.root=t.get(zx)),this.platform=t.get(Ny),n){case 1:case 0:this.hooks=new Mx(r);break;case 2:this.hooks=Mx.none}}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){var e;if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===(null===(e=this.parent.definition)||void 0===e?void 0:e.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}static getCached(e){return Px.get(e)}static getCachedOrThrow(e){const t=Rx.getCached(e);if(void 0===t)throw new Error(`There is no cached controller for the provided ViewModel: ${String(e)}`);return t}static forCustomElement(e,t,n,i,s,o=0,r=!0,a){if(Px.has(n))return Px.get(n);a=null!=a?a:Sw.getDefinition(n.constructor);const l=new Rx(e,t,0,o,a,null,n,i);return Px.set(n,l),r&&l.hydrateCustomElement(t,s),l}static forCustomAttribute(e,t,n,i,s=0){if(Px.has(n))return Px.get(n);const o=Pw.getDefinition(n.constructor),r=new Rx(e,t,1,s,o,null,n,i);return Px.set(n,r),r.hydrateCustomAttribute(),r}static forSyntheticView(e,t,n,i=0,s){const o=new Rx(e,t,2,i,null,n,null,null);return o.parent=null!=s?s:null,o.hydrateSynthetic(t),o}hydrateCustomElement(e,t){var n;this.logger=e.get(vg).root,this.debug=this.logger.config.level<=1,this.debug&&(this.logger=this.logger.scopeTo(this.name));let i=this.definition;this.flags;const s=this.viewModel;if(this.scope=_g.create(s,null,!0),i.watches.length>0&&Lx(this,this.container,i,s),jx(this,i,0,s),function(e,t,n,i){const s=t.childrenObservers,o=Object.getOwnPropertyNames(s),r=o.length;if(r>0){const t=Ix(i);let n,a,l=0;for(;l<r;++l)n=o[l],null==t[n]&&(a=s[n],t[n]=new dw(e,i,n,a.callback,a.query,a.filter,a.map,a.options))}}(this,i,0,s),this.hooks.hasDefine){this.debug&&this.logger.trace("invoking define() hook");const t=s.define(this,e,i);void 0!==t&&t!==i&&(i=Cw.getOrCreate(t))}const o=this.context=Xw(i,e,null==t?void 0:t.projections);this.lifecycleHooks=$x.resolve(o),i.register(o),null!==i.injectable&&o.beginChildComponentOperation(s),(null===(n=this.root)||void 0===n?void 0:n.controller)!==this&&(this.hydrate(t),this.hydrateChildren())}hydrate(e){this.hooks.hasHydrating&&(this.debug&&this.logger.trace("invoking hasHydrating() hook"),this.viewModel.hydrating(this));const t=this.context.compile(e),{projectionsMap:n,shadowOptions:i,isStrictBinding:s,hasSlots:o,containerless:r}=t.compiledDefinition;if(t.registerProjections(n,this.scope),this.isStrictBinding=s,null!==(this.hostController=Sw.for(this.host,Ex))&&(this.host=this.platform.document.createElement(this.context.definition.name)),Xx(this.host,Sw.name,this),Xx(this.host,this.definition.key,this),null!==i||o){if(r)throw new Error("You cannot combine the containerless custom element option with Shadow DOM.");Xx(this.shadowRoot=this.host.attachShadow(null!=i?i:Bx),Sw.name,this),Xx(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else r?(Xx(this.location=oC(this.host),Sw.name,this),Xx(this.location,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.viewModel.$controller=this,this.nodes=t.createNodes(),this.hooks.hasHydrated&&(this.debug&&this.logger.trace("invoking hasHydrated() hook"),this.viewModel.hydrated(this))}hydrateChildren(){const e=this.nodes.findTargets();this.context.render(this.flags,this,e,this.context.compiledDefinition,this.host),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateCustomAttribute(){const e=this.definition,t=this.viewModel;e.watches.length>0&&Lx(this,this.container,e,t),jx(this,e,this.flags,t),t.$controller=this,this.lifecycleHooks=$x.resolve(this.container),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateSynthetic(e){this.context=e;const t=e.compile(null),n=t.compiledDefinition;this.isStrictBinding=n.isStrictBinding;const i=(this.nodes=t.createNodes()).findTargets();t.render(this.flags,this,i,n,void 0)}activate(e,t,n,i,s){switch(this.state){case 0:case 8:if(null!==t&&!t.isActive)return;this.state=1;break;case 2:return;case 32:throw new Error(`${this.name} trying to activate a controller that is disposed.`);default:throw new Error(`${this.name} unexpected state: ${qx(this.state)}.`)}switch(this.parent=t,this.debug&&!this.fullyNamed&&(this.fullyNamed=!0,this.logger=this.context.get(vg).root.scopeTo(this.name),this.logger.trace("activate()")),this.hostScope=null!=s?s:null,n|=2,this.vmKind){case 0:this.scope.parentScope=null!=i?i:null;break;case 1:this.scope=null!=i?i:null;break;case 2:if(null==i)throw new Error("Scope is null or undefined");this.hasLockedScope||(this.scope=i)}if(this.isStrictBinding&&(n|=1),this.$initiator=e,this.$flags=n,this.enterActivating(),this.hooks.hasBinding){this.debug&&this.logger.trace("binding()");const e=this.viewModel.binding(this.$initiator,this.parent,this.$flags);if(e instanceof Promise)return this.ensurePromise(),e.then((()=>{this.bind()})).catch((e=>{this.reject(e)})),this.$promise}return this.bind(),this.$promise}bind(){if(this.debug&&this.logger.trace("bind()"),null!==this.bindings)for(let e=0;e<this.bindings.length;++e)this.bindings[e].$bind(this.$flags,this.scope,this.hostScope);if(this.hooks.hasBound){this.debug&&this.logger.trace("bound()");const e=this.viewModel.bound(this.$initiator,this.parent,this.$flags);if(e instanceof Promise)return this.ensurePromise(),void e.then((()=>{this.isBound=!0,this.attach()})).catch((e=>{this.reject(e)}))}this.isBound=!0,this.attach()}append(...e){switch(this.mountTarget){case 1:this.host.append(...e);break;case 2:this.shadowRoot.append(...e);break;case 3:for(let t=0;t<e.length;++t)this.location.parentNode.insertBefore(e[t],this.location)}}attach(){var e;if(this.debug&&this.logger.trace("attach()"),null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.append(this.host);break;case 3:this.hostController.append(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null===(e=this.definition)||void 0===e?void 0:e.enhance);break;case 2:(this.context.has(hx,!1)?this.context.get(hx):this.context.get(dx)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break;case 3:this.nodes.insertBefore(this.location)}if(this.hooks.hasAttaching){this.debug&&this.logger.trace("attaching()");const e=this.viewModel.attaching(this.$initiator,this.parent,this.$flags);e instanceof Promise&&(this.ensurePromise(),this.enterActivating(),e.then((()=>{this.leaveActivating()})).catch((e=>{this.reject(e)})))}if(null!==this.children)for(let e=0;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.$flags,this.scope,this.hostScope);this.leaveActivating()}deactivate(e,t,n){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw new Error(`${this.name} unexpected state: ${qx(this.state)}.`)}if(this.debug&&this.logger.trace("deactivate()"),this.$initiator=e,this.$flags=n,e===this&&this.enterDetaching(),null!==this.children)for(let t=0;t<this.children.length;++t)this.children[t].deactivate(e,this,n);if(this.hooks.hasDetaching){this.debug&&this.logger.trace("detaching()");const t=this.viewModel.detaching(this.$initiator,this.parent,this.$flags);t instanceof Promise&&(this.ensurePromise(),e.enterDetaching(),t.then((()=>{e.leaveDetaching()})).catch((t=>{e.reject(t)})))}if(null===e.head?e.head=this:e.tail.next=this,e.tail=this,e===this)return this.leaveDetaching(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){this.debug&&this.logger.trace("unbind()");const e=4|this.$flags;if(null!==this.bindings)for(let t=0;t<this.bindings.length;++t)this.bindings[t].$unbind(e);switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parentScope=null}32==(32&e)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.resolve()}ensurePromise(){void 0===this.$promise&&(this.$promise=new Promise(((e,t)=>{this.$resolve=e,this.$reject=t})),this.$initiator!==this&&this.parent.ensurePromise())}resolve(){if(void 0!==this.$promise){const e=this.$resolve;this.$resolve=this.$reject=this.$promise=void 0,e()}}reject(e){if(void 0!==this.$promise){const t=this.$reject;this.$resolve=this.$reject=this.$promise=void 0,t(e)}this.$initiator!==this&&this.parent.reject(e)}enterActivating(){++this.activatingStack,this.$initiator!==this&&this.parent.enterActivating()}leaveActivating(){if(0==--this.activatingStack){if(this.hooks.hasAttached){this.debug&&this.logger.trace("attached()");const e=this.viewModel.attached(this.$initiator,this.$flags);if(e instanceof Promise)return this.ensurePromise(),void e.then((()=>{this.state=2,this.resolve(),this.$initiator!==this&&this.parent.leaveActivating()})).catch((e=>{this.reject(e)}))}this.state=2,this.resolve()}this.$initiator!==this&&this.parent.leaveActivating()}enterDetaching(){++this.detachingStack}leaveDetaching(){if(0==--this.detachingStack){this.debug&&this.logger.trace("detach()"),this.enterUnbinding(),this.removeNodes();let e=this.$initiator.head;for(;null!==e;){if(e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e.hooks.hasUnbinding){e.debug&&e.logger.trace("unbinding()");const t=e.viewModel.unbinding(e.$initiator,e.parent,e.$flags);t instanceof Promise&&(this.ensurePromise(),this.enterUnbinding(),t.then((()=>{this.leaveUnbinding()})).catch((e=>{this.reject(e)})))}e=e.next}this.leaveUnbinding()}}enterUnbinding(){++this.unbindingStack}leaveUnbinding(){if(0==--this.unbindingStack){this.debug&&this.logger.trace("unbind()");let e=this.$initiator.head,t=null;for(;null!==e;)e!==this&&(e.isBound=!1,e.unbind()),t=e.next,e.next=null,e=t;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(e){null===this.bindings?this.bindings=[e]:this.bindings[this.bindings.length]=e}addController(e){null===this.children?this.children=[e]:this.children[this.children.length]=e}is(e){switch(this.vmKind){case 1:return Pw.getDefinition(this.viewModel.constructor).name===e;case 0:return Sw.getDefinition(this.viewModel.constructor).name===e;case 2:return this.viewFactory.name===e}}lockScope(e){this.scope=e,this.hasLockedScope=!0}setHost(e){return 0===this.vmKind&&(Xx(e,Sw.name,this),Xx(e,this.definition.key,this)),this.host=e,this.mountTarget=1,this}setShadowRoot(e){return 0===this.vmKind&&(Xx(e,Sw.name,this),Xx(e,this.definition.key,this)),this.shadowRoot=e,this.mountTarget=2,this}setLocation(e){return 0===this.vmKind&&(Xx(e,Sw.name,this),Xx(e,this.definition.key,this)),this.location=e,this.mountTarget=3,this}release(){this.state|=16}dispose(){this.debug&&this.logger.trace("dispose()"),32!=(32&this.state)&&(this.state|=32,this.hooks.hasDispose&&this.viewModel.dispose(),null!==this.children&&(this.children.forEach(Ax),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.context=null,this.location=null,this.viewFactory=null,null!==this.viewModel&&(Px.delete(this.viewModel),this.viewModel=null),this.viewModel=null,this.host=null,this.shadowRoot=null,this.root=null)}accept(e){if(!0===e(this))return!0;if(this.hooks.hasAccept&&!0===this.viewModel.accept(e))return!0;if(null!==this.children){const{children:t}=this;for(let n=0,i=t.length;n<i;++n)if(!0===t[n].accept(e))return!0}}getTargetAccessor(e){const{bindings:t}=this;if(null!==t){const n=t.find((t=>t.targetProperty===e));if(void 0!==n)return n.targetObserver}}}function Ix(e){let t=e.$observers;return void 0===t&&Reflect.defineProperty(e,"$observers",{enumerable:!1,value:t={}}),t}function jx(e,t,n,i){const s=t.bindables,o=Object.getOwnPropertyNames(s),r=o.length;if(r>0){let t,n,a=0;const l=Ix(i);for(;a<r;++a)t=o[a],void 0===l[t]&&(n=s[t],l[t]=new ry(i,t,n.callback,n.set,e))}}const Fx={map:new Map,for(e){let t=Fx.map.get(e);return null==t&&(t=new gf(e,0),Fx.map.set(e,t)),t}};function Lx(e,t,n,i){const s=t.get(Qb),o=t.get(sv),r=n.watches,a=r.length;let l,c,u,h=0;for(;a>h;++h){if(({expression:l,callback:c}=r[h]),c="function"==typeof c?c:Reflect.get(i,c),"function"!=typeof c)throw new Error(`Invalid callback for @watch decorator: ${String(c)}`);"function"==typeof l?e.addBinding(new yx(i,s,l,c,!0)):(u="string"==typeof l?o.parse(l,53):Fx.for(l),e.addBinding(new wx(e.scope,t,s,u,c)))}}function Dx(e){return e instanceof Rx&&0===e.vmKind}function Nx(e){return ud(e)&&Sw.isType(e.constructor)}class Mx{constructor(e){this.hasDefine="define"in e,this.hasHydrating="hydrating"in e,this.hasHydrated="hydrated"in e,this.hasCreated="created"in e,this.hasBinding="binding"in e,this.hasBound="bound"in e,this.hasAttaching="attaching"in e,this.hasAttached="attached"in e,this.hasDetaching="detaching"in e,this.hasUnbinding="unbinding"in e,this.hasDispose="dispose"in e,this.hasAccept="accept"in e}}Mx.none=new Mx({});const Bx={mode:"open"};var Hx,Vx;function qx(e){const t=[];return 1==(1&e)&&t.push("activating"),2==(2&e)&&t.push("activated"),4==(4&e)&&t.push("deactivating"),8==(8&e)&&t.push("deactivated"),16==(16&e)&&t.push("released"),32==(32&e)&&t.push("disposed"),0===t.length?"none":t.join("|")}!function(e){e[e.customElement=0]="customElement",e[e.customAttribute=1]="customAttribute",e[e.synthetic=2]="synthetic"}(Hx||(Hx={})),function(e){e[e.none=0]="none",e[e.activating=1]="activating",e[e.activated=2]="activated",e[e.deactivating=4]="deactivating",e[e.deactivated=8]="deactivated",e[e.released=16]="released",e[e.disposed=32]="disposed"}(Vx||(Vx={}));const Ux=gp.createInterface("IController");const zx=gp.createInterface("IAppRoot"),_x=gp.createInterface("IWorkTracker",(e=>e.singleton(Wx)));let Wx=class{constructor(e){this.logger=e,this.stack=0,this.promise=null,this.resolve=null,this.logger=e.scopeTo("WorkTracker")}start(){this.logger.trace(`start(stack:${this.stack})`),++this.stack}finish(){if(this.logger.trace(`finish(stack:${this.stack})`),0==--this.stack){const e=this.resolve;null!==e&&(this.resolve=this.promise=null,e())}}wait(){if(this.logger.trace(`wait(stack:${this.stack})`),null===this.promise){if(0===this.stack)return Promise.resolve();this.promise=new Promise((e=>{this.resolve=e}))}return this.promise}};var Kx,Gx;Wx=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([(Kx=0,Gx=vg,function(e,t){Gx(e,t,Kx)})],Wx);class Yx{constructor(e,t,n,i,s=!1){if(this.config=e,this.platform=t,this.container=n,this.controller=void 0,this.hydratePromise=void 0,this.host=e.host,this.work=n.get(_x),i.prepare(this),n.has(Jx,!1)&&n.get(Jx)!==e.host&&(this.container=n.createChild()),this.container.register(Bp.instance(Jx,e.host)),s){const t=e.component;this.enhanceDefinition=Sw.getDefinition(Sw.isType(t)?Sw.define({...Sw.getDefinition(t),template:this.host,enhance:!0},t):Sw.define({name:void 0,template:this.host,enhance:!0}))}this.hydratePromise=tp(this.runAppTasks("beforeCreate"),(()=>{const t=Sw.isType(e.component)?this.container.get(e.component):e.component,i=this.controller=Rx.forCustomElement(this,n,t,this.host,null,0,!1,this.enhanceDefinition);return i.hydrateCustomElement(n,null),tp(this.runAppTasks("hydrating"),(()=>(i.hydrate(null),tp(this.runAppTasks("hydrated"),(()=>{i.hydrateChildren(),this.hydratePromise=void 0})))))}))}activate(){return tp(this.hydratePromise,(()=>tp(this.runAppTasks("beforeActivate"),(()=>tp(this.controller.activate(this.controller,null,2,void 0),(()=>this.runAppTasks("afterActivate")))))))}deactivate(){return tp(this.runAppTasks("beforeDeactivate"),(()=>tp(this.controller.deactivate(this.controller,null,0),(()=>this.runAppTasks("afterDeactivate")))))}runAppTasks(e){return np(...this.container.getAll(sw).reduce(((t,n)=>(n.slot===e&&t.push(n.run()),t)),[]))}dispose(){var e;null===(e=this.controller)||void 0===e||e.dispose()}}class Qx{}function Zx(e,t){var n,i;return null!==(i=null===(n=e.$au)||void 0===n?void 0:n[t])&&void 0!==i?i:null}function Xx(e,t,n){var i,s;(null!==(i=(s=e).$au)&&void 0!==i?i:s.$au=new Qx)[t]=n}const Jx=gp.createInterface("INode"),eC=gp.createInterface("IEventTarget",(e=>e.cachedCallback((e=>e.has(zx,!0)?e.get(zx).host:e.get(Ny).document)))),tC=gp.createInterface("IRenderLocation");var nC;!function(e){e[e.Element=1]="Element",e[e.Attr=2]="Attr",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection",e[e.EntityReference=5]="EntityReference",e[e.Entity=6]="Entity",e[e.ProcessingInstruction=7]="ProcessingInstruction",e[e.Comment=8]="Comment",e[e.Document=9]="Document",e[e.DocumentType=10]="DocumentType",e[e.DocumentFragment=11]="DocumentFragment",e[e.Notation=12]="Notation"}(nC||(nC={}));const iC=new WeakMap;function sC(e){if(iC.has(e))return iC.get(e);let t=0,n=e.nextSibling;for(;null!==n;){if(8===n.nodeType)switch(n.textContent){case"au-start":++t;break;case"au-end":if(0==t--)return n}n=n.nextSibling}if(null===e.parentNode&&11===e.nodeType){const t=Sw.for(e);if(void 0===t)return null;if(2===t.mountTarget)return sC(t.host)}return e.parentNode}function oC(e){if(rC(e))return e;const t=e.ownerDocument.createComment("au-end"),n=e.ownerDocument.createComment("au-start");return null!==e.parentNode&&(e.parentNode.replaceChild(t,e),t.parentNode.insertBefore(n,t)),t.$start=n,t}function rC(e){return"au-end"===e.textContent}class aC{constructor(e,t){this.platform=e,this.fragment=t,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const n=t.querySelectorAll(".au");let i=0,s=n.length;const o=this.targets=Array(s);for(;i<s;){const e=n[i];"AU-M"===e.nodeName?o[i]=oC(e):o[i]=e,++i}const r=t.childNodes;i=0,s=r.length;const a=this.childNodes=Array(s);for(;i<s;)a[i]=r[i],++i;this.firstChild=t.firstChild,this.lastChild=t.lastChild}findTargets(){return this.targets}insertBefore(e){if(this.isLinked&&this.refNode)this.addToLinked();else{const t=e.parentNode;if(this.isMounted){let n=this.firstChild;const i=this.lastChild;let s;for(;null!=n&&(s=n.nextSibling,t.insertBefore(n,e),n!==i);)n=s}else this.isMounted=!0,e.parentNode.insertBefore(this.fragment,e)}}appendTo(e,t=!1){if(this.isMounted){let t=this.firstChild;const n=this.lastChild;let i;for(;null!=t&&(i=t.nextSibling,e.appendChild(t),t!==n);)t=i}else this.isMounted=!0,t||e.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const e=this.fragment,t=this.lastChild;let n,i=this.firstChild;for(;null!==i&&(n=i.nextSibling,e.appendChild(i),i!==t);)i=n}}addToLinked(){const e=this.refNode,t=e.parentNode;if(this.isMounted){let n=this.firstChild;const i=this.lastChild;let s;for(;null!=n&&(s=n.nextSibling,t.insertBefore(n,e),n!==i);)n=s}else this.isMounted=!0,t.insertBefore(this.fragment,e)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(e){this.isLinked=!0,rC(e)?this.refNode=e:(this.next=e,this.obtainRefNode())}obtainRefNode(){void 0!==this.next?this.refNode=this.next.firstChild:this.refNode=void 0}}const lC=gp.createInterface("IWindow",(e=>e.callback((e=>e.get(Ny).window)))),cC=gp.createInterface("ILocation",(e=>e.callback((e=>e.get(lC).location)))),uC=gp.createInterface("IHistory",(e=>e.callback((e=>e.get(lC).history)))),hC={[Vf.capturing]:{capture:!0},[Vf.bubbling]:{capture:!1}};class dC{constructor(e,t,n,i,s,o,r,a){this.platform=e,this.targetEvent=t,this.delegationStrategy=n,this.sourceExpression=i,this.target=s,this.preventDefault=o,this.eventDelegator=r,this.locator=a,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.handler=null}callSource(e){const t=this.$scope.overrideContext;t.$event=e;const n=this.sourceExpression.evaluate(8,this.$scope,this.$hostScope,this.locator,null);return Reflect.deleteProperty(t,"$event"),!0!==n&&this.preventDefault&&e.preventDefault(),n}handleEvent(e){this.interceptor.callSource(e)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.$hostScope=n;const i=this.sourceExpression;if(i.hasBind&&i.bind(e,t,n,this.interceptor),this.delegationStrategy===Vf.none)this.target.addEventListener(this.targetEvent,this);else{const e=this.locator.get(eC);this.handler=this.eventDelegator.addEventListener(e,this.target,this.targetEvent,this,hC[this.delegationStrategy])}this.isBound=!0}$unbind(e){if(!this.isBound)return;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=null,this.delegationStrategy===Vf.none?this.target.removeEventListener(this.targetEvent,this):(this.handler.dispose(),this.handler=null),this.isBound=!1}observeProperty(e,t){}handleChange(e,t,n){}}const pC={capture:!1};class gC{constructor(e,t,n=pC){this.publisher=e,this.eventName=t,this.options=n,this.count=0,this.captureLookups=new Map,this.bubbleLookups=new Map}increment(){1==++this.count&&this.publisher.addEventListener(this.eventName,this,this.options)}decrement(){0==--this.count&&this.publisher.removeEventListener(this.eventName,this,this.options)}dispose(){this.count>0&&(this.count=0,this.publisher.removeEventListener(this.eventName,this,this.options)),this.captureLookups.clear(),this.bubbleLookups.clear()}getLookup(e){const t=!0===this.options.capture?this.captureLookups:this.bubbleLookups;let n=t.get(e);return void 0===n&&t.set(e,n=Object.create(null)),n}handleEvent(e){const t=!0===this.options.capture?this.captureLookups:this.bubbleLookups,n=e.composedPath();!0===this.options.capture&&n.reverse();for(const i of n){const n=t.get(i);if(void 0===n)continue;const s=n[this.eventName];if(void 0!==s&&("function"==typeof s?s(e):s.handleEvent(e),!0===e.cancelBubble))return}}}class fC{constructor(e,t,n,i){this.tracker=e,this.lookup=t,this.eventName=n,e.increment(),t[n]=i}dispose(){this.tracker.decrement(),this.lookup[this.eventName]=void 0}}class mC{constructor(e){this.config=e,this.target=null,this.handler=null}subscribe(e,t){this.target=e,this.handler=t;for(const n of this.config.events)e.addEventListener(n,t)}dispose(){const{target:e,handler:t}=this;if(null!==e&&null!==t)for(const n of this.config.events)e.removeEventListener(n,t);this.target=this.handler=null}}const vC=gp.createInterface("IEventDelegator",(e=>e.singleton(bC)));class bC{constructor(){this.trackerMaps=Object.create(null)}addEventListener(e,t,n,i,s){var o,r;const a=null!==(o=(r=this.trackerMaps)[n])&&void 0!==o?o:r[n]=new Map;let l=a.get(e);return void 0===l&&a.set(e,l=new gC(e,n,s)),new fC(l,l.getLookup(t),n,i)}dispose(){for(const e in this.trackerMaps){const t=this.trackerMaps[e];for(const e of t.values())e.dispose();t.clear()}}}var yC,wC=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},xC=function(e,t){return function(n,i){t(n,i,e)}};!function(e){e.hydrateElement="ra",e.hydrateAttribute="rb",e.hydrateTemplateController="rc",e.hydrateLetElement="rd",e.setProperty="re",e.interpolation="rf",e.propertyBinding="rg",e.callBinding="rh",e.letBinding="ri",e.refBinding="rj",e.iteratorBinding="rk",e.textBinding="ha",e.listenerBinding="hb",e.attributeBinding="hc",e.stylePropertyBinding="hd",e.setAttribute="he",e.setClassAttribute="hf",e.setStyleAttribute="hg"}(yC||(yC={}));const CC=gp.createInterface("Instruction");function kC(e){const t=e.type;return"string"==typeof t&&2===t.length}class SC{constructor(e,t){this.from=e,this.to=t}get type(){return"rf"}}class $C{constructor(e,t,n){this.from=e,this.to=t,this.mode=n}get type(){return"rg"}}class TC{constructor(e,t){this.from=e,this.to=t}get type(){return"rk"}}class AC{constructor(e,t){this.from=e,this.to=t}get type(){return"rh"}}class OC{constructor(e,t){this.from=e,this.to=t}get type(){return"rj"}}class EC{constructor(e,t){this.value=e,this.to=t}get type(){return"re"}}class PC{constructor(e,t,n,i){this.res=e,this.alias=t,this.instructions=n,this.slotInfo=i}get type(){return"ra"}}class RC{constructor(e,t,n){this.res=e,this.alias=t,this.instructions=n}get type(){return"rb"}}class IC{constructor(e,t,n,i){this.def=e,this.res=t,this.alias=n,this.instructions=i}get type(){return"rc"}}class jC{constructor(e,t){this.instructions=e,this.toBindingContext=t}get type(){return"rd"}}class FC{constructor(e,t){this.from=e,this.to=t}get type(){return"ri"}}class LC{constructor(e){this.from=e}get type(){return"ha"}}class DC{constructor(e,t,n,i){this.from=e,this.to=t,this.preventDefault=n,this.strategy=i}get type(){return"hb"}}class NC{constructor(e,t){this.value=e,this.to=t}get type(){return"he"}}class MC{constructor(e){this.value=e,this.type="hf"}}class BC{constructor(e){this.value=e,this.type="hg"}}class HC{constructor(e,t,n){this.attr=e,this.from=t,this.to=n}get type(){return"hc"}}const VC=gp.createInterface("ITemplateCompiler"),qC=gp.createInterface("IRenderer");function UC(e){return function(t){const n=function(...n){const i=new t(...n);return i.instructionType=e,i};n.register=function(e){Bp.singleton(qC,n).register(e)};const i=jd.getOwnKeys(t);for(const e of i)jd.define(e,jd.getOwn(e,t),n);const s=Object.getOwnPropertyDescriptors(t);return Object.keys(s).filter((e=>"prototype"!==e)).forEach((e=>{Reflect.defineProperty(n,e,s[e])})),n}}function zC(e,t,n){return"string"==typeof t?e.parse(t,n):t}function _C(e){return null!=e.viewModel?e.viewModel:e}let WC=class{render(e,t,n,i,s){const o=_C(i);void 0!==o.$observers&&void 0!==o.$observers[s.to]?o.$observers[s.to].setValue(s.value,2):o[s.to]=s.value}};WC=wC([UC("re")],WC);let KC=class{render(e,t,n,i,s){var o;let r;const a=s.slotInfo;null!==a&&(r=Xw(a.content,t).getViewFactory(void 0));const l=t.getProjectionFor(s),c=t.getComponentFactory(n,i,s,r,i,new Gw(Object.keys(null!==(o=null==l?void 0:l.projections)&&void 0!==o?o:{}))),u=Sw.keyFrom(s.res),h=c.createComponent(u),d=Rx.forCustomElement(n.root,t,h,i,l,e);e=d.flags,Xx(i,u,d),t.renderChildren(e,s.instructions,n,d),n.addController(d),c.dispose()}};KC=wC([UC("ra")],KC);let GC=class{render(e,t,n,i,s){const o=t.getComponentFactory(n,i,s,void 0,void 0),r=Pw.keyFrom(s.res),a=o.createComponent(r),l=Rx.forCustomAttribute(n.root,t,a,i,e);Xx(i,r,l),t.renderChildren(e,s.instructions,n,l),n.addController(l),o.dispose()}};GC=wC([UC("rb")],GC);let YC=class{render(e,t,n,i,s){var o;const r=Xw(s.def,t).getViewFactory(),a=oC(i),l=t.getComponentFactory(n,i,s,r,a),c=Pw.keyFrom(s.res),u=l.createComponent(c),h=Rx.forCustomAttribute(n.root,t,u,i,e);Xx(a,c,h),null===(o=u.link)||void 0===o||o.call(u,e,t,n,h,i,s),t.renderChildren(e,s.instructions,n,h),n.addController(h),l.dispose()}};YC=wC([UC("rc")],YC);let QC=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,i,s){i.remove();const o=s.instructions,r=s.toBindingContext;let a,l,c;for(let e=0,i=o.length;e<i;++e)a=o[e],l=zC(this.parser,a.from,48),c=sk(new Qy(l,a.to,this.observerLocator,t,r),l,t),n.addBinding(c)}};QC=wC([UC("rd"),xC(0,sv),xC(1,Qb)],QC);let ZC=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,i,s){const o=zC(this.parser,s.from,153),r=sk(new Py(o,_C(i),s.to,this.observerLocator,t),o,t);n.addBinding(r)}};ZC=wC([UC("rh"),xC(0,sv),xC(1,Qb)],ZC);let XC=class{constructor(e){this.parser=e}render(e,t,n,i,s){const o=zC(this.parser,s.from,5376),r=sk(new iw(o,function(e,t){if("element"===t)return e;switch(t){case"controller":return Sw.for(e);case"view":throw new Error("Not supported API");case"view-model":return Sw.for(e).viewModel;default:{const n=Pw.for(e,t);if(void 0!==n)return n.viewModel;const i=Sw.for(e,{name:t});if(void 0===i)throw new Error(`Attempted to reference "${t}", but it was not found amongst the target's API.`);return i.viewModel}}}(i,s.to),t),o,t);n.addBinding(r)}};XC=wC([UC("rj"),xC(0,sv)],XC);let JC=class{constructor(e,t,n){this.parser=e,this.observerLocator=t,this.platform=n}render(e,t,n,i,s){const o=zC(this.parser,s.from,2048),r=new Ky(this.observerLocator,o,_C(i),s.to,Mf.toView,t,this.platform.domWriteQueue),a=r.partBindings,l=a.length;let c,u=0;for(;l>u;++u)c=a[u],a[u]=sk(c,c.sourceExpression,t);n.addBinding(r)}};JC=wC([UC("rf"),xC(0,sv),xC(1,Qb),xC(2,Ny)],JC);let ek=class{constructor(e,t,n){this.parser=e,this.observerLocator=t,this.platform=n}render(e,t,n,i,s){const o=zC(this.parser,s.from,48|s.mode),r=sk(new nw(o,_C(i),s.to,s.mode,this.observerLocator,t,this.platform.domWriteQueue),o,t);n.addBinding(r)}};ek=wC([UC("rg"),xC(0,sv),xC(1,Qb),xC(2,Ny)],ek);let tk=class{constructor(e,t,n){this.parser=e,this.observerLocator=t,this.platform=n}render(e,t,n,i,s){const o=zC(this.parser,s.from,539),r=sk(new nw(o,_C(i),s.to,Mf.toView,this.observerLocator,t,this.platform.domWriteQueue),o,t);n.addBinding(r)}};tk=wC([UC("rk"),xC(0,sv),xC(1,Qb),xC(2,Ny)],tk);let nk=0;const ik=[];function sk(e,t,n){for(;t instanceof cf;)ik[nk++]=t,t=t.expression;for(;nk>0;){const t=ik[--nk],i=n.get(t.behaviorKey);i instanceof Xg&&(e=i.construct(e,t))}return ik.length=0,e}let ok=class{constructor(e,t,n){this.parser=e,this.observerLocator=t,this.platform=n}render(e,t,n,i,s){const o=i.nextSibling,r=i.parentNode,a=this.platform.document,l=zC(this.parser,s.from,2048),c=l.parts,u=l.expressions,h=u.length;let d=0,p=c[0];for(""!==p&&r.insertBefore(a.createTextNode(p),o);h>d;++d)n.addBinding(sk(new Yy(u[d],r.insertBefore(a.createTextNode(""),o),t,this.observerLocator,this.platform),u[d],t)),p=c[d+1],""!==p&&r.insertBefore(a.createTextNode(p),o);"AU-M"===i.nodeName&&i.remove()}};ok=wC([UC("ha"),xC(0,sv),xC(1,Qb),xC(2,Ny)],ok);let rk=class{constructor(e,t){this.parser=e,this.eventDelegator=t}render(e,t,n,i,s){const o=zC(this.parser,s.from,80|s.strategy+6),r=sk(new dC(t.platform,s.to,s.strategy,o,i,s.preventDefault,this.eventDelegator,t),o,t);n.addBinding(r)}};rk=wC([UC("hb"),xC(0,sv),xC(1,vC)],rk);let ak=class{render(e,t,n,i,s){i.setAttribute(s.to,s.value)}};ak=wC([UC("he")],ak);let lk=class{render(e,t,n,i,s){!function(e,t){const n=t.length;let i=0;for(let s=0;s<n;++s)32===t.charCodeAt(s)?(s!==i&&e.add(t.slice(i,s)),i=s+1):s+1===n&&e.add(t.slice(i))}(i.classList,s.value)}};lk=wC([UC("hf")],lk);let ck=class{render(e,t,n,i,s){i.style.cssText+=s.value}};ck=wC([UC("hg")],ck);let uk=class{constructor(e,t,n){this.parser=e,this.observerLocator=t,this.platform=n}render(e,t,n,i,s){const o=zC(this.parser,s.from,48|Mf.toView),r=sk(new nw(o,i.style,s.to,Mf.toView,this.observerLocator,t,this.platform.domWriteQueue),o,t);n.addBinding(r)}};uk=wC([UC("hd"),xC(0,sv),xC(1,Qb),xC(2,Ny)],uk);let hk=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,i,s){const o=zC(this.parser,s.from,48|Mf.toView),r=sk(new zy(o,i,s.attr,s.to,Mf.toView,this.observerLocator,t),o,t);n.addBinding(r)}};var dk;function pk(e){const t=e.document.createElement("au-m");return t.className="au",t}hk=wC([UC("hc"),xC(0,sv),xC(1,Qb)],hk),function(e){e[e.type=1023]="type",e[e.isTemplateController=1]="isTemplateController",e[e.isProjection=2]="isProjection",e[e.isCustomAttribute=4]="isCustomAttribute",e[e.isPlainAttribute=8]="isPlainAttribute",e[e.isCustomElement=16]="isCustomElement",e[e.isLetElement=32]="isLetElement",e[e.isPlainElement=64]="isPlainElement",e[e.isText=128]="isText",e[e.isBinding=256]="isBinding",e[e.isAuSlot=512]="isAuSlot",e[e.hasMarker=1024]="hasMarker",e[e.hasTemplate=2048]="hasTemplate",e[e.hasAttributes=4096]="hasAttributes",e[e.hasBindings=8192]="hasBindings",e[e.hasChildNodes=16384]="hasChildNodes",e[e.hasProjections=32768]="hasProjections"}(dk||(dk={}));class gk{constructor(e,t,n,i=n.name){this.syntax=t,this.info=n,this.res=i,this.flags=1025,this.physicalNode=null,this.template=null,this.templateController=null,this._bindings=null,this.marker=pk(e)}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class fk{constructor(e,t){this.name=e,this.template=t,this.flags=2}}class mk{constructor(e,t,n=t.name){this.syntax=e,this.info=t,this.res=n,this.flags=4,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class vk{constructor(e,t,n){this.syntax=e,this.command=t,this.expression=n,this.flags=8}}class bk{constructor(e,t,n,i,s){this.command=e,this.bindable=t,this.expression=n,this.rawValue=i,this.target=s,this.flags=256}}class yk{constructor(e,t,n,i=n.name,s=n.bindables){this.physicalNode=t,this.info=n,this.res=i,this.bindables=s,this.flags=16,this.isTarget=!0,this.templateController=null,this._customAttributes=null,this._plainAttributes=null,this._bindings=null,this._childNodes=null,this._projections=null,n.containerless?(this.isContainerless=!0,this.marker=pk(e),this.flags|=1024):(this.isContainerless=!1,this.marker=null)}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}get projections(){return null===this._projections&&(this._projections=[],this.flags|=32768),this._projections}}class wk{constructor(e,t,n=pk(e)){this.physicalNode=t,this.marker=n,this.flags=1056,this.toBindingContext=!1,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class xk{constructor(e){this.physicalNode=e,this.flags=64,this.isTarget=!1,this.templateController=null,this.hasSlots=!1,this._customAttributes=null,this._plainAttributes=null,this._childNodes=null}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}}class Ck{constructor(e,t,n,i=pk(e)){this.physicalNode=t,this.interpolation=n,this.marker=i,this.flags=1152}}class kk{constructor(e,t){this.propName=e,this.mode=t}}const Sk=new WeakMap;class $k{constructor(e,t,n){this.name=e,this.alias=t,this.containerless=n,this.bindables=Object.create(null)}static from(e,t){if(null===e)return null;let n=Sk.get(e);void 0===n&&Sk.set(e,n=Object.create(null));let i=n[t];if(void 0===i){i=n[t]=new $k(e.name,t===e.name?void 0:t,e.containerless);const s=e.bindables,o=Mf.toView;let r,a,l,c;for(a in s)r=s[a],void 0!==r.property&&(a=r.property),l=void 0!==r.attribute?r.attribute:zd(a),c=void 0!==r.mode&&r.mode!==Mf.default?r.mode:o,i.bindables[l]=new kk(a,c)}return i}}const Tk=new WeakMap;class Ak{constructor(e,t,n,i){this.name=e,this.alias=t,this.isTemplateController=n,this.noMultiBindings=i,this.bindables=Object.create(null),this.bindable=null}static from(e,t){if(null===e)return null;let n=Tk.get(e);void 0===n&&Tk.set(e,n=Object.create(null));let i=n[t];if(void 0===i){i=n[t]=new Ak(e.name,t===e.name?void 0:t,e.isTemplateController,e.noMultiBindings);const s=e.bindables,o=void 0!==e.defaultBindingMode&&e.defaultBindingMode!==Mf.default?e.defaultBindingMode:Mf.toView;let r,a,l,c,u=!1,h=!1;for(a in s){if(r=s[a],void 0!==r.property&&(a=r.property),l=void 0!==r.mode&&r.mode!==Mf.default?r.mode:o,h=!0===r.primary,c=i.bindables[a]=new kk(a,l),h){if(u)throw new Error("primary already exists");u=!0,i.bindable=c}null===i.bindable&&(i.bindable=c)}null===i.bindable&&(i.bindable=new kk("value",o))}return i}}var Ok=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};function Ek(e){return function(t){return Rk.define(e,t)}}class Pk{constructor(e,t,n,i,s){this.Type=e,this.name=t,this.aliases=n,this.key=i,this.type=s}static create(e,t){let n,i;return"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e),new Pk(t,Zd(Rk.getAnnotation(t,"name"),n),Qd(Rk.getAnnotation(t,"aliases"),i.aliases,t.aliases),Rk.keyFrom(n),Zd(Rk.getAnnotation(t,"type"),i.type,t.type,null))}register(e){const{Type:t,key:n,aliases:i}=this;Bp.singleton(n,t).register(e),Bp.aliasTo(n,t).register(e),Vg(i,Rk,n,e)}}const Rk={name:op.resource.keyFor("binding-command"),keyFrom:e=>`${Rk.name}:${e}`,isType:e=>"function"==typeof e&&jd.hasOwn(Rk.name,e),define(e,t){const n=Pk.create(e,t);return jd.define(Rk.name,n,n.Type),jd.define(Rk.name,n,n),op.resource.appendTo(t,Rk.name),n.Type},getDefinition(e){const t=jd.getOwn(Rk.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,t,n){jd.define(op.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>jd.getOwn(op.annotation.keyFor(t),e)};function Ik(e,t){return 256&e.flags?e.bindable.propName:t?qd(e.syntax.target):e.syntax.target}let jk=class{constructor(){this.bindingType=49}compile(e){return new $C(e.expression,Ik(e,!1),Mf.oneTime)}};jk=Ok([Ek("one-time")],jk);let Fk=class{constructor(){this.bindingType=50}compile(e){return new $C(e.expression,Ik(e,!1),Mf.toView)}};Fk=Ok([Ek("to-view")],Fk);let Lk=class{constructor(){this.bindingType=51}compile(e){return new $C(e.expression,Ik(e,!1),Mf.fromView)}};Lk=Ok([Ek("from-view")],Lk);let Dk=class{constructor(){this.bindingType=52}compile(e){return new $C(e.expression,Ik(e,!1),Mf.twoWay)}};Dk=Ok([Ek("two-way")],Dk);let Nk=class{constructor(){this.bindingType=53}compile(e){let t=Mf.default;if(e instanceof bk)t=e.bindable.mode;else switch(e.syntax.command){case"bind":case"to-view":t=Mf.toView;break;case"one-time":t=Mf.oneTime;break;case"from-view":t=Mf.fromView;break;case"two-way":t=Mf.twoWay}return new $C(e.expression,Ik(e,!1),t===Mf.default?Mf.toView:t)}};Nk=Ok([Ek("bind")],Nk);let Mk=class{constructor(){this.bindingType=153}compile(e){return new AC(e.expression,Ik(e,!0))}};Mk=Ok([Ek("call")],Mk);let Bk=class{constructor(){this.bindingType=539}compile(e){return new TC(e.expression,Ik(e,!1))}};Bk=Ok([Ek("for")],Bk);let Hk=class{constructor(){this.bindingType=4182}compile(e){return new DC(e.expression,Ik(e,!1),!0,Vf.none)}};Hk=Ok([Ek("trigger")],Hk);let Vk=class{constructor(){this.bindingType=4184}compile(e){return new DC(e.expression,Ik(e,!1),!1,Vf.bubbling)}};Vk=Ok([Ek("delegate")],Vk);let qk=class{constructor(){this.bindingType=4183}compile(e){return new DC(e.expression,Ik(e,!1),!1,Vf.capturing)}};qk=Ok([Ek("capture")],qk);let Uk=class{constructor(){this.bindingType=32}compile(e){const t=Ik(e,!1);return new HC(t,e.expression,t)}};Uk=Ok([Ek("attr")],Uk);let zk=class{constructor(){this.bindingType=4128}compile(e){return new HC("style",e.expression,Ik(e,!1))}};zk=Ok([Ek("style")],zk);let _k=class{constructor(){this.bindingType=4128}compile(e){return new HC("class",e.expression,Ik(e,!1))}};_k=Ok([Ek("class")],_k);let Wk=class{constructor(){this.bindingType=4128}compile(e){return new OC(e.expression,Ik(e,!1))}};Wk=Ok([Ek("ref")],Wk);const Kk=Yk();function Gk(e,t,n){if(!0===Kk[t])return!0;if("string"!=typeof t)return!1;const i=t.slice(0,5);return Kk[t]="aria-"===i||"data-"===i||n.isStandardSvgAttribute(e,t)}function Yk(){return Object.create(null)}const Qk=gp.createInterface("ISVGAnalyzer",(e=>e.singleton(Zk)));class Zk{isStandardSvgAttribute(e,t){return!1}}const Xk=gp.createInterface("IAttrSyntaxTransformer",(e=>e.singleton(Jk)));class Jk{constructor(e){this.svg=e,this.fns=[],this.tagAttrMap=Yk(),this.globalAttrMap=Yk(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[Qk]}useMapping(e){var t,n;let i,s,o,r;for(o in e)for(r in i=e[o],s=null!==(t=(n=this.tagAttrMap)[o])&&void 0!==t?t:n[o]=Yk(),i){if(void 0!==s[r])throw eS(r,o);s[r]=i[r]}}useGlobalMapping(e){const t=this.globalAttrMap;for(const n in e){if(void 0!==t[n])throw eS(n,"*");t[n]=e[n]}}useTwoWay(e){this.fns.push(e)}transform(e,t){var n,i,s;"bind"===t.command&&(function(e,t){switch(e.tagName){case"INPUT":switch(e.type){case"checkbox":case"radio":return"checked"===t;default:return"value"===t||"files"===t||"value-as-number"===t||"value-as-date"===t}case"TEXTAREA":case"SELECT":return"value"===t;default:switch(t){case"textcontent":case"innerhtml":return e.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(e,t.target)||this.fns.length>0&&this.fns.some((n=>n(e,t.target))))&&(t.command="two-way");const o=t.target;t.target=null!==(s=null!==(i=null===(n=this.tagAttrMap[e.tagName])||void 0===n?void 0:n[o])&&void 0!==i?i:this.globalAttrMap[o])&&void 0!==s?s:Gk(e,o,this.svg)?o:qd(o)}}function eS(e,t){return new Error(`Attribute ${e} has been already registered for ${"*"===t?"all elements":`<${t}/>`}`)}const tS=Object.assign(Object.create(null),{id:!0,"au-slot":!0}),nS=Object.assign(Object.create(null),{"as-element":!0});function iS(e){const t=e.length;let n=0;for(let i=0;i<t;++i)if(n=e.charCodeAt(i),92===n)++i;else{if(58===n)return!0;if(36===n&&123===e.charCodeAt(i+1))return!1}return!1}function sS(e,t){return e!==t}var oS;!function(e){e[e.none=0]="none",e[e.remove=1]="remove"}(oS||(oS={}));class rS{constructor(e,t,n,i,s){this.platform=e,this.container=t,this.attrParser=n,this.exprParser=i,this.attrSyntaxTransformer=s,this.commandLookup=Object.create(null)}bind(e){const t=new xk(e),n=e.attributes;let i,s,o=0,r=null,a=null;for(;o<n.length;){if(i=n[o],s=this.attrParser.parse(i.name,i.value),!0===tS[s.target])throw new Error(`Invalid surrogate attribute: ${s.target}`);if(r=this.getBindingCommand(s,!0),null===r||0==(4096&r.bindingType))if(a=Ak.from(this.container.find(Pw,s.target),s.target),null===a)this.bindPlainAttribute(e,s,i,t,t);else{if(a.isTemplateController)throw new Error("Cannot have template controller on surrogate element.");this.bindCustomAttribute(s,a,r,t)}else this.bindPlainAttribute(e,s,i,t,t);++o}return this.bindChildNodes(e,t,t,null,null),t}bindManifest(e,t,n,i,s,o){var r,a,l,c;switch(t.nodeName){case"LET":return void this.bindLetElement(e,t);case"SLOT":n.hasSlots=!0}let u=t.getAttribute("as-element");null===u&&(u=t.nodeName.toLowerCase());const h="au-slot"===u,d=this.container.find(Sw,u),p=$k.from(d,u);let g=!0;if(null===p)i=new xk(t);else{g=null===(l=null===(a=null===(r=null==d?void 0:d.processContent)||void 0===r?void 0:r.bind(d.Type))||void 0===a?void 0:a(t,this.platform))||void 0===l||l,o=s;const e=new yk(this.platform,t,p);h&&(e.flags=512,e.slotName=null!==(c=t.getAttribute("name"))&&void 0!==c?c:"default"),s=i=e}g&&this.bindChildNodes(t,n,i,s,o),this.bindAttributes(t,e,n,i,s,o),s===i&&i.isContainerless?t.parentNode.replaceChild(i.marker,t):i.isTarget&&t.classList.add("au")}bindLetElement(e,t){const n=new wk(this.platform,t);e.childNodes.push(n);const i=t.attributes;let s=0;for(;s<i.length;){const e=i[s];if("to-binding-context"===e.name){t.removeAttribute("to-binding-context"),n.toBindingContext=!0;continue}const o=this.attrParser.parse(e.name,e.value),r=this.getBindingCommand(o,!1),a=null===r?2048:r.bindingType,l=this.exprParser.parse(o.rawValue,a),c=qd(o.target),u=new kk(c,Mf.toView);n.bindings.push(new bk(r,u,l,o.rawValue,c)),++s}t.parentNode.replaceChild(n.marker,t)}bindAttributes(e,t,n,i,s,o){var r,a,l;let c,u,h=i;const d=e.attributes;let p,g,f,m=0,v=null,b=null;for(;m<d.length;)p=d[m],++m,!0!==nS[p.name]&&(f=this.attrParser.parse(p.name,p.value),v=this.getBindingCommand(f,!0),null===v||0==(4096&v.bindingType)?(b=Ak.from(this.container.find(Pw,f.target),f.target),null===b?(g=this.bindPlainAttribute(e,f,p,n,i),1===g&&(e.removeAttributeNode(p),--m)):b.isTemplateController?(u=i.templateController=this.declareTemplateController(f,b),h===i?(u.template=i,h=u):(u.templateController=c,u.template=c.template,c.template=u),c=u):this.bindCustomAttribute(f,b,v,i)):(g=this.bindPlainAttribute(e,f,p,n,i),1===g&&(e.removeAttributeNode(p),--m)));if("INPUT"===e.tagName){const t=e.type;"checkbox"!==t&&"radio"!==t||this.ensureAttributeOrder(i)}let y=e.getAttribute("au-slot");""===y&&(y="default");const w=null!==y;if(w&&sS(h,i))throw new Error(`Unsupported usage of [au-slot="${y}"] along with a template controller (if, else, repeat.for etc.) found (example: <some-el au-slot if.bind="true"></some-el>).`);const x=null!==(a=null===(r=e.parentElement)||void 0===r?void 0:r.getAttribute("as-element"))&&void 0!==a?a:null===(l=e.parentNode)||void 0===l?void 0:l.nodeName.toLowerCase();if(w&&(null===s||void 0===x||null===this.container.find(Sw,x)))throw new Error(`Unsupported usage of [au-slot="${y}"]. It seems that projection is attempted, but not for a custom element.`);!function(e,t,n){const i=n.physicalNode;let s,o=t;for(;sS(o,n);)o.template===n?(i.parentNode.replaceChild(o.marker,i),"TEMPLATE"===i.nodeName?(o.physicalNode=i,i.remove()):(s=o.physicalNode=e.document.createElement("template"),s.content.appendChild(i))):(s=o.physicalNode=e.document.createElement("template"),s.content.appendChild(o.marker)),i.removeAttribute(o.syntax.rawName),o=o.template}(this.platform,h,i);const C=i===s?o:s;w&&null!==C?w&&(C.projections.push(new fk(y,h)),e.removeAttribute("au-slot"),e.remove()):t.childNodes.push(h)}ensureAttributeOrder(e){const t=e.plainAttributes;let n,i,s=0;for(let e=0;e<t.length&&s<3;e++)switch(t[e].syntax.target){case"model":case"value":case"matcher":n=e,s++;break;case"checked":i=e,s++}void 0!==i&&void 0!==n&&i<n&&([t[n],t[i]]=[t[i],t[n]])}bindChildNodes(e,t,n,i,s){let o,r;for(o="TEMPLATE"===e.nodeName?e.content.firstChild:e.firstChild;null!==o;)switch(o.nodeType){case 1:r=o.nextSibling,this.bindManifest(n,o,t,n,i,s),o=r;break;case 3:o=this.bindText(o,n).nextSibling;break;case 4:case 7:case 8:case 10:o=o.nextSibling;break;case 9:case 11:o=o.firstChild}}bindText(e,t){const n=this.exprParser.parse(e.wholeText,2048);if(null!==n){const i=new Ck(this.platform,e,n);t.childNodes.push(i),function(e){const t=e.physicalNode,n=t.parentNode;for(;null!==t.nextSibling&&3===t.nextSibling.nodeType;)n.removeChild(t.nextSibling);t.textContent="",n.insertBefore(e.marker,t)}(i)}let i=e;for(;null!==i.nextSibling&&3===i.nextSibling.nodeType;)i=i.nextSibling;return i}declareTemplateController(e,t){let n;const i=e.rawValue,s=this.getBindingCommand(e,!1);if(!1===t.noMultiBindings&&null===s&&iS(i))n=new gk(this.platform,e,t),this.bindMultiAttribute(n,t,i);else{n=new gk(this.platform,e,t);const o=null===s?2048:s.bindingType,r=this.exprParser.parse(i,o);n.bindings.push(new bk(s,t.bindable,r,i,e.target))}return n}bindCustomAttribute(e,t,n,i){let s;const o=e.rawValue;if(!1===t.noMultiBindings&&null===n&&iS(o))s=new mk(e,t),this.bindMultiAttribute(s,t,o);else{s=new mk(e,t);const i=null===n?2048:n.bindingType,r=this.exprParser.parse(o,i);s.bindings.push(new bk(n,t.bindable,r,o,e.target))}i.customAttributes.push(s),i.isTarget=!0}bindMultiAttribute(e,t,n){const i=t.bindables,s=n.length;let o,r,a=0,l=0;for(let t=0;t<s;++t)if(l=n.charCodeAt(t),92===l)++t;else if(58===l){for(o=n.slice(a,t);n.charCodeAt(++t)<=32;);for(a=t;t<s;++t)if(l=n.charCodeAt(t),92===l)++t;else if(59===l){r=n.slice(a,t);break}void 0===r&&(r=n.slice(a));const c=this.attrParser.parse(o,r),u=qd(c.target),h=this.getBindingCommand(c,!1),d=null===h?2048:h.bindingType,p=this.exprParser.parse(r,d);let g=i[u];for(void 0===g&&(g=i[u]=new kk(u,Mf.toView)),e.bindings.push(new bk(h,g,p,r,u));t<s&&n.charCodeAt(++t)<=32;);a=t,o=void 0,r=void 0}}bindPlainAttribute(e,t,n,i,s){const o=t.target,r=t.rawValue,a=this.getBindingCommand(t,!1),l=null===a?2048:a.bindingType;let c,u=!1;if((16&s.flags)>0){const e=s.bindables[o];if(null!=e){const t=0===r.length&&(55&l)>0?qd(o):r;return c=this.exprParser.parse(t,l),s.bindings.push(new bk(a,e,c,r,o)),u=2048===l&&null!=c,s.isTarget=!0,u?1:0}}return c=this.exprParser.parse(r,l),u=2048===l&&null!=c,0==(4096&l)&&this.attrSyntaxTransformer.transform(e,t),null!=c?(s.plainAttributes.push(new vk(t,a,c)),s.isTarget=!0):s===i&&s.plainAttributes.push(new vk(t,a,c)),u?1:0}getBindingCommand(e,t){const n=e.command;if(null===n)return null;let i=this.commandLookup[n];if(void 0===i){if(i=this.container.create(Rk,n),null===i){if(t)return null;throw new Error(`Unknown binding command: ${n}`)}this.commandLookup[n]=i}return i}}const aS=gp.createInterface("ITemplateElementFactory",(e=>e.singleton(cS))),lS={};let cS=class{constructor(e){this.p=e,this.template=e.document.createElement("template")}createTemplate(e){var t;if("string"==typeof e){let t=lS[e];if(void 0===t){const n=this.template;n.innerHTML=e;const i=n.content.firstElementChild;null==i||"TEMPLATE"!==i.nodeName||null!=i.nextElementSibling?(this.template=this.p.document.createElement("template"),t=n):(n.content.removeChild(i),t=i),lS[e]=t}return t.cloneNode(!0)}if("TEMPLATE"!==e.nodeName){const t=this.p.document.createElement("template");return t.content.appendChild(e),t}return null===(t=e.parentNode)||void 0===t||t.removeChild(e),e.cloneNode(!0)}};cS=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([function(e,t){return function(n,i){t(n,i,e)}}(0,Ny)],cS);var uS,hS=function(e,t){return function(n,i){t(n,i,e)}};class dS{constructor(e,t,n){this.partialDefinition=e,this.surrogate=t,this.template=n,this.instructions=[],this.surrogates=[],this.projectionsMap=new Map}toDefinition(){const e=this.partialDefinition;return Cw.create({...e,instructions:Qd(e.instructions,this.instructions),surrogates:Qd(e.surrogates,this.surrogates),template:this.template,needsCompile:!1,hasSlots:this.surrogate.hasSlots,projectionsMap:this.projectionsMap})}}!function(e){e.property="property",e.attribute="attribute",e.mode="mode"}(uS||(uS={}));const pS=Object.freeze(["property","attribute","mode"]),gS="as-custom-element";let fS=class{constructor(e,t,n,i,s,o){this.factory=e,this.attrParser=t,this.exprParser=n,this.attrSyntaxModifier=i,this.p=o,this.logger=s.scopeTo("TemplateCompiler")}get name(){return"default"}static register(e){return Bp.singleton(VC,this).register(e)}compile(e,t,n){const i=Cw.getOrCreate(e);if(null===i.template||void 0===i.template)return i;const{attrParser:s,exprParser:o,attrSyntaxModifier:r,factory:a}=this,l=t.get(Ny),c=new rS(l,t,s,o,r),u=!0===i.enhance?i.template:a.createTemplate(i.template);!function(e,t,n,i,s){let o;if("TEMPLATE"===e.nodeName){if(e.hasAttribute(gS))throw new Error("The root cannot be a local template itself.");o=e.content}else o=e;const r=_d(o.querySelectorAll("template[as-custom-element]")),a=r.length;if(0===a)return;if(a===o.childElementCount)throw new Error("The custom element does not have any content other than local template(s).");const l=new Set;for(const e of r){if(e.parentNode!==o)throw new Error("Local templates needs to be defined directly under root.");const i=mS(e,l),r=class{},a=e.content,c=_d(a.querySelectorAll("bindable")),u=sy.for(r),h=new Set,d=new Set;for(const e of c){if(e.parentNode!==a)throw new Error("Bindable properties of local templates needs to be defined directly under root.");const t=e.getAttribute("property");if(null===t)throw new Error(`The attribute 'property' is missing in ${e.outerHTML}`);const n=e.getAttribute("attribute");if(null!==n&&d.has(n)||h.has(t))throw new Error(`Bindable property and attribute needs to be unique; found property: ${t}, attribute: ${n}`);null!==n&&d.add(n),h.add(t),u.add({property:t,attribute:null!=n?n:void 0,mode:vS(e)});const i=e.getAttributeNames().filter((e=>!pS.includes(e)));i.length>0&&s.warn(`The attribute(s) ${i.join(", ")} will be ignored for ${e.outerHTML}. Only ${pS.join(", ")} are processed.`),a.removeChild(e)}const p=Sw.define({name:i,template:e},r);t.dependencies.push(p),n.register(p),o.removeChild(e)}}(u,i,t,0,this.logger);const h=c.bind(u),d=this.compilation=new dS(i,h,u),p=h.customAttributes,g=h.plainAttributes,f=p.length,m=g.length;if(f+m>0){let e=0;for(let t=0;f>t;++t)d.surrogates[e]=this.compileCustomAttribute(p[t]),e++;for(let t=0;t<m;++t)d.surrogates[e]=this.compilePlainAttribute(g[t],!0),e++}this.compileChildNodes(h,d.instructions,d.projectionsMap,n);const v=d.toDefinition();return this.compilation=null,v}compileChildNodes(e,t,n,i){if((16384&e.flags)>0){const s=e.childNodes,o=s.length;let r;for(let e=0;e<o;++e)if(r=s[e],(128&r.flags)>0)t.push([new LC(r.interpolation)]);else if((32&r.flags)>0){const e=r.bindings,n=[];let i;const s=e.length;for(let t=0;t<s;++t)i=e[t],n[t]=new FC(i.expression,i.target);t.push([new jC(n,r.toBindingContext)])}else this.compileParentNode(r,t,n,i)}}compileCustomElement(e,t,n,i){var s;const o=(512&e.flags)>0,r=this.compileAttributes(e,1),a=e.slotName;let l=null;if(o){const t=null===(s=null==i?void 0:i.projections)||void 0===s?void 0:s[a];l=void 0!==t?new Hw(a,Bw.Projection,t):new Hw(a,Bw.Fallback,this.compileProjectionFallback(e,n,i))}const c=r[0]=new PC(e.res,e.info.alias,this.compileBindings(e),l),u=this.compileProjections(e,n,i);null!==u&&n.set(c,u),t.push(r),o||this.compileChildNodes(e,t,n,i)}compilePlainElement(e,t,n,i){const s=this.compileAttributes(e,0);s.length>0&&t.push(s),this.compileChildNodes(e,t,n,i)}compileParentNode(e,t,n,i){switch(1023&e.flags){case 16:case 512:this.compileCustomElement(e,t,n,i);break;case 64:this.compilePlainElement(e,t,n,i);break;case 1:this.compileTemplateController(e,t,n,i)}}compileTemplateController(e,t,n,i){var s;const o=this.compileBindings(e),r=[];this.compileParentNode(e.template,r,n,i);const a=Cw.create({name:null!==(s=e.info.alias)&&void 0!==s?s:e.info.name,template:e.physicalNode,instructions:r,needsCompile:!1});t.push([new IC(a,e.res,e.info.alias,o)])}compileBindings(e){let t;if((8192&e.flags)>0){const{bindings:n}=e,i=n.length;t=Array(i);let s=0;for(;s<i;++s)t[s]=this.compileBinding(n[s])}else t=zp;return t}compileBinding(e){return null===e.command?null===e.expression?new EC(e.rawValue,e.bindable.propName):new SC(e.expression,e.bindable.propName):e.command.compile(e)}compileAttributes(e,t){let n;if((4096&e.flags)>0){const i=e.customAttributes,s=e.plainAttributes,o=i.length,r=s.length;n=Array(t+o+r);for(let e=0;o>e;++e)n[t]=this.compileCustomAttribute(i[e]),t++;for(let e=0;r>e;++e)n[t]=this.compilePlainAttribute(s[e],!1),t++}else n=t>0?Array(t):zp;return n}compileCustomAttribute(e){const t=this.compileBindings(e);return new RC(e.res,e.info.alias,t)}compilePlainAttribute(e,t){if(null===e.command){const n=e.syntax;if(null===e.expression){const e=n.rawValue;if(t)switch(n.target){case"class":return new MC(e);case"style":return new BC(e)}return new NC(e,n.target)}return new SC(e.expression,n.target)}return e.command.compile(e)}compileProjections(e,t,n){if(0==(32768&e.flags))return null;const i=this.p,s=Object.create(null),o=e.projections,r=o.length;for(let e=0;e<r;++e){const r=o[e],a=r.name,l=[];this.compileParentNode(r.template,l,t,n);const c=s[a];if(void 0===c){let e=r.template.physicalNode;if("TEMPLATE"!==e.tagName){const t=i.document.createElement("template");t.content.appendChild(e),e=t}s[a]=Cw.create({name:a,template:e,instructions:l,needsCompile:!1})}else c.template.content.appendChild(r.template.physicalNode),c.instructions.push(...l)}return s}compileProjectionFallback(e,t,n){const i=[];this.compileChildNodes(e,i,t,n);const s=this.p.document.createElement("template");return s.content.append(..._d(e.physicalNode.childNodes)),Cw.create({name:Sw.generateName(),template:s,instructions:i,needsCompile:!1})}};function mS(e,t){const n=e.getAttribute(gS);if(null===n||""===n)throw new Error('The value of "as-custom-element" attribute cannot be empty for local template');if(t.has(n))throw new Error(`Duplicate definition of the local template named ${n}`);return t.add(n),e.removeAttribute(gS),n}function vS(e){switch(e.getAttribute("mode")){case"oneTime":return Mf.oneTime;case"toView":return Mf.toView;case"fromView":return Mf.fromView;case"twoWay":return Mf.twoWay;case"default":default:return Mf.default}}fS=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([hS(0,aS),hS(1,xy),hS(2,sv),hS(3,Xk),hS(4,vg),hS(5,Ny)],fS);class bS{constructor(e){this.mode=e,this.originalModes=new Map}bind(e,t,n,i){this.originalModes.set(i,i.mode),i.mode=this.mode}unbind(e,t,n,i){i.mode=this.originalModes.get(i),this.originalModes.delete(i)}}class yS extends bS{constructor(){super(Mf.oneTime)}}class wS extends bS{constructor(){super(Mf.toView)}}class xS extends bS{constructor(){super(Mf.fromView)}}class CS extends bS{constructor(){super(Mf.twoWay)}}Qg("oneTime")(yS),Qg("toView")(wS),Qg("fromView")(xS),Qg("twoWay")(CS);class kS extends Jg{constructor(e,t){super(e,t),this.opts={delay:200},this.firstArg=null,this.task=null,this.taskQueue=e.locator.get(Kp).taskQueue,t.args.length>0&&(this.firstArg=t.args[0])}callSource(e){this.queueTask((()=>this.binding.callSource(e)))}handleChange(e,t,n){null!==this.task&&(this.task.cancel(),this.task=null),this.binding.handleChange(e,t,n)}updateSource(e,t){this.queueTask((()=>this.binding.updateSource(e,t)))}queueTask(e){const t=this.task;this.task=this.taskQueue.queueTask((()=>(this.task=null,e())),this.opts),null==t||t.cancel()}$bind(e,t,n){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(e,t,n,this.locator,null));this.opts.delay=isNaN(i)?200:i}this.binding.$bind(e,t,n)}$unbind(e){var t;null===(t=this.task)||void 0===t||t.cancel(),this.task=null,this.binding.$unbind(e)}}Qg("debounce")(kS);let SS=class{constructor(e){this.signaler=e,this.lookup=new Map}bind(e,t,n,i,...s){if(!("handleChange"in i))throw new Error("The signal behavior can only be used with bindings that have a 'handleChange' method");if(0===s.length)throw new Error("At least one signal name must be passed to the signal behavior, e.g. `expr & signal:'my-signal'`");this.lookup.set(i,s);for(const e of s)this.signaler.addSignalListener(e,i)}unbind(e,t,n,i){const s=this.lookup.get(i);this.lookup.delete(i);for(const e of s)this.signaler.removeSignalListener(e,i)}};SS=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([function(e,t){return function(n,i){t(n,i,e)}}(0,Kg)],SS),Qg("signal")(SS);class $S extends Jg{constructor(e,t){super(e,t),this.opts={delay:200},this.firstArg=null,this.task=null,this.lastCall=0,this.delay=0,this.platform=e.locator.get(Kp),this.taskQueue=this.platform.taskQueue,t.args.length>0&&(this.firstArg=t.args[0])}callSource(e){this.queueTask((()=>this.binding.callSource(e)))}handleChange(e,t,n){null!==this.task&&(this.task.cancel(),this.task=null,this.lastCall=this.platform.performanceNow()),this.binding.handleChange(e,t,n)}updateSource(e,t){this.queueTask((()=>this.binding.updateSource(e,t)))}queueTask(e){const t=this.opts,n=this.platform,i=this.lastCall+t.delay-n.performanceNow();if(i>0){const s=this.task;t.delay=i,this.task=this.taskQueue.queueTask((()=>{this.lastCall=n.performanceNow(),this.task=null,t.delay=this.delay,e()}),t),null==s||s.cancel()}else this.lastCall=n.performanceNow(),e()}$bind(e,t,n){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(e,t,n,this.locator,null));this.opts.delay=this.delay=isNaN(i)?200:i}this.binding.$bind(e,t,n)}$unbind(e){var t;null===(t=this.task)||void 0===t||t.cancel(),this.task=null,super.$unbind(e)}}Qg("throttle")($S);const TS=new class{constructor(){this.propertyKey="",this.type=6}getValue(e,t){return e.getAttribute(t)}setValue(e,t,n,i){null==e?n.removeAttribute(i):n.setAttribute(i,e)}};let AS=class{bind(e,t,n,i){i.targetObserver=TS}unbind(e,t,n,i){}};AS=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Qg("attr")],AS);function OS(e){const t=e.composedPath()[0];if(this.target===t)return this.selfEventCallSource(e)}let ES=class{bind(e,t,n,i){if(!i.callSource||!i.targetEvent)throw new Error("Self binding behavior only supports events.");i.selfEventCallSource=i.callSource,i.callSource=OS}unbind(e,t,n,i){i.callSource=i.selfEventCallSource,i.selfEventCallSource=null}};ES=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Qg("self")],ES);const PS=Object.create(null);class RS{constructor(e){this.namespace=e,this.type=6}static forNs(e){var t;return null!==(t=PS[e])&&void 0!==t?t:PS[e]=new RS(e)}getValue(e,t){return e.getAttributeNS(this.namespace,t)}setValue(e,t,n,i){null==e?n.removeAttributeNS(this.namespace,i):n.setAttributeNS(this.namespace,i,e)}}function IS(e,t){return e===t}class jS{constructor(e,t,n,i){this.handler=n,this.observerLocator=i,this.value=void 0,this.oldValue=void 0,this.type=7,this.collectionObserver=void 0,this.valueObserver=void 0,this.f=0,this.obj=e}getValue(){return this.value}setValue(e,t){const n=this.value;e!==n&&(this.value=e,this.oldValue=n,this.f=t,this.observe(),this.synchronizeElement(),this.queue.add(this))}handleCollectionChange(e,t){this.synchronizeElement()}handleChange(e,t,n){this.synchronizeElement()}synchronizeElement(){const e=this.value,t=this.obj,n=Object.prototype.hasOwnProperty.call(t,"model")?t.model:t.value,i="radio"===t.type,s=void 0!==t.matcher?t.matcher:IS;if(i)t.checked=!!s(e,n);else if(!0===e)t.checked=!0;else{let i=!1;if(e instanceof Array)i=-1!==e.findIndex((e=>!!s(e,n)));else if(e instanceof Set){for(const t of e)if(s(t,n)){i=!0;break}}else if(e instanceof Map)for(const t of e){const e=t[0],o=t[1];if(s(e,n)&&!0===o){i=!0;break}}t.checked=i}}handleEvent(){let e=this.oldValue=this.value;const t=this.obj,n=Object.prototype.hasOwnProperty.call(t,"model")?t.model:t.value,i=t.checked,s=void 0!==t.matcher?t.matcher:IS;if("checkbox"===t.type){if(e instanceof Array){const t=e.findIndex((e=>!!s(e,n)));return void(i&&-1===t?e.push(n):i||-1===t||e.splice(t,1))}if(e instanceof Set){const t={};let o=t;for(const t of e)if(!0===s(t,n)){o=t;break}return void(i&&o===t?e.add(n):i||o===t||e.delete(o))}if(e instanceof Map){let t;for(const i of e){const e=i[0];if(!0===s(e,n)){t=e;break}}return void e.set(t,i)}e=i}else{if(!i)return;e=n}this.value=e,this.queue.add(this)}start(){this.handler.subscribe(this.obj,this),this.observe()}stop(){var e,t;this.handler.dispose(),null===(e=this.collectionObserver)||void 0===e||e.unsubscribe(this),this.collectionObserver=void 0,null===(t=this.valueObserver)||void 0===t||t.unsubscribe(this)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&this.start()}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.stop()}flush(){FS=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,FS,this.f)}observe(){var e,t,n,i,s,o,r;const a=this.obj;var l,c;null===(s=null!==(e=this.valueObserver)&&void 0!==e?e:this.valueObserver=null!==(n=null===(t=a.$observers)||void 0===t?void 0:t.model)&&void 0!==n?n:null===(i=a.$observers)||void 0===i?void 0:i.value)||void 0===s||s.subscribe(this),null===(o=this.collectionObserver)||void 0===o||o.unsubscribe(this),this.collectionObserver=void 0,"checkbox"===a.type&&(null===(r=this.collectionObserver=(l=this.value,c=this.observerLocator,l instanceof Array?c.getArrayObserver(l):l instanceof Map?c.getMapObserver(l):l instanceof Set?c.getSetObserver(l):void 0))||void 0===r||r.subscribe(this))}}let FS;Wf(jS),Xf(jS);const LS=Object.prototype.hasOwnProperty,DS={childList:!0,subtree:!0,characterData:!0};function NS(e,t){return e===t}class MS{constructor(e,t,n,i){this.handler=n,this.observerLocator=i,this.value=void 0,this.oldValue=void 0,this.hasChanges=!1,this.type=7,this.arrayObserver=void 0,this.nodeObserver=void 0,this.observing=!1,this.obj=e}getValue(){return this.observing?this.value:this.obj.multiple?Array.from(this.obj.options).map((e=>e.value)):this.obj.value}setValue(e,t){this.oldValue=this.value,this.value=e,this.hasChanges=e!==this.oldValue,this.observeArray(e instanceof Array?e:null),0==(256&t)&&this.flushChanges(t)}flushChanges(e){this.hasChanges&&(this.hasChanges=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){var e;const t=this.value,n=this.obj,i=Array.isArray(t),s=null!==(e=n.matcher)&&void 0!==e?e:NS,o=n.options;let r=o.length;for(;r-- >0;){const e=o[r],n=LS.call(e,"model")?e.model:e.value;e.selected=i?-1!==t.findIndex((e=>!!s(n,e))):!!s(n,t)}}syncValue(){const e=this.obj,t=e.options,n=t.length,i=this.value;let s=0;if(e.multiple){if(!(i instanceof Array))return!0;let o;const r=e.matcher||NS,a=[];for(;s<n;)o=t[s],o.selected&&a.push(LS.call(o,"model")?o.model:o.value),++s;for(s=0;s<i.length;){const e=i[s];-1===a.findIndex((t=>!!r(e,t)))?i.splice(s,1):++s}for(s=0;s<a.length;){const e=a[s];-1===i.findIndex((t=>!!r(e,t)))&&i.push(e),++s}return!1}let o=null;for(;s<n;){const e=t[s];if(e.selected){o=LS.call(e,"model")?e.model:e.value;break}++s}return this.oldValue=this.value,this.value=o,!0}start(){(this.nodeObserver=new this.obj.ownerDocument.defaultView.MutationObserver(this.handleNodeChange.bind(this))).observe(this.obj,DS),this.observeArray(this.value instanceof Array?this.value:null),this.observing=!0}stop(){var e;this.nodeObserver.disconnect(),null===(e=this.arrayObserver)||void 0===e||e.unsubscribe(this),this.nodeObserver=this.arrayObserver=void 0,this.observing=!1}observeArray(e){var t;if(null===(t=this.arrayObserver)||void 0===t||t.unsubscribe(this),this.arrayObserver=void 0,null!=e){if(!this.obj.multiple)throw new Error("Only null or Array instances can be bound to a multi-select.");(this.arrayObserver=this.observerLocator.getArrayObserver(e)).subscribe(this)}}handleEvent(){this.syncValue()&&this.queue.add(this)}handleNodeChange(){this.syncOptions(),this.syncValue()&&this.queue.add(this)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.start())}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&(this.handler.dispose(),this.stop())}flush(){BS=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,BS,0)}}let BS,HS;Wf(MS),Xf(MS);class VS{constructor(e){this.obj=e,this.value="",this.oldValue="",this.styles={},this.version=0,this.hasChanges=!1,this.type=6}getValue(){return this.obj.style.cssText}setValue(e,t){this.value=e,this.hasChanges=e!==this.oldValue,0==(256&t)&&this.flushChanges(t)}getStyleTuplesFromString(e){const t=[],n=/url\([^)]+$/;let i,s,o,r,a=0,l="";for(;a<e.length;)i=e.indexOf(";",a),-1===i&&(i=e.length),l+=e.substring(a,i),a=i+1,n.test(l)?l+=";":(s=l.indexOf(":"),o=l.substring(0,s).trim(),r=l.substring(s+1).trim(),t.push([o,r]),l="");return t}getStyleTuplesFromObject(e){let t;const n=[];for(const i in e)if(t=e[i],null!=t)if("string"!=typeof t)n.push(...this.getStyleTuples(t));else{if(i.startsWith("--")){n.push([i,t]);continue}n.push([zd(i),t])}return n}getStyleTuplesFromArray(e){const t=e.length;if(t>0){const n=[];for(let i=0;i<t;++i)n.push(...this.getStyleTuples(e[i]));return n}return zp}getStyleTuples(e){return"string"==typeof e?this.getStyleTuplesFromString(e):e instanceof Array?this.getStyleTuplesFromArray(e):e instanceof Object?this.getStyleTuplesFromObject(e):zp}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.value,t=this.styles,n=this.getStyleTuples(e);let i,s,o,r,a=this.version;this.oldValue=e;const l=n.length;for(let e=0;e<l;++e)s=n[e],o=s[0],r=s[1],this.setProperty(o,r),t[o]=a;if(this.styles=t,this.version+=1,0===a)return;for(i in a-=1,t)Object.prototype.hasOwnProperty.call(t,i)&&t[i]===a&&this.obj.style.removeProperty(i)}}setProperty(e,t){let n="";null!=t&&"function"==typeof t.indexOf&&t.includes("!important")&&(n="important",t=t.replace("!important","")),this.obj.style.setProperty(e,t,n)}bind(e){this.value=this.oldValue=this.obj.style.cssText}}class qS{constructor(e,t,n){this.propertyKey=t,this.handler=n,this.value="",this.oldValue="",this.hasChanges=!1,this.type=7,this.obj=e}getValue(){return this.value}setValue(e,t){Object.is(e,this.value)||(this.oldValue=this.value,this.value=e,this.hasChanges=!0,this.handler.config.readonly||0!=(256&t)||this.flushChanges(t))}flushChanges(e){var t;this.hasChanges&&(this.hasChanges=!1,this.obj[this.propertyKey]=null!==(t=this.value)&&void 0!==t?t:this.handler.config.default,0==(2&e)&&this.queue.add(this))}handleEvent(){this.oldValue=this.value,this.value=this.obj[this.propertyKey],this.oldValue!==this.value&&(this.hasChanges=!1,this.queue.add(this))}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.value=this.oldValue=this.obj[this.propertyKey])}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.handler.dispose()}flush(){HS=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,HS,0)}}Wf(qS),Xf(qS);const US="http://www.w3.org/1999/xlink",zS="http://www.w3.org/XML/1998/namespace",_S="http://www.w3.org/2000/xmlns/",WS=Object.assign(Yk(),{"xlink:actuate":["actuate",US],"xlink:arcrole":["arcrole",US],"xlink:href":["href",US],"xlink:role":["role",US],"xlink:show":["show",US],"xlink:title":["title",US],"xlink:type":["type",US],"xml:lang":["lang",zS],"xml:space":["space",zS],xmlns:["xmlns",_S],"xmlns:xlink":["xlink",_S]}),KS=new _b;KS.type=6;class GS{constructor(e){var t;this.type=null!==(t=e.type)&&void 0!==t?t:qS,this.events=e.events,this.readonly=e.readonly,this.default=e.default}}class YS{constructor(e,t,n,i){this.locator=e,this.platform=t,this.dirtyChecker=n,this.svgAnalyzer=i,this.allowDirtyCheck=!0,this.events=Yk(),this.globalEvents=Yk(),this.overrides=Yk(),this.globalOverrides=Yk();const s=["change","input"],o={events:s,default:""};this.useConfig({INPUT:{value:o,valueAsNumber:{events:s,default:0},checked:{type:jS,events:s},files:{events:s,readonly:!0}},SELECT:{value:{type:MS,events:["change"],default:""}},TEXTAREA:{value:o}});const r={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:r,innerHTML:r}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(e){Bp.aliasTo(Zb,YS).register(e),Bp.singleton(Zb,YS).register(e)}handles(e,t){return e instanceof this.platform.Node}useConfig(e,t,n){var i,s;const o=this.events;let r;if("string"==typeof e)r=null!==(i=o[e])&&void 0!==i?i:o[e]=Yk(),null==r[t]?r[t]=new GS(n):QS(e,t);else for(const n in e){r=null!==(s=o[n])&&void 0!==s?s:o[n]=Yk();const i=e[n];for(t in i)null==r[t]?r[t]=new GS(i[t]):QS(n,t)}}useConfigGlobal(e,t){const n=this.globalEvents;if("object"==typeof e)for(const t in e)null==n[t]?n[t]=new GS(e[t]):QS("*",t);else null==n[e]?n[e]=new GS(t):QS("*",e)}getAccessor(e,t,n){var i;if(t in this.globalOverrides||t in(null!==(i=this.overrides[e.tagName])&&void 0!==i?i:_p))return this.getObserver(e,t,n);switch(t){case"src":case"href":case"role":return TS;default:{const n=WS[t];return void 0!==n?RS.forNs(n[1]):Gk(e,t,this.svgAnalyzer)?TS:KS}}}overrideAccessor(e,t){var n,i,s,o;let r;if("string"==typeof e)r=null!==(n=(s=this.overrides)[e])&&void 0!==n?n:s[e]=Yk(),r[t]=!0;else for(const t in e)for(const n of e[t])r=null!==(i=(o=this.overrides)[t])&&void 0!==i?i:o[t]=Yk(),r[n]=!0}overrideAccessorGlobal(...e){for(const t of e)this.globalOverrides[t]=!0}getObserver(e,t,n){var i,s;switch(t){case"role":return TS;case"class":return new nx(e);case"css":case"style":return new VS(e)}const o=null!==(s=null===(i=this.events[e.tagName])||void 0===i?void 0:i[t])&&void 0!==s?s:this.globalEvents[t];if(null!=o)return new o.type(e,t,new mC(o),n,this.locator);const r=WS[t];if(void 0!==r)return RS.forNs(r[1]);if(Gk(e,t,this.svgAnalyzer))return TS;if(t in e.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(e,t);throw new Error(`Unable to observe property ${String(t)}. Register observation mapping with .useConfig().`)}return new Kb(e,t)}}function QS(e,t){throw new Error(`Mapping for property ${String(t)} of <${e} /> already exists`)}YS.inject=[mp,Ny,Bb,Qk];let ZS=class{constructor(e){this.observerLocator=e}bind(e,t,n,i,...s){if(0===s.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(i.mode!==Mf.twoWay&&i.mode!==Mf.fromView)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");const o=this.observerLocator.getObserver(i.target,i.targetProperty);if(!o.handler)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");i.targetObserver=o;const r=o.handler;o.originalHandler=r,o.handler=new mC(new GS({default:r.config.default,events:s,readonly:r.config.readonly}))}unbind(e,t,n,i){i.targetObserver.handler.dispose(),i.targetObserver.handler=i.targetObserver.originalHandler,i.targetObserver.originalHandler=null}};ZS=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([Qg("updateTrigger"),function(e,t){return function(n,i){t(n,i,e)}}(0,Qb)],ZS);var XS=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},JS=function(e,t){return function(n,i){t(n,i,e)}};const e$=Symbol(),t$={passive:!0,capture:!0},n$={passive:!0},i$=new WeakMap;class s${constructor(e){this.platform=e,this.blurs=[],i$.set(e.document,this),this.handler=a$(this,this.blurs)}static createFor(e){return i$.get(e.document)||new s$(e)}register(e){const t=this.blurs;t.includes(e)||1!==t.push(e)||this.addListeners()}unregister(e){const t=this.blurs,n=t.indexOf(e);n>-1&&t.splice(n,1),0===t.length&&this.removeListeners()}addListeners(){const e=this.platform,t=e.document,n=e.window,i=this.handler;n.navigator.pointerEnabled&&t.addEventListener("pointerdown",i,t$),t.addEventListener("touchstart",i,t$),t.addEventListener("mousedown",i,t$),t.addEventListener("focus",i,t$),n.addEventListener("blur",i,n$)}removeListeners(){const e=this.platform,t=e.document,n=e.window,i=this.handler;n.navigator.pointerEnabled&&t.removeEventListener("pointerdown",i,t$),t.removeEventListener("touchstart",i,t$),t.removeEventListener("mousedown",i,t$),t.removeEventListener("focus",i,t$),n.removeEventListener("blur",i,n$)}}let o$=class{constructor(e,t){this.element=e,this.p=t,this.linkedMultiple=!0,this.searchSubTree=!0,this.linkingContext=null,this.value=e$,this.manager=s$.createFor(t)}attached(){this.manager.register(this)}detaching(){this.manager.unregister(this)}handleEventTarget(e){if(!1===this.value)return;const t=this.p;e!==t.window&&e!==t.document&&this.contains(e)||this.triggerBlur()}contains(e){if(!this.value)return!1;let t,n,i,s,o;const r=this.element;if(r$(r,e))return!0;if(!this.linkedWith)return!1;const a=this.p.document,l=this.linkedWith,c=this.linkingContext,u=this.searchSubTree,h=this.linkedMultiple,d=Array.isArray(l)?l:[l],p=("string"==typeof c?a.querySelector(c):c)||a.body,g=d.length;for(n=0;g>n;++n)if(o=d[n],"string"==typeof o){if(u){if(h)t=p.querySelectorAll(o);else{const e=p.querySelector(o);t=null!==e?[e]:zp}for(s=t.length,i=0;s>i;++i)if(t[i].contains(e))return!0}else for(t=p.children,s=t.length,i=0;s>i;++i)if(t[i].matches(o))return!0}else if(o&&o.contains(e))return!0;return!1}triggerBlur(){this.value=!1,"function"==typeof this.onBlur&&this.onBlur.call(null)}};XS([ny()],o$.prototype,"value",void 0),XS([ny()],o$.prototype,"onBlur",void 0),XS([ny()],o$.prototype,"linkedWith",void 0),XS([ny()],o$.prototype,"linkedMultiple",void 0),XS([ny()],o$.prototype,"searchSubTree",void 0),XS([ny()],o$.prototype,"linkingContext",void 0),o$=XS([Aw("blur"),JS(0,Jx),JS(1,Ny)],o$);const r$=(e,t)=>{if(e.contains(t))return!0;let n=null;for(;null!=t;){if(t===e)return!0;n=t.parentNode,t=null!==n||11!==t.nodeType?n:t.host}return!1},a$=(e,t)=>{let n=!1;const i=()=>{n=!1},s=()=>{n=!0,e.platform.domWriteQueue.queueTask(i,{preempt:!0})},o=e=>{n||(r(e),s())},r=e=>{const n=e.composed?e.composedPath()[0]:e.target;if(null!==n)for(let e=0,i=t.length;e<i;++e)t[e].handleEventTarget(n)};return{onpointerdown:o,ontouchstart:o,onmousedown:o,onfocus:i=>{if(!n){if(i.target===e.platform.window)for(let e=0,n=t.length;n>e;++e)t[e].triggerBlur();else r(i);s()}},onblur:()=>{n=!1;for(let e=0,n=t.length;e<n;++e)t[e].triggerBlur()},handleEvent(e){this[`on${e.type}`](e)}}};var l$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},c$=function(e,t){return function(n,i){t(n,i,e)}};let u$=class{constructor(e,t){this.element=e,this.p=t,this.needsApply=!1}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.apply():this.needsApply=!0}attached(){this.needsApply&&(this.needsApply=!1,this.apply());const e=this.element;e.addEventListener("focus",this),e.addEventListener("blur",this)}afterDetachChildren(){const e=this.element;e.removeEventListener("focus",this),e.removeEventListener("blur",this)}handleEvent(e){"focus"===e.type?this.value=!0:this.isElFocused||(this.value=!1)}apply(){const e=this.element,t=this.isElFocused,n=this.value;n&&!t?e.focus():!n&&t&&e.blur()}get isElFocused(){return this.element===this.p.document.activeElement}};l$([ny({mode:Mf.twoWay})],u$.prototype,"value",void 0),u$=l$([Aw("focus"),c$(0,Jx),c$(1,Ny)],u$);var h$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},d$=function(e,t){return function(n,i){t(n,i,e)}};let p$=class{constructor(e,t,n){this.el=e,this.p=t,this.isActive=!1,this.task=null,this.$val="",this.$prio="",this.update=()=>{this.task=null,Boolean(this.value)!==this.isToggled&&(this.isToggled===this.base?(this.isToggled=!this.base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.isToggled=this.base,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.isToggled=this.base="hide"!==n.alias}binding(){this.isActive=!0,this.update()}detaching(){var e;this.isActive=!1,null===(e=this.task)||void 0===e||e.cancel(),this.task=null}valueChanged(){this.isActive&&null===this.task&&(this.task=this.p.domWriteQueue.queueTask(this.update))}};h$([ny],p$.prototype,"value",void 0),p$=h$([Aw("show"),function(...e){return function(t){const n=op.annotation.keyFor("aliases"),i=jd.getOwn(n,t);void 0===i?jd.define(n,e,t):i.push(...e)}}("hide"),d$(0,Jx),d$(1,Ny),d$(2,CC)],p$);var g$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},f$=function(e,t){return function(n,i){t(n,i,e)}};let m$=class{constructor(e,t,n){this.factory=e,this.originalLoc=t,this.p=n,this.id=Kd("au$component"),this.strict=!1,this.currentTarget=n.document.createElement("div"),this.view=this.factory.create(),function(e,t){if(void 0===e.platform||e instanceof e.platform.Node)iC.set(e,t);else{const n=e.childNodes;for(let e=0,i=n.length;e<i;++e)iC.set(n[e],t)}}(this.view.nodes,t)}attaching(e,t,n){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const i=this.currentTarget=this.resolveTarget();return this.view.setHost(i),this.$activating(e,i,n)}detaching(e,t,n){return this.$deactivating(e,this.currentTarget,n)}targetChanged(){const{$controller:e}=this;if(!e.isActive)return;const t=this.currentTarget,n=this.currentTarget=this.resolveTarget();if(t===n)return;this.view.setHost(n);const i=tp(this.$deactivating(null,n,e.flags),(()=>this.$activating(null,n,e.flags)));i instanceof Promise&&i.catch((e=>{throw e}))}$activating(e,t,n){const{activating:i,callbackContext:s,view:o}=this;return o.setHost(t),tp(null==i?void 0:i.call(s,t,o),(()=>this.activate(e,t,n)))}activate(e,t,n){const{$controller:i,view:s}=this;return null!==e?tp(s.activate(null!=e?e:s,i,n,i.scope),(()=>this.$activated(t))):(s.nodes.appendTo(t),this.$activated(t))}$activated(e){const{activated:t,callbackContext:n,view:i}=this;return null==t?void 0:t.call(n,e,i)}$deactivating(e,t,n){const{deactivating:i,callbackContext:s,view:o}=this;return tp(null==i?void 0:i.call(s,t,o),(()=>this.deactivate(e,t,n)))}deactivate(e,t,n){const{$controller:i,view:s}=this;return null!==e?tp(s.deactivate(e,i,n),(()=>this.$deactivated(t))):(s.nodes.remove(),this.$deactivated(t))}$deactivated(e){const{deactivated:t,callbackContext:n,view:i}=this;return null==t?void 0:t.call(n,e,i)}resolveTarget(){const e=this.p,t=e.document;let n=this.target,i=this.renderContext;if(""===n){if(this.strict)throw new Error("Empty querySelector");return t.body}if("string"==typeof n){let s=t;"string"==typeof i&&(i=t.querySelector(i)),i instanceof e.Node&&(s=i),n=s.querySelector(n)}if(n instanceof e.Node)return n;if(null==n){if(this.strict)throw new Error("Portal target not found");return t.body}return n}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};g$([ny({primary:!0})],m$.prototype,"target",void 0),g$([ny({callback:"targetChanged"})],m$.prototype,"renderContext",void 0),g$([ny()],m$.prototype,"strict",void 0),g$([ny()],m$.prototype,"deactivating",void 0),g$([ny()],m$.prototype,"activating",void 0),g$([ny()],m$.prototype,"deactivated",void 0),g$([ny()],m$.prototype,"activated",void 0),g$([ny()],m$.prototype,"callbackContext",void 0),m$=g$([Ow("portal"),f$(0,Rw),f$(1,tC),f$(2,Ny)],m$);class v${constructor(e,t,n){this.factory=e,this.flags=n,this.id=Kd("au$component"),this.view=this.factory.create().setLocation(t)}attaching(e,t,n){const{$controller:i}=this;return this.view.activate(e,i,n|this.flags,i.scope,i.hostScope)}detaching(e,t,n){return this.view.deactivate(e,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}}class b$ extends v${constructor(e,t){super(e,t,512)}}b$.inject=[Rw,tC];class y$ extends v${constructor(e,t){super(e,t,128)}}y$.inject=[Rw,tC],Ow("frequent-mutations")(b$),Ow("observe-shallow")(y$);var w$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},x$=function(e,t){return function(n,i){t(n,i,e)}};let C$=class{constructor(e,t,n){this.ifFactory=e,this.location=t,this.work=n,this.id=Kd("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.pending=void 0,this.wantsDeactivate=!1}attaching(e,t,n){return tp(this.pending,(()=>{var t;this.pending=void 0,null===(t=this.view=this.updateView(this.value,n))||void 0===t||t.activate(e,this.$controller,n,this.$controller.scope,this.$controller.hostScope)}))}detaching(e,t,n){return this.wantsDeactivate=!0,tp(this.pending,(()=>{var t;this.wantsDeactivate=!1,this.pending=void 0,null===(t=this.view)||void 0===t||t.deactivate(e,this.$controller,n)}))}valueChanged(e,t,n){this.$controller.isActive&&(this.pending=tp(this.pending,(()=>this.swap(n))))}swap(e){var t;if(this.view===this.updateView(this.value,e))return;this.work.start();const n=this.$controller;return tp(null===(t=this.view)||void 0===t?void 0:t.deactivate(this.view,n,e),(()=>{if(this.wantsDeactivate)return;const t=this.view=this.updateView(this.value,e);return tp(null==t?void 0:t.activate(t,n,e,n.scope,n.hostScope),(()=>{this.work.finish(),this.view===this.updateView(this.value,e)&&(this.pending=void 0)}))}))}updateView(e,t){return e?this.ifView=this.ensureView(this.ifView,this.ifFactory,t):void 0!==this.elseFactory?this.elseView=this.ensureView(this.elseView,this.elseFactory,t):void 0}ensureView(e,t,n){return void 0===e&&(e=t.create(n)).setLocation(this.location),e}dispose(){var e,t;null===(e=this.ifView)||void 0===e||e.dispose(),this.ifView=void 0,null===(t=this.elseView)||void 0===t||t.dispose(),this.elseView=void 0,this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};w$([ny],C$.prototype,"value",void 0),C$=w$([Ow("if"),x$(0,Rw),x$(1,tC),x$(2,_x)],C$);let k$=class{constructor(e){this.factory=e,this.id=Kd("au$component")}link(e,t,n,i,s,o){const r=n.children,a=r[r.length-1];if(a instanceof C$)a.elseFactory=this.factory;else{if(!(a.viewModel instanceof C$))throw new Error("Unsupported IfBehavior");a.viewModel.elseFactory=this.factory}}};k$=w$([Ow({name:"else"}),x$(0,Rw)],k$);var S$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},$$=function(e,t){return function(n,i){t(n,i,e)}};function T$(e){e.dispose()}let A$=class{constructor(e,t,n){this.location=e,this.parent=t,this.factory=n,this.id=Kd("au$component"),this.hasPendingInstanceMutation=!1,this.observer=void 0,this.views=[],this.key=void 0,this.normalizedItems=void 0}binding(e,t,n){this.checkCollectionObserver(n);const i=this.parent.bindings;let s;for(let e=0,t=i.length;e<t;++e)if(s=i[e],s.target===this&&"items"===s.targetProperty){this.forOf=s.sourceExpression;break}this.local=this.forOf.declaration.evaluate(n,this.$controller.scope,null,s.locator,null)}attaching(e,t,n){return this.normalizeToArray(n),this.activateAllViews(e,n)}detaching(e,t,n){return this.checkCollectionObserver(n),this.deactivateAllViews(e,n)}itemsChanged(e){const{$controller:t}=this;if(!t.isActive)return;e|=t.flags,this.checkCollectionObserver(e),this.normalizeToArray(e);const n=tp(this.deactivateAllViews(null,e),(()=>this.activateAllViews(null,e)));n instanceof Promise&&n.catch((e=>{throw e}))}handleCollectionChange(e,t){const{$controller:n}=this;if(n.isActive)if(t|=n.flags,this.normalizeToArray(t),void 0===e){const e=tp(this.deactivateAllViews(null,t),(()=>this.activateAllViews(null,t)));e instanceof Promise&&e.catch((e=>{throw e}))}else{const n=this.views.length;if(function(e){let t=0,n=0;const i=e.length;for(let s=0;s<i;++s){for(;e.deletedItems[n]<=s-t;)++n,--t;-2===e[s]?++t:e[s]+=t}}(e),e.deletedItems.length>0){e.deletedItems.sort(Gd);const i=tp(this.deactivateAndRemoveViewsByKey(e,t),(()=>this.createAndActivateAndSortViewsByKey(n,e,t)));i instanceof Promise&&i.catch((e=>{throw e}))}else this.createAndActivateAndSortViewsByKey(n,e,t)}}checkCollectionObserver(e){const t=this.observer;if(4&e)void 0!==t&&t.unsubscribe(this);else if(this.$controller.isActive){const e=this.observer=function(e){let t;return e instanceof Array?t=Tm(e):e instanceof Map?t=Gm(e):e instanceof Set&&(t=Nm(e)),t}(this.items);t!==e&&t&&t.unsubscribe(this),e&&e.subscribe(this)}}normalizeToArray(e){const t=this.items;if(t instanceof Array)return void(this.normalizedItems=t);if(void 0===this.forOf)return;const n=[];this.forOf.iterate(e,t,((e,t,i)=>{n[t]=i})),this.normalizedItems=n}activateAllViews(e,t){let n,i,s,o;const{$controller:r,factory:a,local:l,location:c,items:u}=this,h=r.scope,d=r.hostScope,p=this.forOf.count(t,u),g=this.views=Array(p);if(this.forOf.iterate(t,u,((u,f,m)=>{s=g[f]=a.create(t).setLocation(c),s.nodes.unlink(),o=_g.fromParent(h,Ug.create(l,m)),R$(o.overrideContext,f,p),i=s.activate(null!=e?e:s,r,t,o,d),i instanceof Promise&&(null!=n?n:n=[]).push(i)})),void 0!==n)return 1===n.length?n[0]:Promise.all(n)}deactivateAllViews(e,t){let n,i,s;const{views:o,$controller:r}=this;for(let a=0,l=o.length;a<l;++a)s=o[a],s.release(),i=s.deactivate(null!=e?e:s,r,t),i instanceof Promise&&(null!=n?n:n=[]).push(i);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}deactivateAndRemoveViewsByKey(e,t){let n,i,s;const{$controller:o,views:r}=this,a=e.deletedItems,l=a.length;let c=0;for(;c<l;++c)s=r[a[c]],s.release(),i=s.deactivate(s,o,t),i instanceof Promise&&(null!=n?n:n=[]).push(i);c=0;let u=0;for(;c<l;++c)u=a[c]-c,r.splice(u,1);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}createAndActivateAndSortViewsByKey(e,t,n){var i;let s,o,r,a;const{$controller:l,factory:c,local:u,normalizedItems:h,location:d,views:p}=this,g=t.length;for(let e=0;e<g;++e)-2===t[e]&&(r=c.create(n),p.splice(e,0,r));if(p.length!==g)throw new Error(`viewsLen=${p.length}, mapLen=${g}`);const f=l.scope,m=l.hostScope,v=t.length;!function(e,t){const n=e.slice(),i=t.length;let s=0,o=0;for(;s<i;)o=t[s],-2!==o&&(e[s]=n[o]),++s}(p,t);const b=function(e){const t=e.length;t>O$&&(O$=t,E$=new Int32Array(t),P$=new Int32Array(t));let n=0,i=0,s=0,o=0,r=0,a=0,l=0,c=0;for(;o<t;o++)if(i=e[o],-2!==i){if(r=E$[n],s=e[r],-2!==s&&s<i){P$[o]=r,E$[++n]=o;continue}for(a=0,l=n;a<l;)c=a+l>>1,s=e[E$[c]],-2!==s&&s<i?a=c+1:l=c;s=e[E$[a]],(i<s||-2===s)&&(a>0&&(P$[o]=E$[a-1]),E$[a]=o)}o=++n;const u=new Int32Array(o);for(i=E$[n-1];n-- >0;)u[n]=i,i=P$[i];for(;o-- >0;)E$[o]=0;return u}(t),y=b.length;let w,x=y-1,C=v-1;for(;C>=0;--C)r=p[C],w=p[C+1],r.nodes.link(null!==(i=null==w?void 0:w.nodes)&&void 0!==i?i:d),-2===t[C]?(a=_g.fromParent(f,Ug.create(u,h[C])),R$(a.overrideContext,C,v),r.setLocation(d),o=r.activate(r,l,n,a,m),o instanceof Promise&&(null!=s?s:s=[]).push(o)):x<0||1===y||C!==b[x]?(R$(r.scope.overrideContext,C,v),r.nodes.insertBefore(r.location)):(e!==v&&R$(r.scope.overrideContext,C,v),--x);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}dispose(){this.views.forEach(T$),this.views=void 0}accept(e){const{views:t}=this;if(void 0!==t)for(let n=0,i=t.length;n<i;++n)if(!0===t[n].accept(e))return!0}};S$([ny],A$.prototype,"items",void 0),A$=S$([Ow("repeat"),$$(0,tC),$$(1,Ux),$$(2,Rw)],A$);let O$=16,E$=new Int32Array(O$),P$=new Int32Array(O$);function R$(e,t,n){const i=0===t,s=t===n-1,o=t%2==0;e.$index=t,e.$first=i,e.$last=s,e.$middle=!i&&!s,e.$even=o,e.$odd=!o,e.$length=n}var I$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},j$=function(e,t){return function(n,i){t(n,i,e)}};let F$=class{constructor(e,t){this.factory=e,this.location=t,this.id=Kd("au$component"),this.id=Kd("au$component"),this.view=this.factory.create().setLocation(t)}valueChanged(e,t,n){this.$controller.isActive&&this.activateView(this.view,2)}attaching(e,t,n){return this.activateView(e,n)}detaching(e,t,n){return this.view.deactivate(e,this.$controller,n)}activateView(e,t){const{$controller:n,value:i}=this,s=_g.fromParent(n.scope,void 0===i?{}:i);return this.view.activate(e,n,t,s,n.hostScope)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};I$([ny],F$.prototype,"value",void 0),F$=I$([Ow("with"),j$(0,Rw),j$(1,tC)],F$);var L$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},D$=function(e,t){return function(n,i){t(n,i,e)}};let N$=class{constructor(e,t){this.factory=e,this.location=t,this.id=Kd("au$component"),this.cases=[],this.activeCases=[],this.promise=void 0}link(e,t,n,i,s,o){this.view=this.factory.create(e,this.$controller).setLocation(this.location)}attaching(e,t,n){const i=this.view,s=this.$controller;return this.queue((()=>i.activate(e,s,n,s.scope,s.hostScope))),this.queue((()=>this.swap(e,n,this.value))),this.promise}detaching(e,t,n){return this.queue((()=>this.view.deactivate(e,this.$controller,n))),this.promise}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}valueChanged(e,t,n){this.$controller.isActive&&this.queue((()=>this.swap(null,n,this.value)))}caseChanged(e,t){this.queue((()=>this.handleCaseChange(e,t)))}handleCaseChange(e,t){const n=e.isMatch(this.value,t),i=this.activeCases,s=i.length;if(!n)return s>0&&i[0].id===e.id?this.clearActiveCases(null,t):void 0;if(s>0&&i[0].id<e.id)return;const o=[];let r=e.fallThrough;if(r){const t=this.cases;for(let n=t.indexOf(e),i=t.length;n<i&&r;n++){const e=t[n];o.push(e),r=e.fallThrough}}else o.push(e);return tp(this.clearActiveCases(null,t,o),(()=>(this.activeCases=o,this.activateCases(null,t))))}swap(e,t,n){const i=[];let s=!1;for(const e of this.cases)if((s||e.isMatch(n,t))&&(i.push(e),s=e.fallThrough),i.length>0&&!s)break;const o=this.defaultCase;return 0===i.length&&void 0!==o&&i.push(o),tp(this.activeCases.length>0?this.clearActiveCases(e,t,i):void 0,(()=>{if(this.activeCases=i,0!==i.length)return this.activateCases(e,t)}))}activateCases(e,t){const n=this.$controller;if(!n.isActive)return;const i=this.activeCases,s=i.length;if(0===s)return;const o=n.scope,r=n.hostScope;return 1===s?i[0].activate(e,t,o,r):np(...i.map((n=>n.activate(e,t,o,r))))}clearActiveCases(e,t,n=[]){const i=this.activeCases,s=i.length;if(0!==s){if(1===s){const s=i[0];return n.includes(s)?void 0:(i.length=0,s.deactivate(e,t))}return tp(np(...i.reduce(((i,s)=>(n.includes(s)||i.push(s.deactivate(e,t)),i)),[])),(()=>{i.length=0}))}}queue(e){const t=this.promise;let n;n=this.promise=tp(tp(t,e),(()=>{this.promise===n&&(this.promise=void 0)}))}accept(e){return!0===this.$controller.accept(e)||!!this.activeCases.some((t=>t.accept(e)))||void 0}};L$([ny],N$.prototype,"value",void 0),N$=L$([Ow("switch"),D$(0,Rw),D$(1,tC)],N$);let M$=class{constructor(e,t,n,i){this.factory=e,this.locator=t,this.id=Kd("au$component"),this.fallThrough=!1,this.debug=i.config.level<=1,this.logger=i.scopeTo(`${this.constructor.name}-#${this.id}`),this.view=this.factory.create().setLocation(n)}link(e,t,n,i,s,o){const r=n.parent,a=null==r?void 0:r.viewModel;if(!(a instanceof N$))throw new Error("The parent switch not found; only `*[switch] > *[case|default-case]` relation is supported.");this.$switch=a,this.linkToSwitch(a)}detaching(e,t,n){return this.deactivate(e,n)}isMatch(e,t){this.debug&&this.logger.debug("isMatch()");const n=this.value;return Array.isArray(n)?(void 0===this.observer&&(this.observer=this.observeCollection(t,n)),n.includes(e)):n===e}valueChanged(e,t,n){var i;Array.isArray(e)?(null===(i=this.observer)||void 0===i||i.unsubscribe(this),this.observer=this.observeCollection(n,e)):void 0!==this.observer&&this.observer.unsubscribe(this),this.$switch.caseChanged(this,n)}handleCollectionChange(e,t){this.$switch.caseChanged(this,t)}activate(e,t,n,i){const s=this.view;if(!s.isActive)return s.activate(null!=e?e:s,this.$controller,t,n,i)}deactivate(e,t){const n=this.view;if(n.isActive)return n.deactivate(null!=e?e:n,this.$controller,t)}dispose(){var e,t;null===(e=this.observer)||void 0===e||e.unsubscribe(this),null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}linkToSwitch(e){e.cases.push(this)}observeCollection(e,t){const n=this.locator.getArrayObserver(t);return n.subscribe(this),n}accept(e){var t;return!0===this.$controller.accept(e)||(null===(t=this.view)||void 0===t?void 0:t.accept(e))}};L$([ny],M$.prototype,"value",void 0),L$([ny({set:e=>{switch(e){case"true":return!0;case"false":return!1;default:return!!e}},mode:Mf.oneTime})],M$.prototype,"fallThrough",void 0),M$=L$([Ow("case"),D$(0,Rw),D$(1,Qb),D$(2,tC),D$(3,vg)],M$);let B$=class extends M${linkToSwitch(e){if(void 0!==e.defaultCase)throw new Error("Multiple 'default-case's are not allowed.");e.defaultCase=this}};B$=L$([Ow("default-case")],B$);var H$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},V$=function(e,t){return function(n,i){t(n,i,e)}};let q$=class{constructor(e,t,n,i){this.factory=e,this.location=t,this.platform=n,this.id=Kd("au$component"),this.preSettledTask=null,this.postSettledTask=null,this.logger=i.scopeTo("promise.resolve")}link(e,t,n,i,s,o){this.view=this.factory.create(e,this.$controller).setLocation(this.location)}attaching(e,t,n){const i=this.view,s=this.$controller;return tp(i.activate(e,s,n,this.viewScope=_g.fromParent(s.scope,{}),s.hostScope),(()=>this.swap(e,n)))}valueChanged(e,t,n){this.$controller.isActive&&this.swap(null,n)}swap(e,t){var n,i;const s=this.value;if(!(s instanceof Promise))return void this.logger.warn(`The value '${String(s)}' is not a promise. No change will be done.`);const o=this.platform.domWriteQueue,r=this.fulfilled,a=this.rejected,l=this.pending,c=this.$controller,u=this.viewScope,h=c.hostScope;let d;const p={reusable:!1},g=()=>{np(d=(this.preSettledTask=o.queueTask((()=>np(null==r?void 0:r.deactivate(e,t),null==a?void 0:a.deactivate(e,t),null==l?void 0:l.activate(e,t,u,h))),p)).result,s.then((n=>{if(this.value!==s)return;const i=()=>{this.postSettlePromise=(this.postSettledTask=o.queueTask((()=>np(null==l?void 0:l.deactivate(e,t),null==a?void 0:a.deactivate(e,t),null==r?void 0:r.activate(e,t,u,h,n))),p)).result};1===this.preSettledTask.status?d.then(i):(this.preSettledTask.cancel(),i())}),(n=>{if(this.value!==s)return;const i=()=>{this.postSettlePromise=(this.postSettledTask=o.queueTask((()=>np(null==l?void 0:l.deactivate(e,t),null==r?void 0:r.deactivate(e,t),null==a?void 0:a.activate(e,t,u,h,n))),p)).result};1===this.preSettledTask.status?d.then(i):(this.preSettledTask.cancel(),i())})))};1===(null===(n=this.postSettledTask)||void 0===n?void 0:n.status)?this.postSettlePromise.then(g):(null===(i=this.postSettledTask)||void 0===i||i.cancel(),g())}detaching(e,t,n){var i,s;return null===(i=this.preSettledTask)||void 0===i||i.cancel(),null===(s=this.postSettledTask)||void 0===s||s.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(e,this.$controller,n)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};H$([ny],q$.prototype,"value",void 0),q$=H$([Ow("promise"),V$(0,Rw),V$(1,tC),V$(2,Ny),V$(3,vg)],q$);let U$=class{constructor(e,t){this.factory=e,this.id=Kd("au$component"),this.view=this.factory.create().setLocation(t)}link(e,t,n,i,s,o){W$(n).pending=this}activate(e,t,n,i){const s=this.view;if(!s.isActive)return s.activate(s,this.$controller,t,n,i)}deactivate(e,t){const n=this.view;if(n.isActive)return n.deactivate(n,this.$controller,t)}detaching(e,t,n){return this.deactivate(e,n)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};H$([ny({mode:Mf.toView})],U$.prototype,"value",void 0),U$=H$([Ow("pending"),V$(0,Rw),V$(1,tC)],U$);let z$=class{constructor(e,t){this.factory=e,this.id=Kd("au$component"),this.view=this.factory.create().setLocation(t)}link(e,t,n,i,s,o){W$(n).fulfilled=this}activate(e,t,n,i,s){this.value=s;const o=this.view;if(!o.isActive)return o.activate(o,this.$controller,t,n,i)}deactivate(e,t){const n=this.view;if(n.isActive)return n.deactivate(n,this.$controller,t)}detaching(e,t,n){return this.deactivate(e,n)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};H$([ny({mode:Mf.toView})],z$.prototype,"value",void 0),z$=H$([Ow("then"),V$(0,Rw),V$(1,tC)],z$);let _$=class{constructor(e,t){this.factory=e,this.id=Kd("au$component"),this.view=this.factory.create().setLocation(t)}link(e,t,n,i,s,o){W$(n).rejected=this}activate(e,t,n,i,s){this.value=s;const o=this.view;if(!o.isActive)return o.activate(o,this.$controller,t,n,i)}deactivate(e,t){const n=this.view;if(n.isActive)return n.deactivate(n,this.$controller,t)}detaching(e,t,n){return this.deactivate(e,n)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};function W$(e){const t=e.parent,n=null==t?void 0:t.viewModel;if(n instanceof q$)return n;throw new Error("The parent promise.resolve not found; only `*[promise.resolve] > *[pending|then|catch]` relation is supported.")}H$([ny({mode:Mf.toView})],_$.prototype,"value",void 0),_$=H$([Ow("catch"),V$(0,Rw),V$(1,tC)],_$);class K${constructor(e,t,n){this.node=e,this.instructions=t,this.dependencies=n,this.lazyDefinition=void 0}get definition(){return void 0===this.lazyDefinition&&(this.lazyDefinition=Cw.create({name:Sw.generateName(),template:this.node,needsCompile:"string"==typeof this.node,instructions:this.instructions,dependencies:this.dependencies})),this.lazyDefinition}getContext(e){return Xw(this.definition,e)}createView(e){return this.getViewFactory(e).create()}getViewFactory(e){return this.getContext(e).getViewFactory()}mergeInto(e,t,n){e.appendChild(this.node),t.push(...this.instructions),n.push(...this.dependencies)}}function G$(e,t,n,i,s){for(let o=0,r=n.length;o<r;++o){const r=n[o];switch(typeof r){case"string":t.appendChild(e.document.createTextNode(r));break;case"object":r instanceof e.Node?t.appendChild(r):"mergeInto"in r&&r.mergeInto(t,i,s)}}}var Y$=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Q$=function(e,t){return function(n,i){t(n,i,e)}};function Z$(e,t){const n=t.to;return void 0!==n&&"subject"!==n&&"composing"!==n&&(e[n]=t),e}let X$=class{constructor(e,t){this.p=e,this.id=Kd("au$component"),this.subject=void 0,this.composing=!1,this.view=void 0,this.lastSubject=void 0,this.properties=t.instructions.reduce(Z$,{})}attaching(e,t,n){const{subject:i,view:s}=this;return void 0===s||this.lastSubject!==i?(this.lastSubject=i,this.composing=!0,this.compose(void 0,i,e,n)):this.compose(s,i,e,n)}detaching(e,t,n){return this.deactivate(this.view,e,n)}subjectChanged(e,t,n){const{$controller:i}=this;if(!i.isActive)return;if(this.lastSubject===e)return;this.lastSubject=e,this.composing=!0,n|=i.flags;const s=tp(this.deactivate(this.view,null,n),(()=>this.compose(void 0,e,null,n)));s instanceof Promise&&s.catch((e=>{throw e}))}compose(e,t,n,i){return tp(void 0===e?tp(t,(e=>this.resolveView(e,i))):e,(e=>this.activate(e,n,i)))}deactivate(e,t,n){return null==e?void 0:e.deactivate(null!=t?t:e,this.$controller,n)}activate(e,t,n){const{$controller:i}=this;return tp(null==e?void 0:e.activate(null!=t?t:e,i,n,i.scope,i.hostScope),(()=>{this.composing=!1}))}resolveView(e,t){const n=this.provideViewFor(e,t);if(n)return n.setLocation(this.$controller.location),n.lockScope(this.$controller.scope),n}provideViewFor(e,t){if(e)return function(e){return"lockScope"in e}(e)?e:"createView"in e?e.createView(this.$controller.context):"create"in e?e.create(t):"template"in e?Xw(Cw.getOrCreate(e),this.$controller.context).getViewFactory().create(t):function(e,t,n,i){if("string"==typeof t)return function(e,t,n,i){const s=[],o=[],r=[],a=e.document.createElement(t);let l=!1;return n&&Object.keys(n).forEach((e=>{const t=n[e];kC(t)?(l=!0,s.push(t)):a.setAttribute(e,t)})),l&&(a.className="au",o.push(s)),i&&G$(e,a,i,o,r),new K$(a,o,r)}(e,t,n,i);if(Sw.isType(t))return function(e,t,n,i){const s=Sw.getDefinition(t),o=s.name,r=[],a=[r],l=[],c=[],u=s.bindables,h=e.document.createElement(o);return h.className="au",l.includes(t)||l.push(t),r.push(new PC(o,void 0,c,null)),n&&Object.keys(n).forEach((e=>{const t=n[e];kC(t)?c.push(t):void 0!==u[e]?c.push({type:"re",to:e,value:t}):c.push(new NC(t,e))})),i&&G$(e,h,i,a,l),new K$(h,a,l)}(e,t,n,i);throw new Error("Invalid tagOrType.")}(this.p,e,this.properties,this.$controller.host.childNodes).createView(this.$controller.context)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};Y$([ny],X$.prototype,"subject",void 0),Y$([ny({mode:Mf.fromView})],X$.prototype,"composing",void 0),X$=Y$([ww({name:"au-compose",template:null,containerless:!0}),Q$(0,Ny),Q$(1,CC)],X$);const J$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,eT=gp.createInterface("ISanitizer",(e=>e.singleton(class{sanitize(e){return e.replace(J$,"")}})));let tT=class{constructor(e){this.sanitizer=e}toView(e){return null==e?null:this.sanitizer.sanitize(e)}};tT=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([function(e,t){return function(n,i){t(n,i,e)}}(0,eT)],tT),tf("sanitize")(tT);let nT=class{constructor(e){this.viewLocator=e}toView(e,t){return this.viewLocator.getViewComponentForObject(e,t)}};nT=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([function(e,t){return function(n,i){t(n,i,e)}}(0,Nw)],nT),tf("view")(nT);const iT=[fS,YS],sT=[Ay,Ty],oT=[Nk,jk,Lk,Fk,Dk,Mk,Bk,Wk,Hk,Vk,qk,_k,zk,Uk],rT=[kS,yS,wS,xS,SS,$S,CS,tT,nT,b$,y$,C$,k$,A$,F$,N$,M$,B$,q$,U$,z$,_$,AS,ES,ZS,X$,m$,u$,o$,p$,Ww],aT=[ek,tk,ZC,XC,JC,WC,KC,GC,YC,QC,rk,hk,ak,lk,ck,uk,ok],lT={register:e=>e.register(...iT,...rT,...sT,...oT,...aT),createContainer(){return this.register(gp.createContainer())}},cT=gp.createInterface("IAurelia"),uT=gp.createInterface("IDialogService"),hT=gp.createInterface("IDialogController"),dT=gp.createInterface("IDialogDomRenderer"),pT=gp.createInterface("IDialogDom"),gT=gp.createInterface("IDialogGlobalSettings");class fT{constructor(e,t){this.wasCancelled=e,this.dialog=t}static create(e,t){return new fT(e,t)}}class mT{constructor(e,t){this.status=e,this.value=t}static create(e,t){return new mT(e,t)}}var vT;!function(e){e.Ok="ok",e.Error="error",e.Cancel="cancel",e.Abort="abort"}(vT||(vT={}));class bT{constructor(e,t){this.p=e,this.ctn=t,this.closed=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}static get inject(){return[Ny,fp]}activate(e){var t;const{ctn:n}=this,{model:i,template:s,rejectOnCancel:o}=e,r=n.get(dT),a=null!==(t=e.host)&&void 0!==t?t:this.p.document.body,l=this.dom=r.render(a,e),c=n.has(eC,!0)?n.get(eC):null,u=l.contentHost;return this.settings=e,null!=c&&c.contains(a)||n.register(Bp.instance(eC,a)),n.register(Bp.instance(Jx,u),Bp.instance(pT,l)),new Promise((t=>{var s,o;const r=Object.assign(this.cmp=this.getOrCreateVm(n,e,u),{$dialog:this});t(null===(o=null===(s=r.canActivate)||void 0===s?void 0:s.call(r,i))||void 0===o||o)})).then((t=>{var r;if(!0!==t){if(l.dispose(),o)throw wT(null,"Dialog activation rejected");return fT.create(!0,this)}const a=this.cmp;return tp(null===(r=a.activate)||void 0===r?void 0:r.call(a,i),(()=>{var t;const i=this.controller=Rx.forCustomElement(null,n,a,u,null,0,!0,Cw.create(null!==(t=this.getDefinition(a))&&void 0!==t?t:{name:Sw.generateName(),template:s}));return tp(i.activate(i,null,2),(()=>{var t;return l.overlay.addEventListener(null!==(t=e.mouseEvent)&&void 0!==t?t:"click",this),fT.create(!1,this)}))}))}),(e=>{throw l.dispose(),e}))}deactivate(e,t){if(this.closingPromise)return this.closingPromise;let n=!0;const{controller:i,dom:s,cmp:o,settings:{mouseEvent:r,rejectOnCancel:a}}=this,l=mT.create(e,t),c=new Promise((c=>{var u,h;c(tp(null===(h=null===(u=o.canDeactivate)||void 0===u?void 0:u.call(o,l))||void 0===h||h,(c=>{var u;if(!0!==c){if(n=!1,this.closingPromise=void 0,a)throw wT(null,"Dialog cancellation rejected");return mT.create("abort")}return tp(null===(u=o.deactivate)||void 0===u?void 0:u.call(o,l),(()=>tp(i.deactivate(i,null,4),(()=>(s.dispose(),s.overlay.removeEventListener(null!=r?r:"click",this),a||"error"===e?this.reject(wT(t,"Dialog cancelled with a rejection on cancel")):this.resolve(l),l)))))})))})).catch((e=>{throw this.closingPromise=void 0,e}));return this.closingPromise=n?c:void 0,c}ok(e){return this.deactivate("ok",e)}cancel(e){return this.deactivate("cancel",e)}error(e){const t=function(e){const t=new Error;return t.wasCancelled=!1,t.value=e,t}(e);return new Promise((e=>{var n,i;return e(tp(null===(i=(n=this.cmp).deactivate)||void 0===i?void 0:i.call(n,mT.create("error",t)),(()=>tp(this.controller.deactivate(this.controller,null,4),(()=>{this.dom.dispose(),this.reject(t)})))))}))}handleEvent(e){this.settings.overlayDismiss&&!this.dom.contentHost.contains(e.target)&&this.cancel()}getOrCreateVm(e,t,n){const i=t.component;if(null==i)return new yT;if("object"==typeof i)return i;const s=this.p,o=new Hp("ElementResolver");return o.prepare(n),e.registerResolver(Jx,o),e.registerResolver(s.Node,o),e.registerResolver(s.Element,o),e.registerResolver(s.HTMLElement,o),e.invoke(i)}getDefinition(e){const t="function"==typeof e?e:null==e?void 0:e.constructor;return Sw.isType(t)?Sw.getDefinition(t):null}}class yT{}function wT(e,t){const n=new Error(t);return n.wasCancelled=!0,n.value=e,n}class xT{static from(...e){return Object.assign(new xT,...e).validate().normalize()}load(){const e=this,t=this.component,n=this.template,i=np(null==t?void 0:tp(t(),(t=>{e.component=t})),"function"==typeof n?tp(n(),(t=>{e.template=t})):void 0);return i instanceof Promise?i.then((()=>e)):e}validate(){if(null==this.component&&null==this.template)throw new Error('Invalid Dialog Settings. You must provide "component", "template" or both.');return this}normalize(){return null==this.keyboard&&(this.keyboard=this.lock?[]:["Enter","Escape"]),"boolean"!=typeof this.overlayDismiss&&(this.overlayDismiss=!this.lock),this}}function CT(e,t){return this.then((n=>n.dialog.closed.then(e,t)),t)}const kT="position:absolute;width:100%;height:100%;top:0;left:0;";class ST{constructor(e){this.p=e,this.wrapperCss=`${kT} display:flex;`,this.overlayCss=kT,this.hostCss="position:relative;margin:auto;"}static register(e){Bp.singleton(dT,this).register(e)}render(e){const t=this.p.document,n=(e,n)=>{const i=t.createElement(e);return i.style.cssText=n,i},i=e.appendChild(n("au-dialog-container",this.wrapperCss)),s=i.appendChild(n("au-dialog-overlay",this.overlayCss)),o=s.appendChild(n("div",this.hostCss));return new $T(i,s,o)}}ST.inject=[Ny];class $T{constructor(e,t,n){this.wrapper=e,this.overlay=t,this.contentHost=n}dispose(){this.wrapper.remove()}}function TT(e,t){return{settingsProvider:e,register:n=>n.register(...t,rw.beforeCreate((()=>e(n.get(gT))))),customize:(e,n)=>TT(e,null!=n?n:t)}}TT((()=>{throw new Error("Invalid dialog configuration. Specify the implementations for <IDialogService>, <IDialogGlobalSettings> and <IDialogDomRenderer>, or use the DialogDefaultConfiguration export.")}),[class{static register(e){e.register(Bp.singleton(gT,this))}}]),TT(Wp,[class{constructor(e,t,n){this.container=e,this.p=t,this.defaultSettings=n,this.dlgs=[]}get controllers(){return this.dlgs.slice(0)}get top(){const e=this.dlgs;return e.length>0?e[e.length-1]:null}static get inject(){return[fp,Ny,gT]}static register(e){e.register(Bp.singleton(uT,this),rw.beforeDeactivate(uT,(e=>tp(e.closeAll(),(e=>{if(e.length>0)throw new Error(`There are still ${e.length} open dialog(s).`)})))))}open(e){return(t=new Promise((t=>{var n;const i=xT.from(this.defaultSettings,e),s=null!==(n=i.container)&&void 0!==n?n:this.container.createChild();t(tp(i.load(),(e=>{const t=s.invoke(bT);return s.register(Bp.instance(hT,t)),s.register(Bp.callback(bT,(()=>{throw new Error("Invalid injection of DialogController. Use IDialogController instead.")}))),tp(t.activate(e),(e=>{if(!e.wasCancelled){1===this.dlgs.push(t)&&this.p.window.addEventListener("keydown",this);const e=()=>this.remove(t);t.closed.then(e,e)}return e}))})))}))).whenClosed=CT,t;var t}closeAll(){return Promise.all(Array.from(this.dlgs).map((e=>e.settings.rejectOnCancel?e.cancel().then((()=>null)):e.cancel().then((t=>"cancel"===t.status?null:e))))).then((e=>e.filter((e=>!!e))))}remove(e){const t=this.dlgs,n=t.indexOf(e);n>-1&&this.dlgs.splice(n,1),0===t.length&&this.p.window.removeEventListener("keydown",this)}handleEvent(e){const t=function(e){return"Escape"===(e.code||e.key)||27===e.keyCode?"Escape":"Enter"===(e.code||e.key)||13===e.keyCode?"Enter":void 0}(e);if(null==t)return;const n=this.top;if(null===n||0===n.settings.keyboard.length)return;const i=n.settings.keyboard;"Escape"===t&&i.includes(t)?n.cancel():"Enter"===t&&i.includes(t)&&n.ok()}},class{constructor(){this.lock=!0,this.startingZIndex=1e3,this.rejectOnCancel=!1}static register(e){Bp.singleton(gT,this).register(e)}},ST]);const AT={maxRetries:3,interval:1e3,strategy:0};class OT{constructor(e){if(this.retryConfig={...AT,...void 0!==e?e:{}},2===this.retryConfig.strategy&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(e){return e.retryConfig||(e.retryConfig={...this.retryConfig},e.retryConfig.counter=0),e.retryConfig.requestClone=e.clone(),e}response(e,t){return Reflect.deleteProperty(t,"retryConfig"),e}responseError(e,t,n){const{retryConfig:i}=t,{requestClone:s}=i;return Promise.resolve().then((()=>{if(i.counter<i.maxRetries){const o=void 0===i.doRetry||i.doRetry(e,t);return Promise.resolve(o).then((o=>{if(o){i.counter++;const e=function(e){const{interval:t,strategy:n,minRandomInterval:i,maxRandomInterval:s,counter:o}=e;if("function"==typeof n)return e.strategy(o);switch(n){case 0:return ET[0](t);case 1:return ET[1](o,t);case 2:return ET[2](o,t);case 3:return ET[3](o,t,i,s);default:throw new Error("Unrecognized retry strategy")}}(i);return new Promise((t=>setTimeout(t,isNaN(e)?0:e))).then((()=>{const e=s.clone();return"function"==typeof i.beforeRetry?i.beforeRetry(e,n):e})).then((e=>{const t={...e,retryConfig:i};return n.fetch(t)}))}throw Reflect.deleteProperty(t,"retryConfig"),e}))}throw Reflect.deleteProperty(t,"retryConfig"),e}))}}const ET=[e=>e,(e,t)=>t*e,(e,t)=>1===e?t:t**e/1e3,(e,t,n=0,i=6e4)=>Math.random()*(i-n)+n];class PT{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[],this.dispatcher=null}withBaseUrl(e){return this.baseUrl=e,this}withDefaults(e){return this.defaults=e,this}withInterceptor(e){return this.interceptors.push(e),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:RT})}withRetry(e){const t=new OT(e);return this.withInterceptor(t)}withDispatcher(e){return this.dispatcher=e,this}}function RT(e){if(!e.ok)throw e;return e}const IT=/^([a-z][a-z0-9+\-.]*:)?\/\//i;gp.createInterface("IHttpClient",(e=>e.singleton(jT)));class jT{constructor(){this.dispatcher=null,this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[]}configure(e){let t;if("object"==typeof e)t={defaults:e};else{if("function"!=typeof e)throw new Error("invalid config");{t=new PT,t.baseUrl=this.baseUrl,t.defaults={...this.defaults},t.interceptors=this.interceptors,t.dispatcher=this.dispatcher;const n=e(t);Object.prototype.isPrototypeOf.call(PT.prototype,n)&&(t=n)}}const n=t.defaults;if(void 0!==n&&Object.prototype.isPrototypeOf.call(Headers.prototype,n.headers))throw new Error("Default headers must be a plain object.");const i=t.interceptors;if(void 0!==i&&i.length){if(i.filter((e=>Object.prototype.isPrototypeOf.call(OT.prototype,e))).length>1)throw new Error("Only one RetryInterceptor is allowed.");const e=i.findIndex((e=>Object.prototype.isPrototypeOf.call(OT.prototype,e)));if(e>=0&&e!==i.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=t.baseUrl,this.defaults=n,this.interceptors=void 0!==t.interceptors?t.interceptors:[],this.dispatcher=t.dispatcher,this.isConfigured=!0,this}fetch(e,t){this.trackRequestStart();let n=this.buildRequest(e,t);return this.processRequest(n,this.interceptors).then((e=>{let t;if(Object.prototype.isPrototypeOf.call(Response.prototype,e))t=Promise.resolve(e);else{if(!Object.prototype.isPrototypeOf.call(Request.prototype,e))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${e}]`);n=e,t=fetch(n)}return this.processResponse(t,this.interceptors,n)})).then((e=>Object.prototype.isPrototypeOf.call(Request.prototype,e)?this.fetch(e):e)).then((e=>(this.trackRequestEnd(),e)),(e=>{throw this.trackRequestEnd(),e}))}buildRequest(e,t){const n=null!==this.defaults?this.defaults:{};let i,s,o;const r=function(e){const t={},n=void 0!==e?e:{};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]="function"==typeof n[e]?n[e]():n[e]);return t}(n.headers);if(Object.prototype.isPrototypeOf.call(Request.prototype,e))i=e,o=new Headers(i.headers).get("Content-Type");else{t||(t={}),s=t.body;const r=void 0!==s?{body:s}:null,c={...n,headers:{},...t,...r};o=new Headers(c.headers).get("Content-Type"),i=new Request((a=this.baseUrl,l=e,IT.test(l)?l:(void 0!==a?a:"")+l),c)}var a,l;return o||(new Headers(r).has("content-type")?i.headers.set("Content-Type",new Headers(r).get("content-type")):void 0!==s&&function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(s)&&i.headers.set("Content-Type","application/json")),function(e,t){const n=void 0!==t?t:{};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&!e.has(t)&&e.set(t,n[t])}(i.headers,r),void 0!==s&&Object.prototype.isPrototypeOf.call(Blob.prototype,s)&&s.type&&i.headers.set("Content-Type",s.type),i}get(e,t){return this.fetch(e,t)}post(e,t,n){return this.callFetch(e,t,n,"POST")}put(e,t,n){return this.callFetch(e,t,n,"PUT")}patch(e,t,n){return this.callFetch(e,t,n,"PATCH")}delete(e,t,n){return this.callFetch(e,t,n,"DELETE")}trackRequestStart(){if(this.isRequesting=!!++this.activeRequestCount,this.isRequesting&&null!==this.dispatcher){const e=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(e)}),1)}}trackRequestEnd(){if(this.isRequesting=!!--this.activeRequestCount,!this.isRequesting&&null!==this.dispatcher){const e=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(e)}),1)}}processRequest(e,t){return this.applyInterceptors(e,t,"request","requestError",this)}processResponse(e,t,n){return this.applyInterceptors(e,t,"response","responseError",n,this)}applyInterceptors(e,t,n,i,...s){return(void 0!==t?t:[]).reduce(((e,t)=>{const o=t[n],r=t[i];return e.then(o?e=>o.call(t,e,...s):FT,r?e=>r.call(t,e,...s):LT)}),Promise.resolve(e))}callFetch(e,t,n,i){return n||(n={}),n.method=i,t&&(n.body=t),this.fetch(e,n)}}function FT(e){return e}function LT(e){throw e}class DT{constructor(e,t,n){this.path=e,this.caseSensitive=t,this.handler=n}}class NT{constructor(e,t){this.route=e,this.paramNames=t}}class MT{constructor(e,t){this.endpoint=e,this.params=t}}class BT{constructor(e,t,n,i){var s;this.chars=e,this.states=t,this.skippedStates=n,this.result=i,this.head=t[t.length-1],this.endpoint=null===(s=this.head)||void 0===s?void 0:s.endpoint}advance(e){const{chars:t,states:n,skippedStates:i,result:s}=this;let o=null,r=0;const a=n[n.length-1];function l(c,u){if(c.isMatch(e)&&(1==++r?o=c:s.add(new BT(t.concat(e),n.concat(c),null===u?i:i.concat(u),s))),null===a.segment&&c.isOptional&&null!==c.nextStates){if(c.nextStates.length>1)throw new Error(`${c.nextStates.length} nextStates`);const e=c.nextStates[0];if(!e.isSeparator)throw new Error("Not a separator");if(null!==e.nextStates)for(const t of e.nextStates)l(t,c)}}if(a.isDynamic&&l(a,null),null!==a.nextStates)for(const e of a.nextStates)l(e,null);null!==o&&(n.push(this.head=o),t.push(e),null!==o.endpoint&&(this.endpoint=o.endpoint)),0===r&&s.remove(this)}finalize(){!function e(t,n){const i=n.nextStates;if(null!==i)if(1===i.length&&null===i[0].segment)e(t,i[0]);else for(const n of i)if(n.isOptional&&null!==n.endpoint){if(t.push(n),null!==n.nextStates)for(const i of n.nextStates)e(t,i);break}}(this.skippedStates,this.head)}getParams(){const{states:e,chars:t,endpoint:n}=this,i={};for(const e of n.paramNames)i[e]=void 0;for(let n=0,s=e.length;n<s;++n){const s=e[n];if(s.isDynamic){const e=s.segment.name;void 0===i[e]?i[e]=t[n]:i[e]+=t[n]}}return i}compareTo(e){const t=this.states,n=e.states;for(let e=0,i=0,s=Math.max(t.length,n.length);e<s;++e){let s=t[e];if(void 0===s)return 1;let o=n[i];if(void 0===o)return-1;let r=s.segment,a=o.segment;if(null===r){if(null===a){++i;continue}if(void 0===(s=t[++e]))return 1;r=s.segment}else if(null===a){if(void 0===(o=n[++i]))return-1;a=o.segment}if(r.kind<a.kind)return 1;if(r.kind>a.kind)return-1;++i}const i=this.skippedStates,s=e.skippedStates,o=i.length,r=s.length;if(o<r)return 1;if(o>r)return-1;for(let e=0;e<o;++e){const t=i[e],n=s[e];if(t.length<n.length)return 1;if(t.length>n.length)return-1}return 0}}function HT(e){return null!==e.head.endpoint}function VT(e,t){return e.compareTo(t)}class qT{constructor(e){this.candidates=[],this.candidates=[new BT([""],[e],[],this)]}get isEmpty(){return 0===this.candidates.length}getSolution(){const e=this.candidates.filter(HT);if(0===e.length)return null;for(const t of e)t.finalize();return e.sort(VT),e[0]}add(e){this.candidates.push(e)}remove(e){this.candidates.splice(this.candidates.indexOf(e),1)}advance(e){const t=this.candidates.slice();for(const n of t)n.advance(e)}}class UT{constructor(){this.rootState=new zT(null,null,""),this.cache=new Map}add(e){if(e instanceof Array)for(const t of e)this.$add(t);else this.$add(e);this.cache.clear()}$add(e){const t=e.path,n=new DT(e.path,!0===e.caseSensitive,e.handler),i=""===t?[""]:t.split("/").filter(_T),s=[];let o=this.rootState;for(const e of i)switch(o=o.append(null,"/"),e.charAt(0)){case":":{const t=e.endsWith("?"),n=t?e.slice(1,-1):e.slice(1);s.push(n),o=new GT(n,t).appendTo(o);break}case"*":{const t=e.slice(1);s.push(t),o=new YT(t).appendTo(o);break}default:o=new KT(e,n.caseSensitive).appendTo(o)}const r=new NT(n,s);o.setEndpoint(r)}recognize(e){let t=this.cache.get(e);return void 0===t&&this.cache.set(e,t=this.$recognize(e)),t}$recognize(e){(e=decodeURI(e)).startsWith("/")||(e=`/${e}`),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1));const t=new qT(this.rootState);for(let n=0,i=e.length;n<i;++n){const i=e.charAt(n);if(t.advance(i),t.isEmpty)return null}const n=t.getSolution();if(null===n)return null;const{endpoint:i}=n,s=n.getParams();return new MT(i,s)}}class zT{constructor(e,t,n){switch(this.prevState=e,this.segment=t,this.value=n,this.nextStates=null,this.endpoint=null,null==t?void 0:t.kind){case 2:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=t.optional;break;case 1:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 3:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=null===e?0:e.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1}}append(e,t){let n,i=this.nextStates;return null===i?(n=void 0,i=this.nextStates=[]):n=null===e?i.find((e=>e.value===t)):i.find((t=>{var n;return null===(n=t.segment)||void 0===n?void 0:n.equals(e)})),void 0===n&&i.push(n=new zT(this,e,t)),n}setEndpoint(e){if(null!==this.endpoint)throw new Error(`Cannot add ambiguous route. The pattern '${e.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=e,this.isOptional&&(this.prevState.setEndpoint(e),this.prevState.isSeparator&&null!==this.prevState.prevState&&this.prevState.prevState.setEndpoint(e))}isMatch(e){const t=this.segment;switch(null==t?void 0:t.kind){case 2:return!this.value.includes(e);case 1:return!0;case 3:case void 0:return this.value.includes(e)}}}function _T(e){return e.length>0}var WT;!function(e){e[e.star=1]="star",e[e.dynamic=2]="dynamic",e[e.static=3]="static"}(WT||(WT={}));class KT{constructor(e,t){this.value=e,this.caseSensitive=t}get kind(){return 3}appendTo(e){const{value:t,value:{length:n}}=this;if(this.caseSensitive)for(let i=0;i<n;++i)e=e.append(this,t.charAt(i));else for(let i=0;i<n;++i){const n=t.charAt(i);e=e.append(this,n.toUpperCase()+n.toLowerCase())}return e}equals(e){return 3===e.kind&&e.caseSensitive===this.caseSensitive&&e.value===this.value}}class GT{constructor(e,t){this.name=e,this.optional=t}get kind(){return 2}appendTo(e){return e.append(this,"/")}equals(e){return 2===e.kind&&e.optional===this.optional&&e.name===this.name}}class YT{constructor(e){this.name=e}get kind(){return 1}appendTo(e){return e.append(this,"")}equals(e){return 1===e.kind&&e.name===this.name}}class QT{constructor(e,t,n){this.stack=e,this.cb=t,this.done=!1,this.next=null,this.head=null!=n?n:this}static start(e){return new QT(0,e,null)}push(){let e=this;do{++e.stack,e=e.next}while(null!==e)}pop(){let e=this;do{0==--e.stack&&e.invoke(),e=e.next}while(null!==e)}invoke(){const e=this.cb;null!==e&&(this.cb=null,e(this),this.done=!0)}continueWith(e){return null===this.next?this.next=new QT(this.stack,e,this.head):this.next.continueWith(e)}start(){return this.head.push(),this.head.pop(),this}}function ZT(e,t){e=e.slice(),t=t.slice();const n=[];for(;e.length>0;){const i=e.shift();if(n.every((e=>e.context.vpa!==i.context.vpa))){const e=t.findIndex((e=>e.context.vpa===i.context.vpa));e>=0?n.push(...t.splice(0,e+1)):n.push(i)}}return n.push(...t),n}function XT(e){try{return JSON.stringify(e)}catch(t){return Object.prototype.toString.call(e)}}function JT(e){return"string"==typeof e?[e]:e}function eA(e){return"object"==typeof e&&null!==e&&!Nx(e)}function tA(e){return eA(e)&&!0===Object.prototype.hasOwnProperty.call(e,"name")}function nA(e){return eA(e)&&!0===Object.prototype.hasOwnProperty.call(e,"component")}function iA(e){return eA(e)&&!0===Object.prototype.hasOwnProperty.call(e,"redirectTo")}function sA(e){return eA(e)&&!0===Object.prototype.hasOwnProperty.call(e,"component")}function oA(e,t,n){throw new Error(`Invalid route config property: "${t}". Expected ${e}, but got ${XT(n)}.`)}function rA(e,t){if(null==e)throw new Error(`Invalid route config: expected an object or string, but got: ${String(e)}.`);const n=Object.keys(e);for(const i of n){const n=e[i],s=[t,i].join(".");switch(i){case"id":case"viewport":case"redirectTo":"string"!=typeof n&&oA("string",s,n);break;case"caseSensitive":"boolean"!=typeof n&&oA("boolean",s,n);break;case"data":"object"==typeof n&&null!==n||oA("object",s,n);break;case"title":switch(typeof n){case"string":case"function":break;default:oA("string or function",s,n)}break;case"path":if(n instanceof Array)for(let e=0;e<n.length;++e)"string"!=typeof n[e]&&oA("string",`${s}[${e}]`,n[e]);else"string"!=typeof n&&oA("string or Array of strings",s,n);break;case"component":aA(n,s);break;case"routes":n instanceof Array||oA("Array",s,n);for(const e of n)aA(e,`${s}[${n.indexOf(e)}]`);break;case"transitionPlan":switch(typeof n){case"string":switch(n){case"none":case"replace":case"invoke-lifecycles":break;default:oA("string('none'|'replace'|'invoke-lifecycles') or function",s,n)}break;case"function":break;default:oA("string('none'|'replace'|'invoke-lifecycles') or function",s,n)}break;default:throw new Error(`Unknown route config property: "${t}.${i}". Please specify known properties only.`)}}}function aA(e,t){switch(typeof e){case"function":break;case"object":if(e instanceof Promise)break;if(iA(e)){!function(e,t){if(null==e)throw new Error(`Invalid route config: expected an object or string, but got: ${String(e)}.`);const n=Object.keys(e);for(const i of n){const n=e[i],s=[t,i].join(".");switch(i){case"path":case"redirectTo":"string"!=typeof n&&oA("string",s,n);break;default:throw new Error(`Unknown redirect config property: "${t}.${i}". Only 'path' and 'redirectTo' should be specified for redirects.`)}}}(e,t);break}if(nA(e)){rA(e,t);break}Nx(e)||tA(e)||oA("an object with at least a 'component' property (see Routeable)",t,e);break;case"string":break;default:oA("function, object or string (see Routeable)",t,e)}}function lA(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let s=0,o=n.length;s<o;++s){const o=n[s];if(o!==i[s])return!1;if(e[o]!==t[o])return!1}return!0}var cA=function(e,t){return function(n,i){t(n,i,e)}};class uA{constructor(e,t,n){this.events=e,this.serial=t,this.inner=n,this.disposed=!1}dispose(){if(!this.disposed){this.disposed=!0,this.inner.dispose();const e=this.events.subscriptions;e.splice(e.indexOf(this),1)}}}const hA=gp.createInterface("IRouterEvents",(e=>e.singleton(dA)));let dA=class{constructor(e,t){this.ea=e,this.logger=t,this.subscriptionSerial=0,this.subscriptions=[],this.logger=t.scopeTo("RouterEvents")}publish(e){this.logger.trace("publishing %s",e),this.ea.publish(e.name,e)}subscribe(e,t){const n=new uA(this,++this.subscriptionSerial,this.ea.subscribe(e,(i=>{this.logger.trace(`handling %s for subscription #${n.serial}`,e),t(i)})));return this.subscriptions.push(n),n}};dA=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([cA(0,Dg),cA(1,vg)],dA);class pA{constructor(e,t,n,i){this.id=e,this.url=t,this.trigger=n,this.state=i}get name(){return"au:router:location-change"}toString(){return`LocationChangeEvent(id:${this.id},url:'${this.url}',trigger:'${this.trigger}')`}}class gA{constructor(e,t,n,i){this.id=e,this.instructions=t,this.trigger=n,this.managedState=i}get name(){return"au:router:navigation-start"}toString(){return`NavigationStartEvent(id:${this.id},instructions:'${this.instructions}',trigger:'${this.trigger}')`}}class fA{constructor(e,t,n){this.id=e,this.instructions=t,this.finalInstructions=n}get name(){return"au:router:navigation-end"}toString(){return`NavigationEndEvent(id:${this.id},instructions:'${this.instructions}',finalInstructions:'${this.finalInstructions}')`}}class mA{constructor(e,t,n){this.id=e,this.instructions=t,this.reason=n}get name(){return"au:router:navigation-cancel"}toString(){return`NavigationCancelEvent(id:${this.id},instructions:'${this.instructions}',reason:${String(this.reason)})`}}var vA=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},bA=function(e,t){return function(n,i){t(n,i,e)}};const yA=gp.createInterface("IBaseHrefProvider",(e=>e.singleton(xA)));class wA{constructor(e,t){this.path=e,this.rootedPath=t}}let xA=class{constructor(e){this.window=e}getBaseHref(){var e;const t=this.window.document.head.querySelector("base");if(null===t)return null;const n=SA(t.href),i=SA(null!==(e=t.getAttribute("href"))&&void 0!==e?e:"");return new wA(i,n)}};xA=vA([bA(0,lC)],xA);const CA=gp.createInterface("ILocationManager",(e=>e.singleton(kA)));let kA=class{constructor(e,t,n,i,s,o){var r;this.logger=e,this.events=t,this.history=n,this.location=i,this.window=s,this.baseHrefProvider=o,this.eventId=0,this.logger=e.root.scopeTo("LocationManager");const a=o.getBaseHref();if(null===a){const e=null!==(r=i.origin)&&void 0!==r?r:"",t=this.baseHref=new wA("",SA(e));this.logger.warn(`no baseHref provided, defaulting to origin '${t.rootedPath}' (normalized from '${e}')`)}else this.baseHref=a,this.logger.debug(`baseHref set to path: '${a.path}', rootedPath: '${a.rootedPath}'`)}startListening(){this.logger.trace("startListening()"),this.window.addEventListener("popstate",this.onPopState,!1),this.window.addEventListener("hashchange",this.onHashChange,!1)}stopListening(){this.logger.trace("stopListening()"),this.window.removeEventListener("popstate",this.onPopState,!1),this.window.removeEventListener("hashchange",this.onHashChange,!1)}onPopState(e){this.logger.trace("onPopState()"),this.events.publish(new pA(++this.eventId,this.getPath(),"popstate",e.state))}onHashChange(e){this.logger.trace("onHashChange()"),this.events.publish(new pA(++this.eventId,this.getPath(),"hashchange",null))}pushState(e,t,n){n=this.addBaseHref(n);try{const i=JSON.stringify(e);this.logger.trace(`pushState(state:${i},title:'${t}',url:'${n}')`)}catch(e){this.logger.warn(`pushState(state:NOT_SERIALIZABLE,title:'${t}',url:'${n}')`)}this.history.pushState(e,t,n)}replaceState(e,t,n){n=this.addBaseHref(n);try{const i=JSON.stringify(e);this.logger.trace(`replaceState(state:${i},title:'${t}',url:'${n}')`)}catch(e){this.logger.warn(`replaceState(state:NOT_SERIALIZABLE,title:'${t}',url:'${n}')`)}this.history.replaceState(e,t,n)}getPath(){const{pathname:e,search:t,hash:n}=this.location,i=this.removeBaseHref(`${e}${s=t,s.length>0&&!s.startsWith("?")?`?${s}`:s}${n}`);var s;return this.logger.trace(`getPath() -> '${i}'`),i}currentPathEquals(e){const t=this.getPath()===this.removeBaseHref(e);return this.logger.trace(`currentPathEquals(path:'${e}') -> ${t}`),t}addBaseHref(e){const t=e;let n,i=this.baseHref.rootedPath;return i.endsWith("/")&&(i=i.slice(0,-1)),0===i.length?n=e:(e.startsWith("/")&&(e=e.slice(1)),n=`${i}/${e}`),this.logger.trace(`addBaseHref(path:'${t}') -> '${n}'`),n}removeBaseHref(e){const t=e;return e.startsWith(this.baseHref.path)&&(e=e.slice(this.baseHref.path.length)),e=SA(e),this.logger.trace(`removeBaseHref(path:'${t}') -> '${e}'`),e}};function SA(e){let t,n,i;return(i=e.indexOf("?"))>=0||(i=e.indexOf("#"))>=0?(t=e.slice(0,i),n=e.slice(i)):(t=e,n=""),t.endsWith("/")?t=t.slice(0,-1):t.endsWith("/index.html")&&(t=t.slice(0,-11)),`${t}${n}`}vA([Yd],kA.prototype,"onPopState",null),vA([Yd],kA.prototype,"onHashChange",null),kA=vA([bA(0,vg),bA(1,hA),bA(2,uC),bA(3,cC),bA(4,lC),bA(5,yA)],kA);class $A{constructor(e,t,n,i){this.viewportName=e,this.componentName=t,this.resolution=n,this.append=i}static create(e){return new $A(e.viewportName,e.componentName,e.resolution,e.append)}toString(){return`VR(viewport:'${this.viewportName}',component:'${this.componentName}',resolution:'${this.resolution}',append:${this.append})`}}const TA=new WeakMap;class AA{constructor(e,t,n){this.viewport=e,this.hostController=t,this.ctx=n,this.isActive=!1,this.curCA=null,this.nextCA=null,this.state=8256,this.$resolution="dynamic",this.$plan="replace",this.currNode=null,this.nextNode=null,this.currTransition=null,this.prevTransition=null,this.logger=n.get(vg).scopeTo(`ViewportAgent<${n.friendlyPath}>`),this.logger.trace("constructor()")}get $state(){return function(e){let t=RA.get(e);return void 0===t&&RA.set(e,t=function(e){const t=[];return 8192==(8192&e)&&t.push("currIsEmpty"),4096==(4096&e)&&t.push("currIsActive"),2048==(2048&e)&&t.push("currCanUnload"),1024==(1024&e)&&t.push("currCanUnloadDone"),512==(512&e)&&t.push("currUnload"),256==(256&e)&&t.push("currUnloadDone"),128==(128&e)&&t.push("currDeactivate"),64==(64&e)&&t.push("nextIsEmpty"),32==(32&e)&&t.push("nextIsScheduled"),16==(16&e)&&t.push("nextCanLoad"),8==(8&e)&&t.push("nextCanLoadDone"),4==(4&e)&&t.push("nextLoad"),2==(2&e)&&t.push("nextLoadDone"),1==(1&e)&&t.push("nextActivate"),t.join("|")}(e)),t}(this.state)}get currState(){return 16256&this.state}set currState(e){this.state=127&this.state|e}get nextState(){return 127&this.state}set nextState(e){this.state=16256&this.state|e}static for(e,t){let n=TA.get(e);if(void 0===n){const i=Rx.getCachedOrThrow(e);TA.set(e,n=new AA(e,i,t))}return n}activateFromViewport(e,t,n){const i=this.currTransition;switch(null!==i&&EA(i),this.isActive=!0,this.nextState){case 64:switch(this.currState){case 8192:return void this.logger.trace("activateFromViewport() - nothing to activate at %s",this);case 4096:return this.logger.trace("activateFromViewport() - activating existing componentAgent at %s",this),this.curCA.activate(e,t,n);default:this.unexpectedState("activateFromViewport 1")}case 2:{if(null===this.currTransition)throw new Error(`Unexpected viewport activation outside of a transition context at ${this}`);if("static"!==this.$resolution)throw new Error(`Unexpected viewport activation at ${this}`);this.logger.trace("activateFromViewport() - running ordinary activate at %s",this);const t=QT.start((t=>{this.activate(e,this.currTransition,t)})),n=new Promise((e=>{t.continueWith((()=>{e()}))}));return t.start().done?void 0:n}default:this.unexpectedState("activateFromViewport 2")}}deactivateFromViewport(e,t,n){const i=this.currTransition;switch(null!==i&&EA(i),this.isActive=!1,this.currState){case 8192:return void this.logger.trace("deactivateFromViewport() - nothing to deactivate at %s",this);case 4096:return this.logger.trace("deactivateFromViewport() - deactivating existing componentAgent at %s",this),this.curCA.deactivate(e,t,n);case 128:return void this.logger.trace("deactivateFromViewport() - already deactivating at %s",this);default:{if(null===this.currTransition)throw new Error(`Unexpected viewport deactivation outside of a transition context at ${this}`);this.logger.trace("deactivateFromViewport() - running ordinary deactivate at %s",this);const t=QT.start((t=>{this.deactivate(e,this.currTransition,t)})),n=new Promise((e=>{t.continueWith((()=>{e()}))}));return t.start().done?void 0:n}}}handles(e){return!(!this.isAvailable(e.resolution)||(e.append&&4096===this.currState?(this.logger.trace("handles(req:%s) -> false (append mode, viewport already has content %s)",e,this.curCA),1):e.viewportName.length>0&&this.viewport.name!==e.viewportName?(this.logger.trace("handles(req:%s) -> false (names don't match)",e),1):this.viewport.usedBy.length>0&&!this.viewport.usedBy.split(",").includes(e.componentName)?(this.logger.trace("handles(req:%s) -> false (componentName not included in usedBy)",e),1):(this.logger.trace("handles(req:%s) -> true",e),0)))}isAvailable(e){return"dynamic"!==e||this.isActive?64===this.nextState||(this.logger.trace("isAvailable(resolution:%s) -> false (update already scheduled for %s)",e,this.nextNode),!1):(this.logger.trace("isAvailable(resolution:%s) -> false (viewport is not active and we're in dynamic resolution resolution)",e),!1)}canUnload(e,t){null===this.currTransition&&(this.currTransition=e),EA(e),!0===e.guardsResult&&(t.push(),QT.start((t=>{this.logger.trace("canUnload() - invoking on children at %s",this);for(const n of this.currNode.children)n.context.vpa.canUnload(e,t)})).continueWith((t=>{switch(this.currState){case 4096:switch(this.logger.trace("canUnload() - invoking on existing component at %s",this),this.$plan){case"none":return void(this.currState=1024);case"invoke-lifecycles":case"replace":return this.currState=2048,t.push(),void QT.start((t=>{this.logger.trace("canUnload() - finished invoking on children, now invoking on own component at %s",this),this.curCA.canUnload(e,this.nextNode,t)})).continueWith((()=>{this.logger.trace("canUnload() - finished at %s",this),this.currState=1024,t.pop()})).start()}case 8192:return void this.logger.trace("canUnload() - nothing to unload at %s",this);default:e.handleError(new Error(`Unexpected state at canUnload of ${this}`))}})).continueWith((()=>{t.pop()})).start())}canLoad(e,t){null===this.currTransition&&(this.currTransition=e),EA(e),!0===e.guardsResult&&(t.push(),QT.start((t=>{switch(this.nextState){case 32:switch(this.logger.trace("canLoad() - invoking on new component at %s",this),this.nextState=16,this.$plan){case"none":return;case"invoke-lifecycles":return this.curCA.canLoad(e,this.nextNode,t);case"replace":return this.nextCA=this.nextNode.context.createComponentAgent(this.hostController,this.nextNode),this.nextCA.canLoad(e,this.nextNode,t)}case 64:return void this.logger.trace("canLoad() - nothing to load at %s",this);default:this.unexpectedState("canLoad")}})).continueWith((e=>{const t=this.nextNode;switch(this.$plan){case"none":case"invoke-lifecycles":return this.logger.trace("canLoad(next:%s) - plan set to '%s', compiling residue",t,this.$plan),e.push(),void tp(XA(t),(()=>{e.pop()}));case"replace":switch(this.$resolution){case"dynamic":return void this.logger.trace("canLoad(next:%s) - (resolution: 'dynamic'), delaying residue compilation until activate",t,this.$plan);case"static":return this.logger.trace(`canLoad(next:%s) - (resolution: '${this.$resolution}'), creating nextCA and compiling residue`,t,this.$plan),e.push(),void tp(XA(t),(()=>{e.pop()}))}}})).continueWith((t=>{switch(this.nextState){case 16:this.logger.trace("canLoad() - finished own component, now invoking on children at %s",this),this.nextState=8;for(const n of this.nextNode.children)n.context.vpa.canLoad(e,t);return;case 64:return;default:this.unexpectedState("canLoad")}})).continueWith((()=>{this.logger.trace("canLoad() - finished at %s",this),t.pop()})).start())}unload(e,t){EA(e),OA(this,e),t.push(),QT.start((t=>{this.logger.trace("unload() - invoking on children at %s",this);for(const n of this.currNode.children)n.context.vpa.unload(e,t)})).continueWith((n=>{switch(this.currState){case 1024:switch(this.logger.trace("unload() - invoking on existing component at %s",this),this.$plan){case"none":return void(this.currState=256);case"invoke-lifecycles":case"replace":return this.currState=512,n.push(),void QT.start((t=>{this.logger.trace("unload() - finished invoking on children, now invoking on own component at %s",this),this.curCA.unload(e,this.nextNode,t)})).continueWith((()=>{this.logger.trace("unload() - finished at %s",this),this.currState=256,n.pop()})).start()}case 8192:this.logger.trace("unload() - nothing to unload at %s",this);for(const n of this.currNode.children)n.context.vpa.unload(e,t);return;default:this.unexpectedState("unload")}})).continueWith((()=>{t.pop()})).start()}load(e,t){EA(e),OA(this,e),t.push(),QT.start((t=>{switch(this.nextState){case 8:switch(this.logger.trace("load() - invoking on new component at %s",this),this.nextState=4,this.$plan){case"none":return;case"invoke-lifecycles":return this.curCA.load(e,this.nextNode,t);case"replace":return this.nextCA.load(e,this.nextNode,t)}case 64:return void this.logger.trace("load() - nothing to load at %s",this);default:this.unexpectedState("load")}})).continueWith((t=>{switch(this.nextState){case 4:this.logger.trace("load() - finished own component, now invoking on children at %s",this),this.nextState=2;for(const n of this.nextNode.children)n.context.vpa.load(e,t);return;case 64:return;default:this.unexpectedState("load")}})).continueWith((()=>{this.logger.trace("load() - finished at %s",this),t.pop()})).start()}deactivate(e,t,n){switch(EA(t),OA(this,t),n.push(),this.currState){case 256:switch(this.logger.trace("deactivate() - invoking on existing component at %s",this),this.currState=128,this.$plan){case"none":case"invoke-lifecycles":return void n.pop();case"replace":{const i=this.hostController,s=this.viewport.stateful?0:32;t.run((()=>this.curCA.deactivate(e,i,s)),(()=>{n.pop()}))}}return;case 8192:return this.logger.trace("deactivate() - nothing to deactivate at %s",this),void n.pop();case 128:return this.logger.trace("deactivate() - already deactivating at %s",this),void n.pop();default:this.unexpectedState("deactivate")}}activate(e,t,n){if(EA(t),OA(this,t),n.push(),32===this.nextState&&"dynamic"===this.$resolution)return this.logger.trace("activate() - invoking canLoad(), load() and activate() on new component due to resolution 'dynamic' at %s",this),void QT.start((e=>{this.canLoad(t,e)})).continueWith((e=>{this.load(t,e)})).continueWith((n=>{this.activate(e,t,n)})).continueWith((()=>{n.pop()})).start();switch(this.nextState){case 2:return this.logger.trace("activate() - invoking on existing component at %s",this),this.nextState=1,void QT.start((n=>{switch(this.$plan){case"none":case"invoke-lifecycles":return;case"replace":{const i=this.hostController,s=0;t.run((()=>(n.push(),this.nextCA.activate(e,i,s))),(()=>{n.pop()}))}}})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{n.pop()})).start();case 64:return this.logger.trace("activate() - nothing to activate at %s",this),void n.pop();default:this.unexpectedState("activate")}}swap(e,t){if(8192===this.currState)return this.logger.trace("swap() - running activate on next instead, because there is nothing to deactivate at %s",this),void this.activate(null,e,t);if(64===this.nextState)return this.logger.trace("swap() - running deactivate on current instead, because there is nothing to activate at %s",this),void this.deactivate(null,e,t);switch(EA(e),OA(this,e),256===this.currState&&2===this.nextState||this.unexpectedState("swap"),this.currState=128,this.nextState=1,this.$plan){case"none":case"invoke-lifecycles":{this.logger.trace("swap() - skipping this level and swapping children instead at %s",this);const n=ZT(this.nextNode.children,this.currNode.children);for(const i of n)i.context.vpa.swap(e,t);return}case"replace":{this.logger.trace("swap() - running normally at %s",this);const n=this.hostController,i=this.curCA,s=this.nextCA,o=this.viewport.stateful?0:32,r=0;switch(t.push(),e.options.swapStrategy){case"sequential-add-first":return void QT.start((t=>{e.run((()=>(t.push(),s.activate(null,n,r))),(()=>{t.pop()}))})).continueWith((t=>{this.processDynamicChildren(e,t)})).continueWith((()=>{e.run((()=>i.deactivate(null,n,o)),(()=>{t.pop()}))})).start();case"sequential-remove-first":return void QT.start((t=>{e.run((()=>(t.push(),i.deactivate(null,n,o))),(()=>{t.pop()}))})).continueWith((t=>{e.run((()=>(t.push(),s.activate(null,n,r))),(()=>{t.pop()}))})).continueWith((t=>{this.processDynamicChildren(e,t)})).continueWith((()=>{t.pop()})).start();case"parallel-remove-first":return e.run((()=>(t.push(),i.deactivate(null,n,o))),(()=>{t.pop()})),void QT.start((t=>{e.run((()=>(t.push(),s.activate(null,n,r))),(()=>{t.pop()}))})).continueWith((t=>{this.processDynamicChildren(e,t)})).continueWith((()=>{t.pop()})).start()}}}}processDynamicChildren(e,t){this.logger.trace("processDynamicChildren() - %s",this);const n=this.nextNode;e.run((()=>(t.push(),function(e){const t=e.context,n=t.get(vg).scopeTo("RouteTree"),i=t.resolved instanceof Promise?" - awaiting promise":"";return n.trace(`getDynamicChildren(node:%s)${i}`,e),tp(t.resolved,(()=>{const i=e.children.slice();return tp(np(...e.residue.splice(0).map((t=>JA(n,e,t,e.append))),...t.getAvailableViewportAgents("dynamic").map((t=>{const i=pO.create({component:t.viewport.default,viewport:t.viewport.name});return JA(n,e,i,e.append)}))),(()=>e.children.filter((e=>!i.includes(e)))))}))}(n))),(n=>{QT.start((t=>{for(const i of n)e.run((()=>(t.push(),i.context.vpa.canLoad(e,t))),(()=>{t.pop()}))})).continueWith((t=>{for(const i of n)e.run((()=>(t.push(),i.context.vpa.load(e,t))),(()=>{t.pop()}))})).continueWith((t=>{for(const i of n)e.run((()=>(t.push(),i.context.vpa.activate(null,e,t))),(()=>{t.pop()}))})).continueWith((()=>{t.pop()})).start()}))}scheduleUpdate(e,t){var n,i;switch(this.nextState){case 64:this.nextNode=t,this.nextState=32,this.$resolution=e.resolutionMode;break;default:this.unexpectedState("scheduleUpdate 1")}switch(this.currState){case 8192:case 4096:case 1024:break;default:this.unexpectedState("scheduleUpdate 2")}const s=null!==(i=null===(n=this.curCA)||void 0===n?void 0:n.routeNode)&&void 0!==i?i:null;if(null===s||s.component!==t.component)this.$plan="replace";else{const e=t.context.definition.config.transitionPlan;this.$plan="function"==typeof e?e(s,t):e}this.logger.trace("scheduleUpdate(next:%s) - plan set to '%s'",t,this.$plan)}cancelUpdate(){switch(null!==this.currNode&&this.currNode.children.forEach((function(e){e.context.vpa.cancelUpdate()})),null!==this.nextNode&&this.nextNode.children.forEach((function(e){e.context.vpa.cancelUpdate()})),this.logger.trace("cancelUpdate(nextNode:%s)",this.nextNode),this.currState){case 8192:case 4096:break;case 2048:case 1024:this.currState=4096}switch(this.nextState){case 64:case 32:case 16:case 8:this.nextNode=null,this.nextState=64}}endTransition(){if(null!==this.currNode&&this.currNode.children.forEach((function(e){e.context.vpa.endTransition()})),null!==this.nextNode&&this.nextNode.children.forEach((function(e){e.context.vpa.endTransition()})),null!==this.currTransition){switch(EA(this.currTransition),this.nextState){case 64:switch(this.currState){case 128:this.logger.trace("endTransition() - setting currState to State.nextIsEmpty at %s",this),this.currState=8192,this.curCA=null;break;default:this.unexpectedState("endTransition 1")}break;case 1:switch(this.currState){case 8192:case 128:switch(this.$plan){case"none":case"invoke-lifecycles":this.logger.trace("endTransition() - setting currState to State.currIsActive at %s",this),this.currState=4096;break;case"replace":this.logger.trace("endTransition() - setting currState to State.currIsActive and reassigning curCA at %s",this),this.currState=4096,this.curCA=this.nextCA}this.currNode=this.nextNode;break;default:this.unexpectedState("endTransition 2")}break;default:this.unexpectedState("endTransition 3")}this.$plan="replace",this.nextState=64,this.nextNode=null,this.nextCA=null,this.prevTransition=this.currTransition,this.currTransition=null}}toString(){return`VPA(state:${this.$state},plan:'${this.$plan}',resolution:'${this.$resolution}',n:${this.nextNode},c:${this.currNode},viewport:${this.viewport})`}dispose(){var e;this.viewport.stateful?this.logger.trace("dispose() - not disposing stateful viewport at %s",this):(this.logger.trace("dispose() - disposing %s",this),null===(e=this.curCA)||void 0===e||e.dispose())}unexpectedState(e){throw new Error(`Unexpected state at ${e} of ${this}`)}}function OA(e,t){if(!0!==t.guardsResult)throw new Error(`Unexpected guardsResult ${t.guardsResult} at ${e}`)}function EA(e){if(void 0!==e.error)throw e.error}var PA;!function(e){e[e.curr=16256]="curr",e[e.currIsEmpty=8192]="currIsEmpty",e[e.currIsActive=4096]="currIsActive",e[e.currCanUnload=2048]="currCanUnload",e[e.currCanUnloadDone=1024]="currCanUnloadDone",e[e.currUnload=512]="currUnload",e[e.currUnloadDone=256]="currUnloadDone",e[e.currDeactivate=128]="currDeactivate",e[e.next=127]="next",e[e.nextIsEmpty=64]="nextIsEmpty",e[e.nextIsScheduled=32]="nextIsScheduled",e[e.nextCanLoad=16]="nextCanLoad",e[e.nextCanLoadDone=8]="nextCanLoadDone",e[e.nextLoad=4]="nextLoad",e[e.nextLoadDone=2]="nextLoadDone",e[e.nextActivate=1]="nextActivate",e[e.bothAreEmpty=8256]="bothAreEmpty"}(PA||(PA={}));const RA=new Map,IA=["?","#","/","+","(",")",".","@","!","=",",","&","'","~",";"];class jA{constructor(e){this.input=e,this.buffers=[],this.bufferIndex=0,this.index=0,this.rest=e}get done(){return 0===this.rest.length}startsWith(...e){const t=this.rest;return e.some((function(e){return t.startsWith(e)}))}consumeOptional(e){return!!this.startsWith(e)&&(this.rest=this.rest.slice(e.length),this.index+=e.length,this.append(e),!0)}consume(e){this.consumeOptional(e)||this.expect(`'${e}'`)}expect(e){throw new Error(`Expected ${e} at index ${this.index} of '${this.input}', but got: '${this.rest}' (rest='${this.rest}')`)}ensureDone(){if(!this.done)throw new Error(`Unexpected '${this.rest}' at index ${this.index} of '${this.input}'`)}advance(){const e=this.rest[0];this.rest=this.rest.slice(1),++this.index,this.append(e)}record(){this.buffers[this.bufferIndex++]=""}playback(){const e=--this.bufferIndex,t=this.buffers,n=t[e];return t[e]="",n}discard(){this.buffers[--this.bufferIndex]=""}append(e){const t=this.bufferIndex,n=this.buffers;for(let i=0;i<t;++i)n[i]+=e}}var FA;!function(e){e[e.Route=0]="Route",e[e.CompositeSegment=1]="CompositeSegment",e[e.ScopedSegment=2]="ScopedSegment",e[e.SegmentGroup=3]="SegmentGroup",e[e.Segment=4]="Segment",e[e.Component=5]="Component",e[e.Action=6]="Action",e[e.Viewport=7]="Viewport",e[e.ParameterList=8]="ParameterList",e[e.Parameter=9]="Parameter"}(FA||(FA={}));const LA=new Map,DA=new Map;class NA{constructor(e,t,n,i,s,o){this.raw=e,this.isAbsolute=t,this.root=n,this.queryParams=i,this.fragment=s,this.fragmentIsRoute=o}get kind(){return 0}static parse(e,t){const n=t?LA:DA;let i=n.get(e);return void 0===i&&n.set(e,i=NA.$parse(e,t)),i}static $parse(e,t){let n;const i=e.indexOf("#");if(i>=0){const s=e.slice(i+1);n=decodeURIComponent(s),e=t?n:e.slice(0,i)}else t&&(e=""),n=null;let s=null;const o=e.indexOf("?");if(o>=0){const t=e.slice(o+1);e=e.slice(0,o),s=new URLSearchParams(t)}if(""===e)return new NA("",!1,VA.EMPTY,Object.freeze(null!=s?s:new URLSearchParams),n,t);const r=new jA(e);r.record();const a=r.consumeOptional("/"),l=MA.parse(r);r.ensureDone();const c=r.playback();return new NA(c,a,l,Object.freeze(null!=s?s:new URLSearchParams),n,t)}toInstructionTree(e){return new fO(e,this.isAbsolute,this.root.toInstructions(e.append,0,0),this.queryParams,this.fragment)}toString(){return this.raw}}class MA{constructor(e,t,n){this.raw=e,this.siblings=t,this.append=n}get kind(){return 1}static parse(e){e.record();const t=e.consumeOptional("+"),n=[];do{n.push(BA.parse(e))}while(e.consumeOptional("+"));if(!t&&1===n.length)return e.discard(),n[0];const i=e.playback();return new MA(i,n,t)}toInstructions(e,t,n){switch(this.siblings.length){case 0:return[];case 1:return this.siblings[0].toInstructions(e,t,n);case 2:return[...this.siblings[0].toInstructions(e,t,0),...this.siblings[1].toInstructions(e,0,n)];default:return[...this.siblings[0].toInstructions(e,t,0),...this.siblings.slice(1,-1).flatMap((function(t){return t.toInstructions(e,0,0)})),...this.siblings[this.siblings.length-1].toInstructions(e,0,n)]}}toString(){return this.raw}}class BA{constructor(e,t,n){this.raw=e,this.left=t,this.right=n}get kind(){return 2}static parse(e){e.record();const t=HA.parse(e);if(e.consumeOptional("/")){const n=BA.parse(e),i=e.playback();return new BA(i,t,n)}return e.discard(),t}toInstructions(e,t,n){const i=this.left.toInstructions(e,t,0),s=this.right.toInstructions(!1,0,n);let o=i[i.length-1];for(;o.children.length>0;)o=o.children[o.children.length-1];return o.children.push(...s),i}toString(){return this.raw}}class HA{constructor(e,t){this.raw=e,this.expression=t}get kind(){return 3}static parse(e){if(e.record(),e.consumeOptional("(")){const t=MA.parse(e);e.consume(")");const n=e.playback();return new HA(n,t)}return e.discard(),VA.parse(e)}toInstructions(e,t,n){return this.expression.toInstructions(e,t+1,n+1)}toString(){return this.raw}}class VA{constructor(e,t,n,i,s){this.raw=e,this.component=t,this.action=n,this.viewport=i,this.scoped=s}get kind(){return 4}static get EMPTY(){return new VA("",qA.EMPTY,UA.EMPTY,zA.EMPTY,!0)}static parse(e){e.record();const t=qA.parse(e),n=UA.parse(e),i=zA.parse(e),s=!e.consumeOptional("!"),o=e.playback();return new VA(o,t,n,i,s)}toInstructions(e,t,n){return[pO.create({component:this.component.name,params:this.component.parameterList.toObject(),viewport:this.viewport.name,append:e,open:t,close:n})]}toString(){return this.raw}}class qA{constructor(e,t,n){switch(this.raw=e,this.name=t,this.parameterList=n,t.charAt(0)){case":":this.isParameter=!0,this.isStar=!1,this.isDynamic=!0,this.parameterName=t.slice(1);break;case"*":this.isParameter=!1,this.isStar=!0,this.isDynamic=!0,this.parameterName=t.slice(1);break;default:this.isParameter=!1,this.isStar=!1,this.isDynamic=!1,this.parameterName=t}}get kind(){return 5}static get EMPTY(){return new qA("","",_A.EMPTY)}static parse(e){if(e.record(),e.record(),!e.done)if(e.startsWith("./"))e.advance();else if(e.startsWith("../"))e.advance(),e.advance();else for(;!e.done&&!e.startsWith(...IA);)e.advance();const t=decodeURIComponent(e.playback());0===t.length&&e.expect("component name");const n=_A.parse(e),i=e.playback();return new qA(i,t,n)}toString(){return this.raw}}class UA{constructor(e,t,n){this.raw=e,this.name=t,this.parameterList=n}get kind(){return 6}static get EMPTY(){return new UA("","",_A.EMPTY)}static parse(e){e.record();let t="";if(e.consumeOptional(".")){for(e.record();!e.done&&!e.startsWith(...IA);)e.advance();t=decodeURIComponent(e.playback()),0===t.length&&e.expect("method name")}const n=_A.parse(e),i=e.playback();return new UA(i,t,n)}toString(){return this.raw}}class zA{constructor(e,t){this.raw=e,this.name=t}get kind(){return 7}static get EMPTY(){return new zA("","")}static parse(e){e.record();let t="";if(e.consumeOptional("@")){for(e.record();!e.done&&!e.startsWith(...IA);)e.advance();t=decodeURIComponent(e.playback()),0===t.length&&e.expect("viewport name")}const n=e.playback();return new zA(n,t)}toString(){return this.raw}}class _A{constructor(e,t){this.raw=e,this.expressions=t}get kind(){return 8}static get EMPTY(){return new _A("",[])}static parse(e){e.record();const t=[];if(e.consumeOptional("(")){do{if(t.push(WA.parse(e,t.length)),!e.consumeOptional(","))break}while(!e.done&&!e.startsWith(")"));e.consume(")")}const n=e.playback();return new _A(n,t)}toObject(){const e={};for(const t of this.expressions)e[t.key]=t.value;return e}toString(){return this.raw}}class WA{constructor(e,t,n){this.raw=e,this.key=t,this.value=n}get kind(){return 9}static get EMPTY(){return new WA("","","")}static parse(e,t){for(e.record(),e.record();!e.done&&!e.startsWith(...IA);)e.advance();let n,i=decodeURIComponent(e.playback());if(0===i.length&&e.expect("parameter key"),e.consumeOptional("=")){for(e.record();!e.done&&!e.startsWith(...IA);)e.advance();n=decodeURIComponent(e.playback()),0===n.length&&e.expect("parameter value")}else n=i,i=t.toString();const s=e.playback();return new WA(s,i,n)}toString(){return this.raw}}Object.freeze({RouteExpression:NA,CompositeSegmentExpression:MA,ScopedSegmentExpression:BA,SegmentGroupExpression:HA,SegmentExpression:VA,ComponentExpression:qA,ActionExpression:UA,ViewportExpression:zA,ParameterListExpression:_A,ParameterExpression:WA});let KA=0;class GA{constructor(e,t,n,i,s,o,r,a,l,c,u,h,d,p,g,f){this.id=e,this.path=t,this.finalPath=n,this.context=i,this.originalInstruction=s,this.instruction=o,this.params=r,this.queryParams=a,this.fragment=l,this.data=c,this.viewport=u,this.title=h,this.component=d,this.append=p,this.children=g,this.residue=f,this.version=1,this.originalInstruction=o}get root(){return this.tree.root}static create(e){var t,n,i,s,o,r,a,l;return new GA(++KA,e.path,e.finalPath,e.context,e.instruction,e.instruction,null!==(t=e.params)&&void 0!==t?t:{},null!==(n=e.queryParams)&&void 0!==n?n:Object.freeze(new URLSearchParams),null!==(i=e.fragment)&&void 0!==i?i:null,null!==(s=e.data)&&void 0!==s?s:{},null!==(o=e.viewport)&&void 0!==o?o:null,null!==(r=e.title)&&void 0!==r?r:null,e.component,e.append,null!==(a=e.children)&&void 0!==a?a:[],null!==(l=e.residue)&&void 0!==l?l:[])}contains(e){var t,n;if(this.context===e.options.context){const i=this.children,s=e.children;for(let e=0,o=i.length;e<o;++e)for(let r=0,a=s.length;r<a&&e+r<o&&null!==(n=null===(t=i[e+r].instruction)||void 0===t?void 0:t.contains(s[r]))&&void 0!==n&&n;++r)if(r+1===a)return!0}return this.children.some((function(t){return t.contains(e)}))}appendChild(e){this.children.push(e),e.setTree(this.tree)}appendChildren(...e){for(const t of e)this.appendChild(t)}clearChildren(){for(const e of this.children)e.clearChildren(),e.context.vpa.cancelUpdate();this.children.length=0}getTitle(e){const t=[...this.children.map((t=>t.getTitle(e))),this.getTitlePart()].filter((e=>null!==e));return 0===t.length?null:t.join(e)}getTitlePart(){return"function"==typeof this.title?this.title.call(void 0,this):this.title}computeAbsolutePath(){if(this.context.isRoot)return"";const e=this.context.parent.node.computeAbsolutePath(),t=this.instruction.toUrlComponent(!1);return e.length>0?t.length>0?[e,t].join("/"):e:t}setTree(e){this.tree=e;for(const t of this.children)t.setTree(e)}finalizeInstruction(){const e=this.children.map((e=>e.finalizeInstruction())),t=this.instruction.clone();return t.children.splice(0,t.children.length,...e),this.instruction=t}clone(){const e=new GA(this.id,this.path,this.finalPath,this.context,this.originalInstruction,this.instruction,{...this.params},{...this.queryParams},this.fragment,{...this.data},this.viewport,this.title,this.component,this.append,this.children.map((e=>e.clone())),[...this.residue]);return e.version=this.version+1,e.context.node===this&&(e.context.node=e),e}toString(){var e,t,n,i,s;const o=[],r=null!==(n=null===(t=null===(e=this.context)||void 0===e?void 0:e.definition.component)||void 0===t?void 0:t.name)&&void 0!==n?n:"";r.length>0&&o.push(`c:'${r}'`);const a=null!==(s=null===(i=this.context)||void 0===i?void 0:i.definition.config.path)&&void 0!==s?s:"";return a.length>0&&o.push(`path:'${a}'`),this.children.length>0&&o.push(`children:[${this.children.map(String).join(",")}]`),this.residue.length>0&&o.push(`residue:${this.residue.map((function(e){return"string"==typeof e?`'${e}'`:String(e)})).join(",")}`),`RN(ctx:'${this.context.friendlyPath}',${o.join(",")})`}}class YA{constructor(e,t,n,i){this.options=e,this.queryParams=t,this.fragment=n,this.root=i}contains(e){return this.root.contains(e)}clone(){const e=new YA(this.options.clone(),{...this.queryParams},this.fragment,this.root.clone());return e.root.setTree(this),e}finalizeInstructions(){return new fO(this.options,!0,this.root.children.map((e=>e.finalizeInstruction())),this.queryParams,this.fragment)}toString(){return this.root.toString()}}function QA(e,t,n){const i=n.get(vg).scopeTo("RouteTree"),s=n.root;e.options=t.options,e.queryParams=t.queryParams,e.fragment=t.fragment,t.isAbsolute&&(n=s),n===s&&(e.root.setTree(e),s.node=e.root);const o=n.resolved instanceof Promise?" - awaiting promise":"";return i.trace(`updateRouteTree(rootCtx:%s,rt:%s,vit:%s)${o}`,s,e,t),tp(n.resolved,(()=>ZA(i,t,n,s.node)))}function ZA(e,t,n,i){let s;return e.trace("updateNode(ctx:%s,node:%s)",n,i),i.queryParams=t.queryParams,i.fragment=t.fragment,s=i.context.isRoot?void 0:i.context.vpa.scheduleUpdate(i.tree.options,i),tp(s,(()=>i.context===n?(i.clearChildren(),tp(np(...t.children.map((t=>JA(e,i,t,i.tree.options.append||t.append)))),(()=>np(...n.getAvailableViewportAgents("dynamic").map((t=>{const n=pO.create({component:t.viewport.default,viewport:t.viewport.name});return JA(e,i,n,i.append)})))))):np(...i.children.map((i=>ZA(e,t,n,i))))))}function XA(e){const t=e.context,n=t.get(vg).scopeTo("RouteTree"),i=t.resolved instanceof Promise?" - awaiting promise":"";return n.trace(`processResidue(node:%s)${i}`,e),tp(t.resolved,(()=>np(...e.residue.splice(0).map((t=>JA(n,e,t,e.append))),...t.getAvailableViewportAgents("static").map((t=>{const i=pO.create({component:t.viewport.default,viewport:t.viewport.name});return JA(n,e,i,e.append)})))))}function JA(e,t,n,i){var s,o;switch(e.trace(`createAndAppendNodes(node:%s,vi:%s,append:${i})`,t,n),n.component.type){case 0:switch(n.component.value){case"..":t.clearChildren(),t=null!==(o=null===(s=t.context.parent)||void 0===s?void 0:s.node)&&void 0!==o?o:t;case".":return np(...n.children.map((n=>JA(e,t,n,n.append))));default:{const s=function(e,t,n,i){const s=t.context;let o=0,r=n.component.value,a=n;for(;1===a.children.length&&(a=a.children[0],0===a.component.type);)++o,r=`${r}/${a.component.value}`;const l=s.recognize(r);if(null===l){const o=n.component.value;let r=s.find(Sw,o);switch(t.tree.options.routingMode){case"configured-only":if(null===r){if(""===o)return null;throw new Error(`'${o}' did not match any configured route or registered component name at '${s.friendlyPath}' - did you forget to add '${o}' to the routes list of the route decorator of '${s.component.name}'?`)}throw new Error(`'${o}' did not match any configured route, but it does match a registered component name at '${s.friendlyPath}' - did you forget to add a @route({ path: '${o}' }) decorator to '${o}' or unintentionally set routingMode to 'configured-only'?`);case"configured-first":if(null===r){if(""===o)return null;const e=null===n.viewport||0===n.viewport.length?"default":n.viewport,t=s.getFallbackViewportAgent("dynamic",e);if(null===t)throw new Error(`'${o}' did not match any configured route or registered component name at '${s.friendlyPath}' and no fallback was provided for viewport '${e}' - did you forget to add the component '${o}' to the dependencies of '${s.component.name}' or to register it as a global dependency?`);const i=t.viewport.fallback;if(r=s.find(Sw,i),null===r)throw new Error(`the requested component '${o}' and the fallback '${i}' at viewport '${e}' did not match any configured route or registered component name at '${s.friendlyPath}' - did you forget to add the component '${o}' to the dependencies of '${s.component.name}' or to register it as a global dependency?`)}return tO(e,t,n,i,r)}}const c=null===l.residue?r:r.slice(0,-(l.residue.length+1));n.component.value=c;for(let e=0;e<o;++e)n.children=n.children[0].children;return eO(e,t,n,i,l)}(e,t,n,i);if(null===s)return;return nO(e,t,s)}}case 4:case 2:{const s=CO.resolve(n.component.value),o=tO(e,t,n,i,s.component);return nO(e,t,o)}}}function eO(e,t,n,i,s,o=s.route.endpoint.route){const r=t.context,a=t.tree;return tp(o.handler,(l=>{if(o.handler=l,null===l.redirectTo){const c=l.viewport,u=l.component,h=r.resolveViewportAgent($A.create({viewportName:c,componentName:u.name,append:i,resolution:a.options.resolutionMode})),d=r.get(hO).getRouteContext(h,u,h.hostController.context);return d.node=GA.create({path:s.route.endpoint.route.path,finalPath:o.path,context:d,instruction:n,params:{...t.params,...s.route.params},queryParams:a.queryParams,fragment:a.fragment,data:l.data,viewport:c,component:u,append:i,title:l.config.title,residue:null===s.residue?[]:[pO.create(s.residue)]}),d.node.setTree(t.tree),e.trace("createConfiguredNode(vi:%s) -> %s",n,d.node),d.node}const c=NA.parse(o.path,!1),u=NA.parse(l.redirectTo,!1);let h,d;const p=[];switch(c.root.kind){case 2:case 4:h=c.root;break;default:throw new Error(`Unexpected expression kind ${c.root.kind}`)}switch(u.root.kind){case 2:case 4:d=u.root;break;default:throw new Error(`Unexpected expression kind ${u.root.kind}`)}let g,f,m=!1,v=!1;for(;!m||!v;){if(m)g=null;else if(4===h.kind)g=h,m=!0;else{if(4!==h.left.kind)throw new Error(`Unexpected expression kind ${h.left.kind}`);switch(g=h.left,h.right.kind){case 2:case 4:h=h.right;break;default:throw new Error(`Unexpected expression kind ${h.right.kind}`)}}if(v)f=null;else if(4===d.kind)f=d,v=!0;else{if(4!==d.left.kind)throw new Error(`Unexpected expression kind ${d.left.kind}`);switch(f=d.left,d.right.kind){case 2:case 4:d=d.right;break;default:throw new Error(`Unexpected expression kind ${d.right.kind}`)}}null!==f&&(f.component.isDynamic&&(null==g?void 0:g.component.isDynamic)?p.push(s.route.params[g.component.name]):p.push(f.raw))}const b=p.filter(Boolean).join("/"),y=r.recognize(b);if(null===y){const s=b,o=r.find(Sw,b);switch(a.options.routingMode){case"configured-only":if(null===o)throw new Error(`'${s}' did not match any configured route or registered component name at '${r.friendlyPath}' - did you forget to add '${s}' to the routes list of the route decorator of '${r.component.name}'?`);throw new Error(`'${s}' did not match any configured route, but it does match a registered component name at '${r.friendlyPath}' - did you forget to add a @route({ path: '${s}' }) decorator to '${s}' or unintentionally set routingMode to 'configured-only'?`);case"configured-first":if(null===o)throw new Error(`'${s}' did not match any configured route or registered component name at '${r.friendlyPath}' - did you forget to add the component '${s}' to the dependencies of '${r.component.name}' or to register it as a global dependency?`);return tO(e,t,n,i,o)}}return eO(e,t,n,i,s,y.route.endpoint.route)}))}function tO(e,t,n,i,s){var o;const r=t.context,a=t.tree,l=null!==(o=n.viewport)&&void 0!==o?o:"default",c=r.resolveViewportAgent($A.create({viewportName:l,componentName:s.name,append:i,resolution:a.options.resolutionMode})),u=r.get(hO).getRouteContext(c,s,c.hostController.context),h=CO.resolve(s);return u.node=GA.create({path:s.name,finalPath:s.name,context:u,instruction:n,params:{...r.node.params,...n.params},queryParams:a.queryParams,fragment:a.fragment,data:h.data,viewport:l,component:s,append:i,title:h.config.title,residue:[...n.children]}),u.node.setTree(r.node.tree),e.trace("createDirectNode(vi:%s) -> %s",n,u.node),u.node}function nO(e,t,n){return tp(n,(n=>(e.trace("appendNode($childNode:%s)",n),t.appendChild(n),n.context.vpa.scheduleUpdate(t.tree.options,n))))}var iO=function(e,t){return function(n,i){t(n,i,e)}};const sO="au-nav-id";function oO(e,t){return{...e,[sO]:t}}function rO(e,t){return"function"==typeof t?t(e):t}class aO{constructor(e,t,n,i,s,o,r,a,l,c){this.useUrlFragmentHash=e,this.useHref=t,this.statefulHistoryLength=n,this.routingMode=i,this.swapStrategy=s,this.resolutionMode=o,this.queryParamsStrategy=r,this.fragmentStrategy=a,this.historyStrategy=l,this.sameUrlStrategy=c}static get DEFAULT(){return aO.create({})}static create(e){var t,n,i,s,o,r,a,l,c,u;return new aO(null!==(t=e.useUrlFragmentHash)&&void 0!==t&&t,null===(n=e.useHref)||void 0===n||n,null!==(i=e.statefulHistoryLength)&&void 0!==i?i:0,null!==(s=e.routingMode)&&void 0!==s?s:"configured-first",null!==(o=e.swapStrategy)&&void 0!==o?o:"sequential-remove-first",null!==(r=e.resolutionMode)&&void 0!==r?r:"dynamic",null!==(a=e.queryParamsStrategy)&&void 0!==a?a:"overwrite",null!==(l=e.fragmentStrategy)&&void 0!==l?l:"overwrite",null!==(c=e.historyStrategy)&&void 0!==c?c:"push",null!==(u=e.sameUrlStrategy)&&void 0!==u?u:"ignore")}getQueryParamsStrategy(e){return rO(e,this.queryParamsStrategy)}getFragmentStrategy(e){return rO(e,this.fragmentStrategy)}getHistoryStrategy(e){return rO(e,this.historyStrategy)}getSameUrlStrategy(e){return rO(e,this.sameUrlStrategy)}stringifyProperties(){return[["routingMode","mode"],["swapStrategy","swap"],["resolutionMode","resolution"],["queryParamsStrategy","queryParams"],["fragmentStrategy","fragment"],["historyStrategy","history"],["sameUrlStrategy","sameUrl"]].map((([e,t])=>{const n=this[e];return`${t}:${"function"==typeof n?n:`'${n}'`}`})).join(",")}clone(){return new aO(this.useUrlFragmentHash,this.useHref,this.statefulHistoryLength,this.routingMode,this.swapStrategy,this.resolutionMode,this.queryParamsStrategy,this.fragmentStrategy,this.historyStrategy,this.sameUrlStrategy)}toString(){return`RO(${this.stringifyProperties()})`}}class lO extends aO{constructor(e,t,n,i,s,o,r,a){super(e.useUrlFragmentHash,e.useHref,e.statefulHistoryLength,e.routingMode,e.swapStrategy,e.resolutionMode,e.queryParamsStrategy,e.fragmentStrategy,e.historyStrategy,e.sameUrlStrategy),this.title=t,this.titleSeparator=n,this.append=i,this.context=s,this.queryParams=o,this.fragment=r,this.state=a}static get DEFAULT(){return lO.create({})}static create(e){var t,n,i,s,o,r,a;return new lO(aO.create(e),null!==(t=e.title)&&void 0!==t?t:null,null!==(n=e.titleSeparator)&&void 0!==n?n:" | ",null!==(i=e.append)&&void 0!==i&&i,null!==(s=e.context)&&void 0!==s?s:null,null!==(o=e.queryParams)&&void 0!==o?o:null,null!==(r=e.fragment)&&void 0!==r?r:"",null!==(a=e.state)&&void 0!==a?a:null)}clone(){return new lO(super.clone(),this.title,this.titleSeparator,this.append,this.context,{...this.queryParams},this.fragment,null===this.state?null:{...this.state})}toString(){return`NO(${super.stringifyProperties()})`}}class cO{constructor(e,t,n,i,s,o){this.id=e,this.instructions=t,this.trigger=n,this.options=i,this.prevNavigation=s,this.finalInstructions=o}static create(e){return new cO(e.id,e.instructions,e.trigger,e.options,e.prevNavigation,e.finalInstructions)}toString(){return`N(id:${this.id},instructions:${this.instructions},trigger:'${this.trigger}')`}}class uO{constructor(e,t,n,i,s,o,r,a,l,c,u,h,d,p,g){this.id=e,this.prevInstructions=t,this.instructions=n,this.finalInstructions=i,this.instructionsChanged=s,this.trigger=o,this.options=r,this.managedState=a,this.previousRouteTree=l,this.routeTree=c,this.promise=u,this.resolve=h,this.reject=d,this.guardsResult=p,this.error=g}static create(e){return new uO(e.id,e.prevInstructions,e.instructions,e.finalInstructions,e.instructionsChanged,e.trigger,e.options,e.managedState,e.previousRouteTree,e.routeTree,e.promise,e.resolve,e.reject,e.guardsResult,void 0)}run(e,t){if(!0===this.guardsResult)try{const n=e();n instanceof Promise?n.then(t).catch((e=>{this.handleError(e)})):t(n)}catch(e){this.handleError(e)}}handleError(e){this.reject(this.error=e)}toString(){return`T(id:${this.id},trigger:'${this.trigger}',instructions:${this.instructions},options:${this.options})`}}const hO=gp.createInterface("IRouter",(e=>e.singleton(dO)));let dO=class{constructor(e,t,n,i,s){this.container=e,this.p=t,this.logger=n,this.events=i,this.locationMgr=s,this._ctx=null,this._routeTree=null,this._currentTr=null,this.options=aO.DEFAULT,this.navigated=!1,this.navigationId=0,this.lastSuccessfulNavigation=null,this.activeNavigation=null,this.instructions=fO.create(""),this.nextTr=null,this.locationChangeSubscription=null,this.vpaLookup=new Map,this.logger=n.root.scopeTo("Router")}get ctx(){let e=this._ctx;if(null===e){if(!this.container.has($O,!0))throw new Error("Root RouteContext is not set. Did you forget to register RouteConfiguration, or try to navigate before calling Aurelia.start()?");e=this._ctx=this.container.get($O)}return e}get routeTree(){let e=this._routeTree;if(null===e){const t=this.ctx;e=this._routeTree=new YA(lO.create({...this.options}),Object.freeze(new URLSearchParams),null,GA.create({path:"",finalPath:"",context:t,instruction:null,component:t.definition.component,append:!1}))}return e}get currentTr(){let e=this._currentTr;return null===e&&(e=this._currentTr=uO.create({id:0,prevInstructions:this.instructions,instructions:this.instructions,finalInstructions:this.instructions,instructionsChanged:!0,trigger:"api",options:lO.DEFAULT,managedState:null,previousRouteTree:this.routeTree.clone(),routeTree:this.routeTree,resolve:null,reject:null,promise:null,guardsResult:!0,error:void 0})),e}set currentTr(e){this._currentTr=e}resolveContext(e){return AO.resolve(this.ctx,e)}start(e,t){if(this.options=aO.create(e),this.locationMgr.startListening(),this.locationChangeSubscription=this.events.subscribe("au:router:location-change",(e=>{this.p.taskQueue.queueTask((()=>{const t=function(e){return ud(e)&&!0===Object.prototype.hasOwnProperty.call(e,sO)}(e.state)?e.state:null,n=lO.create({...this.options,historyStrategy:"replace"}),i=fO.create(e.url,n);this.enqueue(i,e.trigger,t,null)}))})),!this.navigated&&t)return this.load(this.locationMgr.getPath(),{historyStrategy:"replace"})}stop(){var e;this.locationMgr.stopListening(),null===(e=this.locationChangeSubscription)||void 0===e||e.dispose()}load(e,t){const n=this.createViewportInstructions(e,t);return this.logger.trace("load(instructions:%s)",n),this.enqueue(n,"api",null,null)}isActive(e,t){const n=this.resolveContext(t),i=this.createViewportInstructions(e,{context:n});return this.logger.trace("isActive(instructions:%s,ctx:%s)",i,n),this.routeTree.contains(i)}getRouteContext(e,t,n){const i=n.get(vg).scopeTo("RouteContext"),s=CO.resolve(t.Type);let o=this.vpaLookup.get(e);void 0===o&&this.vpaLookup.set(e,o=new WeakMap);let r=o.get(s);if(void 0===r){i.trace("creating new RouteContext for %s",s);const a=n.has($O,!0)?n.get($O):null;o.set(s,r=new AO(e,a,t,s,n))}else i.trace("returning existing RouteContext for %s",s),null!==e&&(r.vpa=e);return r}createViewportInstructions(e,t){return"string"==typeof e&&(e=this.locationMgr.removeBaseHref(e)),fO.create(e,this.getNavigationOptions(t))}enqueue(e,t,n,i){const s=this.currentTr;if("api"!==t&&"api"===s.trigger&&s.instructions.equals(e))return this.logger.debug("Ignoring navigation triggered by '%s' because it is the same URL as the previous navigation which was triggered by 'api'.",t),!0;let o,r,a;null===i?a=new Promise((function(e,t){o=e,r=t})):(this.logger.debug("Reusing promise/resolve/reject from the previously failed transition %s",i),a=i.promise,o=i.resolve,r=i.reject);const l=this.nextTr=uO.create({id:++this.navigationId,trigger:t,managedState:n,prevInstructions:s.finalInstructions,finalInstructions:e,instructionsChanged:!s.finalInstructions.equals(e),instructions:e,options:e.options,promise:a,resolve:o,reject:r,previousRouteTree:this.routeTree,routeTree:this._routeTree=this.routeTree.clone(),guardsResult:!0,error:void 0});if(this.logger.debug("Scheduling transition: %s",l),null===this.activeNavigation)try{this.run(l)}catch(e){l.handleError(e)}return l.promise.then((e=>(this.logger.debug("Transition succeeded: %s",l),e))).catch((e=>{throw this.logger.error("Navigation failed: %s",l,e),e}))}run(e){this.currentTr=e,this.nextTr=null;const t=null===this.lastSuccessfulNavigation?null:cO.create({...this.lastSuccessfulNavigation,prevNavigation:null});this.activeNavigation=cO.create({id:e.id,instructions:e.instructions,trigger:e.trigger,options:e.options,prevNavigation:t,finalInstructions:e.finalInstructions});const n=this.resolveContext(e.options.context);return!this.navigated||e.instructions.children.length!==n.node.children.length||e.instructions.children.some(((e,t)=>{var i,s;return!(null!==(s=null===(i=n.node.children[t])||void 0===i?void 0:i.originalInstruction.equals(e))&&void 0!==s&&s)}))||"reload"===e.options.getSameUrlStrategy(this.instructions)?(this.logger.trace("run(tr:%s) - processing route",e),this.events.publish(new gA(e.id,e.instructions,e.trigger,e.managedState)),null!==this.nextTr?(this.logger.debug("run(tr:%s) - aborting because a new transition was queued in response to the NavigationStartEvent",e),this.run(this.nextTr)):(this.activeNavigation=cO.create({...this.activeNavigation,finalInstructions:e.finalInstructions}),void e.run((()=>(this.logger.trace("run() - compiling route tree: %s",e.finalInstructions),QA(e.routeTree,e.finalInstructions,n))),(()=>{const t=e.previousRouteTree.root.children,n=e.routeTree.root.children,i=ZT(t,n);QT.start((n=>{this.logger.trace(`run() - invoking canUnload on ${t.length} nodes`);for(const i of t)i.context.vpa.canUnload(e,n)})).continueWith((t=>{!0!==e.guardsResult&&(t.push(),this.cancelNavigation(e))})).continueWith((t=>{this.logger.trace(`run() - invoking canLoad on ${n.length} nodes`);for(const i of n)i.context.vpa.canLoad(e,t)})).continueWith((t=>{!0!==e.guardsResult&&(t.push(),this.cancelNavigation(e))})).continueWith((n=>{this.logger.trace(`run() - invoking unload on ${t.length} nodes`);for(const i of t)i.context.vpa.unload(e,n)})).continueWith((t=>{this.logger.trace(`run() - invoking load on ${n.length} nodes`);for(const i of n)i.context.vpa.load(e,t)})).continueWith((t=>{this.logger.trace(`run() - invoking swap on ${i.length} nodes`);for(const n of i)n.context.vpa.swap(e,t)})).continueWith((()=>{this.logger.trace("run() - finalizing transition"),i.forEach((function(e){e.context.vpa.endTransition()})),this.navigated=!0,this.instructions=e.finalInstructions=e.routeTree.finalizeInstructions(),this.events.publish(new fA(e.id,e.instructions,this.instructions)),this.lastSuccessfulNavigation=this.activeNavigation,this.activeNavigation=null,this.applyHistoryState(e),e.resolve(!0),this.runNextTransition(e)})).start()})))):(this.logger.trace("run(tr:%s) - NOT processing route",e),this.navigated=!0,this.activeNavigation=null,e.resolve(!1),void this.runNextTransition(e))}applyHistoryState(e){const t=e.finalInstructions.toUrl(this.options.useUrlFragmentHash);switch(e.options.getHistoryStrategy(this.instructions)){case"none":break;case"push":this.locationMgr.pushState(oO(e.options.state,e.id),this.updateTitle(e),t);break;case"replace":this.locationMgr.replaceState(oO(e.options.state,e.id),this.updateTitle(e),t)}}getTitle(e){var t,n;switch(typeof e.options.title){case"function":return null!==(t=e.options.title.call(void 0,e.routeTree.root))&&void 0!==t?t:"";case"string":return e.options.title;default:return null!==(n=e.routeTree.root.getTitle(e.options.titleSeparator))&&void 0!==n?n:""}}updateTitle(e){const t=this.getTitle(e);return t.length>0&&(this.p.document.title=t),this.p.document.title}cancelNavigation(e){this.logger.trace("cancelNavigation(tr:%s)",e),ZT(e.previousRouteTree.root.children,e.routeTree.root.children).forEach((function(e){e.context.vpa.cancelUpdate()})),this.activeNavigation=null,this.instructions=e.prevInstructions,this._routeTree=e.previousRouteTree,this.events.publish(new mA(e.id,e.instructions,`guardsResult is ${e.guardsResult}`)),!1===e.guardsResult?(e.resolve(!1),this.runNextTransition(e)):tp(this.enqueue(e.guardsResult,"api",e.managedState,e),(()=>{this.logger.trace("cancelNavigation(tr:%s) - finished redirect",e)}))}runNextTransition(e){null!==this.nextTr&&(this.logger.trace("runNextTransition(tr:%s) -> scheduling nextTransition: %s",e,this.nextTr),this.p.taskQueue.queueTask((()=>{const e=this.nextTr;if(null!==e)try{this.run(e)}catch(t){e.handleError(t)}})))}getNavigationOptions(e){return lO.create({...this.options,...e})}};dO=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([iO(0,fp),iO(1,Ny),iO(2,vg),iO(3,hA),iO(4,CA)],dO),gp.createInterface("IViewportInstruction");class pO{constructor(e,t,n,i,s,o,r,a){this.context=e,this.append=t,this.open=n,this.close=i,this.component=s,this.viewport=o,this.params=r,this.children=a}static create(e,t){var n,i,s,o,r,a,l,c,u;if(e instanceof pO)return e;if(sA(e)){const h=vO.create(e.component),d=null!==(i=null===(n=e.children)||void 0===n?void 0:n.map(pO.create))&&void 0!==i?i:[];return new pO(null!==(o=null!==(s=e.context)&&void 0!==s?s:t)&&void 0!==o?o:null,null!==(r=e.append)&&void 0!==r&&r,null!==(a=e.open)&&void 0!==a?a:0,null!==(l=e.close)&&void 0!==l?l:0,h,null!==(c=e.viewport)&&void 0!==c?c:null,null!==(u=e.params)&&void 0!==u?u:null,d)}const h=vO.create(e);return new pO(null!=t?t:null,!1,0,0,h,null,null,[])}contains(e){const t=this.children,n=e.children;if(t.length<n.length)return!1;if(!this.component.equals(e.component))return!1;for(let e=0,i=n.length;e<i;++e)if(!t[e].contains(n[e]))return!1;return!0}equals(e){const t=this.children,n=e.children;if(t.length!==n.length)return!1;if(!this.component.equals(e.component)||this.viewport!==e.viewport||!lA(this.params,e.params))return!1;for(let e=0,i=t.length;e<i;++e)if(!t[e].equals(n[e]))return!1;return!0}clone(){return new pO(this.context,this.append,this.open,this.close,this.component.clone(),this.viewport,null===this.params?null:{...this.params},[...this.children])}toUrlComponent(e=!0){const t=this.component.toUrlComponent(),n=null===this.params||0===Object.keys(this.params).length?"":`(${function(e){const t=Object.keys(e),n=Array(t.length),i=[],s=[];for(const e of t)Md(e)?i.push(Number(e)):s.push(e);for(let o=0;o<t.length;++o){const t=i.indexOf(o);if(t>-1)n[o]=e[o],i.splice(t,1);else{const t=s.shift();n[o]=`${t}=${e[t]}`}}return n.join(",")}(this.params)})`,i=0===t.length||null===this.viewport||0===this.viewport.length?"":`@${this.viewport}`,s=`${"(".repeat(this.open)}${t}${n}${i}${")".repeat(this.close)}`,o=e?this.children.map((e=>e.toUrlComponent())).join("+"):"";return s.length>0?o.length>0?[s,o].join("/"):s:o}toString(){return`VPI(${[`c:${this.component}`,null===this.viewport||0===this.viewport.length?"":`viewport:${this.viewport}`,0===this.children.length?"":`children:[${this.children.map(String).join(",")}]`].filter(Boolean).join(",")})`}}const gO=function(){let e=0;const t=new Map;return function(n){let i=t.get(n);return void 0===i&&t.set(n,i=++e),i}}();class fO{constructor(e,t,n,i,s){this.options=e,this.isAbsolute=t,this.children=n,this.queryParams=i,this.fragment=s}static create(e,t){const n=lO.create({...t});return e instanceof fO?new fO(n,e.isAbsolute,e.children.map((e=>pO.create(e,n.context))),e.queryParams,e.fragment):e instanceof Array?new fO(n,!1,e.map((e=>pO.create(e,n.context))),Object.freeze(new URLSearchParams),null):"string"==typeof e?NA.parse(e,n.useUrlFragmentHash).toInstructionTree(n):new fO(n,!1,[pO.create(e,n.context)],Object.freeze(new URLSearchParams),null)}equals(e){const t=this.children,n=e.children;if(t.length!==n.length)return!1;for(let e=0,i=t.length;e<i;++e)if(!t[e].equals(n[e]))return!1;return!0}toUrl(e=!1){var t;let n,i;e?(n="",i=`#${this.toPath()}`):(n=this.toPath(),i=null!==(t=this.fragment)&&void 0!==t?t:"");let s=this.queryParams.toString();return s=""===s?"":`?${s}`,`${n}${i}${s}`}toPath(){return this.children.map((e=>e.toUrlComponent())).join("+")}toString(){return`[${this.children.map(String).join(",")}]`}}var mO;!function(e){e[e.string=0]="string",e[e.ViewportInstruction=1]="ViewportInstruction",e[e.CustomElementDefinition=2]="CustomElementDefinition",e[e.Promise=3]="Promise",e[e.IRouteViewModel=4]="IRouteViewModel"}(mO||(mO={}));class vO{constructor(e,t){this.type=e,this.value=t}static create(e){if(e instanceof vO)return e;if("string"==typeof e)return new vO(0,e);if(ud(e)){if("function"==typeof e){const t=Sw.getDefinition(e);return new vO(2,t)}if(e instanceof Promise)return new vO(3,e);if(sA(e)){const t=pO.create(e);return new vO(1,t)}if(Nx(e))return new vO(4,e);if(e instanceof Cw)return new vO(2,e);if(tA(e)){const t=Sw.define(e),n=Sw.getDefinition(t);return new vO(2,n)}throw new Error(`Invalid component ${XT(e)}: must be either a class, a custom element ViewModel, or a (partial) custom element definition`)}oA("function/class or object","",e)}equals(e){switch(this.type){case 2:case 4:case 3:case 0:return this.type===e.type&&this.value===e.value;case 1:return this.type===e.type&&this.value.equals(e.value)}}clone(){return new vO(this.type,this.value)}toUrlComponent(){switch(this.type){case 2:return this.value.name;case 4:case 3:return`au$obj${gO(this.value)}`;case 1:return this.value.toUrlComponent();case 0:return this.value}}toString(){switch(this.type){case 2:return`CEDef(name:'${this.value.name}')`;case 3:return"Promise";case 4:return`VM(name:'${Sw.getDefinition(this.value.constructor).name}')`;case 1:return this.value.toString();case 0:return`'${this.value}'`}}}const bO=zp;function yO(e,t){return lA(e.params,t.params)?"none":"invoke-lifecycles"}class wO{constructor(e,t,n,i,s,o,r,a,l){this.id=e,this.path=t,this.title=n,this.redirectTo=i,this.caseSensitive=s,this.transitionPlan=o,this.viewport=r,this.data=a,this.routes=l}static create(e,t){var n,i,s,o,r,a,l,c,u,h,d,p,g,f,m,v,b,y,w,x,C,k,S,$;if("string"==typeof e||e instanceof Array){const u=e,h=null!==(n=null==t?void 0:t.redirectTo)&&void 0!==n?n:null,d=null!==(i=null==t?void 0:t.caseSensitive)&&void 0!==i&&i,p=null!==(s=null==t?void 0:t.id)&&void 0!==s?s:u instanceof Array?u[0]:u,g=null!==(o=null==t?void 0:t.title)&&void 0!==o?o:null,f=null!==(r=null==t?void 0:t.transitionPlan)&&void 0!==r?r:yO,m=null!==(a=null==t?void 0:t.viewport)&&void 0!==a?a:null,v=null!==(l=null==t?void 0:t.data)&&void 0!==l?l:{},b=null!==(c=null==t?void 0:t.routes)&&void 0!==c?c:bO;return new wO(p,u,g,h,d,f,m,v,b)}if("object"==typeof e){const n=e;rA(n,"");const i=null!==(h=null!==(u=n.path)&&void 0!==u?u:null==t?void 0:t.path)&&void 0!==h?h:null,s=null!==(p=null!==(d=n.title)&&void 0!==d?d:null==t?void 0:t.title)&&void 0!==p?p:null,o=null!==(f=null!==(g=n.redirectTo)&&void 0!==g?g:null==t?void 0:t.redirectTo)&&void 0!==f?f:null,r=null!==(v=null!==(m=n.caseSensitive)&&void 0!==m?m:null==t?void 0:t.caseSensitive)&&void 0!==v&&v,a=null!==(y=null!==(b=n.id)&&void 0!==b?b:null==t?void 0:t.id)&&void 0!==y?y:i instanceof Array?i[0]:i,l=null!==(x=null!==(w=n.transitionPlan)&&void 0!==w?w:null==t?void 0:t.transitionPlan)&&void 0!==x?x:yO,c=null!==(k=null!==(C=n.viewport)&&void 0!==C?C:null==t?void 0:t.viewport)&&void 0!==k?k:null,T={...null==t?void 0:t.data,...n.data},A=[...null!==(S=n.routes)&&void 0!==S?S:bO,...null!==($=null==t?void 0:t.routes)&&void 0!==$?$:bO];return new wO(a,i,s,o,r,l,c,T,A)}oA("string, function/class or object","",e)}static configure(e,t){const n=wO.create(e,t);return jd.define(xO.name,n,t),t}static getConfig(e){return jd.hasOwn(xO.name,e)||xO.configure({},e),jd.getOwn(xO.name,e)}saveTo(e){jd.define(xO.name,this,e)}}const xO={name:op.resource.keyFor("route"),isConfigured:e=>jd.hasOwn(xO.name,e),configure(e,t){const n=wO.create(e,t);return jd.define(xO.name,n,t),t},getConfig:e=>(xO.isConfigured(e)||xO.configure({},e),jd.getOwn(xO.name,e))};class CO{constructor(e,t){var n,i,s,o,r,a;this.config=e,this.component=t,this.hasExplicitPath=null!==e.path,this.caseSensitive=e.caseSensitive,this.path=JT(null!==(n=e.path)&&void 0!==n?n:t.name),this.redirectTo=null!==(i=e.redirectTo)&&void 0!==i?i:null,this.viewport=null!==(s=e.viewport)&&void 0!==s?s:"default",this.id="string"==typeof(a=null!==(o=e.id)&&void 0!==o?o:this.path)?a:a[0],this.data=null!==(r=e.data)&&void 0!==r?r:{}}static resolve(e,t){return iA(e)?new CO(e,null):tp(this.resolveCustomElementDefinition(e,t),(t=>{const n=nA(e)?{...xO.getConfig(t.Type),...e}:xO.getConfig(t.Type);if(jd.hasOwn(xO.name,t)){let e=jd.getOwn(xO.name,t);e.config!==n&&(e=new CO(n,t),jd.define(xO.name,e,t))}else{const e=new CO(n,t);jd.define(xO.name,e,t)}return jd.getOwn(xO.name,t)}))}static resolveCustomElementDefinition(e,t){if(nA(e))return this.resolveCustomElementDefinition(e.component,t);const n=vO.create(e);switch(n.type){case 0:{if(void 0===t)throw new Error("When retrieving the RouteDefinition for a component name, a RouteContext (that can resolve it) must be provided");const e=t.find(Sw,n.value);if(null===e)throw new Error(`Could not find a CustomElement named '${n.value}' in the current container scope of ${t}. This means the component is neither registered at Aurelia startup nor via the 'dependencies' decorator or static property.`);return e}case 2:return n.value;case 4:return Sw.getDefinition(n.value.constructor);case 3:if(void 0===t)throw new Error("RouteContext must be provided when resolving an imported module");return t.resolveLazy(n.value)}}register(e){var t;null===(t=this.component)||void 0===t||t.register(e)}toUrlComponent(){return"not-implemented"}toString(){const e=null===this.config.path?"null":`'${this.config.path}'`;return null!==this.component?`RD(config.path:${e},c.name:'${this.component.name}')`:`RD(config.path:${e},redirectTo:'${this.redirectTo}')`}}const kO=new WeakMap;class SO{constructor(e,t,n,i,s){var o,r,a,l;this.instance=e,this.controller=t,this.definition=n,this.routeNode=i,this.ctx=s,this.logger=s.get(vg).scopeTo(`ComponentAgent<${s.friendlyPath}>`),this.logger.trace("constructor()");const c=t.lifecycleHooks;this.canLoadHooks=(null!==(o=c.canLoad)&&void 0!==o?o:[]).map((e=>e.instance)),this.loadHooks=(null!==(r=c.load)&&void 0!==r?r:[]).map((e=>e.instance)),this.canUnloadHooks=(null!==(a=c.canUnload)&&void 0!==a?a:[]).map((e=>e.instance)),this.unloadHooks=(null!==(l=c.unload)&&void 0!==l?l:[]).map((e=>e.instance)),this.hasCanLoad="canLoad"in e,this.hasLoad="load"in e,this.hasCanUnload="canUnload"in e,this.hasUnload="unload"in e}static for(e,t,n,i){let s=kO.get(e);if(void 0===s){const o=CO.resolve(e.constructor),r=Rx.forCustomElement(i.get(zx),i,e,t.host,null);kO.set(e,s=new SO(e,r,o,n,i))}return s}activate(e,t,n){if(null===e)return this.logger.trace("activate() - initial"),this.controller.activate(this.controller,t,n);this.logger.trace("activate()"),this.controller.activate(e,t,n)}deactivate(e,t,n){if(null===e)return this.logger.trace("deactivate() - initial"),this.controller.deactivate(this.controller,t,n);this.logger.trace("deactivate()"),this.controller.deactivate(e,t,n)}dispose(){this.logger.trace("dispose()"),this.controller.dispose()}canUnload(e,t,n){this.logger.trace(`canUnload(next:%s) - invoking ${this.canUnloadHooks.length} hooks`,t),n.push();for(const i of this.canUnloadHooks)e.run((()=>(n.push(),i.canUnload(this.instance,t,this.routeNode))),(t=>{!0===e.guardsResult&&!0!==t&&(e.guardsResult=!1),n.pop()}));this.hasCanUnload&&e.run((()=>(n.push(),this.instance.canUnload(t,this.routeNode))),(t=>{!0===e.guardsResult&&!0!==t&&(e.guardsResult=!1),n.pop()})),n.pop()}canLoad(e,t,n){this.logger.trace(`canLoad(next:%s) - invoking ${this.canLoadHooks.length} hooks`,t),n.push();for(const i of this.canLoadHooks)e.run((()=>(n.push(),i.canLoad(this.instance,t.params,t,this.routeNode))),(t=>{!0===e.guardsResult&&!0!==t&&(e.guardsResult=!1!==t&&fO.create(t)),n.pop()}));this.hasCanLoad&&e.run((()=>(n.push(),this.instance.canLoad(t.params,t,this.routeNode))),(t=>{!0===e.guardsResult&&!0!==t&&(e.guardsResult=!1!==t&&fO.create(t)),n.pop()})),n.pop()}unload(e,t,n){this.logger.trace(`unload(next:%s) - invoking ${this.unloadHooks.length} hooks`,t),n.push();for(const i of this.unloadHooks)e.run((()=>(n.push(),i.unload(this.instance,t,this.routeNode))),(()=>{n.pop()}));this.hasUnload&&e.run((()=>(n.push(),this.instance.unload(t,this.routeNode))),(()=>{n.pop()})),n.pop()}load(e,t,n){this.logger.trace(`load(next:%s) - invoking ${this.loadHooks.length} hooks`,t),n.push();for(const i of this.loadHooks)e.run((()=>(n.push(),i.load(this.instance,t.params,t,this.routeNode))),(()=>{n.pop()}));this.hasLoad&&e.run((()=>(n.push(),this.instance.load(t.params,t,this.routeNode))),(()=>{n.pop()})),n.pop()}toString(){return`CA(ctx:'${this.ctx.friendlyPath}',c:'${this.definition.component.name}')`}}const $O=gp.createInterface("IRouteContext"),TO="au$residue";class AO{constructor(e,t,n,i,s){var o;this.parent=t,this.component=n,this.definition=i,this.parentContainer=s,this.childViewportAgents=[],this.childRoutes=[],this._resolved=null,this._allResolved=null,this.prevNode=null,this._node=null,this._vpa=null,this._vpa=e,null===t?(this.root=this,this.path=[this],this.friendlyPath=n.name):(this.root=t.root,this.path=[...t.path,this],this.friendlyPath=`${t.friendlyPath}/${n.name}`),this.logger=s.get(vg).scopeTo(`RouteContext<${this.friendlyPath}>`),this.logger.trace("constructor()"),this.moduleLoader=s.get(Eg);const r=this.container=s.createChild({inheritParentResources:!0});r.registerResolver(Ux,this.hostControllerProvider=new Hp,!0);const a=new Hp;r.registerResolver($O,a,!0),a.prepare(this),r.register(i),r.register(...n.dependencies),this.recognizer=new UT;const l=[],c=[];for(const e of i.config.routes)if(e instanceof Promise){const t=this.addRoute(e);l.push(t),c.push(t)}else{const t=CO.resolve(e,this);if(t instanceof Promise){if(!nA(e)||null==e.path)throw new Error("Invalid route config. When the component property is a lazy import, the path must be specified. To use lazy loading without specifying the path (e.g. in direct routing), pass the import promise as a direct value to the routes array instead of providing it as the component property on an object literal.");{for(const n of JT(e.path))this.$addRoute(n,null!==(o=e.caseSensitive)&&void 0!==o&&o,t);const n=this.childRoutes.length,i=t.then((e=>this.childRoutes[n]=e));this.childRoutes.push(i),c.push(i.then(Wp))}}else{for(const e of t.path)this.$addRoute(e,t.caseSensitive,t);this.childRoutes.push(t)}}l.length>0&&(this._resolved=Promise.all(l).then((()=>{this._resolved=null}))),c.length>0&&(this._allResolved=Promise.all(c).then((()=>{this._allResolved=null})))}get id(){return this.container.id}get isRoot(){return null===this.parent}get depth(){return this.path.length-1}get resolved(){return this._resolved}get allResolved(){return this._allResolved}get node(){const e=this._node;if(null===e)throw new Error(`Invariant violation: RouteNode should be set immediately after the RouteContext is created. Context: ${this}`);return e}set node(e){(this.prevNode=this._node)!==e&&(this._node=e,this.logger.trace("Node changed from %s to %s",this.prevNode,e))}get vpa(){const e=this._vpa;if(null===e)throw new Error(`RouteContext has no ViewportAgent: ${this}`);return e}set vpa(e){if(null==e)throw new Error(`Cannot set ViewportAgent to ${e} for RouteContext: ${this}`);const t=this._vpa;t!==e&&(this._vpa=e,this.logger.trace("ViewportAgent changed from %s to %s",t,e))}static setRoot(e){const t=e.get(vg).scopeTo("RouteContext");e.has(zx,!0)||OO(new Error("The provided container has no registered IAppRoot. RouteContext.setRoot can only be used after Aurelia.app was called, on a container that is within that app's component tree."),t),e.has($O,!0)&&OO(new Error('A root RouteContext is already registered. A possible cause is the RouterConfiguration being registered more than once in the same container tree. If you have a multi-rooted app, make sure you register RouterConfiguration only in the "forked" containers and not in the common root.'),t);const{controller:n}=e.get(zx);void 0===n&&OO(new Error("The provided IAppRoot does not (yet) have a controller. A possible cause is calling this API manually before Aurelia.start() is called"),t);const i=e.get(hO),s=i.getRouteContext(null,n.context.definition,n.context);e.register(Bp.instance($O,s)),s.node=i.routeTree.root}static resolve(e,t){const n=e.get(vg).scopeTo("RouteContext");if(null==t)return n.trace("resolve(context:%s) - returning root RouteContext",t),e;if(t instanceof AO)return n.trace("resolve(context:%s) - returning provided RouteContext",t),t;if(t instanceof e.get(Ny).Node)try{const e=Sw.for(t,{searchParents:!0});return n.trace(`resolve(context:Node(nodeName:'${t.nodeName}'),controller:'${e.context.definition.name}') - resolving RouteContext from controller's RenderContext`),e.context.get($O)}catch(e){throw n.error(`Failed to resolve RouteContext from Node(nodeName:'${t.nodeName}')`,e),e}if(Nx(t)){const e=t.$controller;return n.trace(`resolve(context:CustomElementViewModel(name:'${e.context.definition.name}')) - resolving RouteContext from controller's RenderContext`),e.context.get($O)}if(Dx(t)){const e=t;return n.trace(`resolve(context:CustomElementController(name:'${e.context.definition.name}')) - resolving RouteContext from controller's RenderContext`),e.context.get($O)}OO(new Error(`Invalid context type: ${Object.prototype.toString.call(t)}`),n)}has(e,t){return this.container.has(e,t)}get(e){return this.container.get(e)}getAll(e){return this.container.getAll(e)}register(...e){return this.container.register(...e)}registerResolver(e,t){return this.container.registerResolver(e,t)}registerTransformer(e,t){return this.container.registerTransformer(e,t)}getResolver(e,t){return this.container.getResolver(e,t)}invoke(e,t){return this.container.invoke(e,t)}getFactory(e){return this.container.getFactory(e)}registerFactory(e,t){this.container.registerFactory(e,t)}createChild(){return this.container.createChild()}disposeResolvers(){this.container.disposeResolvers()}find(e,t){return this.container.find(e,t)}create(e,t){return this.container.create(e,t)}dispose(){this.container.dispose()}resolveViewportAgent(e){this.logger.trace("resolveViewportAgent(req:%s)",e);const t=this.childViewportAgents.find((t=>t.handles(e)));if(void 0===t)throw new Error(`Failed to resolve ${e} at:\n${this.printTree()}`);return t}getAvailableViewportAgents(e){return this.childViewportAgents.filter((t=>t.isAvailable(e)))}getFallbackViewportAgent(e,t){var n;return null!==(n=this.childViewportAgents.find((n=>n.isAvailable(e)&&n.viewport.name===t&&n.viewport.fallback.length>0)))&&void 0!==n?n:null}createComponentAgent(e,t){this.logger.trace("createComponentAgent(routeNode:%s)",t),this.hostControllerProvider.prepare(e);const n=CO.resolve(t.component),i=this.container.get(n.component.key),s=SO.for(i,e,t,this);return this.hostControllerProvider.dispose(),s}registerViewport(e){const t=AA.for(e,this);return this.childViewportAgents.includes(t)?this.logger.trace("registerViewport(agent:%s) -> already registered, so skipping",t):(this.logger.trace("registerViewport(agent:%s) -> adding",t),this.childViewportAgents.push(t)),t}unregisterViewport(e){const t=AA.for(e,this);this.childViewportAgents.includes(t)?(this.logger.trace("unregisterViewport(agent:%s) -> unregistering",t),this.childViewportAgents.splice(this.childViewportAgents.indexOf(t),1)):this.logger.trace("unregisterViewport(agent:%s) -> not registered, so skipping",t)}recognize(e){var t;this.logger.trace(`recognize(path:'${e}')`);const n=this.recognizer.recognize(e);if(null===n)return null;let i;return Reflect.has(n.params,TO)?(i=null!==(t=n.params[TO])&&void 0!==t?t:null,Reflect.deleteProperty(n.params,TO)):i=null,new PO(n,i)}addRoute(e){return this.logger.trace(`addRoute(routeable:'${e}')`),tp(CO.resolve(e,this),(e=>{for(const t of e.path)this.$addRoute(t,e.caseSensitive,e);this.childRoutes.push(e)}))}$addRoute(e,t,n){this.recognizer.add({path:e,caseSensitive:t,handler:n}),this.recognizer.add({path:`${e}/*au$residue`,caseSensitive:t,handler:n})}resolveLazy(e){return this.moduleLoader.load(e,(t=>{let n,i;for(const e of t.items)if(e.isConstructable){const t=e.definitions.find(EO);void 0!==t&&("default"===e.key?n=t:void 0===i&&(i=t))}if(void 0===n){if(void 0===i)throw new Error(`${e} does not appear to be a component or CustomElement recognizable by Aurelia`);return i}return n}))}toString(){const e=this.childViewportAgents.map(String).join(",");return`RC(path:'${this.friendlyPath}',viewports:[${e}])`}printTree(){const e=[];for(let t=0;t<this.path.length;++t)e.push(`${" ".repeat(t)}${this.path[t]}`);return e.join("\n")}}function OO(e,t){throw t.error(e),e}function EO(e){return Sw.isType(e.Type)}class PO{constructor(e,t){this.route=e,this.residue=t}}var RO=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},IO=function(e,t){return function(n,i){t(n,i,e)}};let jO=class{constructor(e,t){this.logger=e,this.ctx=t,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noHistory=!1,this.stateful=!1,this.agent=void 0,this.controller=void 0,this.logger=e.scopeTo(`au-viewport<${t.friendlyPath}>`),this.logger.trace("constructor()")}hydrated(e){this.logger.trace("hydrated()"),this.controller=e,this.agent=this.ctx.registerViewport(this)}attaching(e,t,n){return this.logger.trace("attaching()"),this.agent.activateFromViewport(e,this.controller,n)}detaching(e,t,n){return this.logger.trace("detaching()"),this.agent.deactivateFromViewport(e,this.controller,n)}dispose(){this.logger.trace("dispose()"),this.ctx.unregisterViewport(this),this.agent.dispose(),this.agent=void 0}toString(){const e=[];for(const t of FO){const n=this[t];switch(typeof n){case"string":""!==n&&e.push(`${t}:'${n}'`);break;case"boolean":n&&e.push(`${t}:${n}`);break;default:e.push(`${t}:${String(n)}`)}}return`VP(ctx:'${this.ctx.friendlyPath}',${e.join(",")})`}};RO([ny],jO.prototype,"name",void 0),RO([ny],jO.prototype,"usedBy",void 0),RO([ny],jO.prototype,"default",void 0),RO([ny],jO.prototype,"fallback",void 0),RO([ny],jO.prototype,"noScope",void 0),RO([ny],jO.prototype,"noLink",void 0),RO([ny],jO.prototype,"noHistory",void 0),RO([ny],jO.prototype,"stateful",void 0),jO=RO([ww({name:"au-viewport"}),IO(0,vg),IO(1,$O)],jO);const FO=["name","usedBy","default","fallback","noScope","noLink","noHistory","stateful"];var LO=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},DO=function(e,t){return function(n,i){t(n,i,e)}};let NO=class{constructor(e,t,n,i,s,o,r){this.target=e,this.el=t,this.router=n,this.events=i,this.delegator=s,this.ctx=o,this.locationMgr=r,this.attribute="href",this.active=!1,this.href=null,this.instructions=null,this.eventListener=null,this.navigationEndListener=null,this.onClick=e=>{null!==this.instructions&&(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||0!==e.button||(e.preventDefault(),this.router.load(this.instructions,{context:this.ctx})))},this.isEnabled=!t.hasAttribute("external")&&!t.hasAttribute("data-external")}binding(){this.isEnabled&&(this.eventListener=this.delegator.addEventListener(this.target,this.el,"click",this.onClick)),this.valueChanged(),this.navigationEndListener=this.events.subscribe("au:router:navigation-end",(e=>{this.valueChanged(),this.active=null!==this.instructions&&this.router.isActive(this.instructions,this.ctx)}))}attaching(){if(null!==this.ctx.allResolved)return this.ctx.allResolved.then((()=>{this.valueChanged()}))}unbinding(){this.isEnabled&&this.eventListener.dispose(),this.navigationEndListener.dispose()}valueChanged(){const e=this.router.options.useUrlFragmentHash;if(null!==this.route&&void 0!==this.route&&null===this.ctx.allResolved){const t=this.ctx.childRoutes.find((e=>e.id===this.route));if(void 0!==t){const n=this.ctx.node.computeAbsolutePath();let i=t.path[0];if("object"==typeof this.params&&null!==this.params){const e=Object.keys(this.params);for(const t of e){const e=this.params[t];null!=e&&String(e).length>0&&(i=i.replace(new RegExp(`[*:]${t}[?]?`),e))}}i=i.replace(/\/[*:][^/]+[?]/g,"").replace(/[*:][^/]+[?]\//g,""),this.href=n?i?`${e?"#":""}${[n,i].join("/")}`:`${e?"#":""}${n}`:`${e?"#":""}${i}`,this.instructions=this.router.createViewportInstructions(`${e?"#":""}${i}`,{context:this.ctx})}else"object"==typeof this.params&&null!==this.params?this.instructions=this.router.createViewportInstructions({component:this.route,params:this.params},{context:this.ctx}):this.instructions=this.router.createViewportInstructions(this.route,{context:this.ctx}),this.href=this.instructions.toUrl(this.router.options.useUrlFragmentHash)}else this.instructions=null,this.href=null;const t=Sw.for(this.el,{optional:!0});if(null!==t)t.viewModel[this.attribute]=this.instructions;else if(null===this.href)this.el.removeAttribute(this.attribute);else{const t=e?this.href:this.locationMgr.addBaseHref(this.href);this.el.setAttribute(this.attribute,t)}}};LO([ny({mode:Mf.toView,primary:!0,callback:"valueChanged"})],NO.prototype,"route",void 0),LO([ny({mode:Mf.toView,callback:"valueChanged"})],NO.prototype,"params",void 0),LO([ny({mode:Mf.toView})],NO.prototype,"attribute",void 0),LO([ny({mode:Mf.fromView})],NO.prototype,"active",void 0),NO=LO([Aw("load"),DO(0,eC),DO(1,Jx),DO(2,hO),DO(3,hA),DO(4,vC),DO(5,$O),DO(6,CA)],NO);var MO=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},BO=function(e,t){return function(n,i){t(n,i,e)}};let HO=class{constructor(e,t,n,i,s,o){if(this.target=e,this.el=t,this.router=n,this.delegator=i,this.ctx=s,this.eventListener=null,this.isInitialized=!1,this.onClick=e=>{if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||0!==e.button)return;const t=this.el.getAttribute("href");null!==t&&(e.preventDefault(),this.router.load(t,{context:this.ctx}))},!n.options.useHref||"A"!==t.nodeName||t.hasAttribute("external")||t.hasAttribute("data-external"))this.isEnabled=!1;else switch(t.getAttribute("target")){case null:case o.name:case"_self":this.isEnabled=!0;break;default:this.isEnabled=!1}}binding(){this.isInitialized||(this.isInitialized=!0,this.isEnabled=this.isEnabled&&null===Zx(this.el,Pw.getDefinition(NO).key)),this.isEnabled&&(this.el.setAttribute("href",this.value),this.eventListener=this.delegator.addEventListener(this.target,this.el,"click",this.onClick))}unbinding(){this.isEnabled&&this.eventListener.dispose()}valueChanged(e){this.el.setAttribute("href",e)}};MO([ny({mode:Mf.toView})],HO.prototype,"value",void 0),HO=MO([Aw({name:"href",noMultiBindings:!0}),BO(0,eC),BO(1,Jx),BO(2,hO),BO(3,vC),BO(4,$O),BO(5,lC)],HO);class VO{constructor(e){this.el=e,this.top=e.scrollTop,this.left=e.scrollLeft}static has(e){return e.scrollTop>0||e.scrollLeft>0}restore(){this.el.scrollTo(this.left,this.top),this.el=null}}function qO(e){e.restore()}class UO{constructor(e){this.scrollStates=[],this.save(e.children)}save(e){let t;for(let n=0,i=e.length;n<i;++n)t=e[n],VO.has(t)&&this.scrollStates.push(new VO(t)),this.save(t.children)}restore(){this.scrollStates.forEach(qO),this.scrollStates=null}}gp.createInterface("IStateManager",(e=>e.singleton(zO)));class zO{constructor(){this.cache=new WeakMap}saveState(e){this.cache.set(e.host,new UO(e.host))}restoreState(e){const t=this.cache.get(e.host);void 0!==t&&(t.restore(),this.cache.delete(e.host))}}const _O=Hg.getOrCreate(globalThis);class WO extends class{constructor(e=gp.createContainer()){if(this.container=e,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this.startPromise=void 0,this.stopPromise=void 0,e.has(cT,!0))throw new Error("An instance of Aurelia is already registered with the container or an ancestor of it.");e.register(Bp.instance(cT,this)),e.registerResolver(zx,this.rootProvider=new Hp("IAppRoot"))}get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(null==this._root){if(null==this.next)throw new Error("root is not defined");return this.next}return this._root}register(...e){return this.container.register(...e),this}app(e){return this.next=new Yx(e,this.initPlatform(e.host),this.container,this.rootProvider,!1),this}enhance(e){return this.next=new Yx(e,this.initPlatform(e.host),this.container,this.rootProvider,!0),this}async waitForIdle(){const e=this.root.platform;await e.domWriteQueue.yield(),await e.domReadQueue.yield(),await e.taskQueue.yield()}initPlatform(e){let t;if(this.container.has(Ny,!1))t=this.container.get(Ny);else{if(null===e.ownerDocument.defaultView)throw new Error("Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView");t=new Hg(e.ownerDocument.defaultView),this.container.register(Bp.instance(Ny,t))}return t}start(e=this.next){if(null==e)throw new Error("There is no composition root");return this.startPromise instanceof Promise?this.startPromise:this.startPromise=tp(this.stop(),(()=>(Reflect.set(e.host,"$aurelia",this),this.rootProvider.prepare(this._root=e),this._isStarting=!0,tp(e.activate(),(()=>{this._isRunning=!0,this._isStarting=!1,this.startPromise=void 0,this.dispatchEvent(e,"au-started",e.host)})))))}stop(e=!1){if(this.stopPromise instanceof Promise)return this.stopPromise;if(!0===this._isRunning){const t=this._root;return this._isRunning=!1,this._isStopping=!0,this.stopPromise=tp(t.deactivate(),(()=>{Reflect.deleteProperty(t.host,"$aurelia"),e&&t.dispose(),this._root=void 0,this.rootProvider.dispose(),this._isStopping=!1,this.dispatchEvent(t,"au-stopped",t.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw new Error("The aurelia instance must be fully stopped before it can be disposed");this.container.dispose()}dispatchEvent(e,t,n){const i=new e.platform.window.CustomEvent(t,{detail:this,bubbles:!0,cancelable:!0});n.dispatchEvent(i)}}{constructor(e=function(){return gp.createContainer().register(Bp.instance(Ny,_O),lT)}()){super(e)}static start(e){return(new WO).start(e)}static app(e){return(new WO).app(e)}static enhance(e){return(new WO).enhance(e)}static register(...e){return(new WO).register(...e)}app(e){if(Sw.isType(e)){const t=Sw.getDefinition(e);let n=document.querySelector(t.name);return null===n&&(n=document.body),super.app({host:n,component:e})}return super.app(e)}}const KO=WO;class GO{static register(e){GO.extendTemplatingSyntax(e)}static extendTemplatingSyntax(e){rw.beforeCreate(fp,(e=>{const t=e.get(Xk),n=e.get(YS);t.useTwoWay(((e,t)=>{switch(e.tagName){case"ECOS-SELECT":case"ECOS-SLIDER":case"ECOS-TEXT-FIELD":case"ECOS-TEXT-AREA":return"value"===t;case"ECOS-CHECKBOX":case"ECOS-RADIO":case"ECOS-RADIO-GROUP":case"ECOS-MENU-ITEM":case"ECOS-SWITCH":return"checked"===t;case"ECOS-TABS":return"activeid"===t;default:return!1}}));const i={events:["input","change"]};n.useConfig({"ECOS-CHECKBOX":{value:i},"ECOS-RADIO":{value:i},"ECOS-RADIO-GROUP":{value:i},"ECOS-SELECT":{value:i},"ECOS-SLIDER":{value:i},"ECOS-MENU-ITEM":{checked:i},"ECOS-SWITCH":{checked:i},"ECOS-TABS":{activeid:i},"ECOS-TEXT-FIELD":{value:i},"ECOS-TEXT-AREA":{value:i}})})).register(e)}}var YO=n(998);Kr()(YO.Z,{insert:"head",singleton:!1}),YO.Z.locals;var QO=n(208);Kr()(QO.Z,{insert:"head",singleton:!1}),QO.Z.locals;var ZO=n(818);Kr()(ZO.Z,{insert:"head",singleton:!1}),ZO.Z.locals;const XO=document.createElement("style");XO.innerHTML=`.navbar-content {padding-top: calc((${Vu}) * 1px)}`,document.head.appendChild(XO);gp.createInterface("IEventManager",(e=>e.singleton(JO)));let JO=class{constructor(e){this.ea=e,this.subscriptions=new Map}publish(e,t){this.ea.publish(e,t)}subscribe(e,t,n){this.subscribes(e,t)&&this.unsubscribe(e,t);const i=this.ea.subscribe(t,n);let s=this.subscriptions.get(e);void 0===s&&(s=new Map),s.set(t,i),this.subscriptions.set(e,s)}unsubscribe(e,t){const n=this.subscriptions.get(e);if(void 0!==t)n.get(t).dispose(),n.delete(t),this.subscriptions.set(e,n);else for(const t of n.keys())this.unsubscribe(e,t)}subscribes(e,t){const n=this.subscriptions.get(e);return void 0!==n&&(void 0===t||n.has(t))}};JO=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([function(e,t){return function(n,i){t(n,i,e)}}(0,Dg)],JO);class eE{constructor(e,t,n,i={}){this.router=e,this.name=t,this.connectedCE=n,this.options=i,this.contents=[],this.transitionAction="",this.path=null}getContent(){return this.contents[0]}getNextContent(){return this.contents.length>1?this.contents[this.contents.length-1]:null}getTimeContent(e=1/0){return this.getContent()}get activeContent(){var e;return null!==(e=this.getNextContent())&&void 0!==e?e:this.getContent()}get connectedScope(){var e;return null===(e=this.activeContent)||void 0===e?void 0:e.connectedScope}get scope(){return this.connectedScope.scope}get owningScope(){return this.connectedScope.owningScope}get connectedController(){var e,t;return null!==(t=null===(e=this.connectedCE)||void 0===e?void 0:e.$controller)&&void 0!==t?t:null}get isViewport(){return this instanceof $E}get isViewportScope(){return this instanceof bE}get isEmpty(){return!1}get pathname(){return this.connectedScope.pathname}toString(){throw new Error("Method 'toString' needs to be implemented in all endpoints!")}setNextContent(e,t){throw new Error("Method 'setNextContent' needs to be implemented in all endpoints!")}setConnectedCE(e,t){throw new Error("Method 'setConnectedCE' needs to be implemented in all endpoints!")}transition(e){throw new Error("Method 'transition' needs to be implemented in all endpoints!")}finalizeContentChange(e,t){throw new Error("Method 'finalizeContentChange' needs to be implemented in all endpoints!")}cancelContentChange(e,t){throw new Error("Method 'cancelContentChange' needs to be implemented in all endpoints!")}getRoutes(){throw new Error("Method 'getRoutes' needs to be implemented in all endpoints!")}getTitle(e){throw new Error("Method 'getTitle' needs to be implemented in all endpoints!")}removeEndpoint(e,t){var n;return this.getContent().delete(),null===(n=this.getNextContent())||void 0===n||n.delete(),!0}canUnload(e){return!0}canLoad(e){return!0}unload(e){}load(e){}}class tE{constructor(e,t,n,i,s=AE.create(""),o=wE.create({instruction:"",fullStateInstruction:""})){var r,a,l;this.router=e,this.endpoint=t,this.instruction=s,this.navigation=o,this.completed=!1,this.connectedScope=new FE(e,i,n,this),null!==this.router.rootScope&&(null!==(a=null===(r=this.endpoint.connectedScope)||void 0===r?void 0:r.parent)&&void 0!==a?a:null===(l=this.router.rootScope)||void 0===l?void 0:l.scope).addChild(this.connectedScope)}get isActive(){return this.endpoint.activeContent===this}delete(){var e;null===(e=this.connectedScope.parent)||void 0===e||e.removeChild(this.connectedScope)}}class nE{static parse(e,t,n,i){if(!t)return{instructions:[],remaining:""};if(t.startsWith(e.sibling)&&!nE.isAdd(e,t))throw new Error(`Instruction parser error: Unnecessary siblings separator ${e.sibling} in beginning of instruction part "${t}".`);const s=[];let o=1e3;for(;t.length&&o;)if(o--,t.startsWith(e.scope)){if(0===s.length)throw new Error(`Instruction parser error: Children without parent in instruction part "(${t}" is not allowed.`);i=!1;const o=(t=t.slice(e.scope.length)).startsWith(e.groupStart);o&&(t=t.slice(e.groupStart.length),n=!0);const{instructions:r,remaining:a}=nE.parse(e,t,o,!1);s[s.length-1].nextScopeInstructions=r,t=a}else if(t.startsWith(e.groupStart)){t=t.slice(e.groupStart.length);const{instructions:n,remaining:o}=nE.parse(e,t,!0,i);s.push(...n),t=o}else if(t.startsWith(e.groupEnd)){n&&(t=t.slice(e.groupEnd.length));let i=0;const o=t.length;for(;i<o;i++){if(t.slice(i,i+e.sibling.length)===e.sibling)return{instructions:s,remaining:t};if(t.slice(i,i+e.groupEnd.length)!==e.groupEnd){if(s.length>1)throw new Error(`Instruction parser error: Children below scope ${e.groupStart}${e.groupEnd} in instruction part "(${t}" is not allowed.`);t=t.slice(i);break}}if(i>=o)return{instructions:s,remaining:t}}else if(t.startsWith(e.sibling)&&!nE.isAdd(e,t)){if(!n)return{instructions:s,remaining:t};t=t.slice(e.sibling.length)}else{const{instruction:n,remaining:i}=nE.parseOne(e,t);s.push(n),t=i}return{instructions:s,remaining:t}}static isAdd(e,t){return t===e.add||t.startsWith(`${e.add}${e.viewport}`)}static parseOne(e,t){const n=[e.parameters,e.viewport,e.noScope,e.groupEnd,e.scope,e.sibling];let i,s,o,r,a,l=!0;const c=[e.add,e.clear];for(const s of c)if(t===s){i=t,t="",n.shift(),n.shift(),r=e.viewport;break}if(void 0===i)for(const s of c)if(t.startsWith(`${s}${e.viewport}`)){i=s,t=t.slice(`${s}${e.viewport}`.length),n.shift(),n.shift(),r=e.viewport;break}if(void 0===i&&(({token:r,pos:a}=nE.findNextToken(t,n)),i=-1!==a?t.slice(0,a):t,t=-1!==a?t.slice(a+r.length):"",n.shift(),r===e.parameters&&(({token:r,pos:a}=nE.findNextToken(t,[e.parametersEnd])),s=t.slice(0,a),t=t.slice(a+r.length),({token:r}=nE.findNextToken(t,n)),t=t.slice(r.length)),n.shift()),r===e.viewport&&(({token:r,pos:a}=nE.findNextToken(t,n)),o=-1!==a?t.slice(0,a):t,t=-1!==a?t.slice(a+r.length):""),n.shift(),r===e.noScope&&(l=!1),r!==e.groupEnd&&r!==e.scope&&r!==e.sibling||(t=`${r}${t}`),""===(null!=i?i:""))throw new Error(`Instruction parser error: No component specified in instruction part "${t}".`);return{instruction:AE.create(i,o,s,l),remaining:t}}static findNextToken(e,t){const n={};for(const i of t)e.indexOf(i)>-1&&(n[i]=e.indexOf(i));const i=Math.min(...Object.values(n));for(const e in n)if(n[e]===i)return{token:e,pos:i};return{token:"",pos:-1}}}class iE{constructor(e="${componentTitles}${appTitleSeparator}Aurelia",t=" | ",n="top-down",i=" > ",s=!0,o="app-",r){this.appTitle=e,this.appTitleSeparator=t,this.componentTitleOrder=n,this.componentTitleSeparator=i,this.useComponentNames=s,this.componentPrefix=o,this.transformTitle=r}static create(e={}){return new iE((e="string"==typeof e?{appTitle:e}:e).appTitle,e.appTitleSeparator,e.componentTitleOrder,e.componentTitleSeparator,e.useComponentNames,e.componentPrefix,e.transformTitle)}static for(e){return rE.for(e).title}apply(e={}){var t,n,i,s,o,r;e="string"==typeof e?{appTitle:e}:e,this.appTitle=null!==(t=e.appTitle)&&void 0!==t?t:this.appTitle,this.appTitleSeparator=null!==(n=e.appTitleSeparator)&&void 0!==n?n:this.appTitleSeparator,this.componentTitleOrder=null!==(i=e.componentTitleOrder)&&void 0!==i?i:this.componentTitleOrder,this.componentTitleSeparator=null!==(s=e.componentTitleSeparator)&&void 0!==s?s:this.componentTitleSeparator,this.useComponentNames=null!==(o=e.useComponentNames)&&void 0!==o?o:this.useComponentNames,this.componentPrefix=null!==(r=e.componentPrefix)&&void 0!==r?r:this.componentPrefix,this.transformTitle="transformTitle"in e?e.transformTitle:this.transformTitle}}class sE{constructor(e="@",t="+",n="/",i="(",s=")",o="!",r="(",a=")",l=",",c="=",u="+",h="-",d="."){this.viewport=e,this.sibling=t,this.scope=n,this.groupStart=i,this.groupEnd=s,this.noScope=o,this.parameters=r,this.parametersEnd=a,this.parameterSeparator=l,this.parameterKeySeparator=c,this.add=u,this.clear=h,this.action=d}static create(e={}){return new sE(e.viewport,e.sibling,e.scope,e.groupStart,e.groupEnd,e.noScope,e.parameters,e.parametersEnd,e.parameterSeparator,e.parameterKeySeparator,e.add,e.clear,e.action)}static for(e){return rE.for(e).separators}apply(e={}){var t,n,i,s,o,r,a,l,c,u,h,d,p;this.viewport=null!==(t=e.viewport)&&void 0!==t?t:this.viewport,this.sibling=null!==(n=e.sibling)&&void 0!==n?n:this.sibling,this.scope=null!==(i=e.scope)&&void 0!==i?i:this.scope,this.groupStart=null!==(s=e.groupStart)&&void 0!==s?s:this.groupStart,this.groupEnd=null!==(o=e.groupEnd)&&void 0!==o?o:this.groupEnd,this.noScope=null!==(r=e.noScope)&&void 0!==r?r:this.noScope,this.parameters=null!==(a=e.parameters)&&void 0!==a?a:this.parameters,this.parametersEnd=null!==(l=e.parametersEnd)&&void 0!==l?l:this.parametersEnd,this.parameterSeparator=null!==(c=e.parameterSeparator)&&void 0!==c?c:this.parameterSeparator,this.parameterKeySeparator=null!==(u=e.parameterKeySeparator)&&void 0!==u?u:this.parameterKeySeparator,this.add=null!==(h=e.add)&&void 0!==h?h:this.add,this.clear=null!==(d=e.clear)&&void 0!==d?d:this.clear,this.action=null!==(p=e.action)&&void 0!==p?p:this.action}}class oE{constructor(e="active",t="navigating"){this.loadActive=e,this.viewportNavigating=t}static create(e={}){return new oE(e.loadActive,e.viewportNavigating)}static for(e){return rE.for(e).indicators}apply(e={}){var t,n;this.loadActive=null!==(t=e.loadActive)&&void 0!==t?t:this.loadActive,this.viewportNavigating=null!==(n=e.viewportNavigating)&&void 0!==n?n:this.viewportNavigating}}class rE{constructor(e=sE.create(),t=oE.create(),n=!0,i=null,s=!0,o=0,r=!0,a=!0,l=!0,c=iE.create(),u=["guardedUnload","swapped","completed"],h="attach-next-detach-current"){this.separators=e,this.indicators=t,this.useUrlFragmentHash=n,this.basePath=i,this.useHref=s,this.statefulHistoryLength=o,this.useDirectRouting=r,this.useConfiguredRoutes=a,this.additiveInstructionDefault=l,this.title=c,this.navigationSyncStates=u,this.swapOrder=h,this.registrationHooks=[]}static create(e={}){return new rE(sE.create(e.separators),oE.create(e.indicators),e.useUrlFragmentHash,e.basePath,e.useHref,e.statefulHistoryLength,e.useDirectRouting,e.useConfiguredRoutes,e.additiveInstructionDefault,iE.create(e.title),e.navigationSyncStates,e.swapOrder)}static for(e){return e instanceof BP?e.options:(e=e instanceof KE?e.configuration:e.get(DP)).options}apply(e){var t,n,i,s,o,r,a,l;e=null!=e?e:{},this.separators.apply(e.separators),this.indicators.apply(e.indicators),this.useUrlFragmentHash=null!==(t=e.useUrlFragmentHash)&&void 0!==t?t:this.useUrlFragmentHash,this.useHref=null!==(n=e.useHref)&&void 0!==n?n:this.useHref,this.statefulHistoryLength=null!==(i=e.statefulHistoryLength)&&void 0!==i?i:this.statefulHistoryLength,this.useDirectRouting=null!==(s=e.useDirectRouting)&&void 0!==s?s:this.useDirectRouting,this.useConfiguredRoutes=null!==(o=e.useConfiguredRoutes)&&void 0!==o?o:this.useConfiguredRoutes,this.additiveInstructionDefault=null!==(r=e.additiveInstructionDefault)&&void 0!==r?r:this.additiveInstructionDefault,this.title.apply(e.title),this.navigationSyncStates=null!==(a=e.navigationSyncStates)&&void 0!==a?a:this.navigationSyncStates,this.swapOrder=null!==(l=e.swapOrder)&&void 0!==l?l:this.swapOrder,Array.isArray(e.hooks)&&(void 0!==this.routerConfiguration?e.hooks.forEach((e=>this.routerConfiguration.addHook(e.hook,e.options))):this.registrationHooks=e.hooks)}setRouterConfiguration(e){this.routerConfiguration=e,this.registrationHooks.forEach((e=>this.routerConfiguration.addHook(e.hook,e.options))),this.registrationHooks.length=0}}var aE;!function(e){e.none="none",e.string="string",e.array="array",e.object="object"}(aE||(aE={}));class lE{constructor(){this.parametersString=null,this.parametersRecord=null,this.parametersList=null,this.parametersType="none"}get none(){return"none"===this.parametersType}static create(e){const t=new lE;return t.set(e),t}static parse(e,t,n=!1){if(null==t||0===t.length)return[];const i=sE.for(e),s=i.parameterSeparator,o=i.parameterKeySeparator;if("string"==typeof t){const e=[],i=t.split(s);for(const t of i){let i,s;[i,s]=t.split(o),void 0===s?(s=n?decodeURIComponent(i):i,i=void 0):n&&(i=decodeURIComponent(i),s=decodeURIComponent(s)),e.push({key:i,value:s})}return e}if(Array.isArray(t))return t.map((e=>({key:void 0,value:e})));const r=Object.keys(t);return r.sort(),r.map((e=>({key:e,value:t[e]})))}static parseQuery(e){const t={};return null==e||0===e.length||new URLSearchParams(e).forEach(((e,n)=>{e=decodeURIComponent(e),n=decodeURIComponent(n),e in t?(Array.isArray(t[e])||(t[e]=[t[e]]),t[e].push(n)):t[e]=n})),t}get typedParameters(){switch(this.parametersType){case"string":return this.parametersString;case"array":return this.parametersList;case"object":return this.parametersRecord;default:return null}}static stringify(e,t,n=!1){if(!Array.isArray(t)||0===t.length)return"";const i=sE.for(e);return t.map((e=>{const t=void 0!==e.key&&n?encodeURIComponent(e.key):e.key,s=n?encodeURIComponent(e.value):e.value;return void 0!==t&&t!==s?t+i.parameterKeySeparator+s:s})).join(i.parameterSeparator)}static contains(e,t){return Object.keys(t).every((n=>t[n]===e[n]))}parameters(e){return lE.parse(e,this.typedParameters)}set(e){this.parametersString=null,this.parametersList=null,this.parametersRecord=null,null==e||""===e?(this.parametersType="none",e=null):"string"==typeof e?(this.parametersType="string",this.parametersString=e):Array.isArray(e)?(this.parametersType="array",this.parametersList=e):(this.parametersType="object",this.parametersRecord=e)}get(e,t){if(void 0===t)return this.parameters(e);const n=this.parameters(e).filter((e=>e.key===t)).map((e=>e.value));return 0!==n.length?1===n.length?n[0]:n:void 0}addParameters(e){if("none"===this.parametersType)return this.set(e);if("object"!==this.parametersType)throw new Error("Can't add object parameters to existing non-object parameters!");this.set({...this.parametersRecord,...e})}toSpecifiedParameters(e,t){t=null!=t?t:[];const n=this.parameters(e),i={};for(const e of t){let t=n.findIndex((t=>t.key===e));if(t>=0){const[s]=n.splice(t,1);i[e]=s.value}else if(t=n.findIndex((e=>void 0===e.key)),t>=0){const[s]=n.splice(t,1);i[e]=s.value}}for(const e of n.filter((e=>void 0!==e.key)))i[e.key]=e.value;let s=t.length;for(const e of n.filter((e=>void 0===e.key)))i[s++]=e.value;return i}toSortedParameters(e,t){t=t||[];const n=this.parameters(e),i=[];for(const e of t){let t=n.findIndex((t=>t.key===e));if(t>=0){const e={...n.splice(t,1)[0]};e.key=void 0,i.push(e)}else if(t=n.findIndex((e=>void 0===e.key)),t>=0){const e={...n.splice(t,1)[0]};i.push(e)}else i.push({value:void 0})}const s=n.filter((e=>void 0!==e.key));return s.sort(((e,t)=>(e.key||"")<(t.key||"")?1:(t.key||"")<(e.key||"")?-1:0)),i.push(...s),i.push(...n.filter((e=>void 0===e.key))),i}same(e,t,n){const i=null!==n?n.parameters:[],s=this.toSpecifiedParameters(e,i),o=t.toSpecifiedParameters(e,i);return Object.keys(s).every((e=>s[e]===o[e]))&&Object.keys(o).every((e=>o[e]===s[e]))}}class cE{constructor(){this.name=null,this.type=null,this.instance=null,this.promise=null}static create(e){const t=new cE;return t.set(e),t}static isName(e){return"string"==typeof e}static isDefinition(e){return Sw.isType(e.Type)}static isType(e){return Sw.isType(e)}static isInstance(e){return Nx(e)}static isAppelation(e){return cE.isName(e)||cE.isType(e)||cE.isInstance(e)}static getName(e){return cE.isName(e)?e:cE.isType(e)?Sw.getDefinition(e).name:cE.getName(e.constructor)}static getType(e){return cE.isName(e)?null:cE.isType(e)?e:e.constructor}static getInstance(e){return cE.isName(e)||cE.isType(e)?null:e}set(e){let t=null,n=null,i=null,s=null;e instanceof Promise?s=e:cE.isName(e)?t=cE.getName(e):cE.isType(e)?(t=this.getNewName(e),n=cE.getType(e)):cE.isInstance(e)&&(t=this.getNewName(cE.getType(e)),n=cE.getType(e),i=cE.getInstance(e)),this.name=t,this.type=n,this.instance=i,this.promise=s}resolve(){if(this.promise instanceof Promise)return this.promise.then((e=>{if(cE.isAppelation(e))return void this.set(e);if(null!=e.default)return void this.set(e.default);if(0===Object.keys(e).length)throw new Error("Failed to load component Type from resolved Promise since no export was specified.");if(Object.keys(e).length>1)throw new Error("Failed to load component Type from resolved Promise since no 'default' export was specified when having multiple exports.");const t=Object.keys(e)[0];this.set(e[t])}))}get none(){return!this.isName()&&!this.isType()&&!this.isInstance()}isName(){return!!this.name&&!this.isType()&&!this.isInstance()}isType(){return null!==this.type&&!this.isInstance()}isInstance(){return null!==this.instance}isPromise(){return null!==this.promise}toType(e){if(null!==this.type)return this.type;if(null!==this.name&&"string"==typeof this.name){if(null===e)throw new Error(`No container available when trying to resolve component '${this.name}'!`);if(e.has(Sw.keyFrom(this.name),!0)){const t=e.getResolver(Sw.keyFrom(this.name));if(null!==t&&void 0!==t.getFactory){const n=t.getFactory(e);if(n)return n.Type}}}return null}toInstance(e){if(null!==this.instance)return this.instance;if(null!=e){const t=this.isType()?e.get(this.type):e.get(Sw.keyFrom(this.name));return!this.isType()||t instanceof this.type||console.warn("Failed to instantiate",this.type,t),null!=t?t:null}return null}same(e,t=!1){return t?this.type===e.type:this.name===e.name}getNewName(e){return null===this.name?cE.getName(e):this.name}}function uE(e,t){const n=[];let i=e.findIndex(t);for(;i>=0;)n.push(e.splice(i,1)[0]),i=e.findIndex(t);return n}function hE(e,t=!1){return e.filter(((e,n,i)=>(t||null!=e)&&i.indexOf(e)===n))}class dE{constructor(){this.isPending=!0,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this._resolve(e),this.isPending=!1}reject(e){this._reject(e),this.isPending=!1}}class pE{constructor(){this.isDone=!1,this.isCancelled=!1,this.isResolved=!1,this.isRejected=!1,this.isAsync=!1}static run(e,...t){var n,i;if(0===(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0))return null==t?void 0:t[0];let s=!1;null===e&&(e=new gE,s=!0);const o=new gE(t.shift());return pE.connect(e,o,null!==(i=null==e?void 0:e.runParallel)&&void 0!==i&&i||s),t.length>0&&pE.add(o,!1,...t),s?(pE.process(e),e.result instanceof Promise&&this.runners.set(e.result,e),e.result):o}static runParallel(e,...t){var n,i;if(0===(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0))return[];let s=!1;return null===e?(e=new gE,s=!0):e=pE.connect(e,new gE,!0),pE.add(e,!0,...t),s&&pE.process(e),e.result instanceof Promise&&this.runners.set(e.result,e),s?null!==(i=e.result)&&void 0!==i?i:[]:e}static step(e){if(e instanceof Promise)return pE.runners.get(e)}static cancel(e){const t=pE.step(e);void 0!==t&&t.cancel()}static add(e,t,...n){let i=new gE(n.shift(),t);null!==e&&(i=pE.connect(e,i,t));const s=i;for(;n.length>0;)i=pE.connect(i,new gE(n.shift(),t),!1);return s}static connect(e,t,n){if(n){const n=e.child;e.child=t,t.parent=e,t.next=n,null!==n&&(n.parent=null,n.previous=t)}else{const n=e.next;e.next=t,t.previous=e,t.next=n,null!==n&&(n.previous=t,n.parent=null)}return t}static process(e){const t=e.root;for(;null!==e&&!e.isDoing&&!e.isDone;)if(e.isParallelParent){e.isDone=!0;let t=e.child;for(;null!==t;)pE.process(t),t=t.next}else{for(e.isDoing=!0,e.value=e.step;e.value instanceof Function&&!e.isCancelled&&!e.isDone;)e.value=e.value(e);if(!e.isCancelled)if(e.value instanceof Promise){const n=e.value;pE.ensurePromise(t),((e,t)=>{t.then((t=>{e.value=t,pE.settlePromise(e),e.isDone=!0,e.isDoing=!1;const n=e.nextToDo();null!==n?pE.process(n):e.root.doneAll&&pE.settlePromise(e.root)})).catch((e=>{throw e}))})(e,n)}else e.isDone=!0,e.isDoing=!1,e=e.nextToDo()}t.isCancelled?pE.settlePromise(t,"reject"):t.doneAll&&pE.settlePromise(t)}static ensurePromise(e){return null===e.finally&&(e.finally=new dE,e.promise=e.finally.promise,!0)}static settlePromise(e,t="resolve"){var n,i,s,o;if(null!==(i=null===(n=e.finally)||void 0===n?void 0:n.isPending)&&void 0!==i&&i)switch(e.promise=null,t){case"resolve":null===(s=e.finally)||void 0===s||s.resolve(e.result);break;case"reject":null===(o=e.finally)||void 0===o||o.reject(e.result)}}}pE.runners=new WeakMap,pE.roots={};class gE{constructor(e,t=!1){this.step=e,this.runParallel=t,this.promise=null,this.previous=null,this.next=null,this.parent=null,this.child=null,this.finally=null,this.isDoing=!1,this.isDone=!1,this.isCancelled=!1,this.id="-1",this.id=""+gE.id++}get isParallelParent(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.runParallel)&&void 0!==t&&t}get result(){var e,t;if(null!==this.promise)return this.promise;if(null!==this.child){if(this.isParallelParent){const e=[];let t=this.child;for(;null!==t;)e.push(t.result),t=t.next;return e}return null===(t=null===(e=this.child)||void 0===e?void 0:e.tail)||void 0===t?void 0:t.result}let n=this.value;for(;n instanceof gE;)n=n.result;return n}get asValue(){return this.result}get previousValue(){var e,t,n,i;return this.runParallel?null===(n=null===(t=null===(e=this.head.parent)||void 0===e?void 0:e.parent)||void 0===t?void 0:t.previous)||void 0===n?void 0:n.result:null===(i=this.previous)||void 0===i?void 0:i.result}get name(){let e=`${this.id}`;return this.runParallel&&(e=`:${e}`),(this.value instanceof Promise||this.promise instanceof Promise)&&(e=`${e}*`),null!==this.finally&&(e=`${e}*`),null!==this.child&&(e=`${e}>`),this.isDone&&(e=`(${e})`),e}get root(){let e=this.head;for(;null!==e.parent;)e=e.parent.head;return e}get head(){let e=this;for(;null!==e.previous;)e=e.previous;return e}get tail(){let e=this;for(;null!==e.next;)e=e.next;return e}get done(){if(!this.isDone)return!1;let e=this.child;for(;null!==e;){if(!e.done)return!1;e=e.next}return!0}get doneAll(){return!(!this.isDone||null!==this.child&&!this.child.doneAll||null!==this.next&&!this.next.doneAll)}cancel(e=!0){var t,n;return e?this.root.cancel(!1):!this.isCancelled&&(this.isCancelled=!0,null===(t=this.child)||void 0===t||t.cancel(!1),null===(n=this.next)||void 0===n||n.cancel(!1),!0)}nextToDo(){return null===this.child||this.child.isDoing||this.child.isDone?this.runParallel&&!this.head.parent.done?null:this.nextOrUp():this.child}nextOrUp(){var e;let t=this.next;for(;null!==t;){if(!t.isDoing&&!t.isDone)return t;t=t.next}const n=null!==(e=this.head.parent)&&void 0!==e?e:null;return null!==n&&n.done?n.nextOrUp():null}get path(){var e,t;return`${null!==(t=null===(e=this.head.parent)||void 0===e?void 0:e.path)&&void 0!==t?t:""}/${this.name}`}get tree(){let e="",t=this.head,n=t.parent,i="";for(;null!==n;)i=`${n.path}${i}`,n=n.head.parent;do{if(e+=`${i}/${t.name}\n`,t===this)break;t=t.next}while(null!==t);return e}get report(){var e,t,n,i;let s=`${this.path}\n`;return s+=null!==(t=null===(e=this.child)||void 0===e?void 0:e.report)&&void 0!==t?t:"",s+=null!==(i=null===(n=this.next)||void 0===n?void 0:n.report)&&void 0!==i?i:"",s}}gE.id=0;class fE{constructor(e,t,n,i,s,o,r,a){this.path=e,this.id=t,this.redirectTo=n,this.instructions=i,this.caseSensitive=s,this.title=o,this.reloadBehavior=r,this.data=a}static isConfigured(e){return jd.hasOwn(fE.resourceKey,e)||"parameters"in e||"title"in e}static configure(e,t){const n=fE.create(e,t);return jd.define(fE.resourceKey,n,t),t}static getConfiguration(e){var t;const n=null!==(t=jd.getOwn(fE.resourceKey,e))&&void 0!==t?t:{};return Array.isArray(e.parameters)&&(n.parameters=e.parameters),"title"in e&&(n.title=e.title),n instanceof fE?n:fE.create(n,e)}static create(e,t=null){var n,i,s,o,r,a,l,c,u;null!==t&&(e=fE.transferTypeToComponent(e,t)),Sw.isType(e)?e=fE.getConfiguration(e):null===t&&(e={...e});const h=fE.transferIndividualIntoInstructions(e);fE.validateRouteConfiguration(h);let d=h.path;return Array.isArray(d)&&(d=d.join(",")),new fE(null!==(n=h.path)&&void 0!==n?n:"",null!==(s=null!==(i=h.id)&&void 0!==i?i:d)&&void 0!==s?s:null,null!==(o=h.redirectTo)&&void 0!==o?o:null,null!==(r=h.instructions)&&void 0!==r?r:null,null!==(a=h.caseSensitive)&&void 0!==a&&a,null!==(l=h.title)&&void 0!==l?l:null,null!==(c=h.reloadBehavior)&&void 0!==c?c:null,null!==(u=h.data)&&void 0!==u?u:null)}static transferTypeToComponent(e,t){var n;if(Sw.isType(e))throw new Error("Invalid route configuration: A component can't be specified in a component route configuration.");const i=null!==(n={...e})&&void 0!==n?n:{};if("component"in i||"instructions"in i)throw new Error("Invalid route configuration: The 'component' and 'instructions' properties can't be specified in a component route configuration.");return"redirectTo"in i||(i.component=t),"path"in i||"redirectTo"in i||(i.path=Sw.getDefinition(t).name),i}static transferIndividualIntoInstructions(e){var t,n,i,s;if(null==e)throw new Error("Invalid route configuration: expected an object.");if(null!==(null!==(t=e.component)&&void 0!==t?t:null)||null!==(null!==(n=e.viewport)&&void 0!==n?n:null)||null!==(null!==(i=e.parameters)&&void 0!==i?i:null)||null!==(null!==(s=e.children)&&void 0!==s?s:null)){if(null!=e.instructions)throw new Error("Invalid route configuration: The 'instructions' property can't be used together with the 'component', 'viewport', 'parameters' or 'children' properties.");e.instructions=[{component:e.component,viewport:e.viewport,parameters:e.parameters,children:e.children}]}return e}static validateRouteConfiguration(e){if(null===e.redirectTo&&null===e.instructions)throw new Error("Invalid route configuration: either 'redirectTo' or 'instructions' need to be specified.")}}fE.resourceKey=op.resource.keyFor("route");const mE={name:op.resource.keyFor("routes"),isConfigured:e=>jd.hasOwn(mE.name,e)||"routes"in e,configure(e,t){const n=e.map((e=>fE.create(e)));return jd.define(mE.name,n,t),t},getConfiguration(e){const t=e,n=[],i=jd.getOwn(mE.name,e);return Array.isArray(i)&&n.push(...i),Array.isArray(t.routes)&&n.push(...t.routes),n.map((e=>e instanceof fE?e:fE.create(e)))}};class vE extends tE{}class bE extends eE{constructor(e,t,n,i,s,o=null,r={catches:[],source:null}){super(e,t,n),this.rootComponentType=o,this.options=r,this.instruction=null,this.available=!0,this.sourceItem=null,this.sourceItemIndex=-1,this.remove=!1,this.add=!1,this.contents.push(new vE(e,this,i,s)),this.catches.length>0&&(this.instruction=AE.create(this.catches[0],this.name))}get isEmpty(){return null===this.instruction}get passThroughScope(){return null===this.rootComponentType&&0===this.catches.length}get siblings(){const e=this.connectedScope.parent;return null===e?[this]:e.enabledChildren.filter((e=>e.isViewportScope&&e.endpoint.name===this.name)).map((e=>e.endpoint))}get source(){var e;return null!==(e=this.options.source)&&void 0!==e?e:null}get catches(){var e;let t=null!==(e=this.options.catches)&&void 0!==e?e:[];return"string"==typeof t&&(t=t.split(",")),t}get default(){if(this.catches.length>0)return this.catches[0]}toString(){var e,t,n,i;const s=null!==(t=null===(e=this.instruction)||void 0===e?void 0:e.component.name)&&void 0!==t?t:"",o=null!==(i=null===(n=this.getNextContent())||void 0===n?void 0:n.instruction.component.name)&&void 0!==i?i:"";return`vs:${this.name}[${s}->${o}]`}setNextContent(e,t){return e.endpoint.set(this),this.remove=e.isClear(this.router)||e.isClearAll(this.router),this.add=e.isAdd(this.router)&&Array.isArray(this.source),this.add&&(e.component.name=null),void 0!==this.default&&null===e.component.name&&(e.component.name=this.default),this.contents.push(new vE(this.router,this,this.owningScope,this.scope.hasScope,e,t)),"swap"}transition(e){pE.run(null,(()=>e.addEndpointState(this,"guardedUnload")),(()=>e.addEndpointState(this,"guardedLoad")),(()=>e.addEndpointState(this,"guarded")),(()=>e.addEndpointState(this,"loaded")),(()=>e.addEndpointState(this,"unloaded")),(()=>e.addEndpointState(this,"routed")),(()=>e.addEndpointState(this,"swapped")),(()=>{e.addEndpointState(this,"completed")}))}finalizeContentChange(e,t){var n;const i=this.contents.findIndex((t=>t.navigation===e.navigation));let s=this.contents[i];if(this.remove){const e=new vE(this.router,this,this.owningScope,this.scope.hasScope);this.contents.splice(i,1,e),s.delete(),s=e}s.completed=!0;let o=0;for(let e=0,t=i;e<t&&null!==(n=this.contents[0].navigation.completed)&&void 0!==n&&n;e++)o++;this.contents.splice(0,o),this.remove&&Array.isArray(this.source)&&this.removeSourceItem()}cancelContentChange(e,t){const n=this.contents.findIndex((t=>t.navigation===e.navigation));if(this.contents.splice(n,1),this.add){const e=this.source.indexOf(this.sourceItem);this.source.splice(e,1),this.sourceItem=null}}acceptSegment(e){return null===e&&void 0===e||0===e.length||e===AE.clear(this.router)||e===AE.add(this.router)||e===this.name||0===this.catches.length||!!this.catches.includes(e)||!!this.catches.filter((e=>e.includes("*"))).length}binding(){(this.source||[]).length>0&&null===this.sourceItem&&(this.sourceItem=this.getAvailableSourceItem())}unbinding(){null!==this.sourceItem&&null!==this.source&&uE(this.source,(e=>e===this.sourceItem)),this.sourceItem=null}getAvailableSourceItem(){if(null===this.source)return null;const e=this.siblings;for(const t of this.source)if(e.every((e=>e.sourceItem!==t)))return t;return null}addSourceItem(){const e={};return this.source.push(e),e}removeSourceItem(){this.sourceItemIndex=this.source.indexOf(this.sourceItem),this.sourceItemIndex>=0&&this.source.splice(this.sourceItemIndex,1)}getRoutes(){if(null!==this.rootComponentType){const e=this.rootComponentType.constructor===this.rootComponentType.constructor.constructor?this.rootComponentType:this.rootComponentType.constructor;return mE.getConfiguration(e)}return null}}class yE{constructor(){this.first=!1,this.new=!1,this.refresh=!1,this.forward=!1,this.back=!1,this.replace=!1}}class wE extends class{constructor(e={instruction:"",fullStateInstruction:""}){this.instruction=e.instruction,this.fullStateInstruction=e.fullStateInstruction,this.scope=e.scope,this.index=e.index,this.firstEntry=e.firstEntry,this.path=e.path,this.title=e.title,this.query=e.query,this.parameters=e.parameters,this.data=e.data}toStoredNavigation(){return{instruction:this.instruction,fullStateInstruction:this.fullStateInstruction,scope:this.scope,index:this.index,firstEntry:this.firstEntry,path:this.path,title:this.title,query:this.query,parameters:this.parameters,data:this.data}}}{constructor(e={instruction:"",fullStateInstruction:""}){var t,n,i,s,o,r;super(e),this.navigation=new yE,this.repeating=!1,this.previous=null,this.fromBrowser=!1,this.origin=null,this.replacing=!1,this.refreshing=!1,this.untracked=!1,this.process=null,this.completed=!0,this.fromBrowser=null!==(t=e.fromBrowser)&&void 0!==t?t:this.fromBrowser,this.origin=null!==(n=e.origin)&&void 0!==n?n:this.origin,this.replacing=null!==(i=e.replacing)&&void 0!==i?i:this.replacing,this.refreshing=null!==(s=e.refreshing)&&void 0!==s?s:this.refreshing,this.untracked=null!==(o=e.untracked)&&void 0!==o?o:this.untracked,this.historyMovement=null!==(r=e.historyMovement)&&void 0!==r?r:this.historyMovement,this.process=null,this.timestamp=Date.now()}get useFullStateInstruction(){var e,t,n;return null!==(e=this.navigation.back)&&void 0!==e&&e||null!==(t=this.navigation.forward)&&void 0!==t&&t||null!==(n=this.navigation.refresh)&&void 0!==n&&n}static create(e={instruction:"",fullStateInstruction:""}){return new wE(e)}}class xE{constructor(){this.map=new Map}set(e,t){const n=this.map.get(e);n instanceof dE&&n.resolve(t),this.map.set(e,t)}delete(e){const t=this.map.get(e);t instanceof dE&&t.reject(),this.map.delete(e)}await(e){if(!this.map.has(e)){const t=new dE;return this.map.set(e,t),t.promise}const t=this.map.get(e);return t instanceof dE?t.promise:t}has(e){return this.map.has(e)&&!(this.map.get(e)instanceof dE)}clone(){const e=new xE;return e.map=new Map(this.map),e}}class CE{constructor(e=null,t="",n=[],i="",s={}){this.match=e,this.matching=t,this.instructions=n,this.remaining=i,this.params=s}get foundConfiguration(){return null!==this.match}get foundInstructions(){return this.instructions.length>0}get hasRemaining(){return null!==this.remaining&&this.remaining.length>0}}class kE extends tE{constructor(e,t,n,i,s=AE.create(""),o=wE.create({instruction:"",fullStateInstruction:""}),r=null){super(e,t,n,i,s,o),this.router=e,this.instruction=s,this.navigation=o,this.contentStates=new xE,this.fromCache=!1,this.fromHistory=!1,this.reload=!1,this.activatedResolve=null,this.instruction.component.isType()||null==(null==r?void 0:r.container)||(this.instruction.component.type=this.toComponentType(r.container))}get componentInstance(){return this.instruction.component.instance}get reloadBehavior(){var e,t;return this.instruction.route instanceof CE&&null!==(null===(e=this.instruction.route.match)||void 0===e?void 0:e.reloadBehavior)?null===(t=this.instruction.route.match)||void 0===t?void 0:t.reloadBehavior:null!==this.instruction.component.instance&&"reloadBehavior"in this.instruction.component.instance&&void 0!==this.instruction.component.instance.reloadBehavior?this.instruction.component.instance.reloadBehavior:"default"}equalComponent(e){return this.instruction.sameComponent(this.router,e.instruction)}equalParameters(e){var t,n;return this.instruction.sameComponent(this.router,e.instruction,!0)&&(null!==(t=this.navigation.query)&&void 0!==t?t:"")===(null!==(n=e.navigation.query)&&void 0!==n?n:"")}isCacheEqual(e){return this.instruction.sameComponent(this.router,e.instruction,!0)}contentController(e){return Rx.forCustomElement(null,e.container,this.instruction.component.instance,e.element,null,void 0)}createComponent(e,t){if(!this.contentStates.has("created")){if(!this.fromCache&&!this.fromHistory)try{this.instruction.component.set(this.toComponentInstance(e.container))}catch(n){if(""===(null!=t?t:""))throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`);this.instruction.parameters.set({id:this.instruction.component.name}),this.instruction.component.set(t);try{this.instruction.component.set(this.toComponentInstance(e.container))}catch(e){throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`)}}this.contentStates.set("created",void 0),this.contentStates.has("loaded")||!this.instruction.component.instance||this.fromCache&&this.fromHistory||(this.contentController(e).parent=e.controller)}}canLoad(){var e,t,n;if(!this.contentStates.has("created")||this.contentStates.has("checkedLoad")&&!this.reload)return!0;if(this.contentStates.set("checkedLoad",void 0),null==this.instruction.component.instance.canLoad)return!0;const i=null===(n=null===(t=null===(e=this.endpoint.parentViewport)||void 0===e?void 0:e.getTimeContent(this.navigation.timestamp))||void 0===t?void 0:t.instruction)||void 0===n?void 0:n.typeParameters(this.router),s=this.instruction.typeParameters(this.router),o={...this.navigation.parameters,...i,...s},r=this.instruction.component.instance.canLoad(o,this.instruction,this.navigation);return"boolean"==typeof r?r:"string"==typeof r?[AE.create(r,this.endpoint)]:r}canUnload(e){if(this.contentStates.has("checkedUnload")&&!this.reload)return!0;if(this.contentStates.set("checkedUnload",void 0),!this.contentStates.has("loaded"))return!0;if(!this.instruction.component.instance.canUnload)return!0;null===e&&(e=wE.create({instruction:"",fullStateInstruction:"",previous:this.navigation}));const t=this.instruction.component.instance.canUnload(this.instruction,e);if("boolean"!=typeof t&&!(t instanceof Promise))throw new Error(`Method 'canUnload' in component "${this.instruction.component.name}" needs to return true or false or a Promise resolving to true or false.`);return t}load(e){return pE.run(e,(()=>this.contentStates.await("checkedLoad")),(()=>{var e,t,n,i;if(this.contentStates.has("created")&&(!this.contentStates.has("loaded")||this.reload)&&(this.reload=!1,this.contentStates.set("loaded",void 0),null!=(null===(e=this.instruction.component.instance)||void 0===e?void 0:e.load))){const e=null===(i=null===(n=null===(t=this.endpoint.parentViewport)||void 0===t?void 0:t.getTimeContent(this.navigation.timestamp))||void 0===n?void 0:n.instruction)||void 0===i?void 0:i.typeParameters(this.router),s=this.instruction.typeParameters(this.router),o={...this.navigation.parameters,...e,...s};return this.instruction.component.instance.load(o,this.instruction,this.navigation)}}))}unload(e){var t;if(this.contentStates.has("loaded"))return this.contentStates.delete("loaded"),null!=(null===(t=this.instruction.component.instance)||void 0===t?void 0:t.unload)?(null===e&&(e=wE.create({instruction:"",fullStateInstruction:"",previous:this.navigation})),this.instruction.component.instance.unload(this.instruction,e)):void 0}activateComponent(e,t,n,i,s,o,r){return pE.run(e,(()=>this.contentStates.await("loaded")),(()=>this.waitForParent(n)),(()=>{if(this.contentStates.has("activating")||this.contentStates.has("activated"))return;this.contentStates.set("activating",void 0);const e=this.contentController(s);return e.activate(null!=t?t:e,n,i,void 0,void 0)}),(()=>{this.contentStates.set("activated",void 0)}))}deactivateComponent(e,t,n,i,s,o=!1){if(this.contentStates.has("activated")||this.contentStates.has("activating"))return pE.run(e,(()=>{if(o&&null!==s.element){const e=Array.from(s.element.getElementsByTagName("*"));for(const t of e)(t.scrollTop>0||t.scrollLeft)&&t.setAttribute("au-element-scroll",`${t.scrollTop},${t.scrollLeft}`)}this.contentStates.delete("activated"),this.contentStates.delete("activating");const e=this.contentController(s);return e.deactivate(null!=t?t:e,n,i)}))}disposeComponent(e,t,n=!1){if(this.contentStates.has("created")&&null!=this.instruction.component.instance){if(!n)return this.contentStates.delete("created"),this.contentController(e).dispose();t.push(this)}}freeContent(e,t,n,i,s=!1){return pE.run(e,(()=>this.unload(n)),(e=>this.deactivateComponent(e,null,t.controller,0,t,s)),(()=>this.disposeComponent(t,i,s)))}toComponentName(){return this.instruction.component.name}toComponentType(e){return this.instruction.component.none?null:this.instruction.component.toType(e)}toComponentInstance(e){return this.instruction.component.none?null:this.instruction.component.toInstance(e)}waitForParent(e){if(null!==e)return e.isActive?void 0:new Promise((e=>{this.endpoint.activeResolve=e}))}}class SE{constructor(e=!0,t=[],n="",i="",s=!1,o=!1,r=!1,a=!1,l=!1){this.scope=e,this.usedBy=t,this.fallback=i,this.noLink=s,this.noTitle=o,this.stateful=r,this.forceDescription=a,this.noHistory=l,this.default=void 0,this.default=n}static create(e){const t=new SE;return void 0!==e&&t.apply(e),t}apply(e){var t,n,i,s,o,r,a,l,c;this.scope=null!==(t=e.scope)&&void 0!==t?t:this.scope,this.usedBy=null!==(n="string"==typeof e.usedBy?e.usedBy.split(",").filter((e=>e.length>0)):e.usedBy)&&void 0!==n?n:this.usedBy,this.default=null!==(i=e.default)&&void 0!==i?i:this.default,this.fallback=null!==(s=e.fallback)&&void 0!==s?s:this.fallback,this.noLink=null!==(o=e.noLink)&&void 0!==o?o:this.noLink,this.noTitle=null!==(r=e.noTitle)&&void 0!==r?r:this.noTitle,this.stateful=null!==(a=e.stateful)&&void 0!==a?a:this.stateful,this.forceDescription=null!==(l=e.forceDescription)&&void 0!==l?l:this.forceDescription,this.noHistory=null!==(c=e.noHistory)&&void 0!==c?c:this.noHistory}}class $E extends eE{constructor(e,t,n,i,s,o){super(e,t,n),this.contents=[],this.forceRemove=!1,this.options=new SE,this.activeResolve=null,this.connectionResolve=null,this.clear=!1,this.coordinators=[],this.previousViewportState=null,this.cache=[],this.historyCache=[],this.contents.push(new kE(e,this,i,s)),this.contents[0].completed=!0,void 0!==o&&this.options.apply(o)}getContent(){var e;if(1===this.contents.length)return this.contents[0];let t;for(let n=0,i=this.contents.length;n<i&&null!==(e=this.contents[n].completed)&&void 0!==e&&e;n++)t=this.contents[n];return t}getNextContent(){if(1===this.contents.length)return null;const e=this.contents.indexOf(this.getContent());return this.contents.length>e?this.contents[e+1]:null}getTimeContent(e){let t=null;for(let n=0,i=this.contents.length;n<i&&!(this.contents[n].navigation.timestamp>e);n++)t=this.contents[n];return t}get parentViewport(){let e=this.connectedScope;for(;null!==e.parent;)if(e=e.parent,e.endpoint.isViewport)return e.endpoint;return null}get isEmpty(){return null===this.getContent().componentInstance}get doForceRemove(){let e=this.connectedScope;for(;null!==e;){if(e.isViewport&&e.endpoint.forceRemove)return!0;e=e.parent}return!1}isActiveNavigation(e){return this.coordinators[this.coordinators.length-1]===e}toString(){var e,t,n,i;const s=null!==(t=null===(e=this.getContent())||void 0===e?void 0:e.instruction.component.name)&&void 0!==t?t:"",o=null!==(i=null===(n=this.getNextContent())||void 0===n?void 0:n.instruction.component.name)&&void 0!==i?i:"";return`v:${this.name}[${s}->${o}]`}applyOptions(e){e instanceof SE?this.options=e:this.options.apply(e)}setNextContent(e,t){var n;e.endpoint.set(this),this.clear=e.isClear(this.router);const i=this.contents[this.contents.length-1],s=new kE(this.router,this,this.owningScope,this.scope.hasScope,this.clear?void 0:e,t,null!==(n=this.connectedCE)&&void 0!==n?n:null);if(this.contents.push(s),s.fromHistory=!(null===s.componentInstance||!t.navigation||!t.navigation.back&&!t.navigation.forward),this.options.stateful){const e=this.cache.find((e=>s.isCacheEqual(e)));void 0!==e?(this.contents.splice(this.contents.indexOf(s),1,e),s.fromCache=!0):this.cache.push(s)}return null!==s.componentInstance&&i.componentInstance===s.componentInstance?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):!i.equalComponent(s)||t.navigation.refresh||"refresh"===i.reloadBehavior?this.transitionAction="swap":"disallow"===i.reloadBehavior?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):"reload"===i.reloadBehavior?(i.reload=!0,s.instruction.component.set(i.componentInstance),s.contentStates=i.contentStates.clone(),s.reload=i.reload,this.transitionAction="reload"):this.options.stateful&&i.equalParameters(s)||i.equalParameters(s)?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):this.transitionAction="swap"}setConnectedCE(e,t){var n;if(t=null!=t?t:{},this.connectedCE!==e&&(this.previousViewportState={...this},this.clearState(),this.connectedCE=e,this.options.apply(t),null!=this.connectionResolve&&this.connectionResolve()),null===this.getContent().componentInstance&&null==(null===(n=this.getNextContent())||void 0===n?void 0:n.componentInstance)&&this.options.default){const e=AE.parse(this.router,this.options.default);for(const t of e)t.endpoint.set(this),t.scope=this.owningScope,t.default=!0;this.router.load(e,{append:!0}).catch((e=>{throw e}))}}remove(e,t){return this.connectedCE===t&&pE.run(e,(e=>{var t,n;if(null!==this.getContent().componentInstance)return this.getContent().freeContent(e,this.connectedCE,null!==(n=null===(t=this.getNextContent())||void 0===t?void 0:t.navigation)&&void 0!==n?n:null,this.historyCache,!this.doForceRemove&&(this.router.statefulHistory||this.options.stateful))}),(e=>{if(this.doForceRemove){const t=[];for(const e of this.historyCache)t.push((t=>e.freeContent(t,null,null,this.historyCache,!1)));return t.push((()=>{this.historyCache=[]})),pE.run(e,...t)}return!0}))}async transition(e){var t,n,i,s;const o=this.router.configuration.options.indicators.viewportNavigating;for(this.coordinators.push(e);this.coordinators[0]!==e;)await this.coordinators[0].waitForSyncState("completed");let r=this.parentViewport;null!==r&&"reload"!==r.transitionAction&&"swap"!==r.transitionAction&&(r=null);const a=[t=>{if(this.isActiveNavigation(e))return this.canUnload(t)},t=>{this.isActiveNavigation(e)&&(t.previousValue?this.router.isRestrictedNavigation&&this.getNextContent().createComponent(this.connectedCE,this.options.fallback):(t.cancel(),e.cancel())),e.addEndpointState(this,"guardedUnload")},()=>e.waitForSyncState("guardedUnload",this),()=>null!==r?e.waitForEndpointState(r,"guardedLoad"):void 0,t=>{if(this.isActiveNavigation(e))return this.canLoad(t)},t=>{if(this.isActiveNavigation(e)){const n=t.previousValue;if("boolean"!=typeof n)return pE.run(t,(()=>this.router.load(n,{append:!0})),(t=>this.cancelContentChange(e,t)));if(!n)return t.cancel(),void e.cancel()}e.addEndpointState(this,"guardedLoad"),e.addEndpointState(this,"guarded")}],l=[()=>e.waitForSyncState("guarded",this),t=>{if(this.isActiveNavigation(e))return this.unload(t)},()=>e.addEndpointState(this,"unloaded"),()=>e.waitForSyncState("unloaded",this),()=>null!==r?e.waitForEndpointState(r,"loaded"):void 0,t=>{if(this.isActiveNavigation(e))return this.load(t)},()=>e.addEndpointState(this,"loaded"),()=>e.addEndpointState(this,"routed")],c=[()=>e.waitForSyncState("routed",this),()=>e.waitForEndpointState(this,"routed")];switch(this.router.configuration.options.swapOrder){case"detach-current-attach-next":c.push((t=>{if(this.isActiveNavigation(e))return this.removeContent(t,e)}),(t=>{if(this.isActiveNavigation(e))return this.addContent(t,e)}));break;case"attach-next-detach-current":c.push((t=>{if(this.isActiveNavigation(e))return this.addContent(t,e)}),(t=>{if(this.isActiveNavigation(e))return this.removeContent(t,e)}));break;case"detach-attach-simultaneously":c.push((t=>pE.runParallel(t,(t=>{if(this.isActiveNavigation(e))return this.removeContent(t,e)}),(t=>{if(this.isActiveNavigation(e))return this.addContent(t,e)}))));break;case"attach-detach-simultaneously":c.push((t=>pE.runParallel(t,(t=>{if(this.isActiveNavigation(e))return this.addContent(t,e)}),(t=>{if(this.isActiveNavigation(e))return this.removeContent(t,e)}))))}c.push((()=>e.addEndpointState(this,"swapped"))),null===(n=null===(t=this.connectedCE)||void 0===t?void 0:t.setActivity)||void 0===n||n.call(t,o,!0),null===(s=null===(i=this.connectedCE)||void 0===i?void 0:i.setActivity)||void 0===s||s.call(i,e.navigation.navigation,!0);const u=pE.run(null,...a,...l,...c,(()=>e.addEndpointState(this,"completed")),(()=>e.waitForSyncState("bound")),(()=>{var t,n,i,s;null===(n=null===(t=this.connectedCE)||void 0===t?void 0:t.setActivity)||void 0===n||n.call(t,o,!1),null===(s=null===(i=this.connectedCE)||void 0===i?void 0:i.setActivity)||void 0===s||s.call(i,e.navigation.navigation,!1)}));u instanceof Promise&&u.catch((e=>{}))}canUnload(e){return pE.run(e,(e=>this.getContent().connectedScope.canUnload(e)),(e=>{var t,n;return!!e.previousValue&&this.getContent().canUnload(null!==(n=null===(t=this.getNextContent())||void 0===t?void 0:t.navigation)&&void 0!==n?n:null)}))}canLoad(e){return!!this.clear||pE.run(e,(()=>this.waitForConnected()),(()=>(this.getNextContent().createComponent(this.connectedCE,this.options.fallback),this.getNextContent().canLoad())))}load(e){if(!this.clear)return this.getNextContent().load(e)}addContent(e,t){return this.activate(e,null,this.connectedController,0,t)}removeContent(e,t){var n;if(this.isEmpty)return;const i=this.router.statefulHistory||null!==(n=this.options.stateful)&&void 0!==n&&n;return pE.run(e,(()=>t.addEndpointState(this,"bound")),(()=>t.waitForSyncState("bound")),(e=>this.deactivate(e,null,this.connectedController,i?0:32)),(()=>i?this.dispose():void 0))}activate(e,t,n,i,s){if(null!==this.activeContent.componentInstance)return pE.run(e,(()=>this.activeContent.canLoad()),(e=>this.activeContent.load(e)),(e=>this.activeContent.activateComponent(e,t,n,i,this.connectedCE,(()=>null==s?void 0:s.addEndpointState(this,"bound")),null==s?void 0:s.waitForSyncState("bound"))))}deactivate(e,t,n,i){var s,o;if(null!==this.getContent().componentInstance&&!this.getContent().reload&&this.getContent().componentInstance!==(null===(s=this.getNextContent())||void 0===s?void 0:s.componentInstance))return null===(o=this.getContent())||void 0===o?void 0:o.deactivateComponent(e,t,n,i,this.connectedCE,this.router.statefulHistory||this.options.stateful)}unload(e){return pE.run(e,(e=>this.getContent().connectedScope.unload(e)),(()=>{var e,t;return null!=this.getContent().componentInstance?this.getContent().unload(null!==(t=null===(e=this.getNextContent())||void 0===e?void 0:e.navigation)&&void 0!==t?t:null):void 0}))}dispose(){var e;null===this.getContent().componentInstance||this.getContent().reload||this.getContent().componentInstance===(null===(e=this.getNextContent())||void 0===e?void 0:e.componentInstance)||this.getContent().disposeComponent(this.connectedCE,this.historyCache,this.router.statefulHistory||this.options.stateful)}finalizeContentChange(e,t){var n,i,s,o,r;const a=this.contents.findIndex((t=>t.navigation===e.navigation));let l=this.contents[a];const c=this.contents[a-1];if(this.clear){const e=new kE(this.router,this,this.owningScope,this.scope.hasScope,void 0,l.navigation);this.contents.splice(a,1,e),l.delete(),l=e}else l.reload=!1;c.delete(),l.completed=!0,this.transitionAction="",l.contentStates.delete("checkedUnload"),l.contentStates.delete("checkedLoad"),this.previousViewportState=null;const u=this.router.configuration.options.indicators.viewportNavigating;null===(i=null===(n=this.connectedCE)||void 0===n?void 0:n.setActivity)||void 0===i||i.call(n,u,!1),null===(o=null===(s=this.connectedCE)||void 0===s?void 0:s.setActivity)||void 0===o||o.call(s,e.navigation.navigation,!1);let h=0;for(let e=0,t=a;e<t&&null!==(r=this.contents[0].navigation.completed)&&void 0!==r&&r;e++)h++;this.contents.splice(0,h),uE(this.coordinators,(t=>t===e))}cancelContentChange(e,t){const n=this.contents.findIndex((t=>t.navigation===e.navigation)),i=this.contents[n],s=this.contents[n-1];return pE.run(t,(e=>{if(null!==i)return i.freeContent(e,this.connectedCE,i.navigation,this.historyCache,this.router.statefulHistory||this.options.stateful)}),(()=>{var t,n,o,r;this.previousViewportState&&Object.assign(this,this.previousViewportState),null==i||i.delete(),null!==i&&this.contents.splice(this.contents.indexOf(i),1),this.transitionAction="",s.contentStates.delete("checkedUnload"),s.contentStates.delete("checkedLoad");const a=this.router.configuration.options.indicators.viewportNavigating;null===(n=null===(t=this.connectedCE)||void 0===t?void 0:t.setActivity)||void 0===n||n.call(t,a,!1),null===(r=null===(o=this.connectedCE)||void 0===o?void 0:o.setActivity)||void 0===r||r.call(o,e.navigation.navigation,!1),uE(this.coordinators,(t=>t===e))}))}wantComponent(e){return this.options.usedBy.includes(e)}acceptComponent(e){if("-"===e||null===e)return!0;const t=this.options.usedBy;return 0===t.length||!!t.includes(e)||!!t.filter((e=>e.includes("*"))).length}freeContent(e,t){const n=this.historyCache.find((e=>e.componentInstance===t));if(void 0!==n)return pE.run(e,(e=>(this.forceRemove=!0,n.freeContent(e,null,null,this.historyCache,!1))),(()=>{this.forceRemove=!1,uE(this.historyCache,(e=>e===n))}))}getRoutes(){let e=this.getComponentType();if(null===e)return null;e=e.constructor===e.constructor.constructor?e:e.constructor;const t=mE.getConfiguration(e);return Array.isArray(t)?t:null}getTitle(e){var t,n;if(this.options.noTitle)return"";const i=this.getComponentType();if(null===i)return"";let s="";const o=i.title;if(void 0!==o)if("string"==typeof o)s=o;else{const t=this.getComponentInstance();s=o.call(t,t,e)}else if(this.router.configuration.options.title.useComponentNames){let e=null!==(t=this.getContentInstruction().component.name)&&void 0!==t?t:"";const i=null!==(n=this.router.configuration.options.title.componentPrefix)&&void 0!==n?n:"";e.startsWith(i)&&(e=e.slice(i.length)),e=e.replace("-"," "),s=e.slice(0,1).toLocaleUpperCase()+e.slice(1)}return s}getComponentType(){var e;let t=null!==(e=this.getContentInstruction().component.type)&&void 0!==e?e:null;return null===t&&(t=Sw.for(this.connectedCE.element).context.componentType),null!=t?t:null}getComponentInstance(){var e;return null!==(e=this.getContentInstruction().component.instance)&&void 0!==e?e:null}getContentInstruction(){var e,t,n;return null!==(n=null!==(t=null===(e=this.getNextContent())||void 0===e?void 0:e.instruction)&&void 0!==t?t:this.getContent().instruction)&&void 0!==n?n:null}clearState(){this.options=SE.create();const e=this.owningScope,t=this.scope.hasScope;if(this.getContent().delete(),this.contents.shift(),this.contents.length<1)throw new Error("no content!");this.contents.push(new kE(this.router,this,e,t)),this.cache=[]}waitForConnected(){if(null===this.connectedCE)return new Promise((e=>{this.connectionResolve=e}))}}class TE{constructor(){this.name=null,this.instance=null,this.scope=null}get none(){return null===this.name&&null===this.instance}get endpointType(){return this.instance instanceof $E?"Viewport":this.instance instanceof bE?"ViewportScope":null}static create(e){const t=new TE;return t.set(e),t}static isName(e){return"string"==typeof e}static isInstance(e){return e instanceof eE}static getName(e){return TE.isName(e)?e:e?e.name:null}static getInstance(e){return TE.isName(e)?null:e}set(e){void 0!==e&&""!==e||(e=null),"string"==typeof e?(this.name=e,this.instance=null):(this.instance=e,null!==e&&(this.name=e.name,this.scope=e.owningScope))}toInstance(e){return null!==this.instance?this.instance:e.getEndpoint(this.endpointType,this.name)}same(e,t){return null!==this.instance&&null!==e.instance?this.instance===e.instance:!(null!==this.endpointType&&null!==e.endpointType&&this.endpointType!==e.endpointType||t&&this.scope!==e.scope||(null!==this.instance?this.instance.name:this.name)!==(null!==e.instance?e.instance.name:e.name))}}class AE{constructor(e,t,n){this.ownsScope=!0,this.nextScopeInstructions=null,this.scope=null,this.scopeModifier="",this.needsEndpointDescribed=!1,this.route=null,this.routeStart=!1,this.default=!1,this.topInstruction=!1,this.component=cE.create(e),this.endpoint=TE.create(t),this.parameters=lE.create(n)}static create(e,t,n,i=!0,s=null){const o=new AE(e,t,n);return o.ownsScope=i,o.nextScopeInstructions=s,o}static createClear(e,t){return AE.create(AE.clear(e),t)}static from(e,t){Array.isArray(t)||(t=[t]);const n=[];for(const i of t)if("string"==typeof i)n.push(...AE.parse(e,i));else if(i instanceof AE)n.push(i);else if(i instanceof Promise)n.push(AE.create(i));else if(cE.isAppelation(i))n.push(AE.create(i));else if(cE.isDefinition(i))n.push(AE.create(i.Type));else if("component"in i){const t=i,s=AE.create(t.component,t.viewport,t.parameters);void 0!==t.children&&null!==t.children&&(s.nextScopeInstructions=AE.from(e,t.children)),n.push(s)}else if("object"==typeof i&&null!==i){const e=Sw.define(i);n.push(AE.create(e))}else n.push(AE.create(i));return n}static clear(e){return sE.for(e).clear}static add(e){return sE.for(e).add}static parse(e,t){const n=sE.for(e);let i="";const s=/^[./]+/.exec(t);Array.isArray(s)&&s.length>0&&(i=s[0],t=t.slice(i.length));const o=nE.parse(n,t,!0,!0).instructions;for(const e of o)e.scopeModifier=i;return o}static stringify(e,t,n=!1,i=!1){return"string"==typeof t?t:t.map((t=>t.stringify(e,n,i))).filter((e=>e.length>0)).join(sE.for(e).sibling)}static containsSiblings(e){return null!==e&&(e.length>1||e.some((e=>AE.containsSiblings(e.nextScopeInstructions))))}static flat(e){const t=[];for(const n of e)t.push(n),n.hasNextScopeInstructions&&t.push(...AE.flat(n.nextScopeInstructions));return t}static clone(e,t=!1,n=!1){return e.map((e=>e.clone(t,n)))}static contains(e,t,n,i){return n.every((n=>n.isIn(e,t,i)))}get viewport(){return this.endpoint.instance instanceof $E||null===this.endpoint.endpointType?this.endpoint:null}get viewportScope(){return this.endpoint.instance instanceof bE||null===this.endpoint.endpointType?this.endpoint:null}isAdd(e){return this.component.name===sE.for(e).add}isClear(e){return this.component.name===sE.for(e).clear}isAddAll(e){var t,n;return this.isAdd(e)&&0===(null!==(n=null===(t=this.endpoint.name)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}isClearAll(e){var t,n;return this.isClear(e)&&0===(null!==(n=null===(t=this.endpoint.name)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}get hasNextScopeInstructions(){var e,t;return(null!==(t=null===(e=this.nextScopeInstructions)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0}typeParameters(e){var t,n;return this.parameters.toSpecifiedParameters(e,null!==(n=null===(t=this.component.type)||void 0===t?void 0:t.parameters)&&void 0!==n?n:[])}sameComponent(e,t,n=!1,i=!1){return!(n&&!this.sameParameters(e,t,i))&&this.component.same(t.component,i)}sameEndpoint(e,t){return this.endpoint.same(e.endpoint,t)}sameParameters(e,t,n=!1){return!!this.component.same(t.component,n)&&this.parameters.same(e,t.parameters,this.component.type)}stringify(e,t=!1,n=!1){var i,s,o,r,a;const l=sE.for(e);let c=t,u=!1;if(n){const e=null!==(s=null===(i=this.viewport)||void 0===i?void 0:i.instance)&&void 0!==s?s:null;if(null!==(o=null==e?void 0:e.options.noLink)&&void 0!==o&&o)return"";this.needsEndpointDescribed||null!==(r=null==e?void 0:e.options.forceDescription)&&void 0!==r&&r&&null==(null===(a=this.viewportScope)||void 0===a?void 0:a.instance)||(c=!0),(null==e?void 0:e.options.fallback)===this.component.name&&(u=!0),this.default&&!this.hasNextScopeInstructions&&(u=!0)}const h=this.nextScopeInstructions;let d=this.scopeModifier;if(null!==this.route){if(!this.routeStart)return Array.isArray(h)?AE.stringify(e,h,t,n):"";const i=this.route.matching;d+=i.endsWith(l.scope)?i.slice(0,-l.scope.length):i}else d+=this.stringifyShallow(e,c,u);if(Array.isArray(h)&&h.length>0){const i=AE.stringify(e,h,t,n);i.length>0&&(d+=l.scope,d+=1===h.length?i:`${l.groupStart}${i}${l.groupEnd}`)}return d}clone(e=!1,t=!1,n=!1){var i,s,o,r,a;const l=AE.create(null!==(s=null!==(i=this.component.promise)&&void 0!==i?i:this.component.type)&&void 0!==s?s:this.component.name,this.endpoint.name,null!==this.parameters.typedParameters?this.parameters.typedParameters:void 0);return e&&(l.component.set(null!==(r=null!==(o=this.component.instance)&&void 0!==o?o:this.component.type)&&void 0!==r?r:this.component.name),l.endpoint.set(null!==(a=this.endpoint.instance)&&void 0!==a?a:this.endpoint.name)),l.component.name=this.component.name,l.needsEndpointDescribed=this.needsEndpointDescribed,l.route=this.route,l.routeStart=this.routeStart,l.default=this.default,t&&(l.scopeModifier=this.scopeModifier),l.scope=e?this.scope:null,this.hasNextScopeInstructions&&!n&&(l.nextScopeInstructions=AE.clone(this.nextScopeInstructions,e,t)),l}isIn(e,t,n){const i=t.filter((t=>{var n,i;if(!t.sameComponent(e,this))return!1;const s=null!==(n=t.component.type)&&void 0!==n?n:this.component.type,o=null!==(i=this.component.type)&&void 0!==i?i:t.component.type,r=t.parameters.toSpecifiedParameters(e,null==s?void 0:s.parameters),a=this.parameters.toSpecifiedParameters(e,null==o?void 0:o.parameters);return!!lE.contains(r,a)&&(this.endpoint.none||t.sameEndpoint(this,!1))}));return!(0===i.length||n&&this.hasNextScopeInstructions&&!i.some((t=>{var i;return AE.contains(e,null!==(i=t.nextScopeInstructions)&&void 0!==i?i:[],this.nextScopeInstructions,n)})))}getTitle(e){var t;if(null!==this.route){const n=null===(t=this.route.match)||void 0===t?void 0:t.title;if(null!=n)return this.routeStart?"string"==typeof n?n:n(this,e):""}return this.endpoint.instance.getTitle(e)}toJSON(){var e,t,n;return{component:null!==(e=this.component.name)&&void 0!==e?e:void 0,viewport:null!==(t=this.endpoint.name)&&void 0!==t?t:void 0,parameters:null!==(n=this.parameters.parametersRecord)&&void 0!==n?n:void 0,children:this.hasNextScopeInstructions?this.nextScopeInstructions:void 0}}stringifyShallow(e,t=!1,n=!1){var i;const s=sE.for(e);let o=n?"":null!==(i=this.component.name)&&void 0!==i?i:"";const r=this.component.type?this.component.type.parameters:null,a=lE.stringify(e,this.parameters.toSortedParameters(e,r));return a.length>0&&(o+=n?a:`${s.parameters}${a}${s.parametersEnd}`),null==this.endpoint.name||t||(o+=`${s.viewport}${this.endpoint.name}`),this.ownsScope||(o+=s.noScope),o||""}}var OE=function(e,t){return function(n,i){t(n,i,e)}};class EE{constructor(e,t){this.eventName=e,this.navigation=t}static create(e){return new EE(EE.eventName,e)}}EE.eventName="au:router:navigation-navigate";let PE=class{constructor(e,t){this.ea=e,this.container=t,this.lastNavigationIndex=-1,this.navigations=[],this.options={statefulHistoryLength:0},this.isActive=!1,this.uninitializedNavigation=wE.create({instruction:"NAVIGATOR UNINITIALIZED",fullStateInstruction:"",index:0,completed:!0}),this.lastNavigationIndex=-1}start(e){if(this.isActive)throw new Error("Navigator has already been started");this.isActive=!0,this.options={...e}}stop(){if(!this.isActive)throw new Error("Navigator has not been started");this.isActive=!1}navigate(e){var t,n,i,s;e instanceof wE||(e=wE.create(e));const o=new yE;return-1===this.lastNavigationIndex&&(this.loadState(),-1!==this.lastNavigationIndex?o.refresh=!0:(o.first=!0,o.new=!0,this.lastNavigationIndex=0,this.navigations=[wE.create({index:0,instruction:"",fullStateInstruction:""})])),void 0===e.index||null!==(t=e.replacing)&&void 0!==t&&t||null!==(n=e.refreshing)&&void 0!==n&&n?null!==(i=e.refreshing)&&void 0!==i&&i||o.refresh?((e=this.navigations[this.lastNavigationIndex]).replacing=!0,e.refreshing=!0):null!==(s=e.replacing)&&void 0!==s&&s?(o.replace=!0,o.new=!0,e.index=this.lastNavigationIndex):(o.new=!0,e.index=this.lastNavigationIndex+1,this.navigations[e.index]=e):(e.historyMovement=e.index-Math.max(this.lastNavigationIndex,0),e.instruction=null!=this.navigations[e.index]?this.navigations[e.index].fullStateInstruction:e.fullStateInstruction,e.replacing=!0,e.historyMovement>0?o.forward=!0:e.historyMovement<0&&(o.back=!0)),e.navigation=o,e.previous=this.navigations[Math.max(this.lastNavigationIndex,0)],e.process=new dE,this.lastNavigationIndex=e.index,this.notifySubscribers(e),e.process.promise}async finalize(e,t){var n,i,s,o,r,a,l;if(null!==(n=e.untracked)&&void 0!==n&&n)null!==(i=e.fromBrowser)&&void 0!==i&&i&&null!=this.options.store&&await this.options.store.popNavigatorState();else if(null!==(s=e.replacing)&&void 0!==s&&s)0===(null!==(o=e.historyMovement)&&void 0!==o?o:0)&&(this.navigations[e.previous.index]=e),await this.saveState(e.index,!1);else{const n=e.index;if(t&&(this.navigations=this.navigations.slice(0,n)),this.navigations[n]=e,(null!==(r=this.options.statefulHistoryLength)&&void 0!==r?r:0)>0){const e=this.navigations.length-(null!==(a=this.options.statefulHistoryLength)&&void 0!==a?a:0);for(const t of this.navigations.slice(n))"string"==typeof t.instruction&&"string"==typeof t.fullStateInstruction||await this.serializeNavigation(t,this.navigations.slice(e,n))}await this.saveState(e.index,!(null!==(l=e.fromBrowser)&&void 0!==l&&l))}}async cancel(e){var t,n,i;null!=this.options.store&&((null===(t=e.navigation)||void 0===t?void 0:t.new)?null!==(n=e.fromBrowser)&&void 0!==n&&n&&await this.options.store.popNavigatorState():0!==(null!==(i=e.historyMovement)&&void 0!==i?i:0)&&await this.options.store.go(-e.historyMovement,!0))}async go(e){let t=this.lastNavigationIndex+e;t=Math.min(t,this.navigations.length-1),await this.options.store.go(e,!0);const n=this.navigations[t];return this.navigate(n)}getState(){var e,t;const n=null!=this.options.store?{...this.options.store.state}:{};return{navigations:null!==(e=null==n?void 0:n.navigations)&&void 0!==e?e:[],navigationIndex:null!==(t=null==n?void 0:n.navigationIndex)&&void 0!==t?t:-1}}loadState(){const{navigations:e,navigationIndex:t}=this.getState();this.navigations=e.map((e=>wE.create(e))),this.lastNavigationIndex=t}async saveState(e,t){var n,i,s,o,r;for(let e=0;e<this.navigations.length;e++)this.navigations[e]=wE.create(this.navigations[e].toStoredNavigation());if((null!==(n=this.options.statefulHistoryLength)&&void 0!==n?n:0)>0){const e=this.navigations.length-(null!==(i=this.options.statefulHistoryLength)&&void 0!==i?i:0);for(let t=0;t<e;t++){const n=this.navigations[t];"string"==typeof n.instruction&&"string"==typeof n.fullStateInstruction||await this.serializeNavigation(n,this.navigations.slice(e))}}if(null==this.options.store)return Promise.resolve();const a={navigations:(null!==(s=this.navigations)&&void 0!==s?s:[]).map((e=>this.toStoreableNavigation(e))),navigationIndex:e};return t?null===(r=null===(o=this.options)||void 0===o?void 0:o.store)||void 0===r?void 0:r.pushNavigatorState(a):this.options.store.replaceNavigatorState(a)}async refresh(){if(-1===this.lastNavigationIndex)return Promise.reject();const e=this.navigations[this.lastNavigationIndex];return e.replacing=!0,e.refreshing=!0,this.navigate(e)}notifySubscribers(e){this.ea.publish(EE.eventName,EE.create(e))}toStoreableNavigation(e){const t=e instanceof wE?e.toStoredNavigation():e;return t.instruction=AE.stringify(this.container,t.instruction),t.fullStateInstruction=AE.stringify(this.container,t.fullStateInstruction),"string"!=typeof t.scope&&(t.scope=null),t}async serializeNavigation(e,t){let n=[];for(const e of t)"string"!=typeof e.instruction&&n.push(...AE.flat(e.instruction).filter((e=>null!==e.endpoint.instance)).map((e=>e.component.instance))),"string"!=typeof e.fullStateInstruction&&n.push(...AE.flat(e.fullStateInstruction).filter((e=>null!==e.endpoint.instance)).map((e=>e.component.instance)));n=hE(n);let i=[];"string"!=typeof e.fullStateInstruction&&(i.push(...e.fullStateInstruction),e.fullStateInstruction=AE.stringify(this.container,e.fullStateInstruction)),"string"!=typeof e.instruction&&(i.push(...e.instruction),e.instruction=AE.stringify(this.container,e.instruction)),i=i.filter(((e,t,n)=>null!=e.component.instance&&n.indexOf(e)===t));const s=[];for(const e of i)await this.freeInstructionComponents(e,n,s)}freeInstructionComponents(e,t,n){var i,s;const o=e.component.instance,r=null!==(s=null===(i=e.viewport)||void 0===i?void 0:i.instance)&&void 0!==s?s:null;if(null!==o&&null!==r&&!n.some((e=>e===o))){if(!t.some((e=>e===o)))return pE.run(null,(e=>r.freeContent(e,o)),(()=>{n.push(o)}));if(e.hasNextScopeInstructions)for(const i of e.nextScopeInstructions)return this.freeInstructionComponents(i,t,n)}}};PE=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([OE(0,Dg),OE(1,fp)],PE);const RE=UT;class IE extends Array{constructor(){super(...arguments),this.currentIndex=-1}next(){return this.length>this.currentIndex+1?this[++this.currentIndex]:(this.currentIndex=-1,null)}removeCurrent(){this.splice(this.currentIndex--,1)}remove(e){uE(this,(t=>t===e))}}class jE{static matchEndpoints(e,t,n,i=!1){const s=[];let o=[];const r=e.getOwnedRoutingScopes(1/0).map((e=>e.endpoint)).filter((e=>null!==e&&!n.some((t=>e===t.endpoint.instance)))),a=new IE(...t.slice());let l=null;for(jE.matchKnownEndpoints(e.router,"ViewportScope",a,r,s,o,!1),i||jE.matchKnownEndpoints(e.router,"Viewport",a,r,s,o,!1),jE.matchViewportScopeSegment(e.router,e,a,r,s,o);null!==(l=a.next());)l.needsEndpointDescribed=!0;return jE.matchViewportConfiguration(a,r,s,o),i||jE.matchSpecifiedViewport(a,r,s,o,!1),jE.matchLastViewport(a,r,s,o),i&&jE.matchSpecifiedViewport(a,r,s,o,!1),o=[...a,...o],{matchedInstructions:s,remainingInstructions:o}}static matchKnownEndpoints(e,t,n,i,s,o,r=!1){let a;for(;null!==(a=n.next());)null===a.endpoint.instance||a.isAdd(e)||a.endpoint.endpointType!==t||(o.push(...jE.matchEndpoint(a,a.endpoint.instance,r)),s.push(a),uE(i,(e=>e===a.endpoint.instance)),n.removeCurrent())}static matchViewportScopeSegment(e,t,n,i,s,o){let r;for(;null!==(r=n.next());)for(let a of i)if(a instanceof bE&&a.acceptSegment(r.component.name)){if(Array.isArray(a.source)){let n=i.find((e=>e instanceof bE&&e.name===a.name));if(void 0===n||r.isAdd(e)){const e=a.addSourceItem();n=t.getOwnedScopes().filter((e=>e.isViewportScope)).map((e=>e.endpoint)).find((t=>t.sourceItem===e))}a=n}o.push(...jE.matchEndpoint(r,a,!1)),s.push(r),uE(i,(e=>e===r.endpoint.instance)),n.removeCurrent();break}}static matchViewportConfiguration(e,t,n,i){let s;for(;null!==(s=e.next());)for(const o of t)if(o instanceof $E&&(null==o?void 0:o.wantComponent(s.component.name))){i.push(...jE.matchEndpoint(s,o,!0)),n.push(s),uE(t,(e=>e===s.endpoint.instance)),e.removeCurrent();break}}static matchSpecifiedViewport(e,t,n,i,s){var o;let r;for(;null!==(r=e.next());){let a=r.endpoint.instance;if(null==a){const e=r.endpoint.name;if(0===(null!==(o=null==e?void 0:e.length)&&void 0!==o?o:0))continue;for(const n of t)if(n instanceof $E&&e===n.name){a=n;break}}(null==a?void 0:a.acceptComponent(r.component.name))&&(i.push(...jE.matchEndpoint(r,a,s)),n.push(r),uE(t,(e=>e===r.endpoint.instance)),e.removeCurrent())}}static matchLastViewport(e,t,n,i){let s;for(;null!==(s=e.next());){const o=[];for(const e of t)e instanceof $E&&e.acceptComponent(s.component.name)&&o.push(e);if(1===o.length){const r=o[0];i.push(...jE.matchEndpoint(s,r,!0)),n.push(s),uE(t,(e=>e===s.endpoint.instance)),e.removeCurrent()}}}static matchEndpoint(e,t,n){var i,s;e.endpoint.set(t),n&&(e.needsEndpointDescribed=!1);const o=null!==(s=null===(i=e.nextScopeInstructions)||void 0===i?void 0:i.slice())&&void 0!==s?s:[];for(const e of o)null===e.scope&&(e.scope=t instanceof $E?t.scope:t.scope.scope);return o}}class FE{constructor(e,t,n,i){this.router=e,this.hasScope=t,this.owningScope=n,this.endpointContent=i,this.id=-1,this.parent=null,this.children=[],this.path=null,this.id=++FE.lastId,this.owningScope=null!=n?n:this}static for(e){var t;if(null==e)return null;if(e instanceof FE||e instanceof $E||e instanceof bE)return e.scope;let n;if("resourceResolvers"in e)n=e;else if("context"in e)n=e.context;else if("$controller"in e)n=e.$controller.context;else{const t=Sw.for(e,{searchParents:!0});n=null==t?void 0:t.context}if(null==n)return null;const i=n.has(KE.closestEndpointKey,!0)?n.get(KE.closestEndpointKey):null;return null!==(t=null==i?void 0:i.scope)&&void 0!==t?t:null}get scope(){return this.hasScope?this:this.owningScope.scope}get endpoint(){return this.endpointContent.endpoint}get isViewport(){return this.endpoint instanceof $E}get isViewportScope(){return this.endpoint instanceof bE}get type(){return this.isViewport?"Viewport":"ViewportScope"}get enabled(){return this.endpointContent.isActive}get passThroughScope(){return this.isViewportScope&&this.endpoint.passThroughScope}get pathname(){return`${this.owningScope!==this?this.owningScope.pathname:""}/${this.endpoint.name}`}toString(e=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(e?"\n"+this.children.map((e=>e.toString(!0))).join(""):"")}toStringOwning(e=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(e?"\n"+this.ownedScopes.map((e=>e.toStringOwning(!0))).join(""):"")}get enabledChildren(){return this.children.filter((e=>e.enabled))}get hoistedChildren(){const e=this.enabledChildren;for(;e.some((e=>e.passThroughScope));)for(const t of e.slice())if(t.passThroughScope){const n=e.indexOf(t);e.splice(n,1,...t.enabledChildren)}return e}get ownedScopes(){return this.getOwnedScopes()}get routingInstruction(){return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?this.endpoint.activeContent.instruction:null}getRoutingInstruction(e){var t,n;return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?void 0!==e?null!==(n=null===(t=this.endpoint.getTimeContent(e))||void 0===t?void 0:t.instruction)&&void 0!==n?n:null:this.endpoint.getContent().instruction:null}getOwnedScopes(e=!1){const t=this.allScopes(e).filter((e=>e.owningScope===this));for(const e of t.slice())if(e.passThroughScope){const n=t.indexOf(e);t.splice(n,1,...e.getOwnedScopes())}return t}findInstructions(e,t,n){var i,s;let o=new CE;if("string"==typeof e){const r=AE.parse(this.router,e);if(n&&!AE.containsSiblings(r)){const n=this.findMatchingRoute(e);if(null!==(i=null==n?void 0:n.foundConfiguration)&&void 0!==i&&i)o=n;else if(t&&(o.instructions=r,o.instructions.length>0)){const e=null!==(s=o.instructions[0].nextScopeInstructions)&&void 0!==s?s:[];o.remaining=AE.stringify(this.router,e),o.instructions[0].nextScopeInstructions=null}}else t&&(o.instructions=r)}else o.instructions=e;for(const e of o.instructions)null===e.scope&&(e.scope=this);return o}matchEndpoints(e,t,n=!1){return jE.matchEndpoints(this,e,t,n)}addEndpoint(e,t,n,i={}){var s,o,r,a;let l=null!==(o=null===(s=this.getOwnedScopes().find((n=>n.type===e&&n.endpoint.name===t)))||void 0===s?void 0:s.endpoint)&&void 0!==o?o:null;return null!=n&&null!=(null==l?void 0:l.connectedCE)&&l.connectedCE!==n&&(l=null!==(a=null===(r=this.getOwnedScopes(!0).find((i=>i.type===e&&i.endpoint.name===t&&i.endpoint.connectedCE===n)))||void 0===r?void 0:r.endpoint)&&void 0!==a?a:null),null==l&&(l="Viewport"===e?new $E(this.router,t,n,this.scope,!!i.scope,i):new bE(this.router,t,n,this.scope,!0,null,i),this.addChild(l.connectedScope)),null!=n&&l.setConnectedCE(n,i),l}removeEndpoint(e,t,n){return!(null===(null!=n?n:null)&&!t.removeEndpoint(e,n)||(this.removeChild(t.connectedScope),0))}addChild(e){this.children.some((t=>t===e))||(null!==e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this)}removeChild(e){const t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=null)}allScopes(e=!1){const t=e?this.children.slice():this.enabledChildren;for(const n of t.slice())t.push(...n.allScopes(e));return t}reparentRoutingInstructions(){const e=this.hoistedChildren.filter((e=>null!==e.routingInstruction&&e.routingInstruction.component.name));if(!e.length)return null;for(const t of e){const e=t.reparentRoutingInstructions();t.routingInstruction.nextScopeInstructions=null!==e&&e.length>0?e:null}return e.map((e=>e.routingInstruction))}getChildren(e){return this.children.map((t=>t.endpoint.getTimeContent(e))).filter((e=>null!==e)).map((e=>e.connectedScope))}getAllRoutingScopes(e){const t=this.getChildren(e);for(const n of t.slice())t.push(...n.getAllRoutingScopes(e));return t}getOwnedRoutingScopes(e){const t=this.getAllRoutingScopes(e).filter((e=>e.owningScope===this));for(const n of t.slice())if(n.passThroughScope){const i=t.indexOf(n);t.splice(i,1,...n.getOwnedRoutingScopes(e))}return hE(t)}getRoutingInstructions(e){var t;const n=hE(this.getOwnedRoutingScopes(e).map((e=>e.endpoint))).map((t=>t.getTimeContent(e))).filter((e=>null!==e)),i=[];for(const s of n){const n=s.instruction.clone(!0,!1,!1);""!==(null!==(t=n.component.name)&&void 0!==t?t:"")&&(n.nextScopeInstructions=s.connectedScope.getRoutingInstructions(e),i.push(n))}return i}getRoutingScopes(e){return this.ownedScopes.map((t=>t.endpoint.getTimeContent(e))).filter((e=>null!==e)).map((e=>e.connectedScope))}canUnload(e){return pE.run(e,(e=>pE.runParallel(e,...this.children.map((e=>null!==e.endpoint?t=>e.endpoint.canUnload(t):t=>e.canUnload(t))))),(e=>e.previousValue.every((e=>e))))}unload(e){return pE.runParallel(e,...this.children.map((e=>null!==e.endpoint?t=>e.endpoint.unload(t):t=>e.unload(t))))}matchScope(e,t=!1){const n=[];for(const i of e)i.scope===this?n.push(i):t&&i.hasNextScopeInstructions&&n.push(...this.matchScope(i.nextScopeInstructions,t));return n}findMatchingRoute(e){if(this.isViewportScope&&!this.passThroughScope)return this.findMatchingRouteInRoutes(e,this.endpoint.getRoutes());if(this.isViewport)return this.findMatchingRouteInRoutes(e,this.endpoint.getRoutes());for(const t of this.enabledChildren){const n=t.findMatchingRoute(e);if(null!==n)return n}return null}findMatchingRouteInRoutes(e,t){var n;if(!Array.isArray(t))return null;t=t.map((e=>this.ensureProperRoute(e)));const i=[];for(const e of t){const t=Array.isArray(e.path)?e.path:[e.path];for(const n of t)i.push({...e,path:n,handler:e}),""!==n&&i.push({...e,path:`${n}/*remainingPath`,handler:e})}const s=new CE;(e.startsWith("/")||e.startsWith("+"))&&(e=e.slice(1));const o=new RE;o.add(i);const r=o.recognize(e);if(null!==r){s.match=r.endpoint.route.handler,s.matching=e;const i={...r.params};if(void 0!==i.remainingPath&&(s.remaining=i.remainingPath,Reflect.deleteProperty(i,"remainingPath"),s.matching=s.matching.slice(0,s.matching.indexOf(s.remaining))),s.params=i,null!==s.match.redirectTo){let e=s.match.redirectTo;return(null!==(n=s.remaining)&&void 0!==n?n:"").length>0&&(e+=`/${s.remaining}`),this.findMatchingRouteInRoutes(e,t)}}if(s.foundConfiguration){s.instructions=AE.clone(s.match.instructions,!1,!0);const e=s.instructions.slice();for(;e.length>0;){const t=e.shift();t.parameters.addParameters(s.params),t.route=s,t.hasNextScopeInstructions&&e.unshift(...t.nextScopeInstructions)}s.instructions.length>0&&(s.instructions[0].routeStart=!0)}return s}ensureProperRoute(e){return void 0===e.id&&(e.id=Array.isArray(e.path)?e.path.join(","):e.path),void 0===e.instructions&&(e.instructions=[{component:e.component,viewport:e.viewport,parameters:e.parameters,children:e.children}]),null===e.redirectTo&&(e.instructions=AE.from(this.router,e.instructions)),e}}FE.lastId=0;class LE{constructor(e,t,n=0){this.taskQueue=e,this.item=t,this.cost=n,this.done=!1,this.promise=new Promise(((e,t)=>{this.resolve=()=>{this.taskQueue.resolve(this,e)},this.reject=e=>{this.taskQueue.reject(this,t,e)}}))}async execute(){"execute"in this.item?await this.item.execute(this):await this.item(this)}wait(){return this.promise}}class DE{constructor(e){this.callback=e,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null,this.dequeue=e=>{var t;null===this.processing&&(void 0!==e&&(this.currentExecutionCostInCurrentTick=0),0!==this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===e&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=null!==(t=this.processing.cost)&&void 0!==t?t:0,void 0!==this.callback?this.callback(this.processing):this.processing.execute().catch((e=>{throw e}))))))}}get isActive(){return null!==this.task}get length(){return this.pending.length}start(e){this.platform=e.platform,this.allowedExecutionCostWithinTick=e.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(e,t){const n=Array.isArray(e),i=n?e:[e],s=i.map(((e,n)=>Array.isArray(t)?t[n]:t)).map((e=>void 0!==e?e:1)),o=[];for(const e of i)o.push(e instanceof LE?e:this.createQueueTask(e,s.shift()));return this.pending.push(...o),this.dequeue(),n?o:o[0]}createQueueTask(e,t){return new LE(this,e,t)}clear(){this.pending.length=0}resolve(e,t){t(),this.processing=null,this.dequeue()}reject(e,t,n){t(n),this.processing=null,this.dequeue()}}var NE=function(e,t){return function(n,i){t(n,i,e)}};let ME=class{constructor(e,t,n,i,s){this.platform=e,this.window=t,this.history=n,this.location=i,this.ea=s,this.allowedExecutionCostWithinTick=2,this.isActive=!1,this.options={useUrlFragmentHash:!0},this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls=new DE}start(e){if(this.isActive)throw new Error("Browser navigation has already been started");this.isActive=!0,null!=e.useUrlFragmentHash&&(this.options.useUrlFragmentHash=e.useUrlFragmentHash),this.pendingCalls.start({platform:this.platform,allowedExecutionCostWithinTick:this.allowedExecutionCostWithinTick}),this.window.addEventListener("popstate",this)}stop(){if(!this.isActive)throw new Error("Browser navigation has not been started");this.window.removeEventListener("popstate",this),this.pendingCalls.stop(),this.options={useUrlFragmentHash:!0},this.isActive=!1}get length(){return this.history.length}get state(){return this.history.state}get viewerState(){var e;const{pathname:t,search:n,hash:i}=this.location;return new BE(t,n.slice(1),i,null!==(e=this.options.useUrlFragmentHash)&&void 0!==e&&e?i.slice(1):t)}async go(e,t=!1){const n=this.pendingCalls.createQueueTask((e=>e.resolve()),1);return this.pendingCalls.enqueue([e=>{const i=n,s=t;this.forwardState({eventTask:i,suppressPopstate:s}),e.resolve()},t=>{const n=this.history,i=e;n.go(i),t.resolve()}],[0,1]),n.wait()}async pushNavigatorState(e){const{title:t,path:n}=e.navigations[e.navigationIndex],i=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((s=>{const o=this.history,r=e,a=t||"",l=`${i}${n}`;try{o.pushState(r,a,l),this.setTitle(a)}catch(e){const t=this.tryCleanState(r,"push",e);o.pushState(t,a,l),this.setTitle(a)}s.resolve()}),1).wait()}async replaceNavigatorState(e,t,n){const i=e.navigations[e.navigationIndex];null!=t||(t=i.title),null!=n||(n=i.path);const s=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((i=>{const o=this.history,r=e,a=t||"",l=`${s}${n}`;try{o.replaceState(r,a,l),this.setTitle(a)}catch(e){const t=this.tryCleanState(r,"replace",e);o.replaceState(t,a,l),this.setTitle(a)}i.resolve()}),1).wait()}async popNavigatorState(){const e=this.pendingCalls.createQueueTask((e=>e.resolve()),1);return this.pendingCalls.enqueue((async t=>{const n=e;await this.popState(n),t.resolve()}),1),e.wait()}setTitle(e){this.window.document.title=e}handleEvent(e){this.handlePopStateEvent(e)}handlePopStateEvent(e){const{eventTask:t,suppressPopstate:n}=this.forwardedState;this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls.enqueue((async i=>{n||this.notifySubscribers(e),null!==t&&await t.execute(),i.resolve()}),1)}notifySubscribers(e){this.ea.publish(HE.eventName,HE.create(this.viewerState,e,this.history.state))}async popState(e){var t,n;await this.go(-1,!0);const i=this.history.state,s=null===(t=null==i?void 0:i.navigations)||void 0===t?void 0:t[null!==(n=null==i?void 0:i.navigationIndex)&&void 0!==n?n:0];null==s||s.firstEntry||(await this.go(-1,!0),await this.pushNavigatorState(i)),await e.execute()}forwardState(e){this.forwardedState=e}tryCleanState(e,t,n){try{return JSON.parse(JSON.stringify(e))}catch(e){throw new Error(`Failed to ${t} state, probably due to unserializable data and/or parameters: ${e}${n}`)}}};ME=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([NE(0,Ny),NE(1,lC),NE(2,uC),NE(3,cC),NE(4,Dg)],ME);class BE{constructor(e,t,n,i){this.path=e,this.query=t,this.hash=n,this.instruction=i}}class HE{constructor(e,t,n,i){this.eventName=e,this.viewerState=t,this.event=n,this.state=i}static create(e,t,n){return new HE(HE.eventName,e,t,n)}}HE.eventName="au:router:navigation-state-change";class VE{constructor(e){this.endpoint=e,this.running=!1,this.states=new Map,this.checkedStates=[],this.syncingState=null,this.syncPromise=null}hasReachedState(e){return this.states.has(e)&&null===this.states.get(e)}}class qE{constructor(e,t){this.router=e,this.navigation=t,this.running=!1,this.completed=!1,this.cancelled=!1,this.hasAllEndpoints=!1,this.appendedInstructions=[],this.entities=[],this.syncStates=new Map,this.checkedSyncStates=new Set}static create(e,t,n){const i=new qE(e,t);return n.syncStates.forEach((e=>i.addSyncState(e))),i}run(){if(!this.running){this.running=!0;for(const e of this.entities)if(!e.running&&(e.running=!0,e.endpoint.transition(this),this.cancelled))break}}addSyncState(e){const t=new dE;this.syncStates.set(e,t)}addEndpoint(e){let t=this.entities.find((t=>t.endpoint===e));return void 0!==t||(t=new VE(e),this.entities.push(t),this.recheckSyncStates(),this.running&&t.endpoint.transition(this)),t}addEndpointState(e,t){let n=this.entities.find((t=>t.endpoint===e));void 0===n&&(n=this.addEndpoint(e));const i=n.states.get(t);i instanceof dE&&i.resolve(),n.states.set(t,null),this.checkSyncState(t)}waitForSyncState(e,t=null){if(0===this.entities.length)return;const n=this.syncStates.get(e);if(void 0!==n){if(null!==t){const i=this.entities.find((e=>e.endpoint===t));if(null===(null==i?void 0:i.syncPromise)&&n.isPending)return i.syncingState=e,i.syncPromise=new dE,i.checkedStates.push(e),this.checkedSyncStates.add(e),Promise.resolve().then((()=>{this.checkSyncState(e)})).catch((e=>{throw e})),i.syncPromise.promise}return n.isPending?n.promise:void 0}}waitForEndpointState(e,t){if(!this.syncStates.has(t))return;let n=this.entities.find((t=>t.endpoint===e));if(null==n&&(n=this.addEndpoint(e)),n.hasReachedState(t))return;let i=n.states.get(t);return null==i&&(i=new dE,n.states.set(t,i)),i.promise}finalEndpoint(){this.hasAllEndpoints=!0,this.syncStates.forEach(((e,t)=>this.checkSyncState(t)))}finalize(){this.entities.forEach((e=>e.endpoint.finalizeContentChange(this,null))),this.completed=!0,this.navigation.completed=!0}cancel(){this.cancelled=!0,this.entities.forEach((e=>{const t=e.endpoint.cancelContentChange(this,null);t instanceof Promise&&t.catch((e=>{throw e}))})),this.router.navigator.cancel(this.navigation).then((()=>{var e;null===(e=this.navigation.process)||void 0===e||e.resolve(!1)})).catch((e=>{throw e})),this.completed=!0,this.navigation.completed=!0}enqueueAppendedInstructions(e){this.appendedInstructions.push(...e)}dequeueAppendedInstructions(e,t,n){let i=[...this.appendedInstructions];e=[...e],t=[...t],n=[...n];const s=i.filter((e=>!e.default)),o=i.filter((e=>e.default));for(i=s.length>0?[...s]:[...o];i.length>0;){const s=i.shift();uE(this.appendedInstructions,(e=>e===s));const o=t.some((e=>e.sameEndpoint(s,!0))),r=e.find((e=>e.sameEndpoint(s,!0))),a=n.find((e=>e.sameEndpoint(s,!0)));s.default&&(o||void 0!==r&&!r.default||void 0!==a&&!a.default)||(void 0!==r&&uE(e,(e=>e===r)),void 0!==a&&uE(n,(e=>e===a)),null!==s.endpoint.instance?e.push(s):n.push(s))}return{matchedInstructions:e,earlierMatchedInstructions:t,remainingInstructions:n}}checkSyncState(e){var t;const n=this.syncStates.get(e);if(void 0!==n&&this.hasAllEndpoints&&n.isPending&&this.entities.every((t=>t.hasReachedState(e)))&&(!this.checkedSyncStates.has(e)||this.entities.every((t=>t.checkedStates.includes(e))))){for(const n of this.entities)n.syncingState===e&&(null===(t=n.syncPromise)||void 0===t||t.resolve(),n.syncPromise=null,n.syncingState=null);n.resolve()}}recheckSyncStates(){this.syncStates.forEach(((e,t)=>{e.isPending||this.entities.every((e=>e.hasReachedState(t)))||this.addSyncState(t)}))}}class UE{constructor(e,t,n){var i,s;this.hook=e,this.id=n,this.type="beforeNavigation",this.includeTargets=[],this.excludeTargets=[],void 0!==t.type&&(this.type=t.type);for(const e of null!==(i=t.include)&&void 0!==i?i:[])this.includeTargets.push(new zE(e));for(const e of null!==(s=t.exclude)&&void 0!==s?s:[])this.excludeTargets.push(new zE(e))}static add(e,t){const n=new UE(e,null!=t?t:{},++this.lastIdentity);return this.hooks[n.type].push(n),this.lastIdentity}static remove(e){for(const t in this.hooks)if(Object.prototype.hasOwnProperty.call(this.hooks,t)){const n=this.hooks[t].findIndex((t=>t.id===e));n>=0&&this.hooks[t].splice(n,1)}}static removeAll(){for(const e in this.hooks)this.hooks[e]=[]}static async invokeBeforeNavigation(e,t){return this.invoke("beforeNavigation",t,e)}static async invokeTransformFromUrl(e,t){return this.invoke("transformFromUrl",t,e)}static async invokeTransformToUrl(e,t){return this.invoke("transformToUrl",t,e)}static async invokeTransformTitle(e,t){return this.invoke("transformTitle",t,e)}static async invoke(e,t,n){let i=n;for(const s of this.hooks[e])if(!s.wantsMatch||s.matches(n))if(i=await s.invoke(t,n),"boolean"==typeof i){if(!i)return!1}else n=i;return i}get wantsMatch(){return this.includeTargets.length>0||this.excludeTargets.length>0}matches(e){return!(this.includeTargets.length&&!this.includeTargets.some((t=>t.matches(e)))||this.excludeTargets.length&&this.excludeTargets.some((t=>t.matches(e))))}invoke(e,t){return this.hook(t,e)}}UE.hooks={beforeNavigation:[],transformFromUrl:[],transformToUrl:[],transformTitle:[]},UE.lastIdentity=0;class zE{constructor(e){if(this.componentType=null,this.componentName=null,this.viewport=null,this.viewportName=null,"string"==typeof e)this.componentName=e;else if(cE.isType(e))this.componentType=e,this.componentName=cE.getName(e);else{const t=e;null!=t.component&&(this.componentType=cE.isType(t.component)?cE.getType(t.component):null,this.componentName=cE.getName(t.component)),null!=t.viewport&&(this.viewport=TE.isInstance(t.viewport)?t.viewport:null,this.viewportName=TE.getName(t.viewport))}}matches(e){const t=e.slice();t.length||t.push(AE.create(""));for(const e of t)if(null!==this.componentName&&this.componentName===e.component.name||null!==this.componentType&&this.componentType===e.component.type||null!==this.viewportName&&this.viewportName===e.endpoint.name||null!==this.viewport&&this.viewport===e.endpoint.instance)return!0;return!1}}class _E{static async getTitle(e,t,n){let i=await UE.invokeTransformTitle(e,t);if("string"!=typeof i){const e=_E.stringifyTitles(i,t,n);i=n.appTitle,i=i.replace(/\${componentTitles}/g,e),i=i.replace(/\${appTitleSeparator}/g,""!==e?n.appTitleSeparator:"")}return i=await UE.invokeTransformTitle(i,t),i}static stringifyTitles(e,t,n){return e.map((e=>_E.stringifyTitle(e,t,n))).filter((e=>{var t;return(null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0)>0})).join(" + ")}static stringifyTitle(e,t,n){const i=e.nextScopeInstructions;let s=_E.resolveTitle(e,t,n);if(Array.isArray(i)&&i.length>0){let e=_E.stringifyTitles(i,t,n);e.length>0&&(1!==i.length&&(e="[ "+e+" ]"),s=s.length>0?"top-down"===n.componentTitleOrder?s+n.componentTitleSeparator+e:e+n.componentTitleSeparator+s:e)}return s}static resolveTitle(e,t,n){let i=e.getTitle(t);return null!=n.transformTitle&&(i=n.transformTitle(i,e,t)),i}}const WE=gp.createInterface("IRouter",(e=>e.singleton(KE)));class KE{constructor(e,t,n,i,s,o){this.container=e,this.ea=t,this.navigator=n,this.viewer=i,this.store=s,this.configuration=o,this.rootScope=null,this.activeComponents=[],this.appendedInstructions=[],this.isActive=!1,this.coordinators=[],this.loadedFirst=!1,this.handleNavigatorNavigateEvent=e=>{this.processNavigation(e.navigation).catch((e=>{throw e}))},this.handleNavigatorStateChangeEvent=e=>{var t;if(null!=(null===(t=e.state)||void 0===t?void 0:t.navigationIndex)){const t=wE.create(e.state.navigations[e.state.navigationIndex]);t.instruction=e.viewerState.instruction,t.fromBrowser=!0,this.navigator.navigate(t).catch((e=>{throw e}))}else this.load(e.viewerState.instruction,{fromBrowser:!0}).catch((e=>{throw e}))},this.processNavigation=async e=>{var t,n,i;const s=this.configuration.options,o=qE.create(this,e,{syncStates:this.configuration.options.navigationSyncStates});this.coordinators.push(o),o.appendedInstructions.push(...this.appendedInstructions.splice(0,this.appendedInstructions.length)),this.ea.publish(JE.eventName,JE.create(e));let r="string"!=typeof e.instruction||e.useFullStateInstruction?e.useFullStateInstruction?e.fullStateInstruction:e.instruction:await UE.invokeTransformFromUrl(e.instruction,o.navigation);const a=s.basePath;null!==a&&"string"==typeof r&&r.startsWith(a)&&!s.useUrlFragmentHash&&(r=r.slice(a.length)),"/"===r&&(r=""),null!==(t=e.scope)&&void 0!==t||(e.scope=this.rootScope.scope);let l=e.scope.findInstructions(r,s.useDirectRouting,s.useConfiguredRoutes),c=null;e.instruction.length>0&&!l.foundConfiguration&&!l.foundInstructions&&this.unknownRoute(l.remaining);let u=l.instructions;l.foundConfiguration&&(e.path=e.instruction.replace(/^\//,""),c=(null!=c?c:"")+l.matching,this.rootScope.path=c);const h=u.filter((e=>e.component.isPromise()));h.length>0&&await Promise.all(h.map((e=>e.component.resolve()))),this.configuration.options.additiveInstructionDefault||(u=this.ensureClearStateInstruction(u));let d=[];({clearEndpoints:d,instructions:u}=this.getClearAllEndpoints(u));for(const e of u.filter((e=>e.isAddAll(this))))e.endpoint.set(e.scope.endpoint.name),e.scope=e.scope.owningScope;for(const e of u)e.topInstruction=!0;const p=[];let g=[],{matchedInstructions:f,remainingInstructions:m}=this.matchEndpoints(u,g),v=100;do{if(!v--)throw this.ea.publish(iP.eventName,iP.create(e)),this.ea.publish(eP.eventName,eP.create(e)),GE(m);const t=[],s=f.map((e=>e.scope)),r=f.map((e=>e.endpoint.instance));f.push(...d.filter((e=>s.includes(e.owningScope)&&!r.includes(e))).map((e=>AE.createClear(this,e))));const a=await UE.invokeBeforeNavigation(f,e);if(!1===a)return o.cancel(),this.ea.publish(tP.eventName,tP.create(e)),void this.ea.publish(eP.eventName,eP.create(e));if(!0!==a&&a!==f){const e=AE.flat(f);m=m.filter((t=>!e.includes(t))),f=a,l.remaining=""}for(const s of f){const r=s.endpoint.instance;if(null!==r){r.path=c;const a=r.setNextContent(s,e);"skip"!==a&&(t.push(r),o.addEndpoint(r));const l=[r];if("swap"===a&&l.push(...r.getContent().connectedScope.allScopes(!0).map((e=>e.endpoint))),uE(d,(e=>l.includes(e))),uE(f,(e=>e!==s&&e.isClear(this)&&l.includes(e.endpoint.instance))),!s.isClear(this)&&(null===(i=null===(n=s.scope)||void 0===n?void 0:n.parent)||void 0===i?void 0:i.isViewportScope)&&(uE(d,(e=>e===s.scope.parent.endpoint)),uE(f,(e=>e!==s&&e.isClear(this)&&e.endpoint.instance===s.scope.parent.endpoint))),"skip"!==a&&s.hasNextScopeInstructions)for(const e of s.nextScopeInstructions)e.scope=r.scope,e.endpoint.instance=null}}const u=f.filter((e=>{var t;return"skip"===(null===(t=e.endpoint.instance)||void 0===t?void 0:t.transitionAction)})),h=u.filter((e=>e.hasNextScopeInstructions));if((0===u.length||0===h.length&&!l.hasRemaining)&&(this.isRestrictedNavigation||o.finalEndpoint(),o.run(),o.hasAllEndpoints)){const e=o.waitForSyncState("guardedUnload");e instanceof Promise&&await e}if(o.cancelled)return this.ea.publish(tP.eventName,tP.create(e)),void this.ea.publish(eP.eventName,eP.create(e));for(const e of t)p.every((t=>t!==e))&&p.push(e);if(g.push(...f.splice(0)),m.length>0&&({matchedInstructions:f,remainingInstructions:m}=this.matchEndpoints(m,g)),!this.isRestrictedNavigation&&(f.length>0||m.length>0)&&o.running){const e=o.waitForSyncState("swapped");e instanceof Promise&&await e}if(l.hasRemaining&&0===f.length&&0===m.length){const{foundChildRoute:e,configuredChildRoutePath:t}=this.findChildRoute(g,l,c);e.foundInstructions?(l=e,c=t,this.appendInstructions(e.instructions)):this.unknownRoute(e.remaining)}e.useFullStateInstruction&&(o.appendedInstructions=o.appendedInstructions.filter((e=>!e.default)));const b=o.appendedInstructions.filter((e=>e.component.isPromise()));if(b.length>0&&await Promise.all(b.map((e=>e.component.resolve()))),({matchedInstructions:f,earlierMatchedInstructions:g,remainingInstructions:m}=o.dequeueAppendedInstructions(f,g,m)),0===f.length&&0===m.length){const e=g.map((e=>{var t,n;return null===(n=(null===(t=e.endpoint.instance)||void 0===t?void 0:t.connectedCE).pendingPromise)||void 0===n?void 0:n.promise})).filter((e=>null!=e));e.length>0?(await Promise.any(e),({matchedInstructions:f,earlierMatchedInstructions:g,remainingInstructions:m}=o.dequeueAppendedInstructions(f,g,m))):f=d.map((e=>AE.createClear(this,e)))}}while(f.length>0||m.length>0);return pE.run(null,(()=>(o.finalEndpoint(),o.waitForSyncState("completed"))),(()=>(o.finalize(),this.updateNavigation(e))),(()=>{e.navigation.new&&!e.navigation.first&&!e.repeating&&p.every((e=>e.options.noHistory))&&(e.untracked=!0)}),(async()=>{for(var e;this.coordinators.length>0&&this.coordinators[0].completed;){const t=this.coordinators.shift();await this.navigator.finalize(t.navigation,!1),this.ea.publish(nP.eventName,nP.create(t.navigation)),this.ea.publish(eP.eventName,eP.create(t.navigation)),null===(e=t.navigation.process)||void 0===e||e.resolve(!0)}}))}}static get inject(){return[fp,Dg,PE,ME,ME,DP]}get isNavigating(){return this.coordinators.length>0}get isRestrictedNavigation(){const e=this.configuration.options.navigationSyncStates;return e.includes("guardedLoad")||e.includes("unloaded")||e.includes("loaded")||e.includes("guarded")||e.includes("routed")}get statefulHistory(){return void 0!==this.configuration.options.statefulHistoryLength&&this.configuration.options.statefulHistoryLength>0}start(){if(this.isActive)throw new Error("Router has already been started");this.isActive=!0;const e=this.container.get(zx);this.rootScope=new bE(this,"rootScope",e.controller.viewModel,null,!0,e.config.component);const t=this.configuration.options;if(null===t.basePath){const n=new URL(e.host.baseURI);t.basePath=n.pathname}t.basePath.endsWith("/")&&(t.basePath=t.basePath.slice(0,-1)),this.navigator.start({store:this.store,viewer:this.viewer,statefulHistoryLength:this.configuration.options.statefulHistoryLength}),this.navigatorStateChangeEventSubscription=this.ea.subscribe(HE.eventName,this.handleNavigatorStateChangeEvent),this.navigatorNavigateEventSubscription=this.ea.subscribe(EE.eventName,this.handleNavigatorNavigateEvent),this.viewer.start({useUrlFragmentHash:this.configuration.options.useUrlFragmentHash}),this.ea.publish(QE.eventName,QE.create())}stop(){if(!this.isActive)throw new Error("Router has not been started");this.ea.publish(ZE.eventName,ZE.create()),this.navigator.stop(),this.viewer.stop(),this.navigatorStateChangeEventSubscription.dispose(),this.navigatorNavigateEventSubscription.dispose()}async initialLoad(){const e=this.load(this.viewer.viewerState.instruction,{replacing:!0,fromBrowser:!1});return this.loadedFirst=!0,e}getEndpoint(e,t){var n;return null!==(n=this.allEndpoints(e).find((e=>e.name===t)))&&void 0!==n?n:null}allEndpoints(e,t=!1){return this.rootScope.scope.allScopes(t).filter((t=>null===e||t.type===e)).map((e=>e.endpoint))}addEndpoint(e,...t){throw new Error("Not implemented")}connectEndpoint(e,t,n,i,s){const o=n.container,r=(o.has(KE.closestEndpointKey,!0)?o.get(KE.closestEndpointKey):this.rootScope).connectedScope;return null===e&&(e=r.addEndpoint(t,i,n,s),Bp.instance(KE.closestEndpointKey,e).register(o)),e}disconnectEndpoint(e,t,n){if(!t.connectedScope.parent.removeEndpoint(e,t,n))throw new Error("Failed to remove endpoint: "+t.name)}async load(e,t){var n,i,s;t=null!=t?t:{},e=this.extractQuery(e,t);let o=null;if(({instructions:e,scope:o}=this.applyLoadOptions(e,t)),null!==(n=t.append)&&void 0!==n&&n&&(!this.loadedFirst||this.isNavigating))return e=AE.from(this,e),this.appendInstructions(e,o),Promise.resolve();const r=wE.create({instruction:e,fullStateInstruction:"",scope:o,title:t.title,data:t.data,query:t.query,parameters:t.parameters,replacing:null!==(i=t.replacing)&&void 0!==i&&i||t.replace,repeating:t.append,fromBrowser:null!==(s=t.fromBrowser)&&void 0!==s&&s,origin:t.origin,completed:!1});return this.navigator.navigate(r)}applyLoadOptions(e,t,n=!0){var i,s,o;"origin"in(t=null!=t?t:{})&&!("context"in t)&&(t.context=t.origin);let r=null!==(s=FE.for(null!==(i=t.context)&&void 0!==i?i:null))&&void 0!==s?s:null;if("string"==typeof e){if(e.startsWith("/"))r=null;else{if(e.startsWith("."))for(e.startsWith("./")&&(e=e.slice(2));e.startsWith("../");)r=null!==(o=null==r?void 0:r.parent)&&void 0!==o?o:r,e=e.slice(3);null!=(null==r?void 0:r.path)&&(e=`${r.path}/${e}`,r=null)}if(!n){e=AE.from(this,e);for(const t of e)null===t.scope&&(t.scope=r)}}else{e=AE.from(this,e);for(const t of e)null===t.scope&&(t.scope=r)}return{instructions:e,scope:r}}refresh(){return this.navigator.refresh()}back(){return this.navigator.go(-1)}forward(){return this.navigator.go(1)}go(e){return this.navigator.go(e)}checkActive(e,t){if("string"==typeof e)throw new Error(`Parameter instructions to checkActivate can not be a string ('${e}')!`);t=null!=t?t:{},({instructions:e}=this.applyLoadOptions(e,t)),e.forEach((e=>{var t;return null!==(t=e.scope)&&void 0!==t?t:e.scope=this.rootScope.scope}));const n=hE(e.map((e=>e.scope)));for(const t of n){const n=t.matchScope(e,!1),i=t.matchScope(this.activeComponents,!0);if(!AE.contains(this,i,n,!0))return!1}return!0}appendInstructions(e,t=null){null===t&&(t=this.rootScope.scope);for(const n of e)null===n.scope&&(n.scope=t);let n=null;for(let e=this.coordinators.length-1;e>=0;e--)if(!this.coordinators[e].completed){n=this.coordinators[e];break}if(null===n){if(this.loadedFirst)throw Error("Failed to append routing instructions to coordinator");this.appendedInstructions.push(...e)}null==n||n.enqueueAppendedInstructions(e)}unknownRoute(e){if("string"==typeof e&&0!==e.length)throw this.configuration.options.useConfiguredRoutes&&this.configuration.options.useDirectRouting?new Error("No matching configured route or component found for '"+e+"'"):this.configuration.options.useConfiguredRoutes?new Error("No matching configured route found for '"+e+"'"):new Error("No matching route/component found for '"+e+"'")}ensureClearStateInstruction(e){if(e.length>0){const t=e[0];if(!t.isAddAll(this)&&!t.isClearAll(this)){const n=AE.create(AE.clear(this));return n.scope=t.scope,[n,...e]}}return e}getClearAllEndpoints(e){let t=[];for(const n of e.filter((e=>e.isClearAll(this))))t=n.scope.allScopes().filter((e=>{var t;return!e.endpoint.isEmpty&&e!==(null===(t=this.rootScope)||void 0===t?void 0:t.connectedScope)})).map((e=>e.endpoint));return{clearEndpoints:t,instructions:e.filter((e=>!e.isClearAll(this)))}}matchEndpoints(e,t,n=!1){const i=[],s=[];for(;e.length;){const o=e[0];null===o.scope&&(o.scope=this.rootScope.scope);const r=o.scope,{matchedInstructions:a,remainingInstructions:l}=r.matchEndpoints(e.filter((e=>e.scope===r)),t,n);i.push(...a),s.push(...l),e=e.filter((e=>e.scope!==r))}return{matchedInstructions:i.slice(),remainingInstructions:s}}findChildRoute(e,t,n){const i=this.configuration.options;let s=new CE,o=null!=n?n:"";const r=e.filter((e=>{var t;return(null===(t=e.endpoint.instance)||void 0===t?void 0:t.path)===n})).map((e=>e.endpoint.instance)).filter(((e,t,n)=>n.indexOf(e)===t));for(const e of r)if(s=e.scope.findInstructions(t.remaining,i.useDirectRouting,i.useConfiguredRoutes),s.foundConfiguration)break;return s.foundInstructions&&(o+=`/${t.matching}`),{foundChildRoute:s,configuredChildRoutePath:o}}async updateNavigation(e){var t,n,i;this.rootScope.scope.reparentRoutingInstructions();const s=this.rootScope.scope.getRoutingInstructions(e.timestamp),o=[];let{matchedInstructions:r,remainingInstructions:a}=this.matchEndpoints(s,o,!0),l=100;for(;a.length>0;){if(0==l--)throw new Error("Failed to find viewport when updating viewer paths.");o.push(...r),({matchedInstructions:r,remainingInstructions:a}=this.matchEndpoints(a,o,!0))}e.timestamp>=(null!==(n=null===(t=this.activeNavigation)||void 0===t?void 0:t.timestamp)&&void 0!==n?n:0)&&(this.activeNavigation=e,this.activeComponents=s);let c=await UE.invokeTransformToUrl(s,e);if("string"!=typeof c&&(c=AE.stringify(this,c,!1,!0)),c=await UE.invokeTransformToUrl(c,e),null==e.query&&null!=e.parameters){const t=new URLSearchParams;for(let[n,i]of Object.entries(e.parameters)){n=encodeURIComponent(n),Array.isArray(i)||(i=[i]);for(const e of i)t.append(n,encodeURIComponent(e))}e.query=t.toString()}let u=`${this.configuration.options.basePath}/`;(null===u||""!==c&&"/"===c[0]||this.configuration.options.useUrlFragmentHash)&&(u="");const h=e.query&&e.query.length?"?"+e.query:"";e.path=u+c+h;const d=[AE.create(AE.clear(this))];if(d.push(...AE.clone(s,this.statefulHistory)),e.fullStateInstruction=d,null===(null!==(i=e.title)&&void 0!==i?i:null)){const t=await _E.getTitle(s,e,this.configuration.options.title);null!==t&&(e.title=t)}return Promise.resolve()}extractQuery(e,t){var n;if("string"==typeof e&&null==t.query){const[n,i]=e.split("?");e=n,t.query=i}return"string"==typeof t.parameters&&null==t.query&&(t.query=t.parameters,t.parameters=void 0),"string"==typeof t.query&&t.query.length>0&&(null!==(n=t.parameters)&&void 0!==n||(t.parameters={}),new URLSearchParams(t.query).forEach(((e,n)=>{n=decodeURIComponent(n),e=decodeURIComponent(e),n in t.parameters?(Array.isArray(t.parameters[n])||(t.parameters[n]=[t.parameters[n]]),t.parameters[n].push(e)):t.parameters[n]=e}))),e}}function GE(e){const t=new Error(`${e.length} remaining instructions after 100 iterations; there is likely an infinite loop.`);return t.remainingInstructions=e,console.log(t,t.remainingInstructions),t}KE.closestEndpointKey=op.annotation.keyFor("closest-endpoint");class YE{constructor(e){this.eventName=e}}class QE extends YE{static create(){return new QE(this.eventName)}}QE.eventName="au:router:router-start";class ZE extends YE{static create(){return new ZE(this.eventName)}}ZE.eventName="au:router:router-stop";class XE{constructor(e,t){this.eventName=e,this.navigation=t}}class JE extends XE{static create(e){return new JE(this.eventName,e)}}JE.eventName="au:router:navigation-start";class eP extends XE{static create(e){return new eP(this.eventName,e)}}eP.eventName="au:router:navigation-end";class tP extends XE{static create(e){return new tP(this.eventName,e)}}tP.eventName="au:router:navigation-cancel";class nP extends XE{static create(e){return new nP(this.eventName,e)}}nP.eventName="au:router:navigation-complete";class iP extends XE{static create(e){return new iP(this.eventName,e)}}iP.eventName="au:router:navigation-error";var sP=function(e,t){return function(n,i){t(n,i,e)}};const oP=gp.createInterface("ILinkHandler",(e=>e.singleton(rP)));let rP=class{constructor(e,t){this.window=e,this.router=t}handleEvent(e){this.handleClick(e)}handleClick(e){var t,n,i;if(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;const s=e.currentTarget;if(s.hasAttribute("external"))return;const o=null!==(t=s.getAttribute("target"))&&void 0!==t?t:"";if(o.length>0&&o!==this.window.name&&"_self"!==o)return;const r=Pw.for(s,"goto"),a=void 0!==r?r.viewModel.value:null,l=Pw.for(s,"load"),c=void 0!==l?l.viewModel.value:null,u=this.router.configuration.options.useHref&&s.hasAttribute("href")?s.getAttribute("href"):null;if(!(null!==a&&0!==a.length||null!==c&&0!==c.length||null!==u&&0!==u.length))return;e.preventDefault();let h=null!==(i=null!==(n=null!=c?c:a)&&void 0!==n?n:u)&&void 0!==i?i:"";"string"==typeof h&&h.startsWith("#")&&(h=h.slice(1),h.startsWith("/")||(h=`/${h}`)),this.router.load(h,{origin:s}).catch((e=>{throw e}))}};var aP;rP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([sP(0,lC),sP(1,WE)],rP),function(e){e.default="default",e.disallow="disallow",e.reload="reload",e.refresh="refresh"}(aP||(aP={}));class lP{constructor(e,t){this.nav=e,this.instructions=[],this.link=null,this.linkVisible=null,this.linkActive=null,this.compareParameters=!1,this.children=null,this.visible=!0,this.active="",this.title=t.title,this.meta=t.meta,t.route&&(this.instructions=this.parseRoute(t.route),this.link=this.computeLink(this.instructions)),this.linkActive=null!==t.consideredActive&&void 0!==t.consideredActive?t.consideredActive:this.link,null===this.linkActive||this.linkActive instanceof Function&&!cE.isType(this.linkActive)||(this.linkActive=AE.from(this.nav.router,this.linkActive)),this.execute=t.execute,this.compareParameters=!!t.compareParameters,this.linkVisible=void 0===t.condition||t.condition,this.update()}get hasChildren(){return this.children&&this.children.length?"nav-has-children":""}update(){this.visible=this.computeVisible(),this.link&&this.link.length||this.execute?this.active=this.computeActive():this.active="nav-active"===this.active?"nav-active":this.activeChild()?"nav-active-child":""}executeAction(e){this.execute&&this.execute(this),e.stopPropagation()}toggleActive(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}parseRoute(e){return AE.from(this.nav.router,e)}computeVisible(){return this.linkVisible instanceof Function?this.linkVisible(this):!!this.linkVisible}computeActive(){if(!Array.isArray(this.linkActive))return this.linkActive(this)?"nav-active":"";const e=this.linkActive,t=AE.flat(this.nav.router.activeComponents);for(const n of e)if(t.every((e=>!e.sameComponent(this.nav.router,n,this.compareParameters&&null!==n.parameters.typedParameters))))return"";return"nav-active"}computeLink(e){return AE.stringify(this.nav.router,e)}activeChild(){if(this.children)for(const e of this.children)if(e.active.startsWith("nav-active")||e.activeChild())return!0;return!1}}class cP{constructor(e,t,n=[],i={}){this.router=e,this.name=t,this.routes=n,this.classes=i,this.update()}static setNav(e,t,n,i){const s=this.findNav(t);null!=s&&(s.routes=[]),this.addNav(e,t,n,i)}static addNav(e,t,n,i){let s=cP.navs.get(t);null==s&&(cP.navs.set(t,new cP(e,t,[],i)),s=cP.navs.get(t)),s.addRoutes(n),s.update()}static updateNav(e){const t=e?[e]:Object.keys(this.navs);for(const e of t)cP.navs.has(e)&&cP.navs.get(e).update()}static findNav(e){return cP.navs.get(e)}addRoutes(e){for(const t of e)this.addRoute(this.routes,t);this.update()}update(){this.updateRoutes(this.routes),this.routes=this.routes.slice()}addRoute(e,t){const n=new lP(this,t);if(e.push(n),t.children){n.children=[];for(const e of t.children)this.addRoute(n.children,e)}}updateRoutes(e){for(const t of e)t.update(),t.children&&t.children.length&&this.updateRoutes(t.children)}}cP.navs=new Map;!function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);o>3&&r&&Object.defineProperty(t,n,r)}([Yd],class{constructor(e){this.callback=e,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null}get isActive(){return null!==this.task}get length(){return this.pending.length}start(e){if(this.isActive)throw new Error("Queue has already been started");this.platform=e.platform,this.allowedExecutionCostWithinTick=e.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){if(!this.isActive)throw new Error("Queue has not been started");this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(e,t){const n=Array.isArray(e),i=n?e:[e],s=i.map(((e,n)=>Array.isArray(t)?t[n]:t)).map((e=>void 0!==e?e:1)),o=[];for(const e of i){const t={...e};t.cost=s.shift(),o.push(new Promise(((e,n)=>{t.resolve=t=>{e(t),this.processing=null,this.dequeue()},t.reject=e=>{n(e),this.processing=null,this.dequeue()}}))),this.pending.push(t)}return this.dequeue(),n?o:o[0]}dequeue(e){null===this.processing&&(void 0!==e&&(this.currentExecutionCostInCurrentTick=0),this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===e&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=this.processing.cost||0,this.callback(this.processing)))))}clear(){this.pending.splice(0,this.pending.length)}}.prototype,"dequeue",null);var uP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let hP=class{constructor(e){this.router=e,this.name=null,this.routes=null,this.level=0,this.classes={}}get navRoutes(){const e=cP.navs.get(this.name);return null!=e?e.routes:[]}get navClasses(){const e=cP.navs.get(this.name);return{nav:"",ul:"",li:"",a:"",ulActive:"",liActive:"nav-active",aActive:"",...null!=e?e.classes:{}}}active(e){return"Active"}};function dP(e,t,n,i,s=!1){var o;if(s)return i.hasAttribute(e);if(n)return t;const r=null!==(o=i.getAttribute(e))&&void 0!==o?o:"";return r.length>0?r:t}function pP(e,t){if(!e.isActive)return new Promise((e=>{const n=t.subscribe(QE.eventName,(()=>{e(),n.dispose()}))}))}function gP(e,t,n,i){var s,o;let r=null===(o=null===(s=Pw.for(n,"considered-active"))||void 0===s?void 0:s.viewModel)||void 0===o?void 0:o.value;void 0===r&&(r=i);const a=e.applyLoadOptions(r,{context:t}),l=AE.from(e,a.instructions);for(const e of l)null===e.scope&&(e.scope=a.scope);return l}function fP(e){let t=e.parentElement;for(;null!=t;){if("AU-VIEWPORT"===t.tagName){t=null;break}if(t.hasAttribute("load-active"))break;t=t.parentElement}return null!=t||(t=e),t}uP([ny],hP.prototype,"name",void 0),uP([ny],hP.prototype,"routes",void 0),uP([ny],hP.prototype,"level",void 0),uP([ny],hP.prototype,"classes",void 0),hP=uP([ww({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name} ${navClasses.nav}">\n    <au-nav routes.bind="navRoutes" classes.bind="navClasses" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level} ${classes.ul}">\n    <li repeat.for="route of routes" if.bind="route.visible" class="${route.active ? classes.liActive : \'\'} ${route.hasChildren} ${classes.li}">\n      <a if.bind="route.link && route.link.length" load="${route.link}" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <a if.bind="route.execute" click.trigger="route.executeAction($event)" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <span if.bind="(!route.link || !route.link.length) && !route.execute && !route.children" class="${route.active ? classes.aActive : \'\'} ${classes.span} nav-separator" innerhtml.bind="route.title"></span>\n      <a if.bind="(!route.link || !route.link.length) && !route.execute && route.children" click.delegate="route.toggleActive()" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" classes.bind="classes" containerless></au-nav>\n    </li>\n  </ul>\n</template>'}),function(e,t){return function(n,i){t(n,i,e)}}(0,WE)],hP);var mP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},vP=function(e,t){return function(n,i){t(n,i,e)}};const bP=Sw.createInjectable();let yP=class{constructor(e,t,n,i,s,o){this.router=e,this.element=t,this.container=n,this.ea=i,this.parentViewport=s,this.instruction=o,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noTitle=!1,this.noHistory=!1,this.stateful=!1,this.endpoint=null,this.pendingChildren=[],this.pendingPromise=null,this.isBound=!1}hydrated(e){return this.controller=e,this.container=e.context.get(fp),this.instruction.instructions.filter((e=>"default"===e.to)).length>0&&null!=this.parentViewport&&(this.parentViewport.pendingChildren.push(this),null===this.parentViewport.pendingPromise&&(this.parentViewport.pendingPromise=new dE)),pE.run(null,(()=>pP(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation&&this.connect()}))}binding(e,t,n){return this.isBound=!0,pE.run(null,(()=>pP(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation||this.connect()}),(()=>{var e;null!=(null===(e=this.endpoint)||void 0===e?void 0:e.activeResolve)&&(this.endpoint.activeResolve(),this.endpoint.activeResolve=null)}),(()=>{var t;if(null!==this.endpoint&&null===this.endpoint.getNextContent())return null===(t=this.endpoint.activate(null,e,this.controller,n,void 0))||void 0===t?void 0:t.asValue}))}detaching(e,t,n){if(null!==this.endpoint)return this.isBound=!1,this.endpoint.deactivate(null,e,t,n)}unbinding(e,t,n){if(null!==this.endpoint)return this.disconnect(null)}dispose(){var e;null===(e=this.endpoint)||void 0===e||e.dispose(),this.endpoint=null}connect(){const{isBound:e,element:t}=this,n=dP("name",this.name,e,t),i={};i.scope=!dP("no-scope",this.noScope,!1,t,!0),i.usedBy=dP("used-by",this.usedBy,e,t),i.default=dP("default",this.default,e,t),i.fallback=dP("fallback",this.fallback,e,t),i.noLink=dP("no-link",this.noLink,e,t,!0),i.noTitle=dP("no-title",this.noTitle,e,t,!0),i.noHistory=dP("no-history",this.noHistory,e,t,!0),i.stateful=dP("stateful",this.stateful,e,t,!0),Object.keys(i).forEach((e=>{void 0===i[e]&&delete i[e]})),this.endpoint=this.router.connectEndpoint(this.endpoint,"Viewport",this,n,i);const s=this.parentViewport;null!=s&&(uE(s.pendingChildren,(e=>e===this)),0===s.pendingChildren.length&&null!==s.pendingPromise&&(s.pendingPromise.resolve(),s.pendingPromise=null))}disconnect(e){null!==this.endpoint&&this.router.disconnectEndpoint(e,this.endpoint,this)}setActivity(e,t){const n=this.router.configuration.options.indicators.viewportNavigating;if("string"==typeof e)this.element.classList.toggle(e,t);else for(const i in e)this.element.classList.toggle(`${n}-${i}`,t&&e[i])}};mP([ny],yP.prototype,"name",void 0),mP([ny],yP.prototype,"usedBy",void 0),mP([ny],yP.prototype,"default",void 0),mP([ny],yP.prototype,"fallback",void 0),mP([ny],yP.prototype,"noScope",void 0),mP([ny],yP.prototype,"noLink",void 0),mP([ny],yP.prototype,"noTitle",void 0),mP([ny],yP.prototype,"noHistory",void 0),mP([ny],yP.prototype,"stateful",void 0),yP=mP([ww({name:"au-viewport",injectable:bP}),vP(0,WE),vP(1,Jx),vP(2,fp),vP(3,Dg),vP(4,bP),vP(5,CC)],yP);var wP,xP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},CP=function(e,t){return function(n,i){t(n,i,e)}};const kP=Sw.createInjectable();let SP=wP=class{constructor(e,t,n,i,s){this.router=e,this.element=t,this.container=n,this.parent=i,this.parentController=s,this.name="default",this.catches="",this.collection=!1,this.source=null,this.viewportScope=null,this.isBound=!1}hydrated(e){this.controller=e}bound(e,t,n){this.isBound=!0,this.$controller.scope=this.parentController.scope,this.connect(),null!==this.viewportScope&&this.viewportScope.binding()}unbinding(e,t,n){return null!==this.viewportScope&&this.viewportScope.unbinding(),Promise.resolve()}afterUnbind(e,t,n){return this.disconnect(),Promise.resolve()}afterUnbound(){this.isBound=!1}connect(){if(null===this.router.rootScope)return;const e=this.getAttribute("name",this.name),t={};let n=this.getAttribute("catches",this.catches);void 0!==n&&(t.catches=n),n=this.getAttribute("collection",this.collection,!0),void 0!==n&&(t.collection=n),t.source=this.source||null,this.viewportScope=this.router.connectEndpoint(this.viewportScope,"ViewportScope",this,e,t)}disconnect(){this.viewportScope&&this.router.disconnectEndpoint(null,this.viewportScope,this),this.viewportScope=null}getAttribute(e,t,n=!1){if(this.isBound)return t;if(this.element.hasAttribute(e)){if(n)return!0;if((t=this.element.getAttribute(e)).length>0)return t}}isCustomElementController(e){return Dx(e)}isCustomElementViewModel(e){return Nx(e)}getClosestCustomElement(){let e=this.controller.parent,t=null;for(;null!==e&&null===t;)(e.viewModel instanceof yP||e.viewModel instanceof wP)&&(t=e.viewModel),e=e.parent;return t}};xP([ny],SP.prototype,"name",void 0),xP([ny],SP.prototype,"catches",void 0),xP([ny],SP.prototype,"collection",void 0),xP([ny],SP.prototype,"source",void 0),SP=wP=xP([ww({name:"au-viewport-scope",template:"<template></template>",containerless:!1,injectable:kP}),CP(0,WE),CP(1,Jx),CP(2,fp),CP(3,kP),CP(4,Ux)],SP);var $P=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},TP=function(e,t){return function(n,i){t(n,i,e)}};let AP=class{constructor(e,t,n,i){this.element=e,this.router=t,this.linkHandler=n,this.ea=i,this.hasHref=null,this.activeClass="goto-active",this.navigationEndHandler=e=>{const t=Pw.for(this.element,"goto").parent,n=this.router.applyLoadOptions(this.value,{context:t}),i=AE.from(this.router,n.instructions);for(const e of i)null===e.scope&&(e.scope=n.scope);this.element.classList.toggle(this.activeClass,this.router.checkActive(i,{context:t}))},console.warn('[Deprecated] The "goto" custom attribute has been deprecated. Please use the "load" custom attribute instead.')}binding(){this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.routerNavigationSubscription=this.ea.subscribe(eP.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(e){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){const e="string"==typeof this.value?this.value:JSON.stringify(this.value);this.element.setAttribute("href",e)}}};$P([ny({mode:Mf.toView})],AP.prototype,"value",void 0),AP=$P([Aw("goto"),TP(0,Jx),TP(1,WE),TP(2,oP),TP(3,Dg)],AP);var OP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},EP=function(e,t){return function(n,i){t(n,i,e)}};let PP=class{constructor(e,t,n,i){this.element=e,this.router=t,this.linkHandler=n,this.ea=i,this.hasHref=null,this.navigationEndHandler=e=>{this.updateActive()},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.updateActive(),this.routerNavigationSubscription=this.ea.subscribe(eP.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(e){this.updateValue(),this.updateActive()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){let e="string"==typeof this.value?this.value:JSON.stringify(this.value);this.router.configuration.options.useUrlFragmentHash&&!e.startsWith("#")&&(e=`#${e}`),this.element.setAttribute("href",e)}}updateActive(){const e=Pw.for(this.element,"load").parent,t=gP(this.router,e,this.element,this.value);fP(this.element).classList.toggle(this.activeClass,this.router.checkActive(t,{context:e}))}};OP([ny({mode:Mf.toView})],PP.prototype,"value",void 0),PP=OP([Aw("load"),EP(0,Jx),EP(1,WE),EP(2,oP),EP(3,Dg)],PP);var RP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},IP=function(e,t){return function(n,i){t(n,i,e)}};let jP=class{constructor(e,t,n,i){this.element=e,this.router=t,this.linkHandler=n,this.ea=i,this.navigationEndHandler=e=>{this.updateActive()},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){!this.router.configuration.options.useHref||this.hasLoad()||this.element.hasAttribute("external")||(this.element.addEventListener("click",this.linkHandler),this.routerNavigationSubscription=this.ea.subscribe(eP.eventName,this.navigationEndHandler)),this.updateValue(),this.updateActive()}unbinding(){var e;this.element.removeEventListener("click",this.linkHandler),null===(e=this.routerNavigationSubscription)||void 0===e||e.dispose()}valueChanged(){this.updateValue(),this.updateActive()}updateValue(){this.element.setAttribute("href",this.value)}updateActive(){if(this.router.configuration.options.useHref&&!this.hasLoad()&&!this.element.hasAttribute("external")){const e=Pw.for(this.element,"href").parent,t=gP(this.router,e,this.element,this.value);fP(this.element).classList.toggle(this.activeClass,this.router.checkActive(t,{context:e}))}}hasLoad(){var e;const t=this.$controller.parent.children;return null!==(e=null==t?void 0:t.some((e=>1===e.vmKind&&e.viewModel instanceof PP)))&&void 0!==e&&e}};RP([ny({mode:Mf.toView})],jP.prototype,"value",void 0),jP=RP([Aw({name:"href",noMultiBindings:!0}),IP(0,Jx),IP(1,WE),IP(2,oP),IP(3,Dg)],jP);var FP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let LP=class{};FP([ny({mode:Mf.toView})],LP.prototype,"value",void 0),LP=FP([Aw("considered-active")],LP);const DP=gp.createInterface("IRouterConfiguration",(e=>e.singleton(BP))),NP=[WE],MP=[yP,SP,hP,AP,PP,jP,LP];class BP{static register(e){const t=e.get(DP);return t.options=BP.options,t.options.setRouterConfiguration(t),BP.options=rE.create(),null!=rw.with?e.register(...NP,...MP,rw.with(WE).beforeActivate().call(BP.configurationCall),rw.with(WE).afterActivate().call((e=>e.initialLoad())),rw.with(WE).afterDeactivate().call((e=>e.stop()))):e.register(...NP,...MP,rw.beforeActivate(WE,BP.configurationCall),rw.afterActivate(WE,(e=>e.initialLoad())),rw.afterDeactivate(WE,(e=>e.stop())))}static customize(e){return void 0===e?(BP.options=rE.create(),BP.configurationCall=e=>{e.start()}):e instanceof Function?BP.configurationCall=e:(BP.options=rE.create(),BP.options.apply(e)),BP}static createContainer(){return this.register(gp.createContainer())}static for(e){return e instanceof KE?e.configuration:e.get(DP)}apply(e,t=!1){t&&(this.options=rE.create()),this.options.apply(e)}addHook(e,t){return UE.add(e,t)}removeHook(e){return UE.remove(e)}removeAllHooks(){return UE.removeAll()}}BP.options=rE.create(),BP.configurationCall=e=>{e.start()};var HP=n(755);Kr()(HP.Z,{insert:"head",singleton:!1});const VP=HP.Z.locals||{};var qP=n(162);Kr()(qP.Z,{insert:"head",singleton:!1});const UP=qP.Z.locals||{};var zP=n(932);Kr()(zP.Z,{insert:"head",singleton:!1});const _P=zP.Z.locals||{};var WP=n(574);Kr()(WP.Z,{insert:"head",singleton:!1});const KP=WP.Z.locals||{};Bp.defer(".css",VP,UP,_P,KP);const GP=JSON.parse('[{"name":"Anchor","load":"anchor","description":"Like a button but not really","badges":["FAST"]},{"name":"Article","load":"article","description":"Preview of a text + image type of content. Works great in an ecos-collection","badges":["New"]},{"name":"Badge","load":"badge","description":"A nice little tag to place next to your content to give it some identity","badges":["FAST","Extended"]},{"name":"Breadcrumb","load":"breadcrumb","description":"To aid with navigation","badges":["FAST"]},{"name":"Button","load":"button","description":"You probably knows what a button is","badges":["FAST","Extended"]},{"name":"Button 3D","load":"button-3d","description":"A fun button with cool interactivity","badges":["New"]},{"name":"Card","load":"card","description":"A visual surface to group information","badges":["FAST"]},{"name":"Collection","load":"collection","description":"Display a list of content around something like a responsive grid","badges":["New"]},{"name":"Colorize","load":"colorize","description":"Smartly colorize some content using your browser blend-mode","badges":["New"]},{"name":"Dialog","load":"dialog","description":"Dialog component","badges":["FAST","Extended"]},{"name":"Form","load":"form","description":"Form and form-row aid for displaying nice looking forms","badges":["New"]},{"name":"Icon","load":"icon","description":"The icon component is an SVG wrapper to display all sorts of icons","badges":["New"]},{"name":"Navbar","load":"navbar","description":"Components to present a responsive navbar","badges":["New"]},{"name":"Section","load":"section","description":"Use this component to create a section of content in a page","badges":["New"]},{"name":"Select","load":"Select","description":"Web-component implementation of an HTML select element","badges":["FAST"]},{"name":"Slider","load":"slider","description":"Input component to select a numeric value","badges":["FAST"]},{"name":"Stack","load":"stack","description":"A flow container to handle nice margin between blocks","badges":["New"]},{"name":"Text Field","load":"text-field","description":"Web-component implementation of an HTML input element","badges":["FAST"]},{"name":"Two","load":"two","description":"Use this component to display two blocks next to each other in a responsive way","badges":["New"]}]');var YP=function(e,t){return function(n,i){t(n,i,e)}};let QP=class{constructor(e,t){this.routerConfiguration=e,this.router=t,this.displayComponentsList=!1,this.isUseCaseRouterInUse=!1,this.componentsList=GP,this.handleUrlRoutes(),this.routerConfiguration.addHook(((e,t)=>{const n=document.querySelector("au-viewport");if(n){const e=n.firstChild;e instanceof Element&&e.scrollIntoView()}return!0})),this.routerConfiguration.addHook(((e,t)=>(this.displayComponentsList=void 0!==e.find((e=>"components-viewport"===e.viewport.name))&&void 0===e.find((e=>"components-list"===e.component.name)),this.isUseCaseRouterInUse=void 0!==e.find((e=>"use-cases-viewport"===e.viewport.name))&&void 0===e.find((e=>"use-cases-list"===e.component.name)),this.handleBodyStyles(),!0)))}handleUrlRoutes(){this.routerConfiguration.addHook((e=>e),{type:"transformFromUrl"}),this.routerConfiguration.addHook((e=>e),{type:"transformToUrl"})}handleBodyStyles(){this.isUseCaseRouterInUse?setTimeout((()=>{document.body.classList.add("use-cases-on")}),150):document.body.classList.remove("use-cases-on")}};QP=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww({name:"ecos-app",template:'\n\n\n\n\n<ecos-design-system-provider use-defaults apply-background-to-body>\n  <div class="sidebar" sidebar--opened.class="sidebarOpened">\n    <ecos-settings></ecos-settings>\n  </div>\n  <div class="page" sidebar--opened.class="sidebarOpened">\n    <div class="main-content">\n      <ecos-navbar layer="1">\n        <ecos-colorize slot="branding" style="color: var(--accent-fill-rest)" load="welcome-page">\n          <img load="welcome-page" src="./images/Ecos.png" style="height: 30px" class="logo" />\n        </ecos-colorize>\n        <ecos-anchor slot="main" considered-active="components-index" load="components-index/components-list" appearance="lightweight">Components</ecos-anchor>\n        <ecos-anchor slot="main" considered-active="spatial-index" load="spatial-index/spatial-main" appearance="lightweight">Spatial</ecos-anchor>\n        <ecos-anchor slot="main" considered-active="use-cases-index" load="use-cases-index/use-cases-list" appearance="lightweight">Use cases</ecos-anchor>\n        <ecos-anchor slot="secondary-toggler" appearance="lightweight">More</ecos-anchor>\n\n        <template if.bind="displayComponentsList">\n          <ecos-anchor repeat.for="component of componentsList" slot="secondary" load="components-index/${component.load}-component" appearance="lightweight">${component.name}</ecos-anchor>          \n        </template>\n\n        <ecos-anchor slot="secondary" load="the-project" appearance="lightweight">About The Project</ecos-anchor>\n        <ecos-anchor slot="secondary" href="https://github.com/ben-girardet/ecos-design-system" appearance="lightweight">GitHub</ecos-anchor>\n      </ecos-navbar>\n\n      <div class="navbar-content">\n        <au-viewport name="main" default="welcome-page" fallback="missing-page"></au-viewport>\n      </div>\n    </div>\n  </div>\n\n  <ecos-icon button icon="Adjustments" id="design-settings-opener" click.delegate="sidebarOpened = !sidebarOpened"></ecos-icon>\n</ecos-design-system-provider>\n'}),YP(0,DP),YP(1,WE),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object])],QP);const ZP="anchor-component",XP='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Anchor</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Anchor</h1>\n  <p>Web component implementation of an HTML anchor element. The component supports the same visual appearances as the button component (accent, lightweight, neutral, outline, stealth) as well as a hypertext appearance for use inline with text.</p>\n  <p>This component is stricktly identical to its <a href="https://explore.fast.design/components/fast-anchor">FAST version</a>.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-anchor>Default</ecos-anchor>\n      <ecos-anchor appearance="accent">Accent</ecos-anchor>\n      <ecos-anchor appearance="lightweight">Lightweight</ecos-anchor>\n    </div>\n  </au-snippet>\n\n  <p>The anchor component if very similar to the button component. It has however one more appearance available, namly the `hypertext`. This is useful when the anchor is part of a content text</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>I\'m a content text paragraph with an <ecos-anchor appearance="hypertext" href="#">amazing clickable anchor</ecos-anchor> placed in it.</p>\n    </div>\n  </au-snippet>\n</ecos-section>',JP=XP,eR=[];let tR;function nR(e){tR||(tR=Sw.define({name:ZP,template:XP,dependencies:eR})),e.register(tR)}let iR=class{};iR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(i)],iR);const sR="article-component",oR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Article</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Article</h1>\n  <p>This is an Ecos custom made component to display article like type of content.</p>\n  <p>This component is designed to display the following content:</p>\n  <ul>\n    <li>An image as "card" image</li>\n    <li>A button in the `button` slot</li>\n    <li>Some content in the default slot</li>\n  </ul>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-article image-src="./images/office-interior-design.jpg">\n        <ecos-button slot="button" appearance="accent">\n          <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n          Discover project\n        </ecos-button>\n        <ecos-stack>\n          <h3>Autour de l\'escalier</h3>\n          <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n        </ecos-stack>\n      </ecos-article>\n    </div>\n  </au-snippet>\n\n  <p>This component works well with the `ecos-collection` component to list several article components</p>\n</ecos-section>',rR=oR,aR=[];let lR;function cR(e){lR||(lR=Sw.define({name:sR,template:oR,dependencies:aR})),e.register(lR)}let uR=class{};uR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(s)],uR);const hR="badge-component",dR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Badge</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Badge</h1>\n  <p>Badge component is used to highlight an item and attract attention or flag status.</p>\n  <p>This component is an extended version from its <a href="https://explore.fast.design/components/fast-badge">FAST version</a>. Instead of requiring the consumer of the component to provide `fill` and `color` attributes, the colors of the badges are set accordingly from the parent Design System Provider.</p>\n  <p>Consumer can then use the `appearance` attribute to change from `default`, `accent` and `accent-light` appearances.</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-badge>Default</ecos-badge>\n      <ecos-badge appearance="accent">Accent</ecos-badge>\n      <ecos-badge appearance="accent-light">Accent Light</ecos-badge>\n    </div>\n  </au-snippet>\n\n</ecos-section>',pR=dR,gR=[];let fR;function mR(e){fR||(fR=Sw.define({name:hR,template:dR,dependencies:gR})),e.register(fR)}let vR=class{};vR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(o)],vR);const bR="breadcrumb-component",yR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Breadcrumb</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Breadcrumb</h1>\n  <p>Use the breadcrumb component and its items to present a clear navigation path.</p>\n  <p>This component is stricktly identical to its <a href="https://explore.fast.design/components/fast-breadcrumb">FAST version</a>.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true" full-width-output.bind="true">\n    <div language="html">\n      <ecos-breadcrumb>\n        <ecos-breadcrumb-item href="#/components-index">Components</ecos-breadcrumb-item>\n        <ecos-breadcrumb-item>Breadcrumb</ecos-breadcrumb-item>\n      </ecos-breadcrumb>\n    </div>\n  </au-snippet>\n\n</ecos-section>',wR=yR,xR=[];let CR;function kR(e){CR||(CR=Sw.define({name:bR,template:yR,dependencies:xR})),e.register(CR)}let SR=class{};SR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(r)],SR);const $R="button-3d-component",TR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Button 3D</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Button 3d</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-button-3d>Default</ecos-button-3d>\n    </div>\n  </au-snippet>\n  <p>Inspired by <a href="https://www.joshwcomeau.com/animation/3d-button/">Josh Comeau\'s Magical 3D Button</a></p>\n</ecos-section>',AR=TR,OR=[];let ER;function PR(e){ER||(ER=Sw.define({name:$R,template:TR,dependencies:OR})),e.register(ER)}let RR=class{};RR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(a)],RR);const IR="button-component",jR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Button</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Button</h1>\n  <p>Web component implementation of an HTML button element. The component supports several visual appearances (accent, lightweight, neutral, outline, stealth).</p>\n  <p>The ecos version is slightly extended from its <a href="https://explore.fast.design/components/fast-button">FAST version</a>. There is a padding added horizontally when the corner-radius is bigger than 10px to allow for the button content to breath a little more around the edges.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-button>Default</ecos-button>\n      <ecos-button appearance="accent">Accent</ecos-button>\n      <ecos-button appearance="lightweight">Lightweight</ecos-button>\n    </div>\n  </au-snippet>\n</ecos-section>',FR=jR,LR=[];let DR;function NR(e){DR||(DR=Sw.define({name:IR,template:jR,dependencies:LR})),e.register(DR)}let MR=class{};MR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(l)],MR);const BR="card-component",HR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Card</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Card</h1>\n  <p>The ecos-card component is a visual container and design system provider. By default fast-card applies neutralFillCard to its background that is calculated from its parent design system provider. If a custom background color is desired the attribute card-background-color is available, this will reset the cards design system to that value. Cards are snapshots of content that are typically used in a group to present collections of related information.</p>\n  <p>This component is stricktly identical to its <a href="https://explore.fast.design/components/fast-card">FAST version</a>.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card>\n        <h2>Orange</h2>\n        <p>I\'m an orange fruit</p>\n        <ecos-button>Taste me</ecos-button>\n      </ecos-card>\n    </div>\n  </au-snippet>\n  <p>As you can see, a card in itself doesn\'t look "good" out of the box. It is designed to provide a surface on which we place other flow components.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card>\n        <div class="wrapper">\n          <h2>Orange</h2>\n          <p>I\'m an orange fruit</p>\n          <ecos-button>Taste me</ecos-button>\n        </div>\n      </ecos-card>\n    </div>\n    <div language="css">\n      .wrapper {\n        padding: var(--spacing-unit);\n      }\n    </div>\n  </au-snippet>\n  <p>Cards acts as design provider. Therefore they adjust their components properties according to the card background color</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card card-background-color="#333333">\n        <div class="wrapper">\n          <h2>Orange</h2>\n          <p>I\'m an orange fruit</p>\n          <ecos-button>Taste me</ecos-button>\n        </div>\n      </ecos-card>\n    </div>\n    <div language="css">\n      .wrapper {\n        padding: var(--spacing-unit);\n      }\n    </div>\n  </au-snippet>\n</ecos-section>',VR=HR,qR=[];let UR;function zR(e){UR||(UR=Sw.define({name:BR,template:HR,dependencies:qR})),e.register(UR)}let _R=class{};_R=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(c)],_R);const WR="collection-component",KR='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Collection</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Collection</h1>\n  <p>The collection component is a <i>flow</i> component. It handles how several child components are displayed together. This component is well suited to display a list of content such as a list of articles or cards.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-collection min-item-width="100px">\n        <ecos-button>Button 1</ecos-button>\n        <ecos-button>Button 2</ecos-button>\n        <ecos-button>Button 3</ecos-button>\n        <ecos-button>Button 4</ecos-button>\n      </ecos-collection>\n    </div>\n  </au-snippet>\n\n  <p>You can adjust the minimum width of each element in the collection with the `min-item-width` property. Each item will then be displayed organized in a grid where each element is at least this width and as many elements as possible can fit in the container width.</p>\n\n  <h3>Collections play nicely with cards and articles</h3>\n\n  <ecos-card>\n    <div class="wrapper">\n      <h2>Orange</h2>\n      <p>I\'m an orange fruit</p>\n      <ecos-button>Taste me</ecos-button>\n    </div>\n  </ecos-card>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true" full-width-output.bind="true" style="width: 100%;">\n    <div language="html">\n      <ecos-collection min-item-width="250px">\n        <ecos-card card-background-color="#efefef">\n          <div class="wrapper">\n            <h2>Orange</h2>\n            <p>I\'m an orange fruit</p>\n            <ecos-button>Taste me</ecos-button>\n          </div>\n        </ecos-card>\n        <ecos-card card-background-color="#efefef">\n          <div class="wrapper">\n            <h2>Orange</h2>\n            <p>I\'m an orange fruit</p>\n            <ecos-button>Taste me</ecos-button>\n          </div>\n        </ecos-card>\n        <ecos-card card-background-color="#efefef">\n          <div class="wrapper">\n            <h2>Orange</h2>\n            <p>I\'m an orange fruit</p>\n            <ecos-button>Taste me</ecos-button>\n          </div>\n        </ecos-card>\n      </ecos-collection>\n    </div>\n    <div language="css">\n      .wrapper {\n        padding: var(--spacing-unit);\n      }\n    </div>\n  </au-snippet>\n\n</ecos-section>',GR=KR,YR=[];let QR;function ZR(e){QR||(QR=Sw.define({name:WR,template:KR,dependencies:YR})),e.register(QR)}let XR=class{};XR=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(u)],XR);const JR="colorize-component",eI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Collorize</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Colorize</h1>\n  <p>Colorize is a special component that uniquely transform the color of its included content. This is useful for exemple to colorize a black logo with a dynamic color.</p>\n  <p>It works by applying a CSS blending mode to its content. By default the blending mode is "lighten" but with the `mode` attribute one can select any of the valid CSS blending mode available.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>Hello, I am some normal text.</p>\n      <ecos-colorize style="color: red;">Hello, I am colorized in red.</ecos-colorize>\n    </div>\n  </au-snippet>\n\n  <p>The exemple above seems pretty useless as a text can by colorized with the `color` css property. Let\'s do the same now with an image:</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>\n        <img src="./images/Ecos.png" style="height: 30px" />\n      </p>\n      <p>\n        <ecos-colorize style="color: red;">\n          <img src="./images/Ecos.png" style="height: 30px" />\n        </ecos-colorize>\n      </p>\n    </div>\n  </au-snippet>\n\n  <p>Now you know how we achived to have the top-left logo adjust to the current accent color:</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>\n        <img src="./images/Ecos.png" style="height: 30px" />\n      </p>\n      <p>\n        <ecos-colorize style="color: var(--accent-fill-rest);">\n          <img src="./images/Ecos.png" style="height: 30px" />\n        </ecos-colorize>\n      </p>\n    </div>\n  </au-snippet>\n</ecos-section>',tI=eI,nI=[];let iI;function sI(e){iI||(iI=Sw.define({name:JR,template:eI,dependencies:nI})),e.register(iI)}let oI=class{};oI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(h)],oI);let rI=class{};rI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww({name:"components-index",template:'<au-viewport name="components-viewport" default="components-list"></au-viewport>'})],rI);let aI=class{constructor(){this.componentsList=GP,this.filteringTag="all",this.search=""}get tags(){return GP.reduce(((e,t)=>{for(const n of t.badges)e.includes(n)||e.push(n);return e}),[])}getComponentsList(e,t){return this.componentsList.filter((n=>{const i=""===e||n.name.toLowerCase().includes(e.toLowerCase())||n.description.toLowerCase().includes(e.toLowerCase()),s=""===t||"all"===t||n.badges.includes(t);return i&&s}))}};aI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww({name:"components-list",template:'<ecos-section>\n  <h1>Browse Ecos components</h1>\n  <p>Some components are identical or close to identical from their FAST implementation. They are re-exported in the `ecos` name space for consistency. Components marked as <ecos-badge appearance="accent-light">New</ecos-badge> are exclusively available with ECOS.</p>\n</ecos-section>\n\n<ecos-section nocontain>\n  <ecos-text-field placeholder="Search a component" value.bind="search">\n    <ecos-icon icon="User" slot="start"></ecos-icon>\n  </ecos-text-field>\n  <ecos-select value.bind="filteringTag">\n    <ecos-option value="all">All tags</ecos-option>\n    <ecos-option value="${tag}" repeat.for="tag of tags">${tag}</ecos-option>\n  </ecos-select>\n  <p class="muted-text">Displaying ${getComponentsList(search, filteringTag).length} components</p>\n</ecos-section>\n\n<ecos-section centerwidth="100ch">\n  <ecos-collection>\n    <ecos-card repeat.for="component of getComponentsList(search, filteringTag)">\n      <ecos-stack class="wrapper">\n        <ecos-stack inline small>\n          <ecos-badge appearance="${badge === \'New\' ? \'accent-light\':\'neutral\'}" repeat.for="badge of component.badges">${badge}</ecos-badge>\n        </ecos-stack>\n        <h2>${component.name}</h2>\n        <p>${component.description}</p>\n        <ecos-button appearance="accent" load="../${component.load}-component">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n</ecos-section>'})],aI);const lI="dialog-component",cI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Dialog</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Dialog</h1>\n  <p>Web component implementation of an <a href="https://w3c.github.io/aria-practices/#dialog_modal">dialog</a>.</p>\n  <p>The ecos version is slightly extended from its <a href="https://explore.fast.design/components/fast-dialog">FAST version</a> with some animations when opening / closing dialogs.</p>\n\n  <ecos-collection min-item-width="100px">\n    <ecos-button click.delegate="defaultDialogOpened = !defaultDialogOpened">Open default dialog</ecos-button>\n    <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Open fading dialog</ecos-button>\n    <ecos-button click.delegate="slideUpDialogOpened = !slideUpDialogOpened">Open slide up dialog</ecos-button>\n  </ecos-collection>\n\n  <au-snippet class="larger mobile-full-bleed">\n    <div language="html">\n      <ecos-dialog hidden.bind="!defaultDialogOpened">\n        <ecos-button click.delegate="defaultDialogOpened = !defaultDialogOpened">Close dialog</ecos-button>\n      </ecos-dialog>\n      <ecos-dialog hidden.bind="!fadingDialogOpened" class="ecos-dialog--fading">\n        <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Close dialog</ecos-button>\n      </ecos-dialog>\n      <ecos-dialog hidden.bind="!fadingDialogOpened" class="ecos-dialog--fading">\n        <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Close dialog</ecos-button>\n      </ecos-dialog>\n    </div>\n  </au-snippet>\n\n\n  <ecos-dialog hidden.bind="!defaultDialogOpened">\n    <ecos-button click.delegate="defaultDialogOpened = !defaultDialogOpened">Close dialog</ecos-button>\n  </ecos-dialog>\n\n  <ecos-dialog hidden.bind="!fadingDialogOpened" class="ecos-dialog--fading">\n    <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Close dialog</ecos-button>\n  </ecos-dialog>\n\n  <ecos-dialog hidden.bind="!slideUpDialogOpened" class="ecos-dialog--slide-up">\n    <ecos-button click.delegate="slideUpDialogOpened = !slideUpDialogOpened">Close dialog</ecos-button>\n  </ecos-dialog>\n\n</ecos-section>',uI=cI,hI=[];let dI;function pI(e){dI||(dI=Sw.define({name:lI,template:cI,dependencies:hI})),e.register(dI)}let gI=class{constructor(){this.defaultDialogOpened=!1,this.fadingDialogOpened=!1,this.slideUpDialogOpened=!1}};gI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(d)],gI);const fI="form-component",mI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Form</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Form</h1>\n  <p>Must include form and form-row</p>\n  <p>Documentation in progress</p>\n</ecos-section>',vI=mI,bI=[];let yI;function wI(e){yI||(yI=Sw.define({name:fI,template:mI,dependencies:bI})),e.register(yI)}let xI=class{};xI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(p)],xI);const CI="icon-component",kI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Icon</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Icon</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',SI=kI,$I=[];let TI;function AI(e){TI||(TI=Sw.define({name:CI,template:kI,dependencies:$I})),e.register(TI)}let OI=class{};OI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(g)],OI);const EI="navbar-component",PI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Navbar</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Navbar</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',RI=PI,II=[];let jI;function FI(e){jI||(jI=Sw.define({name:EI,template:PI,dependencies:II})),e.register(jI)}let LI=class{};LI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(f)],LI);const DI="section-component",NI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Section</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Section</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',MI=NI,BI=[];let HI;function VI(e){HI||(HI=Sw.define({name:DI,template:NI,dependencies:BI})),e.register(HI)}let qI=class{};qI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(m)],qI);const UI="select-component",zI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Select</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Select</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',_I=zI,WI=[];let KI;function GI(e){KI||(KI=Sw.define({name:UI,template:zI,dependencies:WI})),e.register(KI)}let YI=class{};YI=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(v)],YI);const QI="slider-component",ZI='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Slider</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Slider</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-slider></ecos-slider>\n    </div>\n  </au-snippet>\n</ecos-section>',XI=ZI,JI=[];let ej;function tj(e){ej||(ej=Sw.define({name:QI,template:ZI,dependencies:JI})),e.register(ej)}let nj=class{};nj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(b)],nj);const ij="stack-component",sj='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Stack</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Stack</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',oj=sj,rj=[];let aj;function lj(e){aj||(aj=Sw.define({name:ij,template:sj,dependencies:rj})),e.register(aj)}let cj=class{};cj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(y)],cj);const uj="text-field-component",hj='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Text Field</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Text Field</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',dj=hj,pj=[];let gj;function fj(e){gj||(gj=Sw.define({name:uj,template:hj,dependencies:pj})),e.register(gj)}let mj=class{};mj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(w)],mj);const vj="two-component",bj='<ecos-section>\n  <ecos-breadcrumb>\n    <ecos-breadcrumb-item load="../components-list">Components</ecos-breadcrumb-item>\n    <ecos-breadcrumb-item>Two</ecos-breadcrumb-item>\n  </ecos-breadcrumb>\n  <h1>Two</h1>\n  <p>Documentation in progress</p>\n</ecos-section>',yj=bj,wj=[];let xj;function Cj(e){xj||(xj=Sw.define({name:vj,template:bj,dependencies:wj})),e.register(xj)}let kj=class{};kj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(x)],kj);let Sj=class{};Sj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww({name:"spatial-index",template:'<au-viewport name="spatial-viewport" default="spatial-main"></au-viewport>'})],Sj);const $j="spatial-main",Tj='<ecos-section>\n  <h1>Spatial System</h1>\n  <p>The goal with ECOS is to provide a cohesive system made of components and spatial system.</p>\n</ecos-section>\n\n<ecos-section>\n  <h1>Current experimentation</h1>\n  <p>ECOS is built on FAST, which has a spatial system based on some variables. These are</p>\n  <ul>\n    <li>Design Unit (default: 4)</li>\n    <li>Density (default: 0)</li>\n    <li>Base horizontal spacing multiplier (default: 10)</li>\n    <li>Base height multiplie (default: 3)</li>\n  </ul>\n  <p>From there the idea is to build "components" that provide nice composition. For exemple, a `collection` component that nicely displays cards with the right spacing around the card components.</p>\n</ecos-section>\n\n<ecos-section>\n  <h1>Design system modifiers</h1>\n  <p>Sometimes in the spatial story of a page, you need to change a spatial characteristic based on the current contextual situation. For exemple you want the density of components to decrease from the current context. Or you want the base background to go slightly darken or lighten. Here come the idea of a design system modifier.</p>\n  <ul>\n    <li>densify</li>\n  </ul>\n  <p>More to come...</p>\n</ecos-section>',Aj=Tj,Oj=[];let Ej;function Pj(e){Ej||(Ej=Sw.define({name:$j,template:Tj,dependencies:Oj})),e.register(Ej)}let Rj=class{};Rj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(C)],Rj);const Ij="missing-page",jj="<h3>Ouch! Couldn't find '${missingComponent}'!</h3>\n",Fj=jj,Lj=[];let Dj;function Nj(e){Dj||(Dj=Sw.define({name:Ij,template:jj,dependencies:Lj})),e.register(Dj)}let Mj=class{enter(e){this.missingComponent=e.id}};Mj.parameters=["id"],Mj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(k)],Mj);const Bj="the-project",Hj='<ecos-section>\n  <h1>Understanding the Ecos project</h1>\n  <p>The main goal of this project (at the moment) is to experiment <a href="https://fast.design">FAST</a> and try to build things with it.</p>\n\n  <h2>What kind of experiment ?</h2>\n  <ul>\n    <li>Experimenting <strong>extending the FAST Frame</strong> design system. If this works well it should enable the project to provide a Design System of its own.</li>\n    <li>Experimenting how components work together when used in <strong>common use cases.</strong> The idea is to put together a homepage, a doc page, a blog page and an admin dashboard.</li>\n    <li><strong>Playing with design tokens on the fly</strong> and see how they affect the overall result.</li>\n  </ul>\n\n  <h2>How is the project organized ?</h2>\n\n  <h3>The design system</h3>\n  <p>The main piece of the project is the design system itself. It is found in the <code>/src/ecos-design-system</code> folder. This folder can be extracted and published on its own.</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # The following command builds the ecos-design-system as a standalone module ready to be published on NPM\n      npm run build\n    </div>\n  </au-snippet>\n\n  <h3>The testing app</h3>\n  <p>In order to play with the design system there is an <a href="https://docs.aurelia.io">Aurelia 2</a> application in the <code>/src</code> folder.</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # The following command starts the app on localhost:9000\n      npm run start\n\n      # The following command builds the app\n      npm run build-app\n    </div>\n  </au-snippet>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # This folder contains app-specific components. Either ECOS components or AU2 custom elements;\n      /src/custom-elements\n\n      # Codebase for the whole design system experiment\n      /src/ecos-design-system\n\n      # This folder contains the routes modules loaded by the AU2 app\n      /src/routes\n\n      # Some app-specific CSS files\n      /src/*.css\n\n      # ecos-app.* are the main application files\n      /src/*.css\n\n      # Entry point for the AU2 application\n      /src/main.ts\n    </div>\n  </au-snippet>\n\n</ecos-section>',Vj=Hj,qj=[];let Uj;function zj(e){Uj||(Uj=Sw.define({name:Bj,template:Hj,dependencies:qj})),e.register(Uj)}let _j=class{};_j=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(S)],_j);let Wj=class{};Wj=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww({name:"welcome-page",template:'<div class="header" style="height:50vh; position: relative;">\n   <animated-svg2 style="position: absolute; bottom: 0; left: 0; width: 100%;"></animated-svg2>\n\n  \n  <ecos-design-system-provider background-color="#333" class="header-text" style="position: relative;">\n    <div class="header-text">Design system built on <a href="https://fast.design">FAST</a> and web-components</div>\n  </ecos-design-system-provider>\n  \n\n</div>\n\n<ecos-section centerwidth="70ch">\n  <h1>Experiment extension of FAST design system</h1>\n  <p>You might have heard of <a href="https://fast.design">fast.design</a> developed by Microsoft. Their idea is to provide a set of packages to allow developer to quickly create design systems using web-components.</p>\n  <p>What you see on this page is an experiment to build such an extended design system.</p>\n</ecos-section>\n\n<ecos-section centerwidth="70ch">\n  <h2>What\'s a design system</h2>\n  <p>Based on a set of <i>design tokens</i>, the design system apply a consistent design and user experience on websites or applications. The design system under the hood of this particular website let\'s you play with those design token. For this you only need to find the <i>Adjustments</i> at the bottom left of each page and play with it.</p>\n</ecos-section>\n\n<ecos-section centerwidth="70ch">\n  <h2>Getting Started</h2>\n  <p>Well, like lots of things in life it start with a little install command</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      npm install @ecos/ecos-design-system --save\n    </div>\n  </au-snippet>\n\n  <p>In order to use web-components they need to be registered. You can do this by importing each desired components</p>\n  <au-snippet class="mobile-full-bleed" enable-output.bind="false">\n    <div language="typescript">\n      import { EcosDesignSystemProvider, EcosButton } from "@ecos/ecos-design-system";\n\n      /*\n      * Ensure that tree-shaking doesn\'t remove these components from the bundle.\n      * There are multiple ways to prevent tree shaking, of which this is one.\n      */\n      EcosDesignSystemProvider;\n      EcosButton;\n    </div>\n  </au-snippet>\n\n  <p>Make sure you have a Design System Provider encapsulating all the ecos components in the DOM. A common practice is to place it right after the body tag</p>\n  <au-snippet class="mobile-full-bleed">\n    <div language="html">\n      <ecos-design-system-provider use-defaults apply-background-to-body>\n        \x3c!-- `use-defaults` is only required on the top level design-system-provider --\x3e\n        \x3c!-- code continues here --\x3e\n      </ecos-design-system-provider>\n    </div>\n  </au-snippet>\n\n  <p>Use the components as native elements</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-design-system-provider background-color="#FFFFFF">\n        <h1>Hello World</h1>\n        <p>This text is supposed to motivate you to click below</p>\n        <ecos-button>Click me !</ecos-button>\n      </ecos-design-system-provider>\n    </div>\n  </au-snippet>\n\n\n</ecos-section>\n\n<ecos-section>\n  <h3>Want to know more ?</h3>\n  <p>Head over to the <ecos-anchor appearance="hypertext" load="../the-project">About the project</ecos-anchor> page to learn more about Ecos.</p>\n</ecos-section>'})],Wj);var Kj=n(304);Kr()(Kj.Z,{insert:"head",singleton:!1});const Gj=Kj.Z.locals||{},Yj="admin-dashboard",Qj='<ecos-section>\n  <ecos-card-row>\n    \n    <h2>\n      Dashboard Menu</h2>\n    <ecos-anchor appearance="lightweight" load="../use-cases-list">\n      <ecos-icon icon="X" weight="2"></ecos-icon>\n    </ecos-anchor>\n    </ecos-card-row>\n  <ecos-stack>\n    <ecos-card>\n      <ecos-menu>\n        <ecos-menu-item role="menuitemradio" checked.bind="view[\'cards\']">Cards</ecos-menu-item>\n        <ecos-menu-item role="menuitemradio" checked.bind="view[\'menu\']">Menu</ecos-menu-item>\n        <ecos-menu-item role="menuitemradio" checked.bind="view[\'list\']">List</ecos-menu-item>\n        <ecos-menu-item role="menuitemradio" checked.bind="view[\'dialog\']">Dialogs</ecos-menu-item>\n      </ecos-menu>\n    </ecos-card>\n  </ecos-stack>\n</ecos-section>\n\n<ecos-section if.bind="view[\'cards\']">\n  <h3>Cards exemples</h3>\n  <ecos-card>\n    <ecos-card-row>\n      <h3>210 Fusibles</h3>\n      <ecos-button appearance="lightweight">\n        <ecos-icon icon="Pencil" slot="start"></ecos-icon>\n        Editer\n      </ecos-button>\n    </ecos-card-row>\n  </ecos-card>\n  <ecos-card>\n    <ecos-card-row>\n      <h3>210 Fusibles</h3>\n    </ecos-card-row>\n    <ecos-card-content separator>\n      <p>Here is the content of the card</p>\n    </ecos-card-content>\n    <ecos-card-row>\n      <ecos-inline-group ecos-card-row--right>\n        <ecos-button appearance="lightweight">Cancel</ecos-button>\n        <ecos-button appearance="accent">Save</ecos-button>\n      </ecos-inline-group>\n    </ecos-card-row>\n  </ecos-card>\n  <ecos-card separators>\n    <ecos-card-row>\n      <h3>210 Fusibles</h3>\n    </ecos-card-row>\n    <ecos-card-content>\n      <p>Here is the content of the card</p>\n    </ecos-card-content>\n    <ecos-card-row>\n      <ecos-inline-group ecos-card-row--right>\n        <ecos-button appearance="lightweight">Cancel</ecos-button>\n        <ecos-button appearance="accent">Save</ecos-button>\n      </ecos-inline-group>\n    </ecos-card-row>\n  </ecos-card>\n</ecos-section>\n\n<ecos-section if.bind="view[\'menu\']">\n  <h3>Menu exemples</h3>\n  <ecos-stack>\n    <ecos-card>\n      <ecos-menu>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Produits\n          <ecos-badge slot="end">1045</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Options\n          <ecos-badge slot="end">140</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Eléments de stock\n          <ecos-badge slot="end">18415</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Fournisseurs\n          <ecos-badge slot="end">35</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Réapprovisonnement\n          <ecos-badge slot="end">48</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Commandes fournisseur\n          <ecos-badge slot="end">475</ecos-badge>\n        </ecos-menu-item>\n      </ecos-menu>\n    </ecos-card>\n    <ecos-card>\n      <ecos-menu>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Clients\n          <ecos-badge slot="end">235</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Commandes\n          <ecos-badge slot="end">1423</ecos-badge>\n        </ecos-menu-item>\n        <ecos-menu-item>\n          <ecos-icon icon="User" slot="start"></ecos-icon>\n          Livraisons\n          <ecos-badge slot="end">1230</ecos-badge>\n        </ecos-menu-item>\n      </ecos-menu>\n    </ecos-card>\n  </ecos-stack>\n</ecos-section>\n\n<ecos-section if.bind="view[\'list\']" centerwidth="100%" nocontain>\n  <h3>List data exemple</h3>\n  <p>\n    <ecos-button appearance="outline" click.delegate="listKeysDialogOpened = !listKeysDialogOpened">Choose listing keys</ecos-button>\n  </p>\n  \n  <ecos-table separators>\n    <ecos-table-row repeat.for="row of data">\n      <ecos-icon icon="User" slot="start" if.bind="listingKeys.icon"></ecos-icon>\n      <ecos-table-item if.bind="listingKeys.name">\n        ${row.name}\n      </ecos-table-item>\n      <ecos-table-item meta if.bind="listingKeys.address">\n        <span slot="label">Address</span>\n        ${row.address}\n      </ecos-table-item>\n      <ecos-table-item meta if.bind="listingKeys.email">\n        <span slot="label">Email</span>\n        ${row.email}\n      </ecos-table-item>\n      <ecos-table-item meta small if.bind="listingKeys.age">\n        <span slot="label">Age</span>\n        ${row.age}\n      </ecos-table-item>\n      <ecos-table-item meta small if.bind="listingKeys.eyeColor">\n        <span slot="label">Eye color</span>\n        ${row.eyeColor}\n      </ecos-table-item>\n      <ecos-button slot="end" if.bind="listingKeys.button">Open</ecos-button>\n    </ecos-table-row>\n  </ecos-table>\n</ecos-section>\n\n<ecos-dialog hidden.bind="!listKeysDialogOpened" class="ecos-dialog--fading" style="--dialog-height: auto; --dialog-width: 300px;">\n    <ecos-menu>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'name\']">Name</ecos-menu-item>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'address\']">Address</ecos-menu-item>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'email\']">Email</ecos-menu-item>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'age\']">Age</ecos-menu-item>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'eyeColor\']">Eye Color</ecos-menu-item>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'icon\']">Icon</ecos-menu-item>\n      <ecos-menu-item role="menuitemcheckbox" checked.bind="listingKeys[\'button\']">Button</ecos-menu-item>\n    </ecos-menu>\n  \n    <ecos-inline-group ecos-card-row--right style="justify-content: flex-end;">\n      <ecos-button click.delegate="listKeysDialogOpened = !listKeysDialogOpened" appearance="text">Fermer</ecos-button>\n    </ecos-inline-group>\n</ecos-dialog>',Zj=Qj,Xj=[Bp.defer(".css",Gj)];let Jj;function eF(e){Jj||(Jj=Sw.define({name:Yj,template:Qj,dependencies:Xj})),e.register(Jj)}class tF{static promiseAnimation(e,t,n){return new Promise((i=>{e.animate(t,n).onfinish=()=>i()}))}static slideIn(e,t,n="right"){return tF.promiseAnimation(e,{transform:[`translateX(${"left"===n?"-":""}100%)`,"translateX(0)"]},t)}static slideOut(e,t,n="right"){return tF.promiseAnimation(e,{transform:["translateX(0)",`translateX(${"left"===n?"-":""}100%)`]},t)}static scaleIn(e,t){return tF.promiseAnimation(e,{transform:["scale(0)","scale(1)"]},t)}static scaleOut(e,t){return tF.promiseAnimation(e,{transform:["scale(1)","scale(0)"]},t)}}const nF=JSON.parse('[{"_id":"60ba79283bf7cac07b127e80","index":0,"guid":"c34231b9-eece-40bc-9c58-2dddb835daf8","isActive":false,"balance":"$3,685.85","picture":"http://placehold.it/32x32","age":26,"eyeColor":"blue","name":"Winters Allen","gender":"male","company":"MANUFACT","email":"wintersallen@manufact.com","phone":"+1 (854) 437-3362","address":"346 Ocean Court, Fedora, Guam, 473","about":"Exercitation eu id excepteur aliquip velit excepteur velit eiusmod laboris nisi tempor laborum nulla. Ea mollit minim laboris eiusmod excepteur voluptate eu laboris aute. Pariatur esse magna amet enim sit commodo laborum et esse quis.\\r\\n","registered":"2020-11-06T04:23:37 -01:00","latitude":21.085598,"longitude":123.573765,"tags":["ad","pariatur","eiusmod","elit","dolor","commodo","ad"],"friends":[{"id":0,"name":"Ruthie Buckley"},{"id":1,"name":"Concetta Mcclain"},{"id":2,"name":"Terry Ferguson"}],"greeting":"Hello, Winters Allen! You have 1 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928af4e4fb3489c3336","index":1,"guid":"622c3e5e-ba99-47f9-8cf4-ef79ba5cfd73","isActive":false,"balance":"$2,861.44","picture":"http://placehold.it/32x32","age":39,"eyeColor":"brown","name":"Helen Farmer","gender":"female","company":"VALREDA","email":"helenfarmer@valreda.com","phone":"+1 (804) 461-2746","address":"125 Vandam Street, Lewis, Nevada, 1876","about":"Esse voluptate aliqua voluptate excepteur dolor dolore. Deserunt minim dolore pariatur magna reprehenderit consectetur cillum labore consequat elit pariatur. Sunt ut mollit sit cillum qui excepteur veniam in consequat labore. Ad velit reprehenderit dolore elit. Mollit aute ut irure do exercitation. Ad id ullamco irure aliqua id ex excepteur.\\r\\n","registered":"2015-10-02T03:47:30 -02:00","latitude":3.308914,"longitude":84.876157,"tags":["laboris","irure","aute","mollit","dolor","dolor","irure"],"friends":[{"id":0,"name":"Jenny Gill"},{"id":1,"name":"Garcia Mcgee"},{"id":2,"name":"Castro Hancock"}],"greeting":"Hello, Helen Farmer! You have 4 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928067e223619768e7d","index":2,"guid":"6c356554-54a0-4052-a592-0e876b363555","isActive":true,"balance":"$2,399.09","picture":"http://placehold.it/32x32","age":31,"eyeColor":"green","name":"Brooke Strickland","gender":"female","company":"BIOTICA","email":"brookestrickland@biotica.com","phone":"+1 (853) 466-2644","address":"103 Farragut Road, Innsbrook, Marshall Islands, 4402","about":"Occaecat fugiat aute magna commodo voluptate. Deserunt veniam minim eu occaecat excepteur dolore eiusmod ut velit. Eu duis aute magna duis nulla. Exercitation incididunt sit pariatur proident tempor labore tempor tempor Lorem aute non anim. Eiusmod eiusmod anim culpa nisi velit nostrud magna reprehenderit. Sit ut irure officia ex sint.\\r\\n","registered":"2016-09-11T04:31:31 -02:00","latitude":41.906968,"longitude":-86.972239,"tags":["officia","deserunt","labore","cillum","Lorem","ad","sint"],"friends":[{"id":0,"name":"Roach Herman"},{"id":1,"name":"Hahn Nixon"},{"id":2,"name":"Sherry Chavez"}],"greeting":"Hello, Brooke Strickland! You have 6 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928459fa18fd72a34db","index":3,"guid":"b40eabda-7948-4407-a75a-516bfc6795f1","isActive":true,"balance":"$2,761.80","picture":"http://placehold.it/32x32","age":25,"eyeColor":"green","name":"Madge Williams","gender":"female","company":"ARTWORLDS","email":"madgewilliams@artworlds.com","phone":"+1 (963) 493-3344","address":"463 Ditmas Avenue, Sexton, Delaware, 4833","about":"Aute et cillum velit eu exercitation. Voluptate velit ut amet culpa duis. Tempor ipsum consectetur pariatur esse ipsum quis consectetur fugiat elit dolore commodo. Qui occaecat mollit proident consectetur labore laborum duis est est id ea aliquip.\\r\\n","registered":"2015-11-02T08:04:44 -01:00","latitude":-79.820927,"longitude":-51.888978,"tags":["laboris","aliqua","duis","commodo","est","dolor","aute"],"friends":[{"id":0,"name":"Best Ramos"},{"id":1,"name":"Janice Cook"},{"id":2,"name":"Harris Washington"}],"greeting":"Hello, Madge Williams! You have 4 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928e1dd84ecce04b999","index":4,"guid":"6b70e47c-8480-4229-89b9-947d23634261","isActive":false,"balance":"$3,823.38","picture":"http://placehold.it/32x32","age":24,"eyeColor":"blue","name":"Gardner Santos","gender":"male","company":"ISONUS","email":"gardnersantos@isonus.com","phone":"+1 (931) 564-3439","address":"934 Sunnyside Avenue, Blandburg, Rhode Island, 1246","about":"Occaecat adipisicing do quis commodo eu Lorem minim dolor sunt laborum. Sint cupidatat ad ipsum consequat esse non qui eiusmod. Eiusmod esse minim nulla Lorem. Amet esse aute proident consequat adipisicing cillum tempor sunt. Laboris mollit ipsum exercitation reprehenderit adipisicing amet veniam eu ut do laboris consectetur. Elit est ut esse magna ipsum nisi mollit labore esse veniam consequat proident pariatur.\\r\\n","registered":"2015-09-26T10:47:47 -02:00","latitude":-86.985545,"longitude":151.835792,"tags":["quis","irure","esse","elit","minim","do","est"],"friends":[{"id":0,"name":"Chang Acosta"},{"id":1,"name":"Rivers Perez"},{"id":2,"name":"Obrien Avery"}],"greeting":"Hello, Gardner Santos! You have 1 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928e97f3f89526934ff","index":5,"guid":"c839a6c1-6a1f-4efe-b921-0c9644c8a78e","isActive":false,"balance":"$1,259.03","picture":"http://placehold.it/32x32","age":36,"eyeColor":"green","name":"Mathis Garza","gender":"male","company":"FROLIX","email":"mathisgarza@frolix.com","phone":"+1 (886) 566-3700","address":"431 Brown Street, Bannock, Oregon, 6738","about":"Ullamco laborum Lorem ex reprehenderit ullamco. Non ad ea id labore veniam. Dolore voluptate occaecat officia enim.\\r\\n","registered":"2021-03-05T05:57:04 -01:00","latitude":-57.959685,"longitude":29.276727,"tags":["id","nostrud","ea","officia","ullamco","exercitation","qui"],"friends":[{"id":0,"name":"Grant Morse"},{"id":1,"name":"Guerra Dillard"},{"id":2,"name":"Walter Dodson"}],"greeting":"Hello, Mathis Garza! You have 8 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928dd0088ec43b7cb79","index":6,"guid":"9421a4bd-546f-4908-8ade-6c408d5c87ed","isActive":false,"balance":"$1,477.26","picture":"http://placehold.it/32x32","age":23,"eyeColor":"brown","name":"Harrison Buchanan","gender":"male","company":"EXIAND","email":"harrisonbuchanan@exiand.com","phone":"+1 (973) 561-2979","address":"658 Sharon Street, Dunnavant, Maine, 4639","about":"Non eu esse aliquip culpa officia consectetur ullamco nisi mollit duis et. Tempor ea non ex consequat irure sunt commodo ipsum velit consectetur ex velit aute. Adipisicing magna culpa aute anim deserunt.\\r\\n","registered":"2019-03-29T04:44:24 -01:00","latitude":78.011416,"longitude":-46.683234,"tags":["duis","cupidatat","Lorem","dolor","aute","labore","aliqua"],"friends":[{"id":0,"name":"Whitney Harris"},{"id":1,"name":"Schroeder Cooley"},{"id":2,"name":"Claire Harrell"}],"greeting":"Hello, Harrison Buchanan! You have 1 unread messages.","favoriteFruit":"apple"},{"_id":"60ba79286be9505a322a378c","index":7,"guid":"9edb7f73-fcc6-48e0-8f25-493bf5418320","isActive":false,"balance":"$1,416.10","picture":"http://placehold.it/32x32","age":34,"eyeColor":"green","name":"Anita Gonzales","gender":"female","company":"PHUEL","email":"anitagonzales@phuel.com","phone":"+1 (996) 438-3646","address":"845 Wallabout Street, Chumuckla, Texas, 5176","about":"In sint aliquip mollit dolore et et ad sunt non proident. Ea sunt culpa duis commodo aute pariatur do nulla ex. Aute amet do ipsum minim do elit ipsum enim velit dolore nisi non in.\\r\\n","registered":"2020-03-06T11:32:02 -01:00","latitude":9.331157,"longitude":175.937769,"tags":["tempor","ex","ex","est","proident","velit","mollit"],"friends":[{"id":0,"name":"Josephine Love"},{"id":1,"name":"Emily King"},{"id":2,"name":"Sophia Hobbs"}],"greeting":"Hello, Anita Gonzales! You have 4 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba79286b032e0bb38e7bc4","index":8,"guid":"227315cf-4596-465d-9eca-e8f52da693d7","isActive":false,"balance":"$3,204.23","picture":"http://placehold.it/32x32","age":31,"eyeColor":"blue","name":"Nell Tran","gender":"female","company":"RONBERT","email":"nelltran@ronbert.com","phone":"+1 (949) 526-2289","address":"788 McClancy Place, Mammoth, Alaska, 7911","about":"Consequat sint officia labore consequat mollit laborum fugiat officia id mollit nostrud. Id officia cillum fugiat ut esse Lorem. In in esse enim reprehenderit anim.\\r\\n","registered":"2014-09-27T05:02:12 -02:00","latitude":55.288785,"longitude":-87.024393,"tags":["ea","mollit","non","labore","veniam","consequat","dolore"],"friends":[{"id":0,"name":"Michael Swanson"},{"id":1,"name":"Sloan Edwards"},{"id":2,"name":"Castillo Bolton"}],"greeting":"Hello, Nell Tran! You have 3 unread messages.","favoriteFruit":"apple"},{"_id":"60ba79286fcfec4901d90a97","index":9,"guid":"29c047ad-cde1-4214-a1c2-514a9487becc","isActive":true,"balance":"$1,433.79","picture":"http://placehold.it/32x32","age":20,"eyeColor":"blue","name":"Aida Heath","gender":"female","company":"DEEPENDS","email":"aidaheath@deepends.com","phone":"+1 (810) 454-3059","address":"613 Danforth Street, Chalfant, District Of Columbia, 3512","about":"Eiusmod qui commodo consectetur exercitation dolor reprehenderit elit. Fugiat deserunt aliqua ad ut mollit incididunt proident velit enim do. Minim culpa anim dolor Lorem aliquip commodo dolore sint ad excepteur. Ipsum non irure veniam commodo deserunt ad ad dolor aliquip sunt consequat reprehenderit.\\r\\n","registered":"2020-02-16T07:52:52 -01:00","latitude":0.190247,"longitude":29.245847,"tags":["esse","ut","culpa","labore","reprehenderit","proident","eu"],"friends":[{"id":0,"name":"Cortez Kirkland"},{"id":1,"name":"Kelley Long"},{"id":2,"name":"Jeri Wade"}],"greeting":"Hello, Aida Heath! You have 8 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928e3b3148fdc6f841d","index":10,"guid":"ea342809-eb71-4e14-bd16-71088cb684ea","isActive":true,"balance":"$1,537.98","picture":"http://placehold.it/32x32","age":38,"eyeColor":"blue","name":"Maddox Daniel","gender":"male","company":"IPLAX","email":"maddoxdaniel@iplax.com","phone":"+1 (831) 477-2008","address":"209 Quay Street, Macdona, California, 5551","about":"Ea minim est cupidatat occaecat irure veniam ea ut nostrud cillum irure laboris dolor. Nulla ex fugiat ad elit labore reprehenderit elit. Elit amet ullamco sit qui amet fugiat nostrud laborum cillum commodo nostrud labore mollit.\\r\\n","registered":"2019-10-28T02:01:18 -01:00","latitude":48.560875,"longitude":-104.221094,"tags":["esse","mollit","quis","velit","commodo","nulla","dolor"],"friends":[{"id":0,"name":"House Greene"},{"id":1,"name":"Mcleod Dixon"},{"id":2,"name":"Atkinson Pitts"}],"greeting":"Hello, Maddox Daniel! You have 9 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928d44d14654e681037","index":11,"guid":"763abd2b-75ba-4619-add0-b8d60248c668","isActive":false,"balance":"$1,327.24","picture":"http://placehold.it/32x32","age":40,"eyeColor":"green","name":"Joyce Potts","gender":"female","company":"COMDOM","email":"joycepotts@comdom.com","phone":"+1 (901) 440-3318","address":"565 Chapel Street, Eden, Idaho, 8474","about":"Ullamco sit occaecat est nisi. Ullamco non eiusmod proident occaecat nisi non ea consectetur sit deserunt non aliquip proident esse. Officia quis voluptate elit cillum deserunt esse magna nulla.\\r\\n","registered":"2015-02-08T11:15:41 -01:00","latitude":81.851308,"longitude":26.384944,"tags":["ea","id","labore","laborum","proident","aute","quis"],"friends":[{"id":0,"name":"Crystal Hogan"},{"id":1,"name":"Rose Mcdonald"},{"id":2,"name":"Loraine Monroe"}],"greeting":"Hello, Joyce Potts! You have 10 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928bf11a797b0f2360c","index":12,"guid":"aecc7aa9-09a7-4517-b7bd-6dbf2f0c5741","isActive":false,"balance":"$3,256.35","picture":"http://placehold.it/32x32","age":20,"eyeColor":"blue","name":"Bailey Leonard","gender":"male","company":"OATFARM","email":"baileyleonard@oatfarm.com","phone":"+1 (849) 463-2794","address":"782 Meeker Avenue, Westphalia, North Carolina, 5920","about":"Deserunt quis nulla non proident quis anim nostrud adipisicing nisi reprehenderit dolor consequat fugiat sint. Cillum aliquip non dolor deserunt sint pariatur ut aute ea ipsum non mollit consequat deserunt. Aute sint do proident non eiusmod magna nulla id in cupidatat. Adipisicing sint voluptate laborum eu mollit deserunt non culpa amet. Commodo occaecat laboris fugiat do laboris occaecat ex consectetur sint minim proident fugiat. Occaecat consectetur deserunt cillum enim laborum aliquip magna Lorem tempor nisi aliqua ipsum cupidatat anim.\\r\\n","registered":"2021-03-12T02:31:17 -01:00","latitude":27.961501,"longitude":120.365639,"tags":["pariatur","commodo","irure","sint","enim","nisi","eiusmod"],"friends":[{"id":0,"name":"Mckee Hines"},{"id":1,"name":"Ryan Harmon"},{"id":2,"name":"Hardin Oconnor"}],"greeting":"Hello, Bailey Leonard! You have 2 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928cee9803fc8c0f017","index":13,"guid":"8919565c-13fd-4e6a-820e-901895f0aaed","isActive":true,"balance":"$1,569.49","picture":"http://placehold.it/32x32","age":20,"eyeColor":"blue","name":"Candice Wall","gender":"female","company":"PUSHCART","email":"candicewall@pushcart.com","phone":"+1 (864) 521-2124","address":"731 Montauk Avenue, Muse, Virginia, 8290","about":"Occaecat exercitation quis pariatur pariatur do eu exercitation qui qui elit aute. Laborum sint sint id elit excepteur enim veniam cupidatat sit cupidatat. Aliqua deserunt consequat incididunt et occaecat culpa. Aliquip deserunt officia id laboris. Sit fugiat incididunt laborum laborum laboris laboris ullamco. Elit ipsum est eu laboris. Consectetur deserunt sunt pariatur exercitation voluptate fugiat magna proident deserunt.\\r\\n","registered":"2019-06-16T12:11:01 -02:00","latitude":58.084862,"longitude":-42.211193,"tags":["qui","esse","ut","cillum","nulla","qui","aute"],"friends":[{"id":0,"name":"Carmela Carson"},{"id":1,"name":"Geraldine Eaton"},{"id":2,"name":"Kidd Jones"}],"greeting":"Hello, Candice Wall! You have 7 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba79288929ba35a758f8d7","index":14,"guid":"4f0ae003-9ca3-4f29-9a88-f8b21c6e4209","isActive":true,"balance":"$3,605.36","picture":"http://placehold.it/32x32","age":26,"eyeColor":"green","name":"Hayes Gardner","gender":"male","company":"NAMEGEN","email":"hayesgardner@namegen.com","phone":"+1 (959) 423-2576","address":"209 Mersereau Court, Remington, Washington, 8440","about":"Aliquip Lorem est exercitation quis id do eiusmod ipsum ex voluptate tempor. Dolore qui deserunt dolor proident. Commodo fugiat tempor minim non nostrud ea ad qui non ipsum consectetur deserunt. Aliquip eu magna tempor ipsum anim velit dolore sunt qui ut consequat amet commodo. Quis nostrud sunt ea ea ad eiusmod non proident.\\r\\n","registered":"2018-12-31T01:40:20 -01:00","latitude":40.804026,"longitude":-153.723338,"tags":["ullamco","duis","aliqua","in","deserunt","officia","sunt"],"friends":[{"id":0,"name":"Hanson Horn"},{"id":1,"name":"Farmer Bryant"},{"id":2,"name":"Elvira Alvarado"}],"greeting":"Hello, Hayes Gardner! You have 3 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928bc2bcf72070084a1","index":15,"guid":"34bda35b-60dc-4bee-8c90-23eb085666c1","isActive":false,"balance":"$3,910.35","picture":"http://placehold.it/32x32","age":25,"eyeColor":"blue","name":"Cassandra Kent","gender":"female","company":"MANGELICA","email":"cassandrakent@mangelica.com","phone":"+1 (921) 414-3453","address":"198 Sandford Street, Mulino, North Dakota, 9548","about":"Excepteur consectetur pariatur voluptate mollit incididunt dolor sint excepteur aute pariatur sint do laboris consequat. Excepteur mollit incididunt ut in occaecat laboris adipisicing anim pariatur non aliquip ea dolor labore. Adipisicing consectetur exercitation id Lorem cupidatat.\\r\\n","registered":"2020-08-13T01:01:19 -02:00","latitude":-71.379507,"longitude":109.42561,"tags":["ipsum","dolore","velit","veniam","occaecat","sint","do"],"friends":[{"id":0,"name":"Maxwell Weber"},{"id":1,"name":"Horn Mercer"},{"id":2,"name":"Ofelia Barnett"}],"greeting":"Hello, Cassandra Kent! You have 3 unread messages.","favoriteFruit":"banana"},{"_id":"60ba79286ca2044dc63888fb","index":16,"guid":"0cd6e976-d7cf-4f49-acf4-f8392910e2d2","isActive":false,"balance":"$3,828.86","picture":"http://placehold.it/32x32","age":35,"eyeColor":"blue","name":"Luisa Lyons","gender":"female","company":"REMOLD","email":"luisalyons@remold.com","phone":"+1 (897) 467-3518","address":"577 Interborough Parkway, Tioga, Virgin Islands, 7790","about":"Officia laborum ea eu exercitation pariatur est cupidatat fugiat aliquip Lorem. Culpa magna laboris laboris magna consectetur qui ad irure mollit irure. Ut occaecat consectetur exercitation deserunt voluptate.\\r\\n","registered":"2015-02-21T12:01:04 -01:00","latitude":-57.401951,"longitude":-93.459532,"tags":["enim","amet","labore","Lorem","ea","duis","cupidatat"],"friends":[{"id":0,"name":"Christa Glover"},{"id":1,"name":"Sampson Santiago"},{"id":2,"name":"Meyer Johnson"}],"greeting":"Hello, Luisa Lyons! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba79287701929833629082","index":17,"guid":"e2b0a728-3531-4fa1-b3d8-c611105d836b","isActive":false,"balance":"$3,827.81","picture":"http://placehold.it/32x32","age":36,"eyeColor":"blue","name":"Laurie Ferrell","gender":"female","company":"TERRAGO","email":"laurieferrell@terrago.com","phone":"+1 (990) 504-2112","address":"572 Woodrow Court, Forestburg, Federated States Of Micronesia, 4620","about":"Laborum ut aliquip ex cillum magna aliquip et officia id. Qui aliquip sunt mollit non sit. Officia ex deserunt laborum ut voluptate excepteur culpa consequat.\\r\\n","registered":"2016-06-08T08:37:05 -02:00","latitude":63.964257,"longitude":43.159525,"tags":["enim","minim","dolore","veniam","ad","tempor","nostrud"],"friends":[{"id":0,"name":"Beach Palmer"},{"id":1,"name":"Ericka Beasley"},{"id":2,"name":"Augusta Perkins"}],"greeting":"Hello, Laurie Ferrell! You have 4 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928bc85558c3605fbce","index":18,"guid":"41988ba3-72be-4516-811e-a0c0d7ba72e9","isActive":false,"balance":"$1,688.17","picture":"http://placehold.it/32x32","age":36,"eyeColor":"blue","name":"Dalton English","gender":"male","company":"EARGO","email":"daltonenglish@eargo.com","phone":"+1 (855) 504-3674","address":"672 Commerce Street, Maxville, South Dakota, 2778","about":"Ea nulla et magna occaecat. Cillum irure laborum qui deserunt ullamco nulla quis officia. Nisi id elit pariatur deserunt quis anim commodo proident cillum Lorem proident cillum eiusmod.\\r\\n","registered":"2014-06-14T06:31:48 -02:00","latitude":-11.303909,"longitude":-57.477222,"tags":["est","irure","labore","deserunt","cillum","in","commodo"],"friends":[{"id":0,"name":"Mayer Chang"},{"id":1,"name":"West Boyer"},{"id":2,"name":"Silvia Cummings"}],"greeting":"Hello, Dalton English! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba79285aaad0714d8d7a62","index":19,"guid":"47f9eccc-2dda-43d1-b5e2-4b18bfcfc00c","isActive":false,"balance":"$2,466.38","picture":"http://placehold.it/32x32","age":25,"eyeColor":"blue","name":"Nellie Grant","gender":"female","company":"MEDESIGN","email":"nelliegrant@medesign.com","phone":"+1 (820) 529-2374","address":"676 Cleveland Street, Lloyd, Mississippi, 4699","about":"Ea ad labore ut quis eiusmod exercitation eiusmod ut. Sunt tempor sint eiusmod cillum veniam reprehenderit enim aliquip sunt esse. Eiusmod sunt occaecat fugiat sit consequat in dolore Lorem sit fugiat. Quis enim cupidatat nisi culpa amet adipisicing. Velit culpa culpa magna tempor tempor dolor est magna mollit. Exercitation irure officia laborum veniam elit culpa cillum fugiat veniam consectetur labore. Duis anim sunt mollit aliquip consequat culpa esse magna velit nulla laboris do minim.\\r\\n","registered":"2015-09-06T07:10:25 -02:00","latitude":6.112608,"longitude":159.347765,"tags":["velit","fugiat","voluptate","Lorem","duis","ullamco","irure"],"friends":[{"id":0,"name":"Darlene Ballard"},{"id":1,"name":"Camacho Cantrell"},{"id":2,"name":"Margret Wilkinson"}],"greeting":"Hello, Nellie Grant! You have 10 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928eb7d9dc765814361","index":20,"guid":"605a2772-3256-4eba-af2b-26655d68d9b8","isActive":false,"balance":"$3,778.42","picture":"http://placehold.it/32x32","age":32,"eyeColor":"green","name":"Marie Wong","gender":"female","company":"AVIT","email":"mariewong@avit.com","phone":"+1 (814) 541-2171","address":"478 Bleecker Street, Dante, Puerto Rico, 7899","about":"Minim velit veniam Lorem reprehenderit aliqua elit enim veniam duis velit ullamco est ex amet. Ex qui voluptate aliqua amet anim eiusmod deserunt. Reprehenderit tempor reprehenderit ut aliquip voluptate. Nulla amet ex aliquip reprehenderit est nulla dolor officia. Culpa id consequat esse ea adipisicing dolor magna consectetur nisi mollit aliqua.\\r\\n","registered":"2020-07-16T09:01:08 -02:00","latitude":-51.34725,"longitude":72.692699,"tags":["nostrud","aliqua","occaecat","fugiat","pariatur","est","esse"],"friends":[{"id":0,"name":"Tamera Rivas"},{"id":1,"name":"Diaz Blake"},{"id":2,"name":"Case Ellison"}],"greeting":"Hello, Marie Wong! You have 2 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928faf14eded6aa4cb1","index":21,"guid":"fa2d6dcc-261c-4432-be6b-3aaa18ad1a8e","isActive":false,"balance":"$3,484.19","picture":"http://placehold.it/32x32","age":29,"eyeColor":"brown","name":"Lara Meadows","gender":"male","company":"OPTICOM","email":"larameadows@opticom.com","phone":"+1 (976) 507-2383","address":"428 Flatlands Avenue, Drytown, Arkansas, 1009","about":"Do in elit fugiat velit. Ipsum proident consequat id esse deserunt. Ad pariatur magna voluptate aliquip dolore adipisicing velit aliqua esse ea veniam. Ea sint officia commodo labore dolore pariatur magna enim sint dolore.\\r\\n","registered":"2017-10-04T08:30:01 -02:00","latitude":22.061551,"longitude":35.778205,"tags":["aliqua","enim","in","proident","nisi","enim","adipisicing"],"friends":[{"id":0,"name":"Vivian Chan"},{"id":1,"name":"Glover Montgomery"},{"id":2,"name":"Lee Fleming"}],"greeting":"Hello, Lara Meadows! You have 4 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928a33bb69a18d172c7","index":22,"guid":"7f8986ad-1ca7-49b9-8ac4-30f0c03d2ea2","isActive":false,"balance":"$3,713.69","picture":"http://placehold.it/32x32","age":25,"eyeColor":"brown","name":"Bianca Mccullough","gender":"female","company":"SULTRAX","email":"biancamccullough@sultrax.com","phone":"+1 (999) 422-2662","address":"401 Livingston Street, Cashtown, Iowa, 9976","about":"Dolore ullamco culpa adipisicing proident tempor excepteur fugiat commodo exercitation. Qui sunt nulla sint ea dolor veniam sunt. Adipisicing do voluptate anim laborum elit aliqua ipsum sunt nulla. Dolor ut adipisicing consectetur ut exercitation ex. Pariatur et dolor non eu dolor excepteur consequat voluptate ea laboris. Adipisicing ullamco ut adipisicing amet culpa do aliqua non.\\r\\n","registered":"2015-08-06T04:40:47 -02:00","latitude":-42.472733,"longitude":-96.33619,"tags":["non","minim","nulla","sit","voluptate","ullamco","amet"],"friends":[{"id":0,"name":"Eaton Hardin"},{"id":1,"name":"Jacklyn Murphy"},{"id":2,"name":"Alyce Humphrey"}],"greeting":"Hello, Bianca Mccullough! You have 4 unread messages.","favoriteFruit":"apple"},{"_id":"60ba79289e66d13575233ea8","index":23,"guid":"05c2f16e-72c0-4324-8ae2-3f9e6108bcac","isActive":false,"balance":"$3,695.94","picture":"http://placehold.it/32x32","age":24,"eyeColor":"blue","name":"Katy Bell","gender":"female","company":"BOVIS","email":"katybell@bovis.com","phone":"+1 (825) 587-3140","address":"174 Logan Street, Fruitdale, New Hampshire, 8560","about":"Veniam fugiat ex non sunt excepteur. Sunt quis laboris et consequat do ad. Ut ullamco ex labore aute elit irure deserunt magna consequat est. Consequat irure nisi ullamco officia ullamco ea et cupidatat excepteur exercitation culpa pariatur dolor. Laborum non eiusmod cupidatat Lorem aliqua ullamco ullamco in ea laboris. Id incididunt eiusmod aliqua quis sit sit aliquip enim. Id in commodo anim ea anim officia culpa aute.\\r\\n","registered":"2014-07-01T11:09:52 -02:00","latitude":50.111523,"longitude":169.536962,"tags":["ut","eu","nulla","incididunt","aliquip","laborum","dolore"],"friends":[{"id":0,"name":"Claudine Norman"},{"id":1,"name":"Snider Bowers"},{"id":2,"name":"Morin Thomas"}],"greeting":"Hello, Katy Bell! You have 3 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba792862bf4fc963c57be4","index":24,"guid":"13da1575-1b90-41ad-a9c1-de6a8ce02e71","isActive":true,"balance":"$2,010.56","picture":"http://placehold.it/32x32","age":40,"eyeColor":"green","name":"Alisa Jordan","gender":"female","company":"ZAPPIX","email":"alisajordan@zappix.com","phone":"+1 (990) 408-2643","address":"564 Crystal Street, Slovan, Connecticut, 5977","about":"In reprehenderit nulla irure qui sunt occaecat enim aliqua dolor consequat fugiat elit aliquip. Deserunt elit nulla ea ipsum et do culpa incididunt non dolore eu. Dolore fugiat ipsum tempor nulla nisi aliqua exercitation ut aliqua enim non elit. Cillum irure cupidatat Lorem eiusmod. Excepteur veniam consequat adipisicing voluptate adipisicing quis. Nulla officia dolore enim commodo eiusmod. Elit esse enim ea consequat.\\r\\n","registered":"2018-07-17T03:19:58 -02:00","latitude":14.591299,"longitude":99.660596,"tags":["culpa","amet","velit","voluptate","ad","ipsum","ipsum"],"friends":[{"id":0,"name":"Vinson Watts"},{"id":1,"name":"Bishop Small"},{"id":2,"name":"Rodriquez Workman"}],"greeting":"Hello, Alisa Jordan! You have 1 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928b201e0eabb6b715b","index":25,"guid":"9a7a4c52-8133-46a1-b838-333366cb6891","isActive":false,"balance":"$3,031.63","picture":"http://placehold.it/32x32","age":24,"eyeColor":"blue","name":"Hodge Trujillo","gender":"male","company":"BLANET","email":"hodgetrujillo@blanet.com","phone":"+1 (949) 597-3599","address":"795 Arlington Place, Charco, Northern Mariana Islands, 1006","about":"Consectetur occaecat culpa fugiat commodo. Nulla voluptate nulla duis elit commodo Lorem. Cillum pariatur Lorem est sunt qui aliqua officia cupidatat labore est laboris dolore. Laborum sint incididunt irure sunt sit eu dolore dolor. Dolor eu proident proident ipsum. Commodo velit exercitation exercitation sint.\\r\\n","registered":"2019-09-27T09:09:33 -02:00","latitude":-29.788539,"longitude":-163.634183,"tags":["proident","veniam","id","velit","do","mollit","dolore"],"friends":[{"id":0,"name":"Melissa Townsend"},{"id":1,"name":"Miranda Holland"},{"id":2,"name":"Yvonne Carpenter"}],"greeting":"Hello, Hodge Trujillo! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928fa80dac4ff589375","index":26,"guid":"f5487233-c340-4d41-8969-619b1a5a5333","isActive":false,"balance":"$2,051.47","picture":"http://placehold.it/32x32","age":35,"eyeColor":"blue","name":"Kimberley Rowland","gender":"female","company":"FLYBOYZ","email":"kimberleyrowland@flyboyz.com","phone":"+1 (974) 535-2406","address":"573 Jefferson Street, Grandview, Wyoming, 6043","about":"Dolor officia adipisicing anim dolore laborum dolore voluptate in ut exercitation labore enim. Non ipsum incididunt nulla deserunt reprehenderit eu est ea dolore. Commodo Lorem amet occaecat laboris cillum laborum. Deserunt deserunt eiusmod consectetur irure qui voluptate quis. Dolore laboris ipsum commodo nulla. Commodo deserunt pariatur labore non incididunt commodo anim.\\r\\n","registered":"2019-02-01T05:35:31 -01:00","latitude":-27.872667,"longitude":50.936204,"tags":["elit","commodo","ea","et","adipisicing","incididunt","ipsum"],"friends":[{"id":0,"name":"Houston Hopkins"},{"id":1,"name":"Shepard Burke"},{"id":2,"name":"Puckett Haynes"}],"greeting":"Hello, Kimberley Rowland! You have 4 unread messages.","favoriteFruit":"banana"},{"_id":"60ba792861f91b89783c5983","index":27,"guid":"4bdbd4df-a079-4d5e-844f-b7cc751393fa","isActive":true,"balance":"$3,177.55","picture":"http://placehold.it/32x32","age":34,"eyeColor":"green","name":"Lily Suarez","gender":"female","company":"COLAIRE","email":"lilysuarez@colaire.com","phone":"+1 (919) 534-3250","address":"145 Hendrickson Street, Imperial, Oklahoma, 1293","about":"Ullamco labore magna tempor aliqua nisi laborum veniam non ullamco elit ut id cupidatat aliqua. Officia duis voluptate mollit fugiat ea do amet laborum irure esse consequat magna deserunt proident. Laborum consequat sint pariatur enim ad ipsum sunt non in adipisicing dolor enim. Ut anim ipsum ea aliquip non laborum velit anim minim officia labore. Tempor aliquip consectetur non quis laborum esse id amet magna veniam occaecat. Veniam nisi in ipsum ex enim do magna fugiat irure occaecat fugiat laborum. Consectetur reprehenderit culpa et nostrud cupidatat id sit esse in sunt.\\r\\n","registered":"2014-06-24T10:09:07 -02:00","latitude":23.081926,"longitude":104.014351,"tags":["eiusmod","excepteur","fugiat","ullamco","commodo","sit","consectetur"],"friends":[{"id":0,"name":"Mcneil Miller"},{"id":1,"name":"Avila Harrison"},{"id":2,"name":"Callie Cox"}],"greeting":"Hello, Lily Suarez! You have 8 unread messages.","favoriteFruit":"apple"},{"_id":"60ba792810269edbc170befd","index":28,"guid":"645d4792-0919-404b-9d71-378eca4f4912","isActive":false,"balance":"$3,546.28","picture":"http://placehold.it/32x32","age":35,"eyeColor":"green","name":"Burton James","gender":"male","company":"GYNK","email":"burtonjames@gynk.com","phone":"+1 (868) 477-3367","address":"843 Monitor Street, Darrtown, New York, 2059","about":"Ullamco tempor elit consectetur eiusmod ad elit esse commodo cillum amet culpa occaecat sint ut. Nisi ut ipsum ex dolore laboris quis fugiat veniam magna do laborum eiusmod. Nisi esse non laborum Lorem anim occaecat. Do elit ad aliquip laboris deserunt culpa qui Lorem consectetur laboris ullamco do.\\r\\n","registered":"2019-07-03T06:13:38 -02:00","latitude":-60.379917,"longitude":37.767457,"tags":["officia","culpa","in","fugiat","laborum","minim","aliquip"],"friends":[{"id":0,"name":"Raquel Ryan"},{"id":1,"name":"Willis Woodard"},{"id":2,"name":"Sarah Mann"}],"greeting":"Hello, Burton James! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba792883e3d2439b531e0f","index":29,"guid":"3ace7c37-c291-40c9-a11d-8f35cb12a1d3","isActive":false,"balance":"$1,887.36","picture":"http://placehold.it/32x32","age":29,"eyeColor":"green","name":"Wall Kemp","gender":"male","company":"AFFLUEX","email":"wallkemp@affluex.com","phone":"+1 (909) 563-2458","address":"581 Pooles Lane, Choctaw, Pennsylvania, 6575","about":"Sint sit dolore voluptate deserunt dolor magna nulla amet enim id. In labore aliqua irure fugiat incididunt veniam. In laborum minim velit cillum aliquip ullamco anim amet laboris proident sunt ut. Consequat nulla officia voluptate Lorem excepteur nostrud deserunt magna magna.\\r\\n","registered":"2014-11-23T08:41:11 -01:00","latitude":-2.119083,"longitude":99.011681,"tags":["do","amet","fugiat","aliquip","incididunt","quis","do"],"friends":[{"id":0,"name":"Munoz Armstrong"},{"id":1,"name":"Tucker Stevens"},{"id":2,"name":"Frankie Conrad"}],"greeting":"Hello, Wall Kemp! You have 2 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928612db60f3a0f1a6b","index":30,"guid":"f74c358d-51a5-41c5-addd-986f40801a36","isActive":true,"balance":"$3,385.09","picture":"http://placehold.it/32x32","age":30,"eyeColor":"blue","name":"Gibbs Cobb","gender":"male","company":"ONTALITY","email":"gibbscobb@ontality.com","phone":"+1 (993) 489-3153","address":"421 Bethel Loop, Mulberry, Kansas, 8351","about":"Cupidatat non fugiat ad est reprehenderit aliquip. Tempor reprehenderit eu ut exercitation irure id aliqua commodo duis nulla ullamco ea. Proident mollit tempor cillum amet laborum nulla deserunt ullamco nostrud eu non eu nulla eu. Tempor ex sit incididunt commodo fugiat id exercitation non tempor qui occaecat. Non cupidatat ex magna consequat laboris deserunt ea sunt sit magna fugiat et. Esse officia deserunt veniam est velit pariatur est in. Sit ad dolore labore irure.\\r\\n","registered":"2015-02-24T05:42:39 -01:00","latitude":-57.941027,"longitude":-91.58293,"tags":["ipsum","nulla","officia","in","ex","reprehenderit","reprehenderit"],"friends":[{"id":0,"name":"Randall Hale"},{"id":1,"name":"Eve Mcintyre"},{"id":2,"name":"Matthews Kline"}],"greeting":"Hello, Gibbs Cobb! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba79284e56d6cd45f7f470","index":31,"guid":"80bc75cd-9b5b-462c-85d1-f4acaa70961f","isActive":false,"balance":"$3,067.19","picture":"http://placehold.it/32x32","age":21,"eyeColor":"blue","name":"Violet Pace","gender":"female","company":"COMCUR","email":"violetpace@comcur.com","phone":"+1 (878) 487-3005","address":"601 Jamison Lane, Allensworth, Ohio, 7433","about":"Aliqua commodo velit dolor commodo nostrud. Sint ad veniam magna aute aute excepteur quis labore commodo magna. Adipisicing deserunt Lorem Lorem labore dolore consequat. Occaecat duis laboris fugiat eiusmod. Esse do do anim do non fugiat.\\r\\n","registered":"2019-10-05T04:45:54 -02:00","latitude":71.228664,"longitude":-69.535022,"tags":["aute","duis","laborum","laborum","aliquip","laborum","id"],"friends":[{"id":0,"name":"Brenda Arnold"},{"id":1,"name":"Janie Kirby"},{"id":2,"name":"Olson Dudley"}],"greeting":"Hello, Violet Pace! You have 3 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928810861e235f60204","index":32,"guid":"d3ba0f56-b896-4c16-93e4-c8377aeb3636","isActive":true,"balance":"$2,782.39","picture":"http://placehold.it/32x32","age":30,"eyeColor":"brown","name":"Jefferson Richardson","gender":"male","company":"ACCUFARM","email":"jeffersonrichardson@accufarm.com","phone":"+1 (983) 524-2445","address":"419 Falmouth Street, Dodge, Tennessee, 7236","about":"Sint exercitation laborum ipsum pariatur mollit eu Lorem enim. Veniam eu ipsum enim esse irure deserunt nostrud sint eiusmod incididunt elit ex. Est elit ex velit magna ad et et do. Consectetur magna magna nisi in occaecat esse velit adipisicing fugiat. Amet cillum proident non quis incididunt ipsum duis incididunt. Laborum tempor occaecat elit ex commodo ad veniam in amet. Consectetur sunt amet laboris esse exercitation reprehenderit sit reprehenderit aute dolor.\\r\\n","registered":"2017-03-19T06:01:15 -01:00","latitude":-34.743417,"longitude":82.348782,"tags":["sunt","fugiat","irure","proident","amet","tempor","minim"],"friends":[{"id":0,"name":"Lilian Lester"},{"id":1,"name":"Phoebe Norris"},{"id":2,"name":"Woodard Bond"}],"greeting":"Hello, Jefferson Richardson! You have 7 unread messages.","favoriteFruit":"apple"},{"_id":"60ba79281c8a6a33ee8ecea0","index":33,"guid":"bae9acd4-e89f-4d30-a3f4-9030d966fdfb","isActive":false,"balance":"$2,879.36","picture":"http://placehold.it/32x32","age":33,"eyeColor":"blue","name":"Hillary Burris","gender":"female","company":"REALYSIS","email":"hillaryburris@realysis.com","phone":"+1 (989) 434-2965","address":"560 Carroll Street, Hillsboro, Minnesota, 534","about":"Tempor pariatur enim ut commodo minim eu nostrud dolore veniam ut enim. Reprehenderit enim quis enim pariatur amet occaecat non duis quis. Nulla dolor labore laborum dolore excepteur veniam sit esse officia.\\r\\n","registered":"2015-12-07T02:34:39 -01:00","latitude":-19.612552,"longitude":53.297779,"tags":["magna","nostrud","exercitation","nisi","amet","occaecat","sint"],"friends":[{"id":0,"name":"Gwen Gross"},{"id":1,"name":"Louisa Lloyd"},{"id":2,"name":"Aline Reilly"}],"greeting":"Hello, Hillary Burris! You have 6 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928aedfbd9f0f244ec6","index":34,"guid":"a385544b-0991-4059-87f0-e226faab6724","isActive":false,"balance":"$1,115.07","picture":"http://placehold.it/32x32","age":34,"eyeColor":"brown","name":"Constance Chase","gender":"female","company":"AQUACINE","email":"constancechase@aquacine.com","phone":"+1 (956) 556-3303","address":"378 Louisiana Avenue, Lowell, Louisiana, 6858","about":"Ullamco enim magna eu id incididunt sint ea amet. Nisi laborum excepteur laboris sit aute enim ullamco magna deserunt. Irure quis do dolore aliquip tempor exercitation adipisicing amet consectetur.\\r\\n","registered":"2017-12-23T06:37:17 -01:00","latitude":69.356017,"longitude":-136.37466,"tags":["cillum","est","tempor","ea","culpa","nulla","eu"],"friends":[{"id":0,"name":"Walls Fisher"},{"id":1,"name":"Leblanc Graham"},{"id":2,"name":"Carrillo Griffith"}],"greeting":"Hello, Constance Chase! You have 4 unread messages.","favoriteFruit":"banana"},{"_id":"60ba79285a9e18ce4c9619ff","index":35,"guid":"f71b848c-ed09-4877-a2fa-c87a94d6282d","isActive":false,"balance":"$3,141.14","picture":"http://placehold.it/32x32","age":32,"eyeColor":"green","name":"Austin Alford","gender":"male","company":"NIQUENT","email":"austinalford@niquent.com","phone":"+1 (962) 570-3107","address":"594 Roebling Street, Lindisfarne, Michigan, 1610","about":"Sunt eu laboris mollit sit quis sit. Excepteur magna magna ad aute nisi consectetur est. Elit ea eiusmod laboris quis dolor elit.\\r\\n","registered":"2016-07-19T01:59:42 -02:00","latitude":35.765787,"longitude":107.180276,"tags":["labore","culpa","proident","Lorem","nulla","ex","nulla"],"friends":[{"id":0,"name":"John Salas"},{"id":1,"name":"Wyatt Figueroa"},{"id":2,"name":"Moran Ayala"}],"greeting":"Hello, Austin Alford! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928b9e8a673447128ef","index":36,"guid":"24f5a32e-ef0a-45c4-a805-c292569473f2","isActive":true,"balance":"$1,686.68","picture":"http://placehold.it/32x32","age":28,"eyeColor":"brown","name":"Wilda Gaines","gender":"female","company":"FRANSCENE","email":"wildagaines@franscene.com","phone":"+1 (924) 506-2614","address":"617 Schroeders Avenue, Machias, Illinois, 2197","about":"Sint cillum cillum cupidatat duis anim non aute labore. Magna sint dolor magna velit ut dolor sint dolore amet excepteur ex nisi. Sunt quis proident dolor culpa et. Commodo irure et excepteur exercitation magna laborum magna ut Lorem ex nisi nulla aliqua. Lorem est magna reprehenderit consectetur. Ad minim officia aliqua magna anim nisi.\\r\\n","registered":"2018-01-20T08:13:18 -01:00","latitude":-50.543622,"longitude":29.911213,"tags":["proident","excepteur","excepteur","adipisicing","est","sunt","incididunt"],"friends":[{"id":0,"name":"Annabelle Dennis"},{"id":1,"name":"Rosalind Clarke"},{"id":2,"name":"Hull Frank"}],"greeting":"Hello, Wilda Gaines! You have 8 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba792811e919f60dae4376","index":37,"guid":"d5a306e5-d6d3-4306-a19c-2803d2a59865","isActive":true,"balance":"$3,273.04","picture":"http://placehold.it/32x32","age":33,"eyeColor":"blue","name":"Smith Logan","gender":"male","company":"DATAGEN","email":"smithlogan@datagen.com","phone":"+1 (849) 444-2962","address":"797 Dupont Street, Genoa, New Mexico, 9570","about":"Nisi dolor nostrud reprehenderit incididunt nisi voluptate reprehenderit cupidatat anim sit cillum consequat deserunt magna. Id elit pariatur sunt enim ipsum officia et commodo. Sunt laborum esse deserunt do. Consequat fugiat occaecat esse et.\\r\\n","registered":"2017-02-01T06:28:34 -01:00","latitude":-72.793044,"longitude":101.023787,"tags":["excepteur","mollit","laboris","aute","aliquip","anim","Lorem"],"friends":[{"id":0,"name":"Minerva Carey"},{"id":1,"name":"Baxter Shannon"},{"id":2,"name":"Bessie Middleton"}],"greeting":"Hello, Smith Logan! You have 5 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928e00d0082c7927988","index":38,"guid":"68f30023-7e09-4858-91c0-c73241836447","isActive":true,"balance":"$3,615.46","picture":"http://placehold.it/32x32","age":30,"eyeColor":"blue","name":"Serrano Prince","gender":"male","company":"ENAUT","email":"serranoprince@enaut.com","phone":"+1 (952) 503-3596","address":"146 Bergen Court, Nogal, Florida, 7507","about":"Culpa id cillum ad excepteur dolor. Cillum cupidatat labore ex Lorem. Incididunt nisi nulla ea nostrud cillum minim cillum aliqua amet consequat et fugiat qui. Elit id Lorem ut sint tempor culpa laborum tempor.\\r\\n","registered":"2020-02-29T03:34:16 -01:00","latitude":-14.317506,"longitude":68.693247,"tags":["mollit","ipsum","consectetur","ex","nulla","minim","amet"],"friends":[{"id":0,"name":"Cherry Wynn"},{"id":1,"name":"Audrey Steele"},{"id":2,"name":"Watson Miranda"}],"greeting":"Hello, Serrano Prince! You have 8 unread messages.","favoriteFruit":"apple"},{"_id":"60ba7928da7972d50bbd2653","index":39,"guid":"b83ea7e2-a8a8-4cf1-9836-b74ba535bcc6","isActive":true,"balance":"$1,340.71","picture":"http://placehold.it/32x32","age":27,"eyeColor":"brown","name":"Valenzuela Matthews","gender":"male","company":"FILODYNE","email":"valenzuelamatthews@filodyne.com","phone":"+1 (971) 537-3130","address":"684 Lenox Road, Fairfield, Colorado, 746","about":"Enim sunt ut pariatur qui labore nostrud sit tempor aute cillum veniam. Eu ex ex labore eiusmod velit anim adipisicing in voluptate proident dolor ex ea nulla. Consequat quis elit anim labore irure Lorem aliquip aliqua eu elit non veniam. Sit eu incididunt amet eiusmod consectetur mollit. Qui irure culpa est elit aliqua eu irure amet veniam excepteur. Et eu ullamco consequat dolor minim adipisicing nostrud. Tempor sint ad pariatur aliqua consectetur enim.\\r\\n","registered":"2018-02-20T06:16:04 -01:00","latitude":26.696327,"longitude":144.647538,"tags":["do","est","nostrud","ex","nulla","minim","eiusmod"],"friends":[{"id":0,"name":"Oconnor Bonner"},{"id":1,"name":"Mckinney Wheeler"},{"id":2,"name":"Haynes Leon"}],"greeting":"Hello, Valenzuela Matthews! You have 10 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928d50d17ebd388849d","index":40,"guid":"bf4509df-b073-4dfa-b5f2-e66a8bf0e635","isActive":true,"balance":"$2,432.40","picture":"http://placehold.it/32x32","age":40,"eyeColor":"brown","name":"Chandler Fry","gender":"male","company":"EARTHPURE","email":"chandlerfry@earthpure.com","phone":"+1 (849) 565-2712","address":"453 Dahill Road, Kersey, West Virginia, 7763","about":"Mollit in adipisicing non in. Id proident incididunt minim ipsum. Nulla pariatur duis ut pariatur. Ad cillum nulla ullamco pariatur aliquip sunt dolor occaecat cillum eiusmod. Adipisicing do sint eiusmod ea ea. Quis anim nisi magna ut tempor velit enim in excepteur elit commodo.\\r\\n","registered":"2016-01-08T11:48:59 -01:00","latitude":-0.804411,"longitude":-20.154326,"tags":["dolore","aliqua","elit","adipisicing","adipisicing","mollit","quis"],"friends":[{"id":0,"name":"Ingram Case"},{"id":1,"name":"Barron Bush"},{"id":2,"name":"Luann Ball"}],"greeting":"Hello, Chandler Fry! You have 6 unread messages.","favoriteFruit":"banana"},{"_id":"60ba7928aec5fbb54c6e114f","index":41,"guid":"41af3978-a223-43d7-9073-a89fa250dffc","isActive":false,"balance":"$1,946.42","picture":"http://placehold.it/32x32","age":36,"eyeColor":"green","name":"Hannah Rojas","gender":"female","company":"XEREX","email":"hannahrojas@xerex.com","phone":"+1 (922) 533-2315","address":"603 Seagate Avenue, Colton, Arizona, 6332","about":"Tempor proident irure in consequat fugiat sint laboris cillum. Qui culpa aliqua do voluptate et laborum elit ad magna et ipsum. Aute ipsum cillum consequat eiusmod. Voluptate cillum reprehenderit eu duis culpa occaecat ullamco commodo anim in adipisicing. Enim cupidatat ipsum officia deserunt anim magna voluptate excepteur sit qui elit nulla. Aute enim ad eiusmod Lorem nostrud commodo. Proident ipsum cillum minim Lorem occaecat ullamco excepteur enim labore.\\r\\n","registered":"2019-06-06T03:20:12 -02:00","latitude":-11.695609,"longitude":-61.368014,"tags":["pariatur","aliquip","est","enim","minim","officia","cupidatat"],"friends":[{"id":0,"name":"Julianne Randolph"},{"id":1,"name":"Tina Sherman"},{"id":2,"name":"Lorna Wright"}],"greeting":"Hello, Hannah Rojas! You have 7 unread messages.","favoriteFruit":"apple"},{"_id":"60ba792870616b778bb836d6","index":42,"guid":"f2553d35-0a5d-4d3f-9b31-b8edfece22bf","isActive":true,"balance":"$2,597.18","picture":"http://placehold.it/32x32","age":24,"eyeColor":"brown","name":"Sofia Juarez","gender":"female","company":"CINESANCT","email":"sofiajuarez@cinesanct.com","phone":"+1 (883) 425-2612","address":"854 Grace Court, Fairmount, Kentucky, 8224","about":"Qui sunt aute nulla laborum enim occaecat adipisicing in minim ut aute dolore minim. Aliquip labore in velit laboris. Occaecat aliqua magna voluptate magna minim pariatur proident cillum irure dolor reprehenderit. Laborum commodo aliqua ipsum Lorem mollit magna excepteur labore voluptate mollit tempor cillum sunt. Occaecat officia labore laborum nostrud commodo ad occaecat exercitation elit. Veniam id nulla commodo non velit veniam ad nulla proident.\\r\\n","registered":"2020-02-07T11:20:32 -01:00","latitude":5.177403,"longitude":-137.144541,"tags":["eu","ut","eiusmod","anim","dolor","quis","esse"],"friends":[{"id":0,"name":"Foley Spears"},{"id":1,"name":"Deloris Mosley"},{"id":2,"name":"Kelsey Delaney"}],"greeting":"Hello, Sofia Juarez! You have 1 unread messages.","favoriteFruit":"banana"},{"_id":"60ba792814042e9441bbe6c1","index":43,"guid":"a6e1ce60-8678-44a7-8b10-e83f6dcb7670","isActive":false,"balance":"$2,974.46","picture":"http://placehold.it/32x32","age":33,"eyeColor":"green","name":"Hudson Barnes","gender":"male","company":"POLARAX","email":"hudsonbarnes@polarax.com","phone":"+1 (981) 574-2087","address":"117 Kings Place, Edneyville, Georgia, 6702","about":"Laborum laboris dolore deserunt do reprehenderit excepteur proident. Ut velit sunt culpa laboris nulla minim. Dolor quis commodo deserunt veniam enim deserunt ut laborum nulla velit irure est nulla. Aliqua quis ut non quis. Mollit adipisicing aliquip anim velit. Labore consectetur magna nostrud aute duis eiusmod fugiat elit anim culpa irure ipsum duis esse. Sint sint incididunt cillum adipisicing mollit qui qui commodo Lorem anim.\\r\\n","registered":"2016-10-12T08:41:39 -02:00","latitude":-87.41575,"longitude":155.324913,"tags":["minim","esse","nulla","irure","reprehenderit","do","dolore"],"friends":[{"id":0,"name":"Henderson Bartlett"},{"id":1,"name":"Terra Conner"},{"id":2,"name":"Mcmahon Mckee"}],"greeting":"Hello, Hudson Barnes! You have 3 unread messages.","favoriteFruit":"apple"},{"_id":"60ba792855ee3a18a8b3a759","index":44,"guid":"de9d18d6-f163-480e-a92d-b6c41f31b9ec","isActive":false,"balance":"$2,459.06","picture":"http://placehold.it/32x32","age":24,"eyeColor":"blue","name":"Giles Mcguire","gender":"male","company":"CALCU","email":"gilesmcguire@calcu.com","phone":"+1 (956) 469-2741","address":"409 Driggs Avenue, Allamuchy, Nebraska, 8310","about":"Laboris qui magna irure eiusmod aute ullamco. Quis mollit do mollit eiusmod aliquip id officia dolore in quis in dolor aliquip. Magna in dolore non ad eiusmod quis sint ad excepteur ut eu cupidatat commodo sint. Aute velit esse occaecat officia nostrud pariatur elit.\\r\\n","registered":"2020-11-30T04:44:38 -01:00","latitude":-41.051082,"longitude":-147.604915,"tags":["proident","nulla","minim","nisi","veniam","ipsum","nulla"],"friends":[{"id":0,"name":"Mosley Espinoza"},{"id":1,"name":"Blanche Franco"},{"id":2,"name":"Conrad Barrera"}],"greeting":"Hello, Giles Mcguire! You have 7 unread messages.","favoriteFruit":"apple"},{"_id":"60ba79281089a524d4db679b","index":45,"guid":"56cb232a-7113-43ce-b798-7b5eb4b77b03","isActive":true,"balance":"$3,877.45","picture":"http://placehold.it/32x32","age":29,"eyeColor":"brown","name":"Camille Mendez","gender":"female","company":"PLUTORQUE","email":"camillemendez@plutorque.com","phone":"+1 (950) 482-3385","address":"542 Fillmore Avenue, Strong, Alabama, 4439","about":"Anim irure id voluptate ad cillum sit qui. Pariatur incididunt duis dolore ad mollit nulla incididunt occaecat eiusmod ad est. Mollit incididunt aliqua sint non commodo eu tempor aliqua. Aliquip ea consectetur aliqua pariatur qui. Aute occaecat nostrud non est id nulla laboris deserunt minim enim nisi. Est consequat labore cillum eu sint cillum consequat consectetur incididunt.\\r\\n","registered":"2014-09-04T05:03:13 -02:00","latitude":-79.465647,"longitude":-61.720901,"tags":["occaecat","nostrud","ad","non","velit","ullamco","culpa"],"friends":[{"id":0,"name":"Hernandez Alston"},{"id":1,"name":"Barry Oneil"},{"id":2,"name":"Parsons Bullock"}],"greeting":"Hello, Camille Mendez! You have 1 unread messages.","favoriteFruit":"banana"},{"_id":"60ba79280f07c45625fd6b9c","index":46,"guid":"f33ce44b-7018-4164-b66c-8e2d69dc617b","isActive":false,"balance":"$2,546.55","picture":"http://placehold.it/32x32","age":21,"eyeColor":"green","name":"Billie Mcdaniel","gender":"female","company":"EZENT","email":"billiemcdaniel@ezent.com","phone":"+1 (943) 559-3996","address":"558 Poly Place, Inkerman, New Jersey, 5750","about":"Voluptate labore voluptate laboris consequat qui eu exercitation. Qui reprehenderit voluptate culpa quis in enim in culpa ut nostrud proident consequat officia cupidatat. Anim ut nisi mollit aliquip et est culpa labore cupidatat consequat.\\r\\n","registered":"2015-12-23T01:01:35 -01:00","latitude":81.567839,"longitude":112.614056,"tags":["amet","mollit","nulla","reprehenderit","esse","laborum","anim"],"friends":[{"id":0,"name":"Corine Sandoval"},{"id":1,"name":"England Shepard"},{"id":2,"name":"Alston Larsen"}],"greeting":"Hello, Billie Mcdaniel! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"60ba792817bcc9a7044f1c0f","index":47,"guid":"b5165811-4aef-43fd-9491-538ccb9438da","isActive":false,"balance":"$3,061.48","picture":"http://placehold.it/32x32","age":31,"eyeColor":"blue","name":"Letitia Macdonald","gender":"female","company":"PAPRIKUT","email":"letitiamacdonald@paprikut.com","phone":"+1 (806) 498-2455","address":"395 Grove Street, Salix, American Samoa, 4297","about":"Ipsum aliqua anim cupidatat veniam culpa incididunt consectetur. Nulla elit reprehenderit est pariatur duis deserunt ea in veniam labore id eu. Consequat aliquip ut in occaecat esse minim amet magna ut velit deserunt ad esse ullamco. Anim aute ea tempor et.\\r\\n","registered":"2016-06-11T02:50:06 -02:00","latitude":74.371704,"longitude":-19.194643,"tags":["eiusmod","amet","duis","pariatur","Lorem","non","ad"],"friends":[{"id":0,"name":"Traci Houston"},{"id":1,"name":"Eloise Lowe"},{"id":2,"name":"Kristine Hayden"}],"greeting":"Hello, Letitia Macdonald! You have 1 unread messages.","favoriteFruit":"banana"},{"_id":"60ba792864431faf99afdfe5","index":48,"guid":"f108db35-3078-44dc-a91a-629504fa5a9d","isActive":true,"balance":"$2,843.95","picture":"http://placehold.it/32x32","age":30,"eyeColor":"blue","name":"Chris Mccarthy","gender":"female","company":"ROCKLOGIC","email":"chrismccarthy@rocklogic.com","phone":"+1 (919) 579-2351","address":"144 Downing Street, Lorraine, Vermont, 580","about":"Non minim magna nulla laborum mollit quis. Commodo aliqua laboris amet nostrud esse nostrud aute labore est nisi. Veniam ad ad non ex aliqua sit nisi quis. Tempor sint consectetur et proident. Elit et laborum dolor duis ut qui sunt magna duis irure. Cillum id irure quis esse non occaecat esse ea non ullamco.\\r\\n","registered":"2020-08-17T03:01:34 -02:00","latitude":-55.044795,"longitude":-143.687275,"tags":["non","magna","est","aliqua","nostrud","duis","ea"],"friends":[{"id":0,"name":"Ruby Cooper"},{"id":1,"name":"Nola Stephenson"},{"id":2,"name":"Esperanza Gutierrez"}],"greeting":"Hello, Chris Mccarthy! You have 7 unread messages.","favoriteFruit":"strawberry"},{"_id":"60ba7928d35bbbbff879700c","index":49,"guid":"68a07cc6-2036-4497-98b7-647b0fd41805","isActive":false,"balance":"$2,243.81","picture":"http://placehold.it/32x32","age":29,"eyeColor":"green","name":"Nunez Britt","gender":"male","company":"GEEKULAR","email":"nunezbritt@geekular.com","phone":"+1 (888) 556-2259","address":"864 Prospect Place, Brule, Utah, 6617","about":"Eu nisi aliqua incididunt et. Cupidatat ut deserunt do aliquip in nisi velit. Elit officia labore amet aute commodo exercitation cillum est cillum aliqua sunt proident. Labore velit tempor aliqua commodo laborum deserunt ad minim veniam excepteur cupidatat culpa quis.\\r\\n","registered":"2016-03-18T12:52:31 -01:00","latitude":9.862735,"longitude":37.733499,"tags":["adipisicing","amet","commodo","dolore","anim","ea","proident"],"friends":[{"id":0,"name":"Leanna Ford"},{"id":1,"name":"Leigh Jefferson"},{"id":2,"name":"Crawford Strong"}],"greeting":"Hello, Nunez Britt! You have 4 unread messages.","favoriteFruit":"apple"}]');let iF=class{constructor(){this.view={cards:!1,dialog:!1,list:!0},this.listingKeys={name:!0,address:!0,icon:!0,button:!0},this.data=nF,this.rows=[["Vanne de service 1/4 flare"]]}created(e){this.element=e.host}attaching(){return tF.scaleIn(this.element,400)}detaching(){return tF.scaleOut(this.element,200)}};iF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww($)],iF);var sF=n(578);Kr()(sF.Z,{insert:"head",singleton:!1});const oF=sF.Z.locals||{},rF="blog-page",aF='<ecos-navbar layer="4" scrolling-container-selector="[name=use-cases-viewport]">\n  <ecos-button appearance="lightweight" slot="branding" style="color: var(--accent-fill-rest)" load="../use-cases-list">\n    <ecos-icon icon="X" slot="start" weight="2"></ecos-icon>\n    Demo Blog\n  </ecos-button>\n</ecos-navbar>\n\n\n<div class="header" style="background-image: url(https://source.unsplash.com/7oYIY1lHEBI/1600x900);">\n  <div class="blog-header-text">\n    Black & White Nature\n    <span class="blog-photo-credit">Photo by <a href="https://unsplash.com/@damienschnorhk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Damien Schnorhk</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></span>\n  </div>\n</div>\n\n\n<ecos-section centerwidth="70ch" class="ecos-stack--large">\n  <h1>Latest posts</h1>\n  <ecos-article-list class="larger">\n    <ecos-article image-src="https://source.unsplash.com/PY5AuXtMtuk/400x300">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        See some more\n      </ecos-button>\n      <ecos-stack>\n        <h3>Feegletscher, Saas-Fee, Switzerland</h3>\n        <p>Photo by <a href="https://unsplash.com/@damienschnorhk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Damien Schnorhk</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article image-src="https://source.unsplash.com/DJKxhEiu70I/400x300">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        See some more\n      </ecos-button>\n      <ecos-stack>\n        <h3>Swiss Alps</h3>\n        <p>Photo by <a href="https://unsplash.com/@damienschnorhk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Damien Schnorhk</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article image-src="https://source.unsplash.com/-nE503BJFPE/400x300">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        See some more\n      </ecos-button>\n      <ecos-stack>\n        <h3>Jungfraujoch, Lauterbrunnen, Switzerland</h3>\n        <p>Photo by <a href="https://unsplash.com/@isaacstruna?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Isaac Struna</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article image-src="https://source.unsplash.com/ODo9wEB8CnY/400x300">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        See some more\n      </ecos-button>\n      <ecos-stack>\n        <h3>Deep Forest</h3>\n        <p>Photo by <a href="https://unsplash.com/@mmgphotograph?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Michael Constantin P.</a> on <a href="https://unsplash.com/s/photos/black-and-white-nature?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>\n        </p>\n      </ecos-stack>\n    </ecos-article>\n  </ecos-article-list>\n</ecos-section>\n\n<ecos-design-system-provider background-color="#333">\n  <ecos-section largev class="text-center">\n    <h3 class="teinted-text">Latest photo tutorial</h3>\n    <h1>Learn how to shoot the stars on the go</h1>\n    <p>Become an expert of night sky photography using your mobile device. With these nifty handy crafted tricks you\'ll impressed your friends in no time.</p>\n    <p>\n      <ecos-button appearance="accent">Get Started</ecos-button>\n    </p>\n  </ecos-section>\n</ecos-design-system-provider>\n\n<ecos-section largev class="text-center blog-explore-categories">\n  <h2>Explore categories</h2>\n  <p>\n    <ecos-badge appearance="outline">Night Sky</ecos-badge>\n    <ecos-badge appearance="outline">Mountain</ecos-badge>\n    <ecos-badge appearance="outline">Waterfall</ecos-badge>\n    <ecos-badge appearance="outline">Animals</ecos-badge>\n    <ecos-badge appearance="outline">Ocean</ecos-badge>\n  </p>\n</ecos-section>\n\n<ecos-design-system-provider background-color="#333" densify>\n  <ecos-section largev class="text-center ecos-stack--large">\n    <h3 class="teinted-text">Sign up for updates</h3>\n    <h1>A joyfull newsletter for photographer enthusiasts</h1>\n    <p>I work hard to create high quality content that help level up your skills, confidence and joy. Fill-in the form below to receive fresh content on a bi-weekly basis</p>\n    <ecos-form change.delegate="updateDesignSystem()">\n      <ecos-form-row>\n        <label>Your email address</label>\n        <ecos-text-field type="email">\n          <ecos-icon slot="end" icon="ArrowCircleRight"></ecos-icon>\n        </ecos-text-field>\n      </ecos-form-row>\n    </ecos-form>\n    <p>\n      <ecos-button appearance="outline">Subscribe</ecos-button>\n    </p>\n  </ecos-section>\n</ecos-design-system-provider>\n',lF=aF,cF=[Bp.defer(".css",oF)];let uF;function hF(e){uF||(uF=Sw.define({name:rF,template:aF,dependencies:cF})),e.register(uF)}let dF=class{created(e){this.element=e.host}attaching(){return tF.scaleIn(this.element,400)}detaching(){return tF.scaleOut(this.element,200)}};dF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(T)],dF);var pF=n(278);Kr()(pF.Z,{insert:"head",singleton:!1});const gF=pF.Z.locals||{},fF="one-page-website",mF='<ecos-navbar layer="1" transparent-first scrolling-container-selector="[name=use-cases-viewport]">\n  <ecos-button appearance="lightweight" slot="branding" style="color: var(--accent-fill-rest)" load="../use-cases-list">\n    <ecos-icon icon="X" slot="start" weight="2"></ecos-icon>\n    PAVO\n  </ecos-button>\n  <ecos-anchor slot="main" appearance="lightweight">About</ecos-anchor>\n  <ecos-anchor slot="main" appearance="lightweight">Services</ecos-anchor>\n  <ecos-anchor slot="main" appearance="lightweight">Contact</ecos-anchor>\n</ecos-navbar>\n\n<div class="navbar-content header-gradient">\n\n  \n  <ecos-section centerwidth="100ch">\n    <ecos-two>\n      <ecos-stack>\n        <h1>Team management mobile application</h1>\n        <p>Start getting things done together with your team based on Pavo\'s revolutionary team management features</p>\n        <p>\n          <ecos-button appearance="neutral">Preview</ecos-button>\n          <ecos-button appearance="accent">Download</ecos-button>\n        </p>\n      </ecos-stack>\n      <img src="images/use-cases/website/header-smartphone.png" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n  \n  <ecos-section class="large-text" centerwidth="50ch" largev>\n    <p>Team management mobile apps don’t get better than Pavo. It’s probably the best app in the world for this purpose. Don’t hesitate to give it a try today and you will fall in love with it</p>\n  </ecos-section>\n\n  <ecos-section centerwidth="120ch" largev>\n    <ecos-collection>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-1.svg">\n        <ecos-stack >\n          <h3>Platform Integration</h3>\n          <p>You sales force can use the app on any smartphone platform without compatibility issues</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-2.svg">\n        <ecos-stack >\n          <h3>Easy On Resources</h3>\n          <p>Works smoothly even on older generation hardware due to our optimization efforts</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-3.svg">\n        <ecos-stack >\n          <h3>Great Performance</h3>\n          <p>Optimized code and innovative technology insure no delays and ultra-fast responsiveness</p>\n        </ecos-stack>\n      </ecos-card>\n\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-4.svg">\n        <ecos-stack >\n          <h3>Multiple Languages</h3>\n          <p>Choose from one of the 40 languages that come pre-installed and start selling smarter</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-5.svg">\n        <ecos-stack >\n          <h3>Free Updates</h3>\n          <p>Don\'t worry about future costs, pay once and receive all future updates at no extra cost</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-6.svg">\n        <ecos-stack >\n          <h3>Community Support</h3>\n          <p>Register the app and get acces to knowledge and ideas from the Pavo online community</p>\n        </ecos-stack>\n      </ecos-card>\n    </ecos-collection>\n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two>\n      <ecos-stack>\n        <h1>Results driven ground breaking technology</h1>\n        <p>Based on our team\'s extensive experience in developing line of business applications and constructive customer feedback we reached a new level of revenue.</p>\n        <p>We enjoy helping small and medium sized tech businesses take a shot at established Fortune 500 companies</p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-1.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two rightleft>\n      <ecos-stack>\n        <h1>Instant results for the marketing department</h1>\n        <ul>\n          <li>Features that will help you and your marketers</li>\n          <li>Smooth learning curve due to the knowledge base</li>\n          <li>Ready out-of-the-box with minor setup settings</li>\n        </ul>\n        <p>\n          <ecos-button appearance="neutral">Lightbox</ecos-button>\n          <ecos-button appearance="accent">Details</ecos-button>\n        </p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-2.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two>\n      <ecos-stack>\n        <h1>Platform integration and life time free updates</h1>\n        <p>Get a glimpse of what this app can do for your marketing automation and understand why current users are so excited when using Pavo together with their teams.</p>\n        <p>We will promptly answer any questions and honor your requests based on the service level agreement</p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-2.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section>\n    <p>This template is heavily inspired by <a href="https://inovatik.com/pavo-mobile-app-website-bootstrap-html-template.html">Inovatik\'s Pavo HTML template</a></p>\n  </ecos-section>\n\n</div>\n',vF=mF,bF=[Bp.defer(".css",gF)];let yF;function wF(e){yF||(yF=Sw.define({name:fF,template:mF,dependencies:bF})),e.register(yF)}let xF=class{created(e){this.element=e.host}attaching(){return tF.scaleIn(this.element,600)}detaching(){return tF.scaleOut(this.element,300)}};xF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(A)],xF);let CF=class{};CF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww({name:"use-cases-index",template:'<au-viewport name="use-cases-viewport" default="use-cases-list"></au-viewport>'})],CF);const kF="use-cases-list",SF='<ecos-section>\n  <h1>Experimenting some common use cases</h1>\n  <p>These pages are like playgrounds to check how the Ecos Design System reacts in different use cases and scenarios</p>\n</ecos-section>\n<ecos-section centerwidth="100ch">\n  <ecos-collection min-item-width="300px">\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>One page website</h2>\n        <p>The menu of this website is considered to be the menu of the one page website.</p>\n        <ecos-button appearance="accent" load="../one-page-website">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>Blog</h2>\n        <p>A blog home page with links to article pages.</p>\n        <ecos-button appearance="accent" load="../blog-page">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>Admin dashboard</h2>\n        <p>An application admin dashboard.</p>\n        <ecos-button appearance="accent" load="../admin-dashboard">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n</ecos-section>',$F=SF,TF=[];let AF;function OF(e){AF||(AF=Sw.define({name:kF,template:SF,dependencies:TF})),e.register(AF)}let EF=class{};EF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(O)],EF);var PF=n(563);Kr()(PF.Z,{insert:"head",singleton:!1});const RF=PF.Z.locals||{},IF="ecos-settings",jF='<div>\n  <ecos-design-system-provider background-color="#222" design-unit="4" density="0">\n    <div class="wrapper" style="padding-bottom: 150px;">\n      <h3>Design settings</h3>\n    \n      <ecos-form change.delegate="updateDesignSystem()">\n        <ecos-form-row>\n          <label>Background color</label>\n          <input type="color" value.bind="color">\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Accent color</label>\n          <input type="color" value.bind="accent">\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Design unit</label>\n          <ecos-slider value.bind="designUnit" min="2" max="6" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Density</label>\n          <ecos-slider value.bind="density" min="-3" max="3" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Corner Radius</label>\n          <ecos-slider value.bind="cornerRadius" min="0" max="20" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Outline Width</label>\n          <ecos-slider value.bind="outlineWidth" min="0" max="4" step="1"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Font Size</label>\n          <ecos-slider value.bind="typeRampBaseFontSize" min="10" max="20" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Type ramp ratio (modular scale)</label>\n          <ecos-slider value.bind="typeRampRatio" min="1.067" max="2" step="0.01"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Line Height Ratio</label>\n          <ecos-slider value.bind="lineHeightRatio" min="1" max="2" step="0.01"></ecos-slider>\n        </ecos-form-row>\n      </ecos-form>\n    </div>\n  </ecos-design-system-provider>\n</div>',FF=jF,LF=[Bp.defer(".css",RF)];let DF;function NF(e){DF||(DF=Sw.define({name:IF,template:jF,dependencies:LF})),e.register(DF)}let MF=class{constructor(e){this.element=e,this.color="#FFF8F0",this.accent="#AD016E",this.designUnit=4,this.density=0,this.cornerRadius=5,this.outlineWidth=1,this.typeRampBaseFontSize=16,this.typeRampRatio=1.25,this.lineHeightRatio=1.2}attached(){this.provider=Qo.findProvider(this.element),this.updateDesignSystem()}updateDesignSystem(){this.provider&&(this.provider.backgroundColor=this.color,this.provider.accentBaseColor=this.accent,this.provider.designUnit=this.designUnit,this.provider.density=this.density,this.provider.cornerRadius=this.cornerRadius,this.provider.outlineWidth=this.outlineWidth,this.provider.typeRampBaseFontSize=`${this.typeRampBaseFontSize}px`,this.provider.typeRampRatio=this.typeRampRatio,this.provider.lineHeightRatio=this.lineHeightRatio)}};MF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([ww(P),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[HTMLElement])],MF);var BF=n(660),HF=n.n(BF),VF=(n(874),n(836),n(183)),qF=n(442),UF=n(218);Kr()(UF.Z,{insert:"head",singleton:!1});const zF=UF.Z.locals||{};Bp.defer(".css",zF);var _F,WF=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},KF=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const GF=function(...e){return new lx(e)}(VF.Z,qF.Z);let YF=_F=class{constructor(e){this.element=e,this.enableOutput=!1,this.enableMultiple=!1,this.showShell="auto",this.showTS="auto",this.showHTML="auto",this.showCSS="auto",this.showOutput="auto",this.fullWidthOutput=!1,this.theme="",this.hasShell=!1,this.hasHTML=!1,this.hasCSS=!1,this.hasTS=!1}static processContent(e){const t=e.childNodes,n=e;let i=!1;for(const e of t)if(i=i||e instanceof HTMLElement&&e.hasAttribute("au-slot")&&"output"===e.getAttribute("au-slot"),i)break;const s=document.createElement("div"),o=document.createElement("div");for(const e of t)if(e instanceof Element&&e.hasAttribute("language")){const t=e.getAttribute("language");let r=e.innerHTML;if("html"!==t||i||(s.innerHTML=r,s.setAttribute("au-slot","output"),r=_F.decodeHtml(r),n.appendChild(s)),"css"===t&&(o.innerHTML=r,o.setAttribute("au-slot","styles"),n.appendChild(o)),r=_F.dedent(r),""===r.trim())continue;const a=HF().highlight(r,HF().languages[t],t);e.innerHTML=`<pre class="language-${t}">${a}</pre>`,e.setAttribute("au-slot",t),n.classList.add(`has-${t}`)}return!0}static getContent(e,t){const n=e.innerHTML,i="html"===t?_F.decodeHtml(n):n;return _F.dedent(i)}static dedent(e){const t=e.match(/^[ \t]*(?=\S)/gm);if(!t)return e;const n=Math.min(...t.map((e=>e.length))),i=new RegExp("^[ \\t]{"+n+"}","gm");return n>0?e.replace(i,""):e}static decodeHtml(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}attached(){this.hasShell=null!==this.element.shadowRoot.querySelector(".shell > div"),this.hasTS=null!==this.element.shadowRoot.querySelector(".typescript > div"),this.hasHTML=null!==this.element.shadowRoot.querySelector(".html > div"),this.hasCSS=null!==this.element.shadowRoot.querySelector(".css > div");let e=!1;this.hasShell&&"auto"===this.showShell?(this.showShell=this.enableMultiple||!e,e=!0):this.showShell=!1,this.hasTS&&"auto"===this.showTS?(this.showTS=this.enableMultiple||!e,e=!0):this.showTS=!1,this.hasHTML&&"auto"===this.showHTML?(this.showHTML=this.enableMultiple||!e,e=!0):this.showHTML=!1,this.hasCSS&&"auto"===this.showCSS?(this.showCSS=this.enableMultiple||!e,e=!0):this.showCSS=!1,this.enableOutput&&"auto"===this.showOutput?this.showOutput=!0:this.showOutput=!1;const t=this.element.shadowRoot.querySelector(".styles-content > div");if(t){const e=t.innerHTML,n=document.createElement("style");n.innerHTML=e,this.element.shadowRoot.appendChild(n)}}bound(){this.themeChanged()}themeChanged(){}toggle(e){this.enableMultiple||(this.showShell=!1,this.showTS=!1,this.showHTML=!1,this.showCSS=!1),"shell"===e?this.showShell=!this.showShell:"ts"===e?this.showTS=!this.showTS:"html"===e?this.showHTML=!this.showHTML:"css"===e?this.showCSS=!this.showCSS:"output"===e&&(this.showOutput=!this.showOutput)}};var QF;WF([ny,KF("design:type",Object)],YF.prototype,"enableOutput",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"enableMultiple",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"showShell",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"showTS",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"showHTML",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"showCSS",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"showOutput",void 0),WF([ny,KF("design:type",Object)],YF.prototype,"fullWidthOutput",void 0),WF([ny,KF("design:type",String)],YF.prototype,"theme",void 0),WF([void 0===QF?function(e,t,n){jd.define($w,Tw(e,t),e)}:function(e){QF=Tw(e,QF);const t=jd.getOwn(Sw.name,e);return void 0!==t?t.processContent=QF:jd.define($w,QF,e),e},KF("design:type",Function),KF("design:paramtypes",[Object]),KF("design:returntype",Boolean)],YF,"processContent",null),YF=_F=WF([ww({name:"au-snippet",template:'<template show-shell.class="showShell" show-ts.class="showTS" show-html.class="showHTML" show-css.class="showCSS" show-output.class="showOutput" multiple.class="enableMultiple" full-width-output.class="fullWidthOutput">\n  <div class="topbar">\n    <button if.bind="hasShell" selected.class="showShell" click.delegate="toggle(\'shell\')">Shell</button>\n    <button if.bind="hasTS" selected.class="showTS" click.delegate="toggle(\'ts\')">Typescript</button>\n    <button if.bind="hasHTML" selected.class="showHTML" click.delegate="toggle(\'html\')">HTML</button>\n    <button if.bind="hasCSS" selected.class="showCSS" click.delegate="toggle(\'css\')">CSS</button>\n  </div>\n  <div class="codes">\n    <div class="shell">\n      <label>Shell</label>\n      <au-slot name="shell"></au-slot>\n    </div>\n    <div class="typescript">\n      <label>Typescript</label>\n      <au-slot name="typescript"></au-slot>\n    </div>\n    <div class="html">\n      <label>HTML</label>\n      <au-slot name="html"></au-slot>\n    </div>\n    <div class="css">\n      <label>CSS</label>\n      <au-slot name="css"></au-slot>\n    </div>\n  </div>\n  <div class="output">\n    <div class="topbar">\n      <button class="selected">Result</button>\n    </div>\n    <div class="output-content">\n      <au-slot name="output"></au-slot>\n    </div>\n    <div class="styles-content">\n      <au-slot name="styles"></au-slot>\n    </div>\n  </div>\n  <au-slot></au-slot>\n</template>',dependencies:[GF],shadowOptions:{mode:"open"}}),bp(Element),KF("design:paramtypes",[Element])],YF),Bc.outline.User='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n</svg>\n',Bc.solid.User='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>\n</svg>\n',Bc.outline.Pencil='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>\n</svg>\n',Bc.solid.Pencil='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>\n</svg>\n',Bc.outline.Adjustments='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>\n</svg>\n',Bc.solid.Adjustments='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"/>\n</svg>\n',Bc.outline.ArrowNarrowRight='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>\n</svg>\n',Bc.solid.ArrowNarrowRight='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>\n</svg>\n',Bc.outline.ArrowCircleRight='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"/>\n</svg>\n',Bc.solid.ArrowCircleRight='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd"/>\n</svg>\n',Bc.outline.X='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n</svg>\n',Bc.solid.X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>\n</svg>\n',KO.register(E).register(Og.create({level:1,sinks:[Tg],colorOptions:1})).register(BP.customize({useUrlFragmentHash:!0,swapOrder:"attach-next-detach-current"})).register(GO).register(MF).register(YF).app(QP).start()}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(244)})();