/*! For license information please see entry.090be5a3468e466b3d5d.bundle.js.LICENSE.txt */
(()=>{var t={619:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,'*,*::before,*::after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role="list"],ol[role="list"]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img,picture{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media(prefers-reduced-motion:reduce){html:focus-within{scroll-behavior:auto}*,*::before,*::after{-webkit-animation-duration:.01ms !important;animation-duration:.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}\n',""]);const o=s},162:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,".header {\n  width: 100%;\n  height: 90vh;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n}\n\n.header-text {\n  align-self: flex-start;\n  margin: auto auto auto auto;\n  max-width: 50vw;\n  min-width: -webkit-min-content;\n  min-width: -moz-min-content;\n  min-width: min-content;\n  padding: 32px; \n  border-radius: calc(var(--corner-radius) * 1px);\n  font-family: 'Orelega One', cursive;\n  font-size: var(--type-ramp-plus-1-font-size);\n  line-height: var(--type-ramp-plus-1-line-height);\n}\n@media screen and (min-width: 732px) {\n  .header-text {\n    margin: auto auto auto auto;\n    font-size: var(--type-ramp-plus-2-font-size);\n    line-height: var(--type-ramp-plus-2-line-height);\n  }\n}\n\nau-snippet,\necos-section.ecos-stack:not(.ecos-stack--inline) > * + au-snippet {\n  margin-top: calc(var(--spacing-unit) * 1.5);\n  margin-bottom: calc(var(--spacing-unit) * 1.5);\n}",""]);const o=s},574:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"ecos-navbar ecos-anchor {\n  text-transform: uppercase;\n}\necos-navbar ::part(control) {\n  cursor: pointer;\n}",""]);const o=s},932:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;900&display=swap);"]),s.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Orelega+One&display=swap);"]),s.push([t.id,"body {\n  font-family: 'Roboto', sans-serif;\n}\n\nh1, h2, h3 {\n  font-family: 'Orelega One', cursive;\n}\n",""]);const o=s},218:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,':host {\n  display: grid;\n  background: white;\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n  border-radius: 5px;\n}\n\n:host .topbar {\n  padding: 8px;\n}\n\n:host button {\n  cursor: pointer;\n  background: transparent;\n  background: var(--au-snippet-button-background, transparent);\n  color: #555;\n  color: var(--au-snippet-button-foreground, #555);\n  border: none;\n  border-radius: 4px;\n  padding: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n:host button.selected {\n  background: #fafafa;\n  background: var(--au-snippet-selected-button-background, #fafafa);\n  color: #333;\n  color: var(--au-snippet-selected-button-color, #333);\n}\n:host .codes {\n  min-width: 0;\n}\n:host .shell,\n:host .typescript,\n:host .html,\n:host .css,\n:host .output {\n  display: none;\n  margin-left: 0.5em;\n  margin-right: 0.5em;\n  position: relative;\n}\n:host .styles-content {\n  display: none;\n}\n:host .output-content {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  /* border: dashed rgba(200, 0, 100, 0.2) 1px;\n  border: var(--au-snippet-outline-width, dashed rgba(200, 0, 100, 0.2) 1px); */\n  background: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n\n:host(.show-shell) .shell {\n  display: block;\n}\n:host(.show-html) .html {\n  display: block;\n}\n:host(.show-css) .css {\n  display: block;\n}\n:host(.show-ts) .typescript {\n  display: block;\n}\n:host(.show-output) .output {\n  display: block;\n}\n:host label {\n  display: none;\n  border-radius: 4px;\n  margin-top: 16px;\n  padding: 0 4px;\n  font-size: 0.8em;\n  background: #666;\n  color: white; \n  width: -webkit-min-content; \n  width: -moz-min-content; \n  width: min-content;\n}\n:host(.multiple) label{\n  display: block;\n}\n\n:host :not(pre) > code[class*="language-"],\n:host pre[class*="language-"] {\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n}\n\n/* (desktop) mode */\n@media screen and (min-width: 732px) {\n  :host(.show-output:not(.full-width-output)) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px auto;\n  }\n  :host(.show-output:not(.full-width-output)).codes {\n    grid-column: 1;\n  }\n  :host(.show-output:not(.full-width-output)) .output {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column: 2;\n  }\n}',""]);const o=s},563:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"",""]);const o=s},755:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,".load-active {\n  background-color: lightgray;\n}\n\n#design-settings-opener {\n  position: fixed;\n  bottom: 16px;\n  left: 16px;\n}\n#design-settings-dialog::part(positioning-region) {\n  z-index: 2;\n}\n\n[load] {\n  cursor: pointer;\n}\n\n.page {\n  display: grid;\n  grid-template-columns: 0px 1fr;\n  transition: grid-template-columns 100ms ease;\n  transition: grid-template-columns 100ms ease, -ms-grid-columns 100ms ease;\n}\n.page.sidebar--opened {\n  grid-template-columns: 250px 1fr;\n}\n.sidebar {\n  position: fixed;\n  width: 250px;\n  transform: translateX(-250px);\n  overflow-x: hidden;\n  overflow-y: auto;\n  transition: all 100ms ease;\n  box-shadow: var(--elevation3);\n  height: 100vh;\n}\n.sidebar.sidebar--opened {\n  transform: translateX(0);\n}\n.main-content {\n  grid-column-start: 2;\n  justify-self: stretch;\n}\n\necos-navbar ecos-anchor.active {\n  text-decoration: underline;\n  font-weight: bold;\n}\n\nbody.use-cases-on {\n  position: fixed;\n  overflow: hidden;\n  width: 100%;\n}\nbody.use-cases-on au-viewport[name=use-cases-viewport] {\n  display: grid;\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: var(--background-color);\n  overflow: auto;\n}\n\nau-viewport[name=use-cases-viewport] {\n  display: grid;\n  position: relative;\n  overflow: hidden;\n}\n\nau-viewport[name=use-cases-viewport] > * {\n  display: block;\n  position: relative;\n  grid-column: 1;\n  grid-row: 1;\n}",""]);const o=s},818:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"ecos-navbar > .logo {\n  margin-right: 16px;\n}\necos-navbar > * + * {\n  margin-left: calc((20 + (var(--design-unit) + (var(--design-unit) * max(0, var(--density))))) * 1px);\n}\n\necos-navbar > .right {\n  margin-left: auto;\n}\necos-navbar > ecos-anchor {\n  --outline-width: 0;\n  color: currentColor;\n}\necos-navbar > ecos-anchor:hover {\n  --outline-width: 0;\n  color: var(--accent-foreground-hover);\n}",""]);const o=s},998:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"ecos-design-system-provider {\n  font-size: var(--type-ramp-base-font-size);\n  line-height: var(--type-ramp-base-line-height);\n}\n\n\nh1 {\n  font-size: var(--type-ramp-plus-3-font-size);\n  line-height: var(--type-ramp-plus-3-line-height);\n}\nh2 {\n  font-size: var(--type-ramp-plus-2-font-size);\n  line-height: var(--type-ramp-plus-2-line-height);\n}\nh3 {\n  font-size: var(--type-ramp-plus-1-font-size);\n  line-height: var(--type-ramp-plus-1-line-height);\n}\n\n.large-text {\n  font-size: var(--type-ramp-plus-3-font-size);\n  line-height: var(--type-ramp-plus-3-line-height);\n}\n\n.muted-text {\n  font-size: var(--type-ramp-minus-1-font-size);\n  line-height: var(--type-ramp-minus-1-line-height);\n}\n\nh1, .ecos-stack > :not(h1, h2, h3) + h1,\nh2:not(:first-child), .ecos-stack > :not(h1, h2, h3) + h2,\nh3:not(:first-child), .ecos-stack > :not(h1, h2, h3) + h3 {\n  margin-top: calc(2 * var(--spacing-unit));\n}\n\n@media screen and (min-width: 732px) {\n  h1 {\n    font-size: var(--type-ramp-plus-4-font-size);\n    line-height: var(--type-ramp-plus-4-line-height);\n  }\n  h2 {\n    font-size: var(--type-ramp-plus-3-font-size);\n    line-height: var(--type-ramp-plus-3-line-height);\n  }\n  h3 {\n    font-size: var(--type-ramp-plus-2-font-size);\n    line-height: var(--type-ramp-plus-2-line-height);\n  }\n}\n\na {\n  color: inherit;\n  text-decoration: underline;\n}\n\na:hover {\n  color: var(--accent-foreground-hover);\n}\n\na:active {\n  color: var(--accent-foreground-active);\n}",""]);const o=s},208:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"* {\n  box-sizing: border-box;\n  --elevation0: 0 0 3px rgba(0,0,0,0.3), 0 1px 1px rgba(0,0,0,0.12);\n  --elevation1: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  --elevation2: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  --elevation3: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  --elevation4: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n  --elevation5: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);\n\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 1px);\n  --spacing-unit-v: var(--spacing-unit);\n  --spacing-unit-h: var(--spacing-unit);\n\n  --badge-fill-primary: var(--accent-fill-rest);\n  --badge-fill-secondary: var(--neutral-fill-rest);\n  --badge-fill-transparent: transparent;\n  --badge-color-black: #000000;\n  --badge-color-white: var(--accent-foreground-cut-rest);\n}\n.space-small {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 0.5px);\n}\n.space-large {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 2px);\n}\n.space-extra-large {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 4px);\n}\n.space-large-v {\n  --spacing-unit-v: calc(var(--spacing-unit) * 2);\n}\n.space-extra-large-v {\n  --spacing-unit-v: calc(var(--spacing-unit) * 4);\n}\n\n.elevation,\n.elevation1 {\n  box-shadow: var(--elevation1);\n}\n.elevation0 {\n  box-shadow: var(--elevation0);\n}\n.elevation2 {\n  box-shadow: var(--elevation2);\n}\n.elevation3 {\n  box-shadow: var(--elevation3);\n}\n.elevation4 {\n  box-shadow: var(--elevation4);\n}\n.elevation5 {\n  box-shadow: var(--elevation5);\n}\n\n.radius {\n  border-radius: var(--corner-radius);\n}\n\n.radius-large {\n  border-radius: calc(var(--corner-radius) * 1.5);\n}\n.radius-small {\n  border-radius: calc(var(--corner-radius) * 0.5);\n}\n\n.wrapper {\n  max-width: 55rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding: var(--spacing-unit);\n}\n.wrapper-h {\n  max-width: 55rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: var(--spacing-unit);\n  padding-right: var(--spacing-unit);\n}\n\n\n/* The shift-[x/y]-[value] utilities allow for pixel perfect adjustements */\n.shift-x-1 {\n  transform: translateX(1px);\n}\n.shift-x--1 {\n  transform: translateX(-1px);\n}\n.shift-x-2 {\n  transform: translateX(2px);\n}\n.shift-x--2 {\n  transform: translateX(-2px);\n}\n.shift-x-3 {\n  transform: translateX(3px);\n}\n.shift-x--3 {\n  transform: translateX(-3px);\n}\n.shift-x-1 {\n  transform: translateY(1px);\n}\n.shift-y--1 {\n  transform: translateY(-1px);\n}\n.shift-y-2 {\n  transform: translateY(2px);\n}\n.shift-y--2 {\n  transform: translateY(-2px);\n}\n.shift-y-3 {\n  transform: translateY(3px);\n}\n.shift-y--3 {\n  transform: translateY(-3px);\n}",""]);const o=s},278:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"/* COMPOSITIONS */\n.feature-item {\n  text-align: center;\n}\n.feature-item img {\n  width: 70px;\n  height: 70px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: var(--spacing-unit);\n}\n\n/* UTILITIES */\n.header-gradient {\n  background: linear-gradient(var(--background-teinted-color), var(--background-color));\n}",""]);const o=s},183:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,'/**\n * prism.js default theme for JavaScript, CSS and HTML\n * Based on dabblet (http://dabblet.com)\n * @author Lea Verou\n */\n\ncode[class*="language-"],\npre[class*="language-"] {\n\tcolor: black;\n\tbackground: none;\n\ttext-shadow: 0 1px white;\n\tfont-family: Consolas, Monaco, \'Andale Mono\', \'Ubuntu Mono\', monospace;\n\tfont-size: 1em;\n\ttext-align: left;\n\twhite-space: pre;\n\tword-spacing: normal;\n\tword-break: normal;\n\tword-wrap: normal;\n\tline-height: 1.5;\n\n\t-moz-tab-size: 4;\n\t-o-tab-size: 4;\n\ttab-size: 4;\n\n\t-webkit-hyphens: none;\n\t-moz-hyphens: none;\n\t-ms-hyphens: none;\n\thyphens: none;\n}\n\npre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,\ncode[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\npre[class*="language-"]::selection, pre[class*="language-"] ::selection,\ncode[class*="language-"]::selection, code[class*="language-"] ::selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\n@media print {\n\tcode[class*="language-"],\n\tpre[class*="language-"] {\n\t\ttext-shadow: none;\n\t}\n}\n\n/* Code blocks */\npre[class*="language-"] {\n\tpadding: 1em;\n\tmargin: .5em 0;\n\toverflow: auto;\n}\n\n:not(pre) > code[class*="language-"],\npre[class*="language-"] {\n\tbackground: #f5f2f0;\n}\n\n/* Inline code */\n:not(pre) > code[class*="language-"] {\n\tpadding: .1em;\n\tborder-radius: .3em;\n\twhite-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n\tcolor: slategray;\n}\n\n.token.punctuation {\n\tcolor: #999;\n}\n\n.token.namespace {\n\topacity: .7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n\tcolor: #905;\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n\tcolor: #690;\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n\tcolor: #9a6e3a;\n\t/* This background color was intended by the author of this theme. */\n\tbackground: hsla(0, 0%, 100%, .5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n\tcolor: #07a;\n}\n\n.token.function,\n.token.class-name {\n\tcolor: #DD4A68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n\tcolor: #e90;\n}\n\n.token.important,\n.token.bold {\n\tfont-weight: bold;\n}\n.token.italic {\n\tfont-style: italic;\n}\n\n.token.entity {\n\tcursor: help;\n}\n',""]);const o=s},442:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,':host {\n  display: grid;\n  background: white;\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n  border-radius: 5px;\n}\n\n:host .topbar {\n  padding: 8px;\n}\n\n:host button {\n  cursor: pointer;\n  background: transparent;\n  background: var(--au-snippet-button-background, transparent);\n  color: #555;\n  color: var(--au-snippet-button-foreground, #555);\n  border: none;\n  border-radius: 4px;\n  padding: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n:host button.selected {\n  background: #fafafa;\n  background: var(--au-snippet-selected-button-background, #fafafa);\n  color: #333;\n  color: var(--au-snippet-selected-button-color, #333);\n}\n:host .codes {\n  min-width: 0;\n}\n:host .shell,\n:host .typescript,\n:host .html,\n:host .css,\n:host .output {\n  display: none;\n  margin-left: 0.5em;\n  margin-right: 0.5em;\n  position: relative;\n}\n:host .styles-content {\n  display: none;\n}\n:host .output-content {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  /* border: dashed rgba(200, 0, 100, 0.2) 1px;\n  border: var(--au-snippet-outline-width, dashed rgba(200, 0, 100, 0.2) 1px); */\n  background: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n\n:host(.show-shell) .shell {\n  display: block;\n}\n:host(.show-html) .html {\n  display: block;\n}\n:host(.show-css) .css {\n  display: block;\n}\n:host(.show-ts) .typescript {\n  display: block;\n}\n:host(.show-output) .output {\n  display: block;\n}\n:host label {\n  display: none;\n  border-radius: 4px;\n  margin-top: 16px;\n  padding: 0 4px;\n  font-size: 0.8em;\n  background: #666;\n  color: white; \n  width: min-content;\n}\n:host(.multiple) label{\n  display: block;\n}\n\n:host :not(pre) > code[class*="language-"],\n:host pre[class*="language-"] {\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n}\n\n/* (desktop) mode */\n@media screen and (min-width: 732px) {\n  :host(.show-output:not(.full-width-output)) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px auto;\n  }\n  :host(.show-output:not(.full-width-output)).codes {\n    grid-column: 1;\n  }\n  :host(.show-output:not(.full-width-output)) .output {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column: 2;\n  }\n}',""]);const o=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(s[r]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},337:t=>{var e={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function n(t){var n=(t=t||{}).base||16,i=t.ratio||1.618;function s(t,e){return t>0?function(t,e){var s=Math.pow(i,t)*n;return r(e?o(s):s)}(t,e):function(t,e){var s=n/Math.pow(i,t);return r(e?o(s):s)}(-1*t,e)}function o(t){return t/n}function r(t){return Math.round(1e3*t)/1e3}return"string"==typeof n&&(n=parseFloat(n,10),Number.isNaN(n)&&(n=16)),"string"==typeof i&&(i=e[i]?e[i]:parseFloat(i,10),Number.isNaN(i)&&(i=1.618)),s.steps=function(t,e){t=t||8;for(var n=[],i=Math.floor(.5*t),o=-1*i,r=i+1;o<r;o++)n.push(s(o,e));return n.reverse()},s}t.exports=n,n.ratios=e},874:()=>{!function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:i}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,r=0;r<s.length;r++)o[s[r]]=t.languages.bash[s[r]];t.languages.shell=t.languages.bash}(Prism)},836:()=>{!function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete t.languages.typescript.parameter;var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(Prism)},660:(t,e,n)=>{var i=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,i={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function t(e){return e instanceof s?new s(e.type,t(e.content),e.alias):Array.isArray(e)?e.map(t):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var s,o;switch(n=n||{},i.util.type(e)){case"Object":if(o=i.util.objId(e),n[o])return n[o];for(var r in s={},n[o]=s,e)e.hasOwnProperty(r)&&(s[r]=t(e[r],n));return s;case"Array":return o=i.util.objId(e),n[o]?n[o]:(s=[],n[o]=s,e.forEach((function(e,i){s[i]=t(e,n)})),s);default:return e}},getLanguage:function(t){for(;t&&!e.test(t.className);)t=t.parentElement;return t?(t.className.match(e)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(i.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var n in e)if(e[n].src==t)return e[n]}return null}},isActive:function(t,e,n){for(var i="no-"+e;t;){var s=t.classList;if(s.contains(e))return!0;if(s.contains(i))return!1;t=t.parentElement}return!!n}},languages:{extend:function(t,e){var n=i.util.clone(i.languages[t]);for(var s in e)n[s]=e[s];return n},insertBefore:function(t,e,n,s){var o=(s=s||i.languages)[t],r={};for(var a in o)if(o.hasOwnProperty(a)){if(a==e)for(var l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);n.hasOwnProperty(a)||(r[a]=o[a])}var c=s[t];return s[t]=r,i.languages.DFS(i.languages,(function(e,n){n===c&&e!=t&&(this[e]=r)})),r},DFS:function t(e,n,s,o){o=o||{};var r=i.util.objId;for(var a in e)if(e.hasOwnProperty(a)){n.call(e,a,e[a],s||a);var l=e[a],c=i.util.type(l);"Object"!==c||o[r(l)]?"Array"!==c||o[r(l)]||(o[r(l)]=!0,t(l,n,a,o)):(o[r(l)]=!0,t(l,n,null,o))}}},plugins:{},highlightAll:function(t,e){i.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var s={callback:n,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",s),s.elements=Array.prototype.slice.apply(s.container.querySelectorAll(s.selector)),i.hooks.run("before-all-elements-highlight",s);for(var o,r=0;o=s.elements[r++];)i.highlightElement(o,!0===e,s.callback)},highlightElement:function(n,s,o){var r=i.util.getLanguage(n),a=i.languages[r];n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+r;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+r);var c={element:n,language:r,grammar:a,code:n.textContent};function h(t){c.highlightedCode=t,i.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i.hooks.run("after-highlight",c),i.hooks.run("complete",c),o&&o.call(c.element)}if(i.hooks.run("before-sanity-check",c),!c.code)return i.hooks.run("complete",c),void(o&&o.call(c.element));if(i.hooks.run("before-highlight",c),c.grammar)if(s&&t.Worker){var u=new Worker(i.filename);u.onmessage=function(t){h(t.data)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else h(i.highlight(c.code,c.grammar,c.language));else h(i.util.encode(c.code))},highlight:function(t,e,n){var o={code:t,grammar:e,language:n};return i.hooks.run("before-tokenize",o),o.tokens=i.tokenize(o.code,o.grammar),i.hooks.run("after-tokenize",o),s.stringify(i.util.encode(o.tokens),o.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var i in n)e[i]=n[i];delete e.rest}var s=new a;return l(s,s.head,t),r(t,s,e,s.head,0),function(t){for(var e=[],n=t.head.next;n!==t.tail;)e.push(n.value),n=n.next;return e}(s)},hooks:{all:{},add:function(t,e){var n=i.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=i.hooks.all[t];if(n&&n.length)for(var s,o=0;s=n[o++];)s(e)}},Token:s};function s(t,e,n,i){this.type=t,this.content=e,this.alias=n,this.length=0|(i||"").length}function o(t,e,n,i){t.lastIndex=e;var s=t.exec(n);if(s&&i&&s[1]){var o=s[1].length;s.index+=o,s[0]=s[0].slice(o)}return s}function r(t,e,n,a,h,u){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(u&&u.cause==d+","+g)return;var f=p[g],v=f.inside,m=!!f.lookbehind,b=!!f.greedy,y=f.alias;if(b&&!f.pattern.global){var w=f.pattern.toString().match(/[imsuy]*$/)[0];f.pattern=RegExp(f.pattern.source,w+"g")}for(var x=f.pattern||f,k=a.next,C=h;k!==e.tail&&!(u&&C>=u.reach);C+=k.value.length,k=k.next){var S=k.value;if(e.length>t.length)return;if(!(S instanceof s)){var $,T=1;if(b){if(!($=o(x,C,t,m)))break;var A=$.index,E=$.index+$[0].length,O=C;for(O+=k.value.length;A>=O;)O+=(k=k.next).value.length;if(C=O-=k.value.length,k.value instanceof s)continue;for(var P=k;P!==e.tail&&(O<E||"string"==typeof P.value);P=P.next)T++,O+=P.value.length;T--,S=t.slice(C,O),$.index-=C}else if(!($=o(x,0,S,m)))continue;A=$.index;var R=$[0],I=S.slice(0,A),j=S.slice(A+R.length),F=C+S.length;u&&F>u.reach&&(u.reach=F);var L=k.prev;I&&(L=l(e,L,I),C+=I.length),c(e,L,T),k=l(e,L,new s(d,v?i.tokenize(R,v):R,y,R)),j&&l(e,k,j),T>1&&r(t,e,n,k.prev,C,{cause:d+","+g,reach:F})}}}}}function a(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function l(t,e,n){var i=e.next,s={value:n,prev:e,next:i};return e.next=s,i.prev=s,t.length++,s}function c(t,e,n){for(var i=e.next,s=0;s<n&&i!==t.tail;s++)i=i.next;e.next=i,i.prev=e,t.length-=s}if(t.Prism=i,s.stringify=function t(e,n){if("string"==typeof e)return e;if(Array.isArray(e)){var s="";return e.forEach((function(e){s+=t(e,n)})),s}var o={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},r=e.alias;r&&(Array.isArray(r)?Array.prototype.push.apply(o.classes,r):o.classes.push(r)),i.hooks.run("wrap",o);var a="";for(var l in o.attributes)a+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+a+">"+o.content+"</"+o.tag+">"},!t.document)return t.addEventListener?(i.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),s=n.language,o=n.code,r=n.immediateClose;t.postMessage(i.highlight(o,i.languages[s],s)),r&&t.close()}),!1),i):i;var h=i.util.currentScript();function u(){i.manual||i.highlightAll()}if(h&&(i.filename=h.src,h.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var d=document.readyState;"loading"===d||"interactive"===d&&h&&h.defer?document.addEventListener("DOMContentLoaded",u):window.requestAnimationFrame?window.requestAnimationFrame(u):window.setTimeout(u,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=i),void 0!==n.g&&(n.g.Prism=i),i.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup.tag.inside["attr-value"].inside.entity=i.languages.markup.entity,i.languages.markup.doctype.inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(t,e){var n={};n["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[e]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};s["language-"+e]={pattern:/[\s\S]+/,inside:i.languages[e]};var o={};o[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:s},i.languages.insertBefore("markup","cdata",o)}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:t.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.markup.tag.addInlined("script","javascript"),i.languages.js=i.languages.javascript,function(){if("undefined"!=typeof self&&self.Prism&&self.document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var t=window.Prism,e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",i='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',s=/\blang(?:uage)?-([\w-]+)\b/i;t.hooks.add("before-highlightall",(function(t){t.selector+=", "+i})),t.hooks.add("before-sanity-check",(function(s){var o=s.element;if(o.matches(i)){s.code="",o.setAttribute(n,"loading");var a=o.appendChild(document.createElement("CODE"));a.textContent="Loading…";var l=o.getAttribute("data-src"),c=s.language;if("none"===c){var h=(/\.(\w+)$/.exec(l)||[,"none"])[1];c=e[h]||h}r(a,c),r(o,c);var u=t.plugins.autoloader;u&&u.loadLanguages(c);var d=new XMLHttpRequest;d.open("GET",l,!0),d.onreadystatechange=function(){4==d.readyState&&(d.status<400&&d.responseText?(o.setAttribute(n,"loaded"),a.textContent=d.responseText,t.highlightElement(a)):(o.setAttribute(n,"failed"),d.status>=400?a.textContent="✖ Error "+d.status+" while fetching file: "+d.statusText:a.textContent="✖ Error: File does not exist or is empty"))},d.send(null)}})),t.plugins.fileHighlight={highlight:function(e){for(var n,s=(e||document).querySelectorAll(i),o=0;n=s[o++];)t.highlightElement(n)}};var o=!1;t.fileHighlight=function(){o||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),o=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}function r(t,e){var n=t.className;n=n.replace(s," ")+" language-"+e,t.className=n.replace(/\s+/g," ").trim()}}()},379:(t,e,n)=>{"use strict";var i,s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function r(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],s=0;s<t.length;s++){var a=t[s],l=e.base?a[0]+e.base:a[0],c=n[l]||0,h="".concat(l," ").concat(c);n[l]=c+1;var u=r(h),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(d)):o.push({identifier:h,updater:f(d,e),references:1}),i.push(h)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=s(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,n,i){var s=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,s);else{var o=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function d(t,e,n){var i=n.css,s=n.media,o=n.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,g=0;function f(t,e){var n,i,s;if(e.singleton){var o=g++;n=p||(p=l(e)),i=u.bind(null,n,o,!1),s=u.bind(null,n,o,!0)}else n=l(e),i=d.bind(null,n,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var s=r(n[i]);o[s].references--}for(var l=a(t,e),c=0;c<n.length;c++){var h=r(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=l}}}},760:t=>{var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],n=e.join(","),i="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function s(t,e){e=e||{};var s,r,a,h=[],u=[],d=t.querySelectorAll(n);for(e.includeContainer&&i.call(t,n)&&(d=Array.prototype.slice.apply(d)).unshift(t),s=0;s<d.length;s++)o(r=d[s])&&(0===(a=l(r))?h.push(r):u.push({documentOrder:s,tabIndex:a,node:r}));return u.sort(c).map((function(t){return t.node})).concat(h)}function o(t){return!(!r(t)||function(t){return function(t){return h(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e=function(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}(t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'));return!e||e===t}(t)}(t)||l(t)<0)}function r(t){return!(t.disabled||function(t){return h(t)&&"hidden"===t.type}(t)||function(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}(t))}s.isTabbable=function(t){if(!t)throw new Error("No node provided");return!1!==i.call(t,n)&&o(t)},s.isFocusable=function(t){if(!t)throw new Error("No node provided");return!1!==i.call(t,a)&&r(t)};var a=e.concat("iframe").join(",");function l(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:t.tabIndex:e}function c(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function h(t){return"INPUT"===t.tagName}t.exports=s},691:(t,e,n)=>{"use strict";var i={};n.r(i),n.d(i,{default:()=>TE,dependencies:()=>AE,name:()=>SE,register:()=>OE,template:()=>$E});var s={};n.r(s),n.d(s,{default:()=>jE,dependencies:()=>FE,name:()=>RE,register:()=>NE,template:()=>IE});var o={};n.r(o),n.d(o,{default:()=>VE,dependencies:()=>HE,name:()=>ME,register:()=>UE,template:()=>BE});var r={};n.r(r),n.d(r,{default:()=>KE,dependencies:()=>GE,name:()=>_E,register:()=>YE,template:()=>WE});var a={};n.r(a),n.d(a,{default:()=>tO,dependencies:()=>eO,name:()=>ZE,register:()=>iO,template:()=>JE});var l={};n.r(l),n.d(l,{default:()=>aO,dependencies:()=>lO,name:()=>oO,register:()=>hO,template:()=>rO});var c={};n.r(c),n.d(c,{default:()=>gO,dependencies:()=>fO,name:()=>dO,register:()=>mO,template:()=>pO});var h={};n.r(h),n.d(h,{default:()=>xO,dependencies:()=>kO,name:()=>yO,register:()=>SO,template:()=>wO});var u={};n.r(u),n.d(u,{default:()=>PO,dependencies:()=>RO,name:()=>EO,register:()=>jO,template:()=>OO});var d={};n.r(d),n.d(d,{default:()=>DO,dependencies:()=>MO,name:()=>LO,register:()=>VO,template:()=>NO});var p={};n.r(p),n.d(p,{default:()=>zO,dependencies:()=>_O,name:()=>qO,register:()=>KO,template:()=>UO});var g={};n.r(g),n.d(g,{default:()=>XO,dependencies:()=>ZO,name:()=>QO,register:()=>tP,template:()=>YO});var f={};n.r(f),n.d(f,{default:()=>oP,dependencies:()=>rP,name:()=>iP,register:()=>lP,template:()=>sP});var v={};n.r(v),n.d(v,{default:()=>pP,dependencies:()=>gP,name:()=>uP,register:()=>vP,template:()=>dP});var m={};n.r(m),n.d(m,{default:()=>kP,dependencies:()=>CP,name:()=>wP,register:()=>$P,template:()=>xP});var b={};n.r(b),n.d(b,{default:()=>PP,dependencies:()=>RP,name:()=>EP,register:()=>jP,template:()=>OP});var y={};n.r(y),n.d(y,{AdminDashboard:()=>hP,AnchorComponent:()=>PE,ArticleComponent:()=>DE,BadgeComponent:()=>zE,BlogPage:()=>mP,Button3dComponent:()=>XE,ButtonComponent:()=>sO,CardComponent:()=>uO,CollectionComponent:()=>bO,ColorizeComponent:()=>$O,ComponentsIndex:()=>TO,ComponentsList:()=>AO,DialogComponent:()=>FO,MissingPage:()=>GO,OnePageWebsite:()=>TP,SliderComponent:()=>HO,TheProject:()=>eP,UseCasesIndex:()=>AP,UseCasesList:()=>FP,WelcomePage:()=>nP});var w={};n.r(w),n.d(w,{default:()=>BP,dependencies:()=>VP,name:()=>DP,register:()=>qP,template:()=>MP});const x=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==n.g)return n.g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(t){return{}}}();void 0===x.trustedTypes&&(x.trustedTypes={createPolicy:(t,e)=>e});const k=Object.freeze([]),C=[],S=x.trustedTypes.createPolicy("fast-html",{createHTML:t=>t});let $=S;function T(){let t=0;for(;t<C.length;)if(C[t].call(),t++,t>1024){for(let e=0,n=C.length-t;e<n;e++)C[e]=C[e+t];C.length-=t,t=0}C.length=0}const A=`fast-${Math.random().toString(36).substring(2,8)}`,E=`${A}{`,O=`}${A}`,P=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if($!==S)throw new Error("The HTML policy can only be set once.");$=t},createHTML:t=>$.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(A),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${A}:`,"")),createInterpolationPlaceholder:t=>`${E}${t}${O}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${A}:${t}--\x3e`,queueUpdate(t){C.length<1&&window.requestAnimationFrame(T),C.push(t)},nextUpdate:()=>new Promise((t=>{P.queueUpdate(t)})),setAttribute(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},setBooleanAttribute(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null,!1)});function R(t){const e=this.spillover;-1===e.indexOf(t)&&e.push(t)}function I(t){const e=this.spillover,n=e.indexOf(t);-1!==n&&e.splice(n,1)}function j(t){const e=this.spillover,n=this.source;for(let i=0,s=e.length;i<s;++i)e[i].handleChange(n,t)}function F(t){return-1!==this.spillover.indexOf(t)}class L{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return this.sub1===t||this.sub2===t}subscribe(t){this.has(t)||(void 0!==this.sub1?void 0!==this.sub2?(this.spillover=[this.sub1,this.sub2,t],this.subscribe=R,this.unsubscribe=I,this.notify=j,this.has=F,this.sub1=void 0,this.sub2=void 0):this.sub2=t:this.sub1=t)}unsubscribe(t){this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0)}notify(t){const e=this.sub1,n=this.sub2,i=this.source;void 0!==e&&e.handleChange(i,t),void 0!==n&&n.handleChange(i,t)}}class N{constructor(t){this.subscribers={},this.source=t}notify(t){const e=this.subscribers[t];void 0!==e&&e.notify(t)}subscribe(t,e){let n=this.subscribers[e];void 0===n&&(this.subscribers[e]=n=new L(this.source)),n.subscribe(t)}unsubscribe(t,e){const n=this.subscribers[e];void 0!==n&&n.unsubscribe(t)}}const D=/(:|&&|\|\||if)/,M=new WeakMap,B=new WeakMap;let V,H=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")};class q{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==V&&V.watch(t,this.name),t[this.field]}setValue(t,e){const n=this.field,i=t[n];if(i!==e){t[n]=e;const s=t[this.callback];"function"==typeof s&&s.call(t,i,e),z(t).notify(this.name)}}}const U=Object.freeze({setArrayObserverFactory(t){H=t},getNotifier(t){let e=t.$fastController||M.get(t);return void 0===e&&(Array.isArray(t)?e=H(t):M.set(t,e=new N(t))),e},track(t,e){void 0!==V&&V.watch(t,e)},trackVolatile(){void 0!==V&&(V.needsRefresh=!0)},notify(t,e){z(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new q(e)),this.getAccessors(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors(t){let e=B.get(t);if(void 0===e){let n=Reflect.getPrototypeOf(t);for(;void 0===e&&null!==n;)e=B.get(n),n=Reflect.getPrototypeOf(n);e=void 0===e?[]:e.slice(0),B.set(t,e)}return e},binding(t,e,n=this.isVolatileBinding(t)){return new X(t,e,n)},isVolatileBinding:t=>D.test(t.toString())}),z=U.getNotifier,_=(U.trackVolatile,P.queueUpdate);function W(t,e){U.defineProperty(t,e)}let K=null;function G(t){K=t}class Q{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return K}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}}U.defineProperty(Q.prototype,"index"),U.defineProperty(Q.prototype,"length");const Y=Object.seal(new Q);class X extends L{constructor(t,e,n=!1){super(t,e),this.binding=t,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect();const n=V;V=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const i=this.binding(t,e);return V=n,i}disconnect(){if(null!==this.last){let t=this.first;for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const n=this.last,i=z(t),s=null===n?this.first:{};if(s.propertySource=t,s.propertyName=e,s.notifier=i,i.subscribe(this,e),null!==n){if(!this.needsRefresh){V=void 0;const e=n.propertySource[n.propertyName];V=this,t===e&&(this.needsRefresh=!0)}n.next=s}this.last=s}handleChange(){this.needsQueue&&(this.needsQueue=!1,_(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}}const Z=new Map;class J{constructor(){this.targets=new WeakSet,this.behaviors=null}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}withKey(t){return Z.set(t,this),this}static find(t){return Z.get(t)||null}}function tt(t){return t.map((t=>t instanceof J?tt(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function et(t){return t.map((t=>t instanceof J?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}J.create=(()=>{if(P.supportsAdoptedStyleSheets){const t=new Map;return e=>new nt(e,t)}return t=>new st(t)})();class nt extends J{constructor(t,e){super(),this.styles=t,this.behaviors=null,this.behaviors=et(t),this.styleSheets=tt(t).map((t=>{if(t instanceof CSSStyleSheet)return t;let n=e.get(t);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(t),e.set(t,n)),n}))}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const e=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t))),super.removeStylesFrom(t)}}let it=0;class st extends J{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=et(t),this.styleSheets=tt(t),this.styleClass="fast-style-class-"+ ++it}addStylesTo(t){const e=this.styleSheets,n=this.styleClass;t=this.normalizeTarget(t);for(let i=e.length-1;i>-1;--i){const s=document.createElement("style");s.innerHTML=e[i],s.className=n,t.prepend(s)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`);for(let n=0,i=e.length;n<i;++n)t.removeChild(e[n]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const ot={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t},rt={toView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e.toString()},fromView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e}};class at{constructor(t,e,n=e.toLowerCase(),i="reflect",s){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=n,this.mode=i,this.converter=s,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===i&&void 0===s&&(this.converter=ot)}setValue(t,e){const n=t[this.fieldName],i=this.converter;void 0!==i&&(e=i.fromView(e)),n!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](n,e),t.$fastController.notify(this.name))}getValue(t){return U.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,n=this.guards;n.has(t)||"fromView"===e||P.queueUpdate((()=>{n.add(t);const i=t[this.fieldName];switch(e){case"reflect":const e=this.converter;P.setAttribute(t,this.attribute,void 0!==e?e.toView(i):i);break;case"boolean":P.setBooleanAttribute(t,this.attribute,i)}n.delete(t)}))}static collect(t,...e){const n=[];e.push(t.attributes);for(let i=0,s=e.length;i<s;++i){const s=e[i];if(void 0!==s)for(let e=0,i=s.length;e<i;++e){const i=s[e];"string"==typeof i?n.push(new at(t,i)):n.push(new at(t,i.property,i.attribute,i.mode,i.converter))}}return n}}function lt(t,e){let n;function i(t,e){arguments.length>1&&(n.property=e);const i=t.constructor.attributes||(t.constructor.attributes=[]);i.push(n)}return arguments.length>1?(n={},void i(t,e)):(n=void 0===t?{}:t,i)}const ct={mode:"open"},ht={},ut=new Map;class dt{constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const n=at.collect(t,e.attributes),i=new Array(n.length),s={},o={};for(let t=0,e=n.length;t<e;++t){const e=n[t];i[t]=e.attribute,s[e.name]=e,o[e.attribute]=e}this.attributes=n,this.observedAttributes=i,this.propertyLookup=s,this.attributeLookup=o,this.shadowOptions=void 0===e.shadowOptions?ct:null===e.shadowOptions?void 0:Object.assign(Object.assign({},ct),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?ht:Object.assign(Object.assign({},ht),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?J.create(e.styles):e.styles instanceof J?e.styles:J.create([e.styles])}define(t=customElements){const e=this.type;if(!this.isDefined){const t=this.attributes,n=e.prototype;for(let e=0,i=t.length;e<i;++e)U.defineProperty(n,t[e]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0}),ut.set(e,this),this.isDefined=!0}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}static forType(t){return ut.get(t)}}const pt=new WeakMap,gt={bubbles:!0,composed:!0};function ft(t){return t.shadowRoot||pt.get(t)||null}class vt extends N{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this.view=null,this.isConnected=!1,this.element=t,this.definition=e;const n=e.shadowOptions;if(void 0!==n){const e=t.attachShadow(n);"closed"===n.mode&&pt.set(t,e)}const i=U.getAccessors(t);if(i.length>0){const e=this.boundObservables=Object.create(null);for(let n=0,s=i.length;n<s;++n){const s=i[n].name,o=t[s];void 0!==o&&(delete t[s],e[s]=o)}}}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}addStyles(t){const e=ft(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.prepend(t);else if(!t.isAttachedTo(e)){const n=t.behaviors;t.addStylesTo(e),null!==n&&this.addBehaviors(n)}}removeStyles(t){const e=ft(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const n=t.behaviors;t.removeStylesFrom(e),null!==n&&this.removeBehaviors(n)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),n=t.length,i=[];for(let s=0;s<n;++s){const n=t[s];e.has(n)?e.set(n,e.get(n)+1):(e.set(n,1),i.push(n))}if(this.isConnected){const t=this.element;for(let e=0;e<i.length;++e)i[e].bind(t,Y)}}removeBehaviors(t,e=!1){const n=this.behaviors;if(null===n)return;const i=t.length,s=[];for(let o=0;o<i;++o){const i=t[o];if(n.has(i)){const t=n.get(i)-1;0===t||e?n.delete(i)&&s.push(i):n.set(i,t)}}if(this.isConnected){const t=this.element;for(let e=0;e<s.length;++e)s[e].unbind(t)}}onConnectedCallback(){if(this.isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,Y);const e=this.behaviors;if(null!==e)for(const[n]of e)n.bind(t,Y);this.isConnected=!0}onDisconnectedCallback(){if(!1===this.isConnected)return;this.isConnected=!1;const t=this.view;null!==t&&t.unbind();const e=this.behaviors;if(null!==e){const t=this.element;for(const[n]of e)n.unbind(t)}}onAttributeChangedCallback(t,e,n){const i=this.definition.attributeLookup[t];void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(t,e,n){return!!this.isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},gt),n)))}finishInitialization(){const t=this.element,e=this.boundObservables;if(null!==e){const n=Object.keys(e);for(let i=0,s=n.length;i<s;++i){const s=n[i];t[s]=e[s]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,n=ft(e)||e;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||P.removeChildNodes(n),t&&(this.view=t.render(e,n,e))}static forCustomElement(t){const e=t.$fastController;if(void 0!==e)return e;const n=dt.forType(t.constructor);if(void 0===n)throw new Error("Missing FASTElement definition.");return t.$fastController=new vt(t,n)}}function mt(t){return class extends t{constructor(){super(),vt.forCustomElement(this)}$emit(t,e,n){return this.$fastController.emit(t,e,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,n){this.$fastController.onAttributeChangedCallback(t,e,n)}}}!function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);o>3&&r&&Object.defineProperty(e,n,r)}([W],vt.prototype,"isConnected",void 0);const bt=Object.assign(mt(HTMLElement),{from:t=>mt(t),define:(t,e)=>new dt(t,e).define().type});function yt(t){return function(e){new dt(e,t).define()}}class wt{createCSS(){return""}createBehavior(){}}function xt(t,...e){const n=[];let i="";const s=[];for(let o=0,r=t.length-1;o<r;++o){i+=t[o];let r=e[o];if(r instanceof wt){const t=r.createBehavior();r=r.createCSS(),t&&s.push(t)}r instanceof J||r instanceof CSSStyleSheet?(""!==i.trim()&&(n.push(i),i=""),n.push(r)):i+=r}i+=t[t.length-1],""!==i.trim()&&n.push(i);const o=J.create(n);return s.length&&o.withBehaviors(...s),o}function kt(t){return`:host([hidden]){display:none}:host{display:${t}}`}const Ct=xt`
  ${kt("block")}

  :host {
    fill: var(--accent-fill-rest);
  }
`;class St{constructor(){this.targetIndex=0}}class $t extends St{constructor(){super(...arguments),this.createPlaceholder=P.createInterpolationPlaceholder}}class Tt extends St{constructor(t,e,n){super(),this.name=t,this.behavior=e,this.options=n}createPlaceholder(t){return P.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function At(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=U.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function Et(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function Ot(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Pt(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function Rt(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function It(t){P.setAttribute(this.target,this.targetName,t)}function jt(t){P.setBooleanAttribute(this.target,this.targetName,t)}function Ft(t){if(null==t&&(t=""),t.create){this.target.textContent="";let e=this.target.$fastView;void 0===e?e=t.create():this.target.$fastTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=t)}else{const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function Lt(t){this.target[this.targetName]=t}function Nt(t){const e=this.classVersions||Object.create(null),n=this.target;let i=this.version||0;if(null!=t&&t.length){const s=t.split(/\s+/);for(let t=0,o=s.length;t<o;++t){const o=s[t];""!==o&&(e[o]=i,n.classList.add(o))}}if(this.classVersions=e,this.version=i+1,0!==i){i-=1;for(const t in e)e[t]===i&&n.classList.remove(t)}}class Dt extends $t{constructor(t){super(),this.binding=t,this.bind=At,this.unbind=Ot,this.updateTarget=It,this.isBindingVolatile=U.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Lt,"innerHTML"===this.cleanedTargetName){const t=this.binding;this.binding=(e,n)=>P.createHTML(t(e,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=jt;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=Et,this.unbind=Rt;break;default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=Nt)}}targetAtContent(){this.updateTarget=Ft,this.unbind=Pt}createBehavior(t){return new Mt(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Mt{constructor(t,e,n,i,s,o,r){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=n,this.bind=i,this.unbind=s,this.updateTarget=o,this.targetName=r}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){G(t);const e=this.binding(this.source,this.context);G(null),!0!==e&&t.preventDefault()}}let Bt=null;class Vt{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){Bt=this}static borrow(t){const e=Bt||new Vt;return e.directives=t,e.reset(),Bt=null,e}}function Ht(t){if(1===t.length)return t[0];let e;const n=t.length,i=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),s=new Dt(((t,e)=>{let s="";for(let o=0;o<n;++o)s+=i[o](t,e);return s}));return s.targetName=e,s}const qt=O.length;function Ut(t,e){const n=e.split(E);if(1===n.length)return null;const i=[];for(let e=0,s=n.length;e<s;++e){const s=n[e],o=s.indexOf(O);let r;if(-1===o)r=s;else{const e=parseInt(s.substring(0,o));i.push(t.directives[e]),r=s.substring(o+qt)}""!==r&&i.push(r)}return i}function zt(t,e,n=!1){const i=e.attributes;for(let s=0,o=i.length;s<o;++s){const r=i[s],a=r.value,l=Ut(t,a);let c=null;null===l?n&&(c=new Dt((()=>a)),c.targetName=r.name):c=Ht(l),null!==c&&(e.removeAttributeNode(r),s--,o--,t.addFactory(c))}}function _t(t,e,n){const i=Ut(t,e.textContent);if(null!==i){let s=e;for(let o=0,r=i.length;o<r;++o){const r=i[o],a=0===o?e:s.parentNode.insertBefore(document.createTextNode(""),s.nextSibling);"string"==typeof r?a.textContent=r:(a.textContent=" ",t.captureContentBinding(r)),s=a,t.targetIndex++,a!==e&&n.nextNode()}t.targetIndex--}}const Wt=document.createRange();class Kt{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=t.parentNode,n=this.lastChild;let i,s=this.firstChild;for(;s!==n;)i=s.nextSibling,e.insertBefore(s,t),s=i;e.insertBefore(n,t)}}remove(){const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n;t.removeChild(e);const s=this.behaviors,o=this.source;for(let t=0,e=s.length;t<e;++t)s[t].unbind(o)}bind(t,e){const n=this.behaviors;if(this.source!==t)if(null!==this.source){const i=this.source;this.source=t,this.context=e;for(let s=0,o=n.length;s<o;++s){const o=n[s];o.unbind(i),o.bind(t,e)}}else{this.source=t,this.context=e;for(let i=0,s=n.length;i<s;++i)n[i].bind(t,e)}}unbind(){if(null===this.source)return;const t=this.behaviors,e=this.source;for(let n=0,i=t.length;n<i;++n)t[n].unbind(e);this.source=null}static disposeContiguousBatch(t){if(0!==t.length){Wt.setStartBefore(t[0].firstChild),Wt.setEndAfter(t[t.length-1].lastChild),Wt.deleteContents();for(let e=0,n=t.length;e<n;++e){const n=t[e],i=n.behaviors,s=n.source;for(let t=0,e=i.length;t<e;++t)i[t].unbind(s)}}}}class Gt{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t;const e=this.html;if("string"==typeof e){t=document.createElement("template"),t.innerHTML=P.createHTML(e);const n=t.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(t=n)}else t=e;const n=function(t,e){const n=t.content;document.adoptNode(n);const i=Vt.borrow(e);zt(i,t,!0);const s=i.behaviorFactories;i.reset();const o=P.createTemplateWalker(n);let r;for(;r=o.nextNode();)switch(i.targetIndex++,r.nodeType){case 1:zt(i,r);break;case 3:_t(i,r,o);break;case 8:P.isMarker(r)&&i.addFactory(e[P.extractDirectiveIndexFromMarker(r)])}let a=0;(P.isMarker(n.firstChild)||1===n.childNodes.length&&e.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1);const l=i.behaviorFactories;return i.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:s,targetOffset:a}}(t,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),s=P.createTemplateWalker(e);let o=0,r=this.targetOffset,a=s.nextNode();for(let t=n.length;o<t;++o){const t=n[o],e=t.targetIndex;for(;null!==a;){if(r===e){i[o]=t.createBehavior(a);break}a=s.nextNode(),r++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories;for(let n=0,s=e.length;n<s;++n,++o)i[o]=e[n].createBehavior(t)}return new Kt(e,i)}render(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),void 0===n&&(n=e);const i=this.create(n);return i.bind(t,Y),i.appendTo(e),i}}const Qt=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Yt(t,...e){const n=[];let i="";for(let s=0,o=t.length-1;s<o;++s){const o=t[s];let r=e[s];if(i+=o,r instanceof Gt){const t=r;r=()=>t}if("function"==typeof r&&(r=new Dt(r)),r instanceof $t){const t=Qt.exec(o);null!==t&&(r.targetName=t[2])}r instanceof St?(i+=r.createPlaceholder(n.length),n.push(r)):i+=r}return i+=t[t.length-1],new Gt(i,n)}const Xt=Yt`<slot>
  <svg viewbox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
    <!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ -->
    <g id="Layer_1">
     <title>Layer 1</title>
     <path stroke="none" fill-opacity="0.2" id="svg_1" d="m${t=>t.p0},404l706.00003,-${t=>t.p5}l0,${t=>t.p5}l-706.00003,1z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_3" d="m${t=>t.p0},404l706.00003,-${t=>t.p4}l0,${t=>t.p4}l-706.00003,0.77075z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_4" d="m${t=>t.p0},404l706.00003,-${t=>t.p3}l0,${t=>t.p3}l-706.00003,0.60797z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_5" d="m${t=>t.p0},404l706.00003,-${t=>t.p2}l0,${t=>t.p2}l-706.00003,0.36877z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_7" d="m${t=>t.p1},405l-${t=>t.p1},-141l0,140.53159l${t=>t.p1},0.46841z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_9" d="m${t=>t.p1},405l-${t=>t.p1},-75l0,74.75085l${t=>t.p1},0.24915z"/>
    </g>
   </svg>
</slot>`;var Zt=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},Jt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let te=class extends bt{constructor(){super(...arguments),this.points=[96,526,111,183,202,301],this.increments=[.5,-1,.5,-.4,.3],this.mins=[115,360,10,20,30],this.maxs=[350,700,400,400,400],this.running=!1}connectedCallback(){super.connectedCallback(),this.start()}start(){this.nextFrame()}stop(){this.running=!1}nextFrame(){window.requestAnimationFrame((()=>{for(let t=0;t<this.points.length;t++){let e=this.points[t],n=this.increments[t]||0;const i=this.mins[t]||0,s=this.maxs[t]||800;(n&&e>s&&n>0||e<i&&n<0)&&(n*=-1,this.increments[t]=n),e+=n,this.points[t]=e,this[`p${t}`]=e}this.running&&this.nextFrame()}))}};Zt([W,Jt("design:type",Number)],te.prototype,"p0",void 0),Zt([W,Jt("design:type",Number)],te.prototype,"p1",void 0),Zt([W,Jt("design:type",Number)],te.prototype,"p2",void 0),Zt([W,Jt("design:type",Number)],te.prototype,"p3",void 0),Zt([W,Jt("design:type",Number)],te.prototype,"p4",void 0),Zt([W,Jt("design:type",Number)],te.prototype,"p5",void 0),te=Zt([yt({name:"animated-svg",template:Xt,styles:Ct})],te);const ee=xt`
  ${kt("block")}

  :host {
    fill: var(--accent-fill-rest);
  }

`;function ne(t,e,n){return{index:t,removed:e,addedCount:n}}function ie(t,e,n,i,s,o){let r=0,a=0;const l=Math.min(n-e,o-s);if(0===e&&0===s&&(r=function(t,e,n){for(let i=0;i<n;++i)if(t[i]!==e[i])return i;return n}(t,i,l)),n===t.length&&o===i.length&&(a=function(t,e,n){let i=t.length,s=e.length,o=0;for(;o<n&&t[--i]===e[--s];)o++;return o}(t,i,l-r)),s+=r,o-=a,(n-=a)-(e+=r)==0&&o-s==0)return k;if(e===n){const t=ne(e,[],0);for(;s<o;)t.removed.push(i[s++]);return[t]}if(s===o)return[ne(e,[],n-e)];const c=function(t){let e=t.length-1,n=t[0].length-1,i=t[e][n];const s=[];for(;e>0||n>0;){if(0===e){s.push(2),n--;continue}if(0===n){s.push(3),e--;continue}const o=t[e-1][n-1],r=t[e-1][n],a=t[e][n-1];let l;l=r<a?r<o?r:o:a<o?a:o,l===o?(o===i?s.push(0):(s.push(1),i=o),e--,n--):l===r?(s.push(3),e--,i=r):(s.push(2),n--,i=a)}return s.reverse(),s}(function(t,e,n,i,s,o){const r=o-s+1,a=n-e+1,l=new Array(r);let c,h;for(let t=0;t<r;++t)l[t]=new Array(a),l[t][0]=t;for(let t=0;t<a;++t)l[0][t]=t;for(let n=1;n<r;++n)for(let o=1;o<a;++o)t[e+o-1]===i[s+n-1]?l[n][o]=l[n-1][o-1]:(c=l[n-1][o]+1,h=l[n][o-1]+1,l[n][o]=c<h?c:h);return l}(t,e,n,i,s,o)),h=[];let u,d=e,p=s;for(let t=0;t<c.length;++t)switch(c[t]){case 0:void 0!==u&&(h.push(u),u=void 0),d++,p++;break;case 1:void 0===u&&(u=ne(d,[],0)),u.addedCount++,d++,u.removed.push(i[p]),p++;break;case 2:void 0===u&&(u=ne(d,[],0)),u.addedCount++,d++;break;case 3:void 0===u&&(u=ne(d,[],0)),u.removed.push(i[p]),p++}return void 0!==u&&h.push(u),h}const se=Array.prototype.push;function oe(t,e,n,i){const s=ne(e,n,i);let o=!1,r=0;for(let e=0;e<t.length;e++){const n=t[e];if(n.index+=r,o)continue;const i=(a=s.index,l=s.index+s.removed.length,c=n.index,h=n.index+n.addedCount,l<c||h<a?-1:l===c||h===a?0:a<c?l<h?l-c:h-c:h<l?h-a:l-a);if(i>=0){t.splice(e,1),e--,r-=n.addedCount-n.removed.length,s.addedCount+=n.addedCount-i;const a=s.removed.length+n.removed.length-i;if(s.addedCount||a){let t=n.removed;if(s.index<n.index){const e=s.removed.slice(0,n.index-s.index);se.apply(e,t),t=e}if(s.index+s.removed.length>n.index+n.addedCount){const e=s.removed.slice(n.index+n.addedCount-s.index);se.apply(t,e)}s.removed=t,n.index<s.index&&(s.index=n.index)}else o=!0}else if(s.index<n.index){o=!0,t.splice(e,0,s),e++;const i=s.addedCount-s.removed.length;n.index+=i,r+=i}}var a,l,c,h;o||t.push(s)}let re=!1;function ae(t,e){let n=t.index;const i=e.length;return n>i?n=i-t.addedCount:n<0&&(n=i+t.removed.length+n-t.addedCount),n<0&&(n=0),t.index=n,t}class le extends L{constructor(t){super(t),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,t.$fastController=this}addSplice(t){void 0===this.splices?this.splices=[t]:this.splices.push(t),this.needsQueue&&(this.needsQueue=!1,P.queueUpdate(this))}reset(t){this.oldCollection=t,this.needsQueue&&(this.needsQueue=!1,P.queueUpdate(this))}flush(){const t=this.splices,e=this.oldCollection;if(void 0===t&&void 0===e)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const n=void 0===e?function(t,e){let n=[];const i=function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];oe(e,i.index,i.removed,i.addedCount)}return e}(e);for(let e=0,s=i.length;e<s;++e){const s=i[e];1!==s.addedCount||1!==s.removed.length?n=n.concat(ie(t,s.index,s.index+s.addedCount,s.removed,0,s.removed.length)):s.removed[0]!==t[s.index]&&n.push(s)}return n}(this.source,t):ie(this.source,0,this.source.length,e,0,e.length);this.notify(n)}}const ce=Object.freeze({positioning:!1});function he(t,e,n,i){t.bind(e[n],i)}function ue(t,e,n,i){const s=Object.create(i);s.index=n,s.length=e.length,t.bind(e[n],s)}class de{constructor(t,e,n,i,s,o){this.location=t,this.itemsBinding=e,this.templateBinding=i,this.options=o,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=he,this.itemsBindingObserver=U.binding(e,this,n),this.templateBindingObserver=U.binding(i,this,s),o.positioning&&(this.bindView=ue)}bind(t,e){this.source=t,this.originalContext=e,this.childContext=Object.create(e),this.childContext.parent=t,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(t,this.originalContext),this.template=this.templateBindingObserver.observe(t,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,null!==this.itemsObserver&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(t,e){t===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):t===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(e)}observeItems(t=!1){if(!this.items)return void(this.items=k);const e=this.itemsObserver,n=this.itemsObserver=U.getNotifier(this.items),i=e!==n;i&&null!==e&&e.unsubscribe(this),(i||t)&&n.subscribe(this)}updateViews(t){const e=this.childContext,n=this.views,i=[],s=this.bindView;let o=0;for(let e=0,s=t.length;e<s;++e){const s=t[e],r=s.removed;i.push(...n.splice(s.index+o,r.length)),o-=s.addedCount}const r=this.items,a=this.template;for(let o=0,l=t.length;o<l;++o){const l=t[o];let c=l.index;const h=c+l.addedCount;for(;c<h;++c){const t=n[c],o=t?t.firstChild:this.location,l=i.length>0?i.shift():a.create();n.splice(c,0,l),s(l,r,c,e),l.insertBefore(o)}}for(let t=0,e=i.length;t<e;++t)i[t].dispose();if(this.options.positioning)for(let t=0,e=n.length;t<e;++t){const i=n[t].context;i.length=e,i.index=t}}refreshAllViews(t=!1){const e=this.items,n=this.childContext,i=this.template,s=this.location,o=this.bindView;let r=e.length,a=this.views,l=a.length;if((0===r||t)&&(Kt.disposeContiguousBatch(a),l=0),0===l){this.views=a=new Array(r);for(let t=0;t<r;++t){const r=i.create();o(r,e,t,n),a[t]=r,r.insertBefore(s)}}else{let t=0;for(;t<r;++t)if(t<l)o(a[t],e,t,n);else{const r=i.create();o(r,e,t,n),a.push(r),r.insertBefore(s)}const c=a.splice(t,l-t);for(t=0,r=c.length;t<r;++t)c[t].dispose()}}unbindAllViews(){const t=this.views;for(let e=0,n=t.length;e<n;++e)t[e].unbind()}}class pe extends St{constructor(t,e,n){super(),this.itemsBinding=t,this.templateBinding=e,this.options=n,this.createPlaceholder=P.createBlockPlaceholder,function(){if(re)return;re=!0,U.setArrayObserverFactory((t=>new le(t)));const t=Array.prototype,e=t.pop,n=t.push,i=t.reverse,s=t.shift,o=t.sort,r=t.splice,a=t.unshift;t.pop=function(){const t=this.length>0,n=e.apply(this,arguments),i=this.$fastController;return void 0!==i&&t&&i.addSplice(ne(this.length,[n],0)),n},t.push=function(){const t=n.apply(this,arguments),e=this.$fastController;return void 0!==e&&e.addSplice(ae(ne(this.length-arguments.length,[],arguments.length),this)),t},t.reverse=function(){let t;const e=this.$fastController;void 0!==e&&(e.flush(),t=this.slice());const n=i.apply(this,arguments);return void 0!==e&&e.reset(t),n},t.shift=function(){const t=this.length>0,e=s.apply(this,arguments),n=this.$fastController;return void 0!==n&&t&&n.addSplice(ne(0,[e],0)),e},t.sort=function(){let t;const e=this.$fastController;void 0!==e&&(e.flush(),t=this.slice());const n=o.apply(this,arguments);return void 0!==e&&e.reset(t),n},t.splice=function(){const t=r.apply(this,arguments),e=this.$fastController;return void 0!==e&&e.addSplice(ae(ne(+arguments[0],t,arguments.length>2?arguments.length-2:0),this)),t},t.unshift=function(){const t=a.apply(this,arguments),e=this.$fastController;return void 0!==e&&e.addSplice(ae(ne(0,[],arguments.length),this)),t}}(),this.isItemsBindingVolatile=U.isVolatileBinding(t),this.isTemplateBindingVolatile=U.isVolatileBinding(e)}createBehavior(t){return new de(t,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}const ge=Yt`
  <svg viewbox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
    ${function(t,e,n=ce){return new pe(t,"function"==typeof e?e:()=>e,n)}((t=>t.paths),Yt`
    <svg>
      <path 
        stroke="none" 
        fill-opacity="0.2"
        d="
          M${(t,e)=>e.parent.getX(t.p1)},${(t,e)=>e.parent.getY(t.p1)}
          L${(t,e)=>e.parent.getX(t.p2)},${(t,e)=>e.parent.getY(t.p2)}
          L${(t,e)=>e.parent.getX(t.p3)},${(t,e)=>e.parent.getY(t.p3)}
          z" ></path></svg>
          `)}     
  </svg>
`;var fe=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let ve=class extends bt{constructor(){super(...arguments),this.paths=[],this.nbPaths=12,this.constraints=[{path:0,p1:1200,p2:1800,p3min:1e3,p3max:1200},{path:3,p1:1200,p2:1800,p3min:800,p3max:900},{path:4,p1:2e3,p2:1400,p3min:2200,p3max:2400},{path:6,p1:2e3,p2:1400,p3min:2e3,p3max:2200},{path:8,p1:0,p2:500,p3min:900,p3max:1100},{path:9,p1:0,p2:500,p3min:800,p3max:900},{path:10,p1:800,p2:300,p3min:2200,p3max:2400}],this.increments=[],this.running=!1}connectedCallback(){super.connectedCallback(),this.init(),this.start()}start(){this.running=!0,this.nextFrame()}stop(){this.running=!1}getX(t){return t>2e3?0:t>1200?800-(t-1200):t>800?800:t}getY(t){return t>2e3?400-(t-2e3):t>1200?400:t>800?t-800:0}init(){for(let t=0;t<this.nbPaths;t++){const t=Math.round(3*Math.random()),e=Math.round(3*Math.random());let n=Math.round(3*Math.random());n===e&&n===t&&(n=3===n?0:n+1);const i={p1:this.randomPointOnSegement(t),p2:this.randomPointOnSegement(e),p3:this.randomPointOnSegement(n)};this.paths.push(i),this.increments.push(this.randomInc()),this.increments.push(this.randomInc()),this.increments.push(this.randomInc())}}setRandomIncrements(){for(const t in this.increments){const e=Math.random();e>.5||(e>.25?this.increments[t]*=-1:this.increments[t]=this.randomInc())}}randomInc(){return Math.random()-.5}randomPointOnSegement(t){return 0===t?Math.round(800*Math.random()):1===t?Math.round(400*Math.random())+800:2===t?Math.round(800*Math.random())+1200:3===t?Math.round(400*Math.random())+2e3:void 0}nextFrame(){window.requestAnimationFrame((()=>{for(let t=0;t<this.paths.length;t++){const e=this.paths[t].p1+this.increments[3*t+0],n=this.paths[t].p2+this.increments[3*t+1],i=this.paths[t].p3+this.increments[3*t+2];this.paths.splice(t,1,{p1:e,p2:n,p3:i})}Math.random()<.01&&this.setRandomIncrements(),this.applyConstraints(),this.nextFrame()}))}applyConstraints(){for(let t=0;t<this.paths.length;t++){const e=this.constraints.find((e=>e.path===t));if(!e)continue;const n=e.p1,i=e.p2,s=Math.max(Math.min(this.paths[t].p3,e.p3max),e.p3min);(s===e.p3min&&this.increments[3*t+2]<0||s===e.p3max&&this.increments[3*t+2]>0)&&(this.increments[3*t+2]*=-1),this.paths.splice(t,1,{p1:n,p2:i,p3:s})}}};fe([W,function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Array)],ve.prototype,"paths",void 0),ve=fe([yt({name:"animated-svg2",template:ge,styles:ee})],ve);var me=n(379),be=n.n(me),ye=n(619);function we(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}be()(ye.Z,{insert:"head",singleton:!1}),ye.Z.locals;class xe{}we([lt({attribute:"aria-atomic",mode:"fromView"})],xe.prototype,"ariaAtomic",void 0),we([lt({attribute:"aria-busy",mode:"fromView"})],xe.prototype,"ariaBusy",void 0),we([lt({attribute:"aria-controls",mode:"fromView"})],xe.prototype,"ariaControls",void 0),we([lt({attribute:"aria-current",mode:"fromView"})],xe.prototype,"ariaCurrent",void 0),we([lt({attribute:"aria-describedby",mode:"fromView"})],xe.prototype,"ariaDescribedby",void 0),we([lt({attribute:"aria-details",mode:"fromView"})],xe.prototype,"ariaDetails",void 0),we([lt({attribute:"aria-disabled",mode:"fromView"})],xe.prototype,"ariaDisabled",void 0),we([lt({attribute:"aria-errormessage",mode:"fromView"})],xe.prototype,"ariaErrormessage",void 0),we([lt({attribute:"aria-flowto",mode:"fromView"})],xe.prototype,"ariaFlowto",void 0),we([lt({attribute:"aria-haspopup",mode:"fromView"})],xe.prototype,"ariaHaspopup",void 0),we([lt({attribute:"aria-hidden",mode:"fromView"})],xe.prototype,"ariaHidden",void 0),we([lt({attribute:"aria-invalid",mode:"fromView"})],xe.prototype,"ariaInvalid",void 0),we([lt({attribute:"aria-keyshortcuts",mode:"fromView"})],xe.prototype,"ariaKeyshortcuts",void 0),we([lt({attribute:"aria-label",mode:"fromView"})],xe.prototype,"ariaLabel",void 0),we([lt({attribute:"aria-labelledby",mode:"fromView"})],xe.prototype,"ariaLabelledby",void 0),we([lt({attribute:"aria-live",mode:"fromView"})],xe.prototype,"ariaLive",void 0),we([lt({attribute:"aria-owns",mode:"fromView"})],xe.prototype,"ariaOwns",void 0),we([lt({attribute:"aria-relevant",mode:"fromView"})],xe.prototype,"ariaRelevant",void 0),we([lt({attribute:"aria-roledescription",mode:"fromView"})],xe.prototype,"ariaRoledescription",void 0);class ke{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function Ce(t){return new Tt("fast-ref",ke,t)}class Se{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const $e=Yt`
    <span part="end" ${Ce("endContainer")}>
        <slot
            name="end"
            ${Ce("end")}
            @slotchange="${t=>t.handleEndContentChange()}"
        ></slot>
    </span>
`,Te=Yt`
    <span part="start" ${Ce("startContainer")}>
        <slot
            name="start"
            ${Ce("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        ></slot>
    </span>
`;function Ae(t,...e){e.forEach((e=>{if(Object.getOwnPropertyNames(e.prototype).forEach((n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})),e.attributes){const n=t.attributes||[];t.attributes=n.concat(e.attributes)}}))}class Ee extends bt{}we([lt],Ee.prototype,"download",void 0),we([lt],Ee.prototype,"href",void 0),we([lt],Ee.prototype,"hreflang",void 0),we([lt],Ee.prototype,"ping",void 0),we([lt],Ee.prototype,"referrerpolicy",void 0),we([lt],Ee.prototype,"rel",void 0),we([lt],Ee.prototype,"target",void 0),we([lt],Ee.prototype,"type",void 0),we([W],Ee.prototype,"defaultSlottedContent",void 0);class Oe{}we([lt({attribute:"aria-expanded",mode:"fromView"})],Oe.prototype,"ariaExpanded",void 0),Ae(Oe,xe),Ae(Ee,Se,Oe);class Pe extends class{constructor(t,e){this.target=t,this.options=e,this.source=null}bind(t){const e=this.options.property;this.shouldUpdate=U.getAccessors(t).some((t=>t.name===e)),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(k),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return void 0!==this.options.filter&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}{constructor(t,e){super(t,e)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function Re(t){return"string"==typeof t&&(t={property:t}),new Tt("fast-slotted",Pe,t)}const Ie=Yt`
    <a
        class="control"
        part="control"
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ce("control")}
    >
        ${Te}
        <span class="content" part="content">
            <slot ${Re("defaultSlottedContent")}></slot>
        </span>
        ${$e}
    </a>
`,je="object"==typeof global&&global&&global.Object===Object&&global;var Fe="object"==typeof self&&self&&self.Object===Object&&self;const Le=je||Fe||Function("return this")(),Ne=Le.Symbol;var De=Object.prototype,Me=De.hasOwnProperty,Be=De.toString,Ve=Ne?Ne.toStringTag:void 0;var He=Object.prototype.toString;var qe=Ne?Ne.toStringTag:void 0;const Ue=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":qe&&qe in Object(t)?function(t){var e=Me.call(t,Ve),n=t[Ve];try{t[Ve]=void 0;var i=!0}catch(t){}var s=Be.call(t);return i&&(e?t[Ve]=n:delete t[Ve]),s}(t):function(t){return He.call(t)}(t)},ze=function(t){return null!=t&&"object"==typeof t};let _e;const We=function(){if(!0===(t=_e)||!1===t||ze(t)&&"[object Boolean]"==Ue(t))return _e;var t;if("undefined"==typeof window||!window.document||!window.document.createElement)return _e=!1,_e;const e=document.createElement("style"),n=function(){const t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}();null!==n&&e.setAttribute("nonce",n),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),_e=!0}catch(t){_e=!1}finally{document.head.removeChild(e)}return _e}()?"focus-visible":"focus",Ke="not-allowed";class Ge extends class{constructor(t){this.listenerCache=new WeakMap,this.query=t}bind(t){const{query:e}=this,n=this.constructListener(t);n.bind(e)(),e.addListener(n),this.listenerCache.set(t,n)}unbind(t){const e=this.listenerCache.get(t);e&&(this.query.removeListener(e),this.listenerCache.delete(t))}}{constructor(t,e){super(t),this.styles=e}static with(t){return e=>new Ge(t,e)}constructListener(t){let e=!1;const n=this.styles;return function(){const{matches:i}=this;i&&!e?(t.$fastController.addStyles(n),e=i):!i&&e&&(t.$fastController.removeStyles(n),e=i)}}unbind(t){super.unbind(t),t.$fastController.removeStyles(this.styles)}}const Qe=Ge.with(window.matchMedia("(forced-colors)"));var Ye;Ge.with(window.matchMedia("(prefers-color-scheme: dark)")),Ge.with(window.matchMedia("(prefers-color-scheme: light)")),function(t){t.Canvas="Canvas",t.CanvasText="CanvasText",t.LinkText="LinkText",t.VisitedText="VisitedText",t.ActiveText="ActiveText",t.ButtonFace="ButtonFace",t.ButtonText="ButtonText",t.Field="Field",t.FieldText="FieldText",t.Highlight="Highlight",t.HighlightText="HighlightText",t.GrayText="GrayText"}(Ye||(Ye={}));const Xe="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)";class Ze{constructor(t,e,n){this.name=t,this.value=e,this.host=n,this.propertyName=`--${t}`,this.var=`var(${this.propertyName})`}bind(t){const e=this.host(t);null!==e&&("function"==typeof e.registerCSSCustomProperty?e.registerCSSCustomProperty(this):(Array.isArray(e.disconnectedCSSCustomPropertyRegistry)||(e.disconnectedCSSCustomPropertyRegistry=[]),e.disconnectedCSSCustomPropertyRegistry.push(this)))}unbind(t){const e=this.host(t);null!==e&&"function"==typeof e.unregisterCSSCustomProperty&&e.unregisterCSSCustomProperty(this)}}function Je(t,e,n){return new Ze(t,e,n)}var tn;!function(t){t.ltr="ltr",t.rtl="rtl"}(tn||(tn={}));const en={typeRampMinus2FontSize:"10px",typeRampMinus2LineHeight:"16px",typeRampMinus1FontSize:"12px",typeRampMinus1LineHeight:"16px",typeRampBaseFontSize:"14px",typeRampBaseLineHeight:"20px",typeRampPlus1FontSize:"16px",typeRampPlus1LineHeight:"24px",typeRampPlus2FontSize:"20px",typeRampPlus2LineHeight:"28px",typeRampPlus3FontSize:"28px",typeRampPlus3LineHeight:"36px",typeRampPlus4FontSize:"34px",typeRampPlus4LineHeight:"44px",typeRampPlus5FontSize:"46px",typeRampPlus5LineHeight:"56px",typeRampPlus6FontSize:"60px",typeRampPlus6LineHeight:"72px",accentBaseColor:"#DA1A5F",accentPalette:["#FFFFFF","#FEFBFC","#FEF7FA","#FDF4F7","#FDF0F5","#FCECF2","#FBE8EF","#FBE5ED","#FAE1EA","#FADDE7","#F9D9E5","#F8D6E2","#F8D2E0","#F7CEDD","#F7CADA","#F6C7D8","#F5C3D5","#F5BFD2","#F4BBD0","#F3B8CD","#F3B4CB","#F2B0C8","#F2ACC5","#F1A9C3","#F0A5C0","#F0A1BD","#EF9DBB","#EF9AB8","#EE96B6","#ED92B3","#ED8EB0","#EC8BAE","#EC87AB","#EB83A8","#EA7FA6","#EA7CA3","#E978A1","#E9749E","#E8709B","#E76D99","#E76996","#E66593","#E66191","#E55E8E","#E45A8C","#E45689","#E35286","#E24F84","#E24B81","#E1477E","#E1437C","#E04079","#DF3C77","#DF3874","#DE3471","#DE316F","#DD2D6C","#DC2969","#DC2567","#DB2264","#DB1E62","#DA1A5F","#D4195C","#CD1859","#C71857","#C01754","#BA1651","#B3154E","#AD154B","#A71449","#A01346","#9A1243","#931240","#8D113D","#86103B","#800F38","#7A0F35","#730E32","#6D0D2F","#660C2D","#600B2A","#590B27","#530A24","#4D0921","#46081F","#40081C","#3B071A","#350617","#300615","#2B0513","#260511","#21040E","#1C030C","#000000"],backgroundColor:"#181818",baseHeightMultiplier:10,baseHorizontalSpacingMultiplier:3,cornerRadius:3,density:0,designUnit:4,direction:tn.ltr,disabledOpacity:.3,focusOutlineWidth:2,neutralPalette:["#FFFFFF","#FCFCFC","#FAFAFA","#F7F7F7","#F5F5F5","#F2F2F2","#EFEFEF","#EDEDED","#EAEAEA","#E8E8E8","#E5E5E5","#E2E2E2","#E0E0E0","#DDDDDD","#DBDBDB","#D8D8D8","#D6D6D6","#D3D3D3","#D0D0D0","#CECECE","#CBCBCB","#C9C9C9","#C6C6C6","#C3C3C3","#C1C1C1","#BEBEBE","#BCBCBC","#B9B9B9","#B6B6B6","#B4B4B4","#B1B1B1","#AFAFAF","#ACACAC","#A9A9A9","#A7A7A7","#A4A4A4","#A2A2A2","#9F9F9F","#9D9D9D","#9A9A9A","#979797","#959595","#929292","#909090","#8D8D8D","#8A8A8A","#888888","#858585","#838383","#808080","#7D7D7D","#7B7B7B","#787878","#767676","#737373","#717171","#6E6E6E","#6B6B6B","#696969","#666666","#646464","#616161","#5F5F5F","#5C5C5C","#5A5A5A","#575757","#545454","#525252","#4F4F4F","#4D4D4D","#4A4A4A","#484848","#454545","#424242","#404040","#3D3D3D","#3B3B3B","#383838","#363636","#333333","#313131","#2E2E2E","#2B2B2B","#292929","#262626","#242424","#212121","#1E1E1E","#1B1B1B","#181818","#151515","#121212","#101010","#000000"],outlineWidth:1,accentFillRestDelta:0,accentFillHoverDelta:4,accentFillActiveDelta:-5,accentFillFocusDelta:0,accentFillSelectedDelta:12,accentForegroundRestDelta:0,accentForegroundHoverDelta:6,accentForegroundActiveDelta:-4,accentForegroundFocusDelta:0,neutralFillRestDelta:7,neutralFillHoverDelta:10,neutralFillActiveDelta:5,neutralFillFocusDelta:0,neutralFillSelectedDelta:7,neutralFillInputRestDelta:0,neutralFillInputHoverDelta:0,neutralFillInputActiveDelta:0,neutralFillInputFocusDelta:0,neutralFillInputSelectedDelta:0,neutralFillStealthRestDelta:0,neutralFillStealthHoverDelta:5,neutralFillStealthActiveDelta:3,neutralFillStealthFocusDelta:0,neutralFillStealthSelectedDelta:7,neutralFillToggleHoverDelta:8,neutralFillToggleActiveDelta:-5,neutralFillToggleFocusDelta:0,baseLayerLuminance:-1,neutralFillCardDelta:3,neutralForegroundHoverDelta:0,neutralForegroundActiveDelta:0,neutralForegroundFocusDelta:0,neutralDividerRestDelta:8,neutralOutlineRestDelta:25,neutralOutlineHoverDelta:40,neutralOutlineActiveDelta:16,neutralOutlineFocusDelta:25,neutralContrastFillRestDelta:0,neutralContrastFillHoverDelta:-3,neutralContrastFillActiveDelta:7,neutralContrastFillFocusDelta:0};function nn(t,e){return"function"==typeof t?t(e):t}function sn(t){return e=>e&&void 0!==e[t]?e[t]:en[t]}const on=sn("backgroundColor"),rn=sn("accentBaseColor"),an=(sn("cornerRadius"),sn("neutralPalette")),ln=sn("accentPalette"),cn=(sn("designUnit"),sn("baseHeightMultiplier"),sn("baseHorizontalSpacingMultiplier"),sn("outlineWidth"),sn("focusOutlineWidth"),sn("disabledOpacity"),sn("direction"),sn("accentFillRestDelta"),sn("accentFillHoverDelta")),hn=sn("accentFillActiveDelta"),un=sn("accentFillFocusDelta"),dn=sn("accentFillSelectedDelta"),pn=sn("accentForegroundRestDelta"),gn=sn("accentForegroundHoverDelta"),fn=sn("accentForegroundActiveDelta"),vn=sn("accentForegroundFocusDelta"),mn=sn("neutralFillRestDelta"),bn=sn("neutralFillHoverDelta"),yn=sn("neutralFillActiveDelta"),wn=sn("neutralFillFocusDelta"),xn=sn("neutralFillSelectedDelta"),kn=sn("neutralFillInputRestDelta"),Cn=sn("neutralFillInputHoverDelta"),Sn=sn("neutralFillInputActiveDelta"),$n=sn("neutralFillInputFocusDelta"),Tn=sn("neutralFillInputSelectedDelta"),An=sn("neutralFillStealthRestDelta"),En=sn("neutralFillStealthHoverDelta"),On=sn("neutralFillStealthActiveDelta"),Pn=sn("neutralFillStealthFocusDelta"),Rn=sn("neutralFillStealthSelectedDelta"),In=sn("neutralFillToggleHoverDelta"),jn=sn("neutralFillToggleActiveDelta"),Fn=sn("neutralFillToggleFocusDelta"),Ln=sn("baseLayerLuminance"),Nn=sn("neutralFillCardDelta"),Dn=sn("neutralForegroundHoverDelta"),Mn=sn("neutralForegroundActiveDelta"),Bn=sn("neutralForegroundFocusDelta"),Vn=sn("neutralDividerRestDelta"),Hn=sn("neutralOutlineRestDelta"),qn=sn("neutralOutlineHoverDelta"),Un=sn("neutralOutlineActiveDelta"),zn=sn("neutralOutlineFocusDelta"),_n=(sn("neutralContrastFillRestDelta"),sn("neutralContrastFillHoverDelta")),Wn=sn("neutralContrastFillActiveDelta"),Kn=sn("neutralContrastFillFocusDelta");function Gn(t,e,n){return isNaN(t)||t<=e?e:t>=n?n:t}function Qn(t,e,n){return isNaN(t)||t<=e?0:t>=n?1:t/(n-e)}function Yn(t,e,n){return isNaN(t)?e:e+t*(n-e)}function Xn(t){return t*(Math.PI/180)}function Zn(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:e+t*(n-e)}function Jn(t,e,n){if(t<=0)return e%360;if(t>=1)return n%360;const i=(e-n+360)%360;return i<=(n-e+360)%360?(e-i*t+360)%360:(e+i*t+360)%360}function ti(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}Math.PI;class ei{constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a="number"!=typeof i||isNaN(i)?1:i}static fromObject(t){return!t||isNaN(t.r)||isNaN(t.g)||isNaN(t.b)?null:new ei(t.r,t.g,t.b,t.a)}equalValue(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(Yn(this.r,0,255))},${Math.round(Yn(this.g,0,255))},${Math.round(Yn(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(Yn(this.r,0,255))},${Math.round(Yn(this.g,0,255))},${Math.round(Yn(this.b,0,255))},${Gn(this.a,0,1)})`}roundToPrecision(t){return new ei(ti(this.r,t),ti(this.g,t),ti(this.b,t),ti(this.a,t))}clamp(){return new ei(Gn(this.r,0,1),Gn(this.g,0,1),Gn(this.b,0,1),Gn(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(t){return function(t){const e=Math.round(Gn(t,0,255)).toString(16);return 1===e.length?"0"+e:e}(Yn(t,0,255))}}const ni={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},ii=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,si=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,oi=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,ri=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;function ai(t){return oi.test(t)}function li(t){return ii.test(t)}function ci(t){const e=oi.exec(t);if(null===e)return null;let n=e[1];if(3===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2);n=t.concat(t,e,e,i,i)}const i=parseInt(n,16);return isNaN(i)?null:new ei(Qn((16711680&i)>>>16,0,255),Qn((65280&i)>>>8,0,255),Qn(255&i,0,255),1)}function hi(t){const e=ii.exec(t);if(null===e)return null;const n=e[1].split(",");return new ei(Qn(Number(n[0]),0,255),Qn(Number(n[1]),0,255),Qn(Number(n[2]),0,255),1)}function ui(t){const e=t.toLowerCase();return ai(e)?ci(e):function(t){return function(t){return ri.test(t)}(t)}(e)?function(t){const e=ri.exec(t);if(null===e)return null;let n=e[1];if(4===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2),s=n.charAt(3);n=t.concat(t,e,e,i,i,s,s)}const i=parseInt(n,16);return isNaN(i)?null:new ei(Qn((16711680&i)>>>16,0,255),Qn((65280&i)>>>8,0,255),Qn(255&i,0,255),Qn((4278190080&i)>>>24,0,255))}(e):li(e)?hi(e):function(t){return si.test(t)}(e)?function(t){const e=si.exec(t);if(null===e)return null;const n=e[1].split(",");return 4===n.length?new ei(Qn(Number(n[0]),0,255),Qn(Number(n[1]),0,255),Qn(Number(n[2]),0,255),Number(n[3])):null}(e):function(t){return ni.hasOwnProperty(t)}(e)?function(t){const e=ni[t.toLowerCase()];return e?new ei(e.r,e.g,e.b,e.hasOwnProperty("a")?e.a:void 0):null}(e):null}class di{constructor(t,e,n){this.h=t,this.s=e,this.l=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.l)?null:new di(t.h,t.s,t.l)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.l===t.l}roundToPrecision(t){return new di(ti(this.h,t),ti(this.s,t),ti(this.l,t))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class pi{constructor(t,e,n){this.h=t,this.s=e,this.v=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.v)?null:new pi(t.h,t.s,t.v)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.v===t.v}roundToPrecision(t){return new pi(ti(this.h,t),ti(this.s,t),ti(this.v,t))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class gi{constructor(t,e,n){this.l=t,this.a=e,this.b=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.a)||isNaN(t.b)?null:new gi(t.l,t.a,t.b)}equalValue(t){return this.l===t.l&&this.a===t.a&&this.b===t.b}roundToPrecision(t){return new gi(ti(this.l,t),ti(this.a,t),ti(this.b,t))}toObject(){return{l:this.l,a:this.a,b:this.b}}}gi.epsilon=216/24389,gi.kappa=24389/27;class fi{constructor(t,e,n){this.l=t,this.c=e,this.h=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.c)||isNaN(t.h)?null:new fi(t.l,t.c,t.h)}equalValue(t){return this.l===t.l&&this.c===t.c&&this.h===t.h}roundToPrecision(t){return new fi(ti(this.l,t),ti(this.c,t),ti(this.h,t))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class vi{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromObject(t){return!t||isNaN(t.x)||isNaN(t.y)||isNaN(t.z)?null:new vi(t.x,t.y,t.z)}equalValue(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}roundToPrecision(t){return new vi(ti(this.x,t),ti(this.y,t),ti(this.z,t))}toObject(){return{x:this.x,y:this.y,z:this.z}}}function mi(t){return.2126*t.r+.7152*t.g+.0722*t.b}function bi(t){function e(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return mi(new ei(e(t.r),e(t.g),e(t.b),1))}vi.whitePoint=new vi(.95047,1,1.08883);const yi=(t,e)=>(t+.05)/(e+.05);function wi(t,e){const n=bi(t),i=bi(e);return n>i?yi(n,i):yi(i,n)}function xi(t){const e=Math.max(t.r,t.g,t.b),n=Math.min(t.r,t.g,t.b),i=e-n;let s=0;0!==i&&(s=e===t.r?(t.g-t.b)/i%6*60:e===t.g?60*((t.b-t.r)/i+2):60*((t.r-t.g)/i+4)),s<0&&(s+=360);const o=(e+n)/2;let r=0;return 0!==i&&(r=i/(1-Math.abs(2*o-1))),new di(s,r,o)}function ki(t,e=1){const n=(1-Math.abs(2*t.l-1))*t.s,i=n*(1-Math.abs(t.h/60%2-1)),s=t.l-n/2;let o=0,r=0,a=0;return t.h<60?(o=n,r=i,a=0):t.h<120?(o=i,r=n,a=0):t.h<180?(o=0,r=n,a=i):t.h<240?(o=0,r=i,a=n):t.h<300?(o=i,r=0,a=n):t.h<360&&(o=n,r=0,a=i),new ei(o+s,r+s,a+s,e)}function Ci(t){const e=Math.max(t.r,t.g,t.b),n=e-Math.min(t.r,t.g,t.b);let i=0;0!==n&&(i=e===t.r?(t.g-t.b)/n%6*60:e===t.g?60*((t.b-t.r)/n+2):60*((t.r-t.g)/n+4)),i<0&&(i+=360);let s=0;return 0!==e&&(s=n/e),new pi(i,s,e)}function Si(t){function e(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}const n=e(t.r),i=e(t.g),s=e(t.b);return new vi(.4124564*n+.3575761*i+.1804375*s,.2126729*n+.7151522*i+.072175*s,.0193339*n+.119192*i+.9503041*s)}function $i(t,e=1){function n(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}const i=n(3.2404542*t.x-1.5371385*t.y-.4985314*t.z),s=n(-.969266*t.x+1.8760108*t.y+.041556*t.z),o=n(.0556434*t.x-.2040259*t.y+1.0572252*t.z);return new ei(i,s,o,e)}function Ti(t){return function(t){function e(t){return t>gi.epsilon?Math.pow(t,1/3):(gi.kappa*t+16)/116}const n=e(t.x/vi.whitePoint.x),i=e(t.y/vi.whitePoint.y),s=e(t.z/vi.whitePoint.z);return new gi(116*i-16,500*(n-i),200*(i-s))}(Si(t))}function Ai(t,e=1){return $i(function(t){const e=(t.l+16)/116,n=e+t.a/500,i=e-t.b/200,s=Math.pow(n,3),o=Math.pow(e,3),r=Math.pow(i,3);let a=0;a=s>gi.epsilon?s:(116*n-16)/gi.kappa;let l=0;l=t.l>gi.epsilon*gi.kappa?o:t.l/gi.kappa;let c=0;return c=r>gi.epsilon?r:(116*i-16)/gi.kappa,a=vi.whitePoint.x*a,l=vi.whitePoint.y*l,c=vi.whitePoint.z*c,new vi(a,l,c)}(t),e)}function Ei(t){return function(t){let e=0;(Math.abs(t.b)>.001||Math.abs(t.a)>.001)&&(e=Math.atan2(t.b,t.a)*(180/Math.PI)),e<0&&(e+=360);const n=Math.sqrt(t.a*t.a+t.b*t.b);return new fi(t.l,n,e)}(Ti(t))}function Oi(t,e=1){return Ai(function(t){let e=0,n=0;return 0!==t.h&&(e=Math.cos(Xn(t.h))*t.c,n=Math.sin(Xn(t.h))*t.c),new gi(t.l,e,n)}(t),e)}const Pi=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Ri=Le["__core-js_shared__"];var Ii,ji=(Ii=/[^.]+$/.exec(Ri&&Ri.keys&&Ri.keys.IE_PROTO||""))?"Symbol(src)_1."+Ii:"";var Fi=Function.prototype.toString;var Li=/^\[object .+?Constructor\]$/,Ni=Function.prototype,Di=Object.prototype,Mi=Ni.toString,Bi=Di.hasOwnProperty,Vi=RegExp("^"+Mi.call(Bi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Hi=function(t){return!(!Pi(t)||(e=t,ji&&ji in e))&&(function(t){if(!Pi(t))return!1;var e=Ue(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?Vi:Li).test(function(t){if(null!=t){try{return Fi.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},qi=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Hi(n)?n:void 0},Ui=qi(Object,"create");var zi=Object.prototype.hasOwnProperty;var _i=Object.prototype.hasOwnProperty;function Wi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Wi.prototype.clear=function(){this.__data__=Ui?Ui(null):{},this.size=0},Wi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wi.prototype.get=function(t){var e=this.__data__;if(Ui){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return zi.call(e,t)?e[t]:void 0},Wi.prototype.has=function(t){var e=this.__data__;return Ui?void 0!==e[t]:_i.call(e,t)},Wi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ui&&void 0===e?"__lodash_hash_undefined__":e,this};const Ki=Wi,Gi=function(t,e){for(var n=t.length;n--;)if((i=t[n][0])===(s=e)||i!=i&&s!=s)return n;var i,s;return-1};var Qi=Array.prototype.splice;function Yi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Yi.prototype.clear=function(){this.__data__=[],this.size=0},Yi.prototype.delete=function(t){var e=this.__data__,n=Gi(e,t);return!(n<0||(n==e.length-1?e.pop():Qi.call(e,n,1),--this.size,0))},Yi.prototype.get=function(t){var e=this.__data__,n=Gi(e,t);return n<0?void 0:e[n][1]},Yi.prototype.has=function(t){return Gi(this.__data__,t)>-1},Yi.prototype.set=function(t,e){var n=this.__data__,i=Gi(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};const Xi=Yi,Zi=qi(Le,"Map"),Ji=function(t,e){var n,i,s=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof e?"string":"hash"]:s.map};function ts(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ts.prototype.clear=function(){this.size=0,this.__data__={hash:new Ki,map:new(Zi||Xi),string:new Ki}},ts.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},ts.prototype.get=function(t){return Ji(this,t).get(t)},ts.prototype.has=function(t){return Ji(this,t).has(t)},ts.prototype.set=function(t,e){var n=Ji(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};const es=ts;function ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],o=n.cache;if(o.has(s))return o.get(s);var r=t.apply(this,i);return n.cache=o.set(s,r)||o,r};return n.cache=new(ns.Cache||es),n}ns.Cache=es;const is=ns;var ss;function os(t){const e=is(t);return function(t){return"function"==typeof t||"string"==typeof t?n=>e(Object.assign({},n,{backgroundColor:"function"==typeof t?t(n):t})):e(t)}}function rs(t,e){const n=is(e);return e=>"function"==typeof e||"string"==typeof e?i=>n(Object.assign({},i,{backgroundColor:"function"==typeof e?e(i):e}))[t]:n(e)[t]}!function(t){t.rest="rest",t.hover="hover",t.active="active",t.focus="focus",t.selected="selected"}(ss||(ss={}));const as=is((t=>{let e=ci(t);if(null!==e)return e;if(e=hi(t),null!==e)return e;throw new Error(`${t} cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"`)}));function ls(t){return ai(t)||li(t)}const cs=is(((t,e)=>wi(as(t),as(e))),((t,e)=>t+e));function hs(t){return bi(as(t))}function us(...t){return e=>Math.max.apply(null,t.map((t=>t(e))))}const ds=(t,e,n)=>Math.min(Math.max(t,e),n);var ps;function gs(t,e){return n=>{if(!ls(e))return-1;const i=nn(t,n),s=i.indexOf(e);return-1!==s?s:i.findIndex((t=>{return ls(t)&&(n=t,as(e).equalValue(as(n)));var n}))}}function fs(t,e){return n=>{const i=nn(t,n),s=nn(e,n),o=gs(i,s)(n);let r;if(-1!==o)return o;try{r=hs(s)}catch(t){r=-1}return-1===r?0:i.map(((t,e)=>({luminance:hs(t),index:e}))).reduce(((t,e)=>Math.abs(e.luminance-r)<Math.abs(t.luminance-r)?e:t)).index}}function vs(t){return hs(on(t))<=(-.1+Math.sqrt(.21))/2}function ms(t,e){return"function"==typeof t?n=>e(n)[ds(t(n),0,e(n).length-1)]:e[ds(t,0,e.length-1)]}function bs(t){return(e,n)=>i=>ms(vs(i)?nn(n,i):nn(e,i),t(i))}function ys(t,e,n=0,i=t.length-1){if(i===n)return t[n];const s=Math.floor((i-n)/2)+n;return e(t[s])?ys(t,e,n,s):ys(t,e,s+1,i)}function ws(t){return e=>n=>i=>s=>o=>{const r=nn(t,o),a=nn(e,o),l=a.length,c=ds(n(r,a,o),0,l-1),h=i(c,a,o),u=[].concat(a),d=l-1;let p=c;return-1===h&&(u.reverse(),p=d-p),ys(u,(function(t){return s(cs(r,t))}),p,d)}}function xs(t,e,n){return fs(e,t)(n)}function ks(t){return fs(an,on(t))(t)}function Cs(t,e,n,i,s,o){return r=>{const a=nn(t,r),l=vs(r)?-1:1,c=ws(on)(a)(xs)((()=>l))((h=nn(e,r),t=>t>=h))(r);var h;const u=gs(t,c)(r),d=nn(n,r),p=nn(i,r),g=nn(s,r),f=nn(o,r);return function(t,e,n,i,s,o,r){const a=t+n*Math.abs(i-s),l=1===n?i<s:n*i>n*s,c=l?t:a,h=l?a:t,u=c+n*o,d=c+n*r;return{rest:ms(c,e),hover:ms(h,e),active:ms(u,e),focus:ms(d,e)}}(u,a,l,d,p,g,f)}}!function(t){t.neutral="neutral",t.accent="accent"}(ps||(ps={}));const Ss=os(Cs(an,14,0,Dn,Mn,Bn)),$s=rs(ss.rest,Ss),Ts=(rs(ss.hover,Ss),rs(ss.active,Ss),rs(ss.focus,Ss),"#FFFFFF"),As="#000000",Es=os(Cs(an,4.5,0,In,jn,Fn)),Os=rs(ss.rest,Es),Ps=(rs(ss.hover,Es),rs(ss.active,Es),rs(ss.focus,Es),(t,e)=>cs(Ts,t)>=e?Ts:As);function Rs(t){return function(e){return"function"==typeof e||"string"==typeof e?n=>Ps("function"==typeof e?e(n):e,t):Ps(Os(e),t)}}const Is=Rs(4.5),js=Rs(3);function Fs(t){return Cs(an,t,0,0,0,0)}const Ls=rs(ss.rest,os(Fs(4.5))),Ns=rs(ss.rest,os(Fs(3)));function Ds(t){return e=>{const n=ln(e),i=rn(e),s=fs(ln,i)(e),o={rest:pn(e),hover:gn(e),active:fn(e),focus:vn(e)},r=vs(e)?-1:1,a=s+(1===r?Math.min(o.rest,o.hover):Math.max(r*o.rest,r*o.hover)),l=ws(on)(ln)((()=>a))((()=>r))((e=>e>=t))(e),c=gs(ln,l)(e),h=c+r*Math.abs(o.rest-o.hover),u=1===r?o.rest<o.hover:r*o.rest>r*o.hover,d=u?c:h,p=u?h:c,g=d+r*o.active,f=d+r*o.focus;return{rest:ms(d,n),hover:ms(p,n),active:ms(g,n),focus:ms(f,n)}}}const Ms=os(Ds(4.5)),Bs=os(Ds(3)),Vs=(rs(ss.rest,Ms),rs(ss.hover,Ms),rs(ss.active,Ms),rs(ss.focus,Ms),rs(ss.rest,Bs),rs(ss.hover,Bs),rs(ss.active,Bs),rs(ss.focus,Bs),(t,e)=>cs(Ts,t)>=e?Ts:As);function Hs(t){return function(e){return"function"==typeof e||"string"==typeof e?n=>Vs("function"==typeof e?e(n):e,t):Vs(rn(e),t)}}const qs=Hs(4.5),Us=(Hs(3),us(mn,bn,yn,wn));function zs(t){return e=>{const n=ks(e);return ms(n+(n>=Us(e)?-1:1)*t(e),an(e))}}const _s=os(zs(mn)),Ws=os(zs(bn)),Ks=os(zs(yn)),Gs=os(zs(wn)),Qs=os(zs(xn)),Ys=os((t=>({rest:_s(t),hover:Ws(t),active:Ks(t),focus:Gs(t),selected:Qs(t)}))),Xs=us(mn,bn,yn,wn,An,En,On,Pn);function Zs(t){return e=>{const n=ks(e);return ms(n+(n>=Xs(e)?-1:1)*t(e),an(e))}}const Js=os(Zs(An)),to=os(Zs(En)),eo=os(Zs(On)),no=os(Zs(Pn)),io=os(Zs(Rn)),so=os((t=>({rest:Js(t),hover:to(t),active:eo(t),focus:no(t),selected:io(t)})));function oo(t){return e=>{const n=vs(e)?-1:1;return ms(ks(e)-t(e)*n,an(e))}}const ro=os(oo(kn)),ao=os(oo(Cn)),lo=os(oo(Sn)),co=os(oo($n)),ho=os(oo(Tn)),uo=os((t=>({rest:ro(t),hover:ao(t),active:lo(t),focus:co(t),selected:ho(t)})));var po=Math.max,go=Math.min;var fo=/\s/;var vo=/^\s+/;const mo=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&fo.test(t.charAt(e)););return e}(t)+1).replace(vo,""):t},bo=function(t){return"symbol"==typeof t||ze(t)&&"[object Symbol]"==Ue(t)};var yo=/^[-+]0x[0-9a-f]+$/i,wo=/^0b[01]+$/i,xo=/^0o[0-7]+$/i,ko=parseInt;const Co=function(t){if("number"==typeof t)return t;if(bo(t))return NaN;if(Pi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Pi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=mo(t);var n=wo.test(t);return n||xo.test(t)?ko(t.slice(2),n?2:8):yo.test(t)?NaN:+t};const So=function(t){return t?Infinity===(t=Co(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},$o=function(t,e,n){return e=So(e),void 0===n?(n=e,e=0):n=So(n),function(t,e,n){return t>=go(e,n)&&t<po(e,n)}(t=Co(t),e,n)},To=us(mn,bn,yn);function Ao(t){return e=>{const n=ln(e),i=n.length,s=rn(e),o=qs(Object.assign({},e,{backgroundColor:s})),r=cn(e),a=ks(e)>=To(e)?-1:1,l=i-1,c=fs(ln,s)(e);let h=0;for(;h<a*r&&$o(c+h+a,0,i)&&cs(n[c+h+a],o)>=t&&$o(c+h+a+a,0,l);)h+=a;const u=c+h,d=u+-1*a*r,p=d+a*hn(e),g=d+a*un(e);return{rest:ms(d,n),hover:ms(u,n),active:ms(p,n),focus:ms(g,n),selected:ms(d+(vs(e)?-1*dn(e):dn(e)),n)}}}const Eo=os(Ao(4.5)),Oo=os(Ao(3)),Po=(rs(ss.rest,Eo),rs(ss.hover,Eo),rs(ss.active,Eo),rs(ss.focus,Eo),rs(ss.selected,Eo),rs(ss.rest,Oo),rs(ss.hover,Oo),rs(ss.active,Oo),rs(ss.focus,Oo),rs(ss.selected,Oo),t=>{const e=Nn(t),n=fs(an,on(t))(t);return ms(n-(n<e?-1*e:e),an(t))});function Ro(t){return"function"==typeof t?e=>Po(Object.assign({},e,{backgroundColor:t(e)})):Po(t)}const Io=os((t=>{const e=an(t),n=ks(t),i=vs(t)?-1:1,s=Hn(t),o=n+i*s,r=o+i*(qn(t)-s),a=o+i*(Un(t)-s),l=o+i*(zn(t)-s);return{rest:ms(o,e),hover:ms(r,e),active:ms(a,e),focus:ms(l,e)}})),jo=(rs(ss.rest,Io),rs(ss.hover,Io),rs(ss.active,Io),rs(ss.focus,Io),os((t=>{const e=an(t),n=ks(t),i=Vn(t);return ms(n+(vs(t)?-1:1)*i,e)})));function Fo(t){return(...e)=>n=>{const i=e[0];let s="function"==typeof i?i(n):i;for(let i=1;i<e.length;i++){const o=e[i];s=t(s,"function"==typeof o?o(n):o)}return s}}const Lo=Fo(((t,e)=>t+e)),No=Fo(((t,e)=>t-e)),Do=Fo(((t,e)=>t*e));function Mo(...t){return Lo.apply(this,t)}function Bo(...t){return No.apply(this,t)}function Vo(...t){return Do.apply(this,t)}var Ho;function qo(t,e){return n=>-1===Ln(n)?e(n):t(n)}Fo(((t,e)=>t/e)),function(t){t[t.LightMode=1]="LightMode",t[t.DarkMode=.23]="DarkMode"}(Ho||(Ho={}));const Uo=fs(an,(t=>{const e=Ln(t);return new ei(e,e,e,1).toStringHexRGB()})),zo=t=>Gn(Bo(Uo,Nn)(t),0,an(t).length-1),_o=us(mn,bn,yn),Wo=us(Mo(Uo,Nn),_o),Ko=t=>{const e=.14,n=new ei(e,e,e,1);return fs(an,n.toStringHexRGB())(t)},Go=os(qo(ms(Bo(zo,Nn),an),bs(an)(0,Bo(Ko,Vo(Nn,5))))),Qo=os(qo(ms(zo,an),bs(an)(0,Bo(Ko,Vo(Nn,4))))),Yo=os(qo(ms(Mo(zo,Nn),an),bs(an)(Nn,Bo(Ko,Vo(Nn,3))))),Xo=os(qo(ms(Uo,an),bs(an)(0,Bo(Ko,Vo(Nn,3))))),Zo=Yo,Jo=os(qo(ms(Wo,an),bs(an)(_o,Bo(Ko,Vo(Nn,2))))),tr=os(qo(ms(Mo(Wo,Nn),an),bs(an)(Mo(_o,Nn),Bo(Ko,Nn)))),er=os(qo(ms(Mo(Wo,Vo(Nn,2)),an),bs(an)(Mo(_o,Vo(Nn,2)),Ko)));function nr(t){return t>3.5}const ir=os(ws(on)(an)((function(t,e,n){return fs(an,t)(n)}))((function(t,e,n){return vs(n)?-1:1}))(nr));const sr=os(Cs(an,14,0,_n,Wn,Kn)),or=rs(ss.rest,sr),rr=(rs(ss.hover,sr),rs(ss.active,sr),rs(ss.focus,sr),":host{}");class ar{constructor(){this.queue=new Set,this.customPropertyTarget=null,this._owner=null,this.ticking=!1,this.cssCustomPropertyDefinitions=new Map}get owner(){return this._owner}register(t){const e=this.cssCustomPropertyDefinitions.get(t.name);e?e.count+=1:(this.cssCustomPropertyDefinitions.set(t.name,Object.assign(Object.assign({},t),{count:1})),this.set(t))}unregister(t){const e=this.cssCustomPropertyDefinitions.get(t);e&&(e.count-=1,0===e.count&&(this.cssCustomPropertyDefinitions.delete(t),this.remove(t)))}set(t){this.owner&&(this.customPropertyTarget?this.customPropertyTarget.setProperty(`--${t.name}`,this.owner.evaluate(t)):this.queue.add(this.set.bind(this,t)))}remove(t){this.customPropertyTarget?this.customPropertyTarget.removeProperty(`--${t}`):this.queue.add(this.remove.bind(this,t))}setAll(){this.ticking||(this.ticking=!0,P.queueUpdate((()=>{this.ticking=!1,this.cssCustomPropertyDefinitions.forEach((t=>{this.set(t)}))})))}}class lr extends ar{constructor(t){super(),this.subscribers=new Set,this.sheet=t,this.styles=J.create([t]),this.customPropertyTarget=t.cssRules[t.insertRule(rr)].style}subscribe(t){this.subscribers.add(t),1===this.subscribers.size&&(this._owner=t),t.cssCustomPropertyDefinitions.forEach((t=>{this.register(t)})),t.$fastController.addStyles(this.styles)}unsubscribe(t){this.subscribers.delete(t),t.cssCustomPropertyDefinitions.forEach((t=>this.unregister(t.name))),this.owner===t&&(this._owner=this.subscribers.size?this.subscribers.values().next().value:null),!this.sheet.ownerNode&&this.styles&&t.$fastController.removeStyles(this.styles)}isSubscribed(t){return this.subscribers.has(t)}}class cr extends ar{constructor(t,e){super(),this._sheet=null,this.handleConnection={handleChange:()=>{var t;this._sheet=this.styles.sheet;const e=this.sheet.insertRule(rr);this.customPropertyTarget=this.sheet.rules[e].style,U.getNotifier(null===(t=this._owner)||void 0===t?void 0:t.$fastController).unsubscribe(this.handleConnection,"isConnected")}};const n=e.$fastController;n.addStyles(t),this.styles=t,this._owner=e,e.isConnected?this.handleConnection.handleChange():U.getNotifier(n).subscribe(this.handleConnection,"isConnected"),e.cssCustomPropertyDefinitions.forEach((t=>{this.register(t)}))}get sheet(){return this._sheet}customPropertyTargetChanged(t,e){!t&&this.queue.size&&(this.queue.forEach((t=>t())),this.queue.clear())}}function hr(t){const e=t.parentElement;if(e)return e;{const e=t.getRootNode();if(e.host instanceof HTMLElement)return e.host}return null}we([W],cr.prototype,"customPropertyTarget",void 0);const ur="adoptedStyleSheets"in window.ShadowRoot.prototype;function dr(t){const e=t.provider;return null!=e&&gr.isDesignSystemProvider(e)}const pr={bind(t){t.provider=gr.findProvider(t)},unbind(t){}};class gr extends bt{constructor(){super(),this.isDesignSystemProvider=!0,this.designSystem={},this.useDefaults=!1,this.provider=null,this.cssCustomPropertyDefinitions=new Map,this.attributeChangeHandler={handleChange:(t,e)=>{const n=this[e],i=this.customPropertyManager;if(this.isValidDesignSystemValue(n)){this.designSystem[e]=n;const t=this.designSystemProperties[e];t&&t.cssCustomProperty&&i&&i.set({name:t.cssCustomProperty,value:n})}else{this.syncDesignSystemWithProvider();const t=this.designSystemProperties[e].cssCustomProperty;i&&("string"==typeof t&&i.remove(t),i.setAll())}}},this.localDesignSystemChangeHandler={handleChange:()=>{const t=this.customPropertyManager;t&&t.owner===this&&t.setAll()}},this.providerDesignSystemChangeHandler={handleChange:(t,e)=>{t[e]===this.designSystem[e]||this.isValidDesignSystemValue(this[e])||(this.designSystem[e]=t[e])}},this.customPropertyManager=ur?new lr(new CSSStyleSheet):new cr(document.createElement("style"),this),void 0===this.designSystemProperties&&(this.designSystemProperties={}),this.$fastController.addBehaviors([pr])}static get tagNames(){return gr._tagNames}static isDesignSystemProvider(t){return t.isDesignSystemProvider||-1!==gr.tagNames.indexOf(t.tagName)}static findProvider(t){if(dr(t))return t.provider;let e=hr(t);for(;null!==e;){if(gr.isDesignSystemProvider(e))return t.provider=e,e;if(dr(e))return t.provider=e.provider,e.provider;e=hr(e)}return null}static registerTagName(t){const e=t.toUpperCase();-1===gr.tagNames.indexOf(e)&&gr._tagNames.push(e)}useDefaultsChanged(){if(this.useDefaults){const t=this.designSystemProperties;Object.keys(t).forEach((e=>{void 0===this[e]&&(this[e]=t[e].default)}))}}providerChanged(t,e){if(t instanceof HTMLElement){const e=U.getNotifier(t.designSystem);U.getAccessors(t.designSystem).forEach((t=>{e.unsubscribe(this.providerDesignSystemChangeHandler,t.name)}))}if(e instanceof HTMLElement&&gr.isDesignSystemProvider(e)){const t=U.getNotifier(e.designSystem),n=U.getAccessors(this.designSystem).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e.name]:e})),{}),i=U.getNotifier(this.designSystem);U.getAccessors(e.designSystem).forEach((e=>{t.subscribe(this.providerDesignSystemChangeHandler,e.name),n[e.name]||(W(this.designSystem,e.name),i.subscribe(this.localDesignSystemChangeHandler,e.name))})),this.syncDesignSystemWithProvider()}}customPropertyManagerChanged(t,e){t&&t.unsubscribe&&t.unsubscribe(this),e.subscribe&&e.subscribe(this)}connectedCallback(){super.connectedCallback(),this.customPropertyManager.subscribe&&this.customPropertyManager.isSubscribed&&!this.customPropertyManager.isSubscribed(this)&&this.customPropertyManager.subscribe(this);const t=U.getNotifier(this),e=U.getNotifier(this.designSystem);if(Object.keys(this.designSystemProperties).forEach((n=>{W(this.designSystem,n),t.subscribe(this.attributeChangeHandler,n),e.subscribe(this.localDesignSystemChangeHandler,n);const i=this[n];if(this.isValidDesignSystemValue(i)){this.designSystem[n]=i;const{cssCustomProperty:t}=this.designSystemProperties[n];"string"==typeof t&&this.customPropertyManager&&this.customPropertyManager.owner===this&&this.customPropertyManager.set({name:t,value:this[n]})}})),Array.isArray(this.disconnectedCSSCustomPropertyRegistry)){for(let t=0;t<this.disconnectedCSSCustomPropertyRegistry.length;t++)this.registerCSSCustomProperty(this.disconnectedCSSCustomPropertyRegistry[t]);delete this.disconnectedCSSCustomPropertyRegistry}if(Array.isArray(this.disconnectedRegistry)){for(let t=0;t<this.disconnectedRegistry.length;t++)this.disconnectedRegistry[t](this);delete this.disconnectedRegistry}}disconnectedCallback(){super.disconnectedCallback(),this.customPropertyManager.unsubscribe&&this.customPropertyManager.unsubscribe(this)}registerCSSCustomProperty(t){this.cssCustomPropertyDefinitions.set(t.name,t),this.customPropertyManager.register(t)}unregisterCSSCustomProperty(t){this.cssCustomPropertyDefinitions.delete(t.name),this.customPropertyManager.unregister(t.name)}evaluate(t){return"function"==typeof t.value?t.value(Object.assign({},this.designSystem)):t.value}syncDesignSystemWithProvider(){if(this.provider){const t=U.getAccessors(this.designSystem).reduce(((t,e)=>(t[e.name]=e,t)),{});U.getAccessors(this.provider.designSystem).forEach((e=>{var n;this.designSystemProperties.hasOwnProperty(e.name)&&this.isValidDesignSystemValue(this[e.name])||!this.isValidDesignSystemValue(null===(n=this.provider)||void 0===n?void 0:n.designSystem[e.name])||(t[e.name]||U.defineProperty(this.designSystem,e.name),this.designSystem[e.name]=this.provider.designSystem[e.name])}))}}isValidDesignSystemValue(t){return null!=t}}function fr(t){return e=>{yt(t)(e),e.registerTagName("string"==typeof t?t:t.name)}}gr._tagNames=[],we([lt({attribute:"use-defaults",mode:"boolean"})],gr.prototype,"useDefaults",void 0),we([W],gr.prototype,"provider",void 0),we([W],gr.prototype,"customPropertyManager",void 0);const vr=fr;function mr(t){return(e,n)=>{((t,e,n)=>{const{cssCustomProperty:i,attribute:s}=n;t.designSystemProperties||(t.designSystemProperties={}),!1===s?W(t,e):(void 0===n.mode&&(n=Object.assign(Object.assign({},n),{mode:"fromView"})),lt(n)(t,e)),t.designSystemProperties[e]={cssCustomProperty:!1!==i&&("string"==typeof i?i:"string"==typeof s?s:e),default:n.default}})(e,n,t)}}const br=Yt`
    <slot></slot>
`,yr=xt`
    ${kt("block")};
`,wr=new Ze("neutral-foreground-rest",$s,(t=>t)),xr=xt`
    :host {
        background-color: var(--background-color);
        color: ${wr.var};
    }
`.withBehaviors(wr,Qe(xt`
            :host {
                background-color: ${Ye.ButtonFace};
                box-shadow: 0 0 0 1px ${Ye.CanvasText};
                color: ${Ye.ButtonText};
            }
        `));let kr=class extends gr{constructor(){super(...arguments),this.noPaint=!1}noPaintChanged(){this.noPaint||void 0===this.backgroundColor?this.$fastController.removeStyles(xr):this.$fastController.addStyles(xr)}backgroundColorChanged(){this.noPaintChanged()}};we([lt({attribute:"no-paint",mode:"boolean"})],kr.prototype,"noPaint",void 0),we([mr({attribute:"background-color",default:en.backgroundColor})],kr.prototype,"backgroundColor",void 0),we([mr({attribute:"accent-base-color",cssCustomProperty:!1,default:en.accentBaseColor})],kr.prototype,"accentBaseColor",void 0),we([mr({attribute:!1,cssCustomProperty:!1,default:en.neutralPalette})],kr.prototype,"neutralPalette",void 0),we([mr({attribute:!1,cssCustomProperty:!1,default:en.accentPalette})],kr.prototype,"accentPalette",void 0),we([mr({default:en.density,converter:rt})],kr.prototype,"density",void 0),we([mr({attribute:"design-unit",converter:rt,default:en.designUnit})],kr.prototype,"designUnit",void 0),we([mr({attribute:"direction",cssCustomProperty:!1,default:en.direction})],kr.prototype,"direction",void 0),we([mr({attribute:"base-height-multiplier",default:en.baseHeightMultiplier,converter:rt})],kr.prototype,"baseHeightMultiplier",void 0),we([mr({attribute:"base-horizontal-spacing-multiplier",converter:rt,default:en.baseHorizontalSpacingMultiplier})],kr.prototype,"baseHorizontalSpacingMultiplier",void 0),we([mr({attribute:"corner-radius",converter:rt,default:en.cornerRadius})],kr.prototype,"cornerRadius",void 0),we([mr({attribute:"outline-width",converter:rt,default:en.outlineWidth})],kr.prototype,"outlineWidth",void 0),we([mr({attribute:"focus-outline-width",converter:rt,default:en.focusOutlineWidth})],kr.prototype,"focusOutlineWidth",void 0),we([mr({attribute:"disabled-opacity",converter:rt,default:en.disabledOpacity})],kr.prototype,"disabledOpacity",void 0),we([mr({attribute:"type-ramp-minus-2-font-size",default:en.typeRampMinus2FontSize})],kr.prototype,"typeRampMinus2FontSize",void 0),we([mr({attribute:"type-ramp-minus-2-line-height",default:en.typeRampMinus2LineHeight})],kr.prototype,"typeRampMinus2LineHeight",void 0),we([mr({attribute:"type-ramp-minus-1-font-size",default:en.typeRampMinus1FontSize})],kr.prototype,"typeRampMinus1FontSize",void 0),we([mr({attribute:"type-ramp-minus-1-line-height",default:en.typeRampMinus1LineHeight})],kr.prototype,"typeRampMinus1LineHeight",void 0),we([mr({attribute:"type-ramp-base-font-size",default:en.typeRampBaseFontSize})],kr.prototype,"typeRampBaseFontSize",void 0),we([mr({attribute:"type-ramp-base-line-height",default:en.typeRampBaseLineHeight})],kr.prototype,"typeRampBaseLineHeight",void 0),we([mr({attribute:"type-ramp-plus-1-font-size",default:en.typeRampPlus1FontSize})],kr.prototype,"typeRampPlus1FontSize",void 0),we([mr({attribute:"type-ramp-plus-1-line-height",default:en.typeRampPlus1LineHeight})],kr.prototype,"typeRampPlus1LineHeight",void 0),we([mr({attribute:"type-ramp-plus-2-font-size",default:en.typeRampPlus2FontSize})],kr.prototype,"typeRampPlus2FontSize",void 0),we([mr({attribute:"type-ramp-plus-2-line-height",default:en.typeRampPlus2LineHeight})],kr.prototype,"typeRampPlus2LineHeight",void 0),we([mr({attribute:"type-ramp-plus-3-font-size",default:en.typeRampPlus3FontSize})],kr.prototype,"typeRampPlus3FontSize",void 0),we([mr({attribute:"type-ramp-plus-3-line-height",default:en.typeRampPlus3LineHeight})],kr.prototype,"typeRampPlus3LineHeight",void 0),we([mr({attribute:"type-ramp-plus-4-font-size",default:en.typeRampPlus4FontSize})],kr.prototype,"typeRampPlus4FontSize",void 0),we([mr({attribute:"type-ramp-plus-4-line-height",default:en.typeRampPlus4LineHeight})],kr.prototype,"typeRampPlus4LineHeight",void 0),we([mr({attribute:"type-ramp-plus-5-font-size",default:en.typeRampPlus5FontSize})],kr.prototype,"typeRampPlus5FontSize",void 0),we([mr({attribute:"type-ramp-plus-5-line-height",default:en.typeRampPlus5LineHeight})],kr.prototype,"typeRampPlus5LineHeight",void 0),we([mr({attribute:"type-ramp-plus-6-font-size",default:en.typeRampPlus6FontSize})],kr.prototype,"typeRampPlus6FontSize",void 0),we([mr({attribute:"type-ramp-plus-6-line-height",default:en.typeRampPlus6LineHeight})],kr.prototype,"typeRampPlus6LineHeight",void 0),we([mr({attribute:"accent-fill-rest-delta",converter:rt,cssCustomProperty:!1,default:en.accentFillRestDelta})],kr.prototype,"accentFillRestDelta",void 0),we([mr({attribute:"accent-fill-hover-delta",cssCustomProperty:!1,converter:rt,default:en.accentFillHoverDelta})],kr.prototype,"accentFillHoverDelta",void 0),we([mr({attribute:"accent-fill-active-delta",cssCustomProperty:!1,converter:rt,default:en.accentFillActiveDelta})],kr.prototype,"accentFillActiveDelta",void 0),we([mr({attribute:"accent-fill-focus-delta",converter:rt,cssCustomProperty:!1,default:en.accentFillFocusDelta})],kr.prototype,"accentFillFocusDelta",void 0),we([mr({attribute:"accent-fill-selected-delta",converter:rt,cssCustomProperty:!1,default:en.accentFillSelectedDelta})],kr.prototype,"accentFillSelectedDelta",void 0),we([mr({attribute:"accent-foreground-rest-delta",converter:rt,cssCustomProperty:!1,default:en.accentForegroundRestDelta})],kr.prototype,"accentForegroundRestDelta",void 0),we([mr({attribute:"accent-foreground-hover-delta",converter:rt,cssCustomProperty:!1,default:en.accentForegroundHoverDelta})],kr.prototype,"accentForegroundHoverDelta",void 0),we([mr({attribute:"accent-foreground-active-delta",converter:rt,cssCustomProperty:!1,default:en.accentForegroundActiveDelta})],kr.prototype,"accentForegroundActiveDelta",void 0),we([mr({attribute:"accent-foreground-focus-delta",converter:rt,cssCustomProperty:!1,default:en.accentForegroundFocusDelta})],kr.prototype,"accentForegroundFocusDelta",void 0),we([mr({attribute:"neutral-fill-rest-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillRestDelta})],kr.prototype,"neutralFillRestDelta",void 0),we([mr({attribute:"neutral-fill-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillHoverDelta})],kr.prototype,"neutralFillHoverDelta",void 0),we([mr({attribute:"neutral-fill-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillActiveDelta})],kr.prototype,"neutralFillActiveDelta",void 0),we([mr({attribute:"neutral-fill-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillFocusDelta})],kr.prototype,"neutralFillFocusDelta",void 0),we([mr({attribute:"neutral-fill-selected-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillSelectedDelta})],kr.prototype,"neutralFillSelectedDelta",void 0),we([mr({attribute:"neutral-fill-input-rest-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillInputRestDelta})],kr.prototype,"neutralFillInputRestDelta",void 0),we([mr({attribute:"neutral-fill-input-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillInputHoverDelta})],kr.prototype,"neutralFillInputHoverDelta",void 0),we([mr({attribute:"neutral-fill-input-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillInputActiveDelta})],kr.prototype,"neutralFillInputActiveDelta",void 0),we([mr({attribute:"neutral-fill-input-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillInputFocusDelta})],kr.prototype,"neutralFillInputFocusDelta",void 0),we([mr({attribute:"neutral-fill-input-selected-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillInputSelectedDelta})],kr.prototype,"neutralFillInputSelectedDelta",void 0),we([mr({attribute:"neutral-fill-stealth-rest-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillStealthRestDelta})],kr.prototype,"neutralFillStealthRestDelta",void 0),we([mr({attribute:"neutral-fill-stealth-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillStealthHoverDelta})],kr.prototype,"neutralFillStealthHoverDelta",void 0),we([mr({attribute:"neutral-fill-stealth-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillStealthActiveDelta})],kr.prototype,"neutralFillStealthActiveDelta",void 0),we([mr({attribute:"neutral-fill-stealth-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillStealthFocusDelta})],kr.prototype,"neutralFillStealthFocusDelta",void 0),we([mr({attribute:"neutral-fill-stealth-selected-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillStealthSelectedDelta})],kr.prototype,"neutralFillStealthSelectedDelta",void 0),we([mr({attribute:"neutral-fill-toggle-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillToggleHoverDelta})],kr.prototype,"neutralFillToggleHoverDelta",void 0),we([mr({attribute:"neutral-fill-toggle-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillToggleActiveDelta})],kr.prototype,"neutralFillToggleActiveDelta",void 0),we([mr({attribute:"neutral-fill-toggle-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillToggleFocusDelta})],kr.prototype,"neutralFillToggleFocusDelta",void 0),we([mr({attribute:"base-layer-luminance",converter:rt,cssCustomProperty:!1,default:en.baseLayerLuminance})],kr.prototype,"baseLayerLuminance",void 0),we([mr({attribute:"neutral-fill-card-delta",converter:rt,cssCustomProperty:!1,default:en.neutralFillCardDelta})],kr.prototype,"neutralFillCardDelta",void 0),we([mr({attribute:"neutral-foreground-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralForegroundHoverDelta})],kr.prototype,"neutralForegroundHoverDelta",void 0),we([mr({attribute:"neutral-foreground-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralForegroundActiveDelta})],kr.prototype,"neutralForegroundActiveDelta",void 0),we([mr({attribute:"neutral-foreground-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralForegroundFocusDelta})],kr.prototype,"neutralForegroundFocusDelta",void 0),we([mr({attribute:"neutral-divider-rest-delta",converter:rt,cssCustomProperty:!1,default:en.neutralDividerRestDelta})],kr.prototype,"neutralDividerRestDelta",void 0),we([mr({attribute:"neutral-outline-rest-delta",converter:rt,cssCustomProperty:!1,default:en.neutralOutlineRestDelta})],kr.prototype,"neutralOutlineRestDelta",void 0),we([mr({attribute:"neutral-outline-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralOutlineHoverDelta})],kr.prototype,"neutralOutlineHoverDelta",void 0),we([mr({attribute:"neutral-outline-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralOutlineActiveDelta})],kr.prototype,"neutralOutlineActiveDelta",void 0),we([mr({attribute:"neutral-outline-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralOutlineFocusDelta})],kr.prototype,"neutralOutlineFocusDelta",void 0),we([mr({attribute:"neutral-contrast-fill-rest-delta",converter:rt,cssCustomProperty:!1,default:en.neutralContrastFillRestDelta})],kr.prototype,"neutralContrastFillRestDelta",void 0),we([mr({attribute:"neutral-contrast-fill-hover-delta",converter:rt,cssCustomProperty:!1,default:en.neutralContrastFillHoverDelta})],kr.prototype,"neutralContrastFillHoverDelta",void 0),we([mr({attribute:"neutral-contrast-fill-active-delta",converter:rt,cssCustomProperty:!1,default:en.neutralContrastFillActiveDelta})],kr.prototype,"neutralContrastFillActiveDelta",void 0),we([mr({attribute:"neutral-contrast-fill-focus-delta",converter:rt,cssCustomProperty:!1,default:en.neutralContrastFillFocusDelta})],kr.prototype,"neutralContrastFillFocusDelta",void 0),kr=we([vr({name:"fast-design-system-provider",template:br,styles:yr})],kr);const Cr=Je("neutral-foreground-rest",(t=>Ss(t).rest),kr.findProvider),Sr=Je("neutral-foreground-hover",(t=>Ss(t).hover),kr.findProvider),$r=Je("neutral-foreground-active",(t=>Ss(t).active),kr.findProvider),Tr=(Je("neutral-foreground-focus",(t=>Ss(t).focus),kr.findProvider),Je("neutral-foreground-toggle",Is,kr.findProvider),Je("neutral-foreground-toggle-large",js,kr.findProvider),Je("neutral-foreground-hint",Ls,kr.findProvider),Je("neutral-foreground-hint-large",Ns,kr.findProvider),Je("accent-foreground-rest",(t=>Ms(t).rest),kr.findProvider)),Ar=Je("accent-foreground-hover",(t=>Ms(t).hover),kr.findProvider),Er=Je("accent-foreground-active",(t=>Ms(t).active),kr.findProvider),Or=Je("accent-foreground-focus",(t=>Ms(t).focus),kr.findProvider),Pr=Je("accent-foreground-cut-rest",(t=>qs(t)),kr.findProvider),Rr=(Je("accent-foreground-large-rest",(t=>Bs(t).rest),kr.findProvider),Je("accent-foreground-large-hover",(t=>Bs(t).hover),kr.findProvider),Je("accent-foreground-large-active",(t=>Bs(t).active),kr.findProvider),Je("accent-foreground-large-focus",(t=>Bs(t).focus),kr.findProvider),Je("neutral-fill-rest",(t=>Ys(t).rest),kr.findProvider)),Ir=Je("neutral-fill-hover",(t=>Ys(t).hover),kr.findProvider),jr=Je("neutral-fill-active",(t=>Ys(t).active),kr.findProvider),Fr=(Je("neutral-fill-focus",(t=>Ys(t).focus),kr.findProvider),Je("neutral-fill-selected",(t=>Ys(t).selected),kr.findProvider),Je("neutral-fill-stealth-rest",(t=>so(t).rest),kr.findProvider)),Lr=Je("neutral-fill-stealth-hover",(t=>so(t).hover),kr.findProvider),Nr=Je("neutral-fill-stealth-active",(t=>so(t).active),kr.findProvider),Dr=(Je("neutral-fill-stealth-focus",(t=>so(t).focus),kr.findProvider),Je("neutral-fill-stealth-selected",(t=>so(t).selected),kr.findProvider)),Mr=(Je("neutral-fill-toggle-rest",(t=>Es(t).rest),kr.findProvider),Je("neutral-fill-toggle-hover",(t=>Es(t).hover),kr.findProvider),Je("neutral-fill-toggle-active",(t=>Es(t).active),kr.findProvider),Je("neutral-fill-toggle-focus",(t=>Es(t).focus),kr.findProvider),Je("neutral-fill-input-rest",(t=>uo(t).rest),kr.findProvider)),Br=Je("neutral-fill-input-hover",(t=>uo(t).hover),kr.findProvider),Vr=Je("neutral-fill-input-active",(t=>uo(t).active),kr.findProvider),Hr=(Je("neutral-fill-input-selected",(t=>uo(t).selected),kr.findProvider),Je("neutral-fill-input-focus",(t=>uo(t).focus),kr.findProvider),Je("accent-fill-rest",(t=>Eo(t).rest),kr.findProvider)),qr=Je("accent-fill-hover",(t=>Eo(t).hover),kr.findProvider),Ur=Je("accent-fill-active",(t=>Eo(t).active),kr.findProvider),zr=(Je("accent-fill-focus",(t=>Eo(t).focus),kr.findProvider),Je("accent-fill-selected",(t=>Eo(t).selected),kr.findProvider)),_r=(Je("accent-fill-large-rest",(t=>Oo(t).rest),kr.findProvider),Je("accent-fill-large-hover",(t=>Oo(t).hover),kr.findProvider),Je("accent-fill-large-active",(t=>Oo(t).active),kr.findProvider),Je("accent-fill-large-focus",(t=>Oo(t).focus),kr.findProvider),Je("accent-fill-large-selected",(t=>Oo(t).selected),kr.findProvider),Je("neutral-fill-card-rest",(t=>Ro(t)),kr.findProvider),Je("neutral-outline-rest",(t=>Io(t).rest),kr.findProvider)),Wr=Je("neutral-outline-hover",(t=>Io(t).hover),kr.findProvider),Kr=(Je("neutral-outline-active",(t=>Io(t).active),kr.findProvider),Je("neutral-outline-focus",(t=>Io(t).focus),kr.findProvider),Je("neutral-divider-rest",jo,kr.findProvider),Je("neutral-layer-floating",Go,kr.findProvider)),Gr=(Je("neutral-layer-card",Qo,kr.findProvider),Je("neutral-layer-card-container",Yo,kr.findProvider),Je("neutral-layer-l1",Xo,kr.findProvider)),Qr=(Je("neutral-layer-l1-alt",Zo,kr.findProvider),Je("neutral-layer-l2",Jo,kr.findProvider),Je("neutral-layer-l3",tr,kr.findProvider),Je("neutral-layer-l4",er,kr.findProvider)),Yr=Je("neutral-focus",ir,kr.findProvider),Xr=Je("neutral-focus-inner-accent",(Zr=rn,ws(ir)(ln)(function(t){return(e,n,i)=>n.indexOf(t(i))}(Zr))((function(t,e,n){return vs(n)?1:-1}))(nr)),kr.findProvider);var Zr;Je("neutral-contrast-foreground-rest",(t=>$s(or)(t)),kr.findProvider),Je("neutral-contrast-fill-rest",(t=>sr(t).rest),kr.findProvider),Je("neutral-contrast-fill-hover",(t=>sr(t).hover),kr.findProvider),Je("neutral-contrast-fill-active",(t=>sr(t).active),kr.findProvider),Je("neutral-contrast-fill-focus",(t=>sr(t).focus),kr.findProvider);const Jr=xt`
    ${kt("inline-flex")} :host {
        font-family: var(--body-font);
        outline: none;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        height: calc(${Xe} * 1px);
        min-width: calc(${Xe} * 1px);
        background-color: ${Rr.var};
        color: ${Cr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        fill: currentcolor;
        cursor: pointer;
    }

    .control {
        background: transparent;
        height: inherit;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(var(--outline-width) * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }

    :host(:hover) {
        background-color: ${Ir.var};
    }

    :host(:active) {
        background-color: ${jr.var};
    }

    .control:${We} {
        border: calc(var(--outline-width) * 1px) solid ${Yr.var};
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Yr.var};
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
        background-color: ${Rr.var};
        cursor: ${Ke};
    }

    .start,
    .end {
        display: flex;
    }

    .control.icon-only {
        padding: 0;
        line-height: 0;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        pointer-events: none;
    }

    .start {
        margin-inline-end: 11px;
    }

    .end {
        margin-inline-start: 11px;
    }
`.withBehaviors(Rr,Cr,Ir,jr,Qe(xt`
            :host .control {
              background-color: ${Ye.ButtonFace};
              border-color: ${Ye.ButtonText};
              color: ${Ye.ButtonText};
              fill: currentColor;
            }
    
            :host(:hover) .control {
              forced-color-adjust: none;
              background-color: ${Ye.Highlight};
              color: ${Ye.HighlightText};
            }
    
            .control:${We} {
              forced-color-adjust: none;
              background-color: ${Ye.Highlight};
              border-color: ${Ye.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Ye.ButtonText};
              color: ${Ye.HighlightText};
            }
    
            .control:hover,
            :host([appearance="outline"]) .control:hover {
              border-color: ${Ye.ButtonText};
            }
    
            :host([disabled]),
            :host([disabled]) .control {
                forced-color-adjust: none;
                background-color: ${Ye.ButtonFace};
                border-color: ${Ye.GrayText};
                color: ${Ye.GrayText};
                cursor: ${Ke};
                opacity: 1;
            }
    
            :host([href]) .control {
                border-color: ${Ye.LinkText};
                color: ${Ye.LinkText};
            }
    
            :host([href]) .control:hover,
            :host([href]) .control:${We}{
              forced-color-adjust: none;
              background: ${Ye.ButtonFace};
              border-color: ${Ye.LinkText};
              box-shadow: 0 0 0 1px ${Ye.LinkText} inset;
              color: ${Ye.LinkText};
              fill: currentColor;
            }
        `)),ta=xt`
    :host([appearance="accent"]) {
        background: ${Hr.var};
        color: ${Pr.var};
    }

    :host([appearance="accent"]:hover) {
        background: ${qr.var};
    }

    :host([appearance="accent"]:active) .control:active {
        background: ${Ur.var};
    }

    :host([appearance="accent"]) .control:${We} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Xr.var};
    }

    :host([appearance="accent"][disabled]) {
        background: ${Hr.var};
    }
`.withBehaviors(Hr,Pr,qr,Ur,Xr,Qe(xt`
            :host([appearance="accent"]) .control {
                forced-color-adjust: none;
                background: ${Ye.Highlight};
                color: ${Ye.HighlightText};
            }

            :host([appearance="accent"]) .control:hover {
                background: ${Ye.HighlightText};
                border-color: ${Ye.Highlight};
                color: ${Ye.Highlight};
            }

            :host([appearance="accent"]) .control:${We} {
                border-color: ${Ye.ButtonText};
                box-shadow: 0 0 0 2px ${Ye.HighlightText} inset;
            }

            :host([appearance="accent"][disabled]) .control,
            :host([appearance="accent"][disabled]) .control:hover {
                background: ${Ye.ButtonFace};
                border-color: ${Ye.GrayText};
                color: ${Ye.GrayText};
            }

            :host([appearance="accent"][href]) .control{
                background: ${Ye.LinkText};
                color: ${Ye.HighlightText};
            }

            :host([appearance="accent"][href]) .control:hover {
                background: ${Ye.ButtonFace};
                border-color: ${Ye.LinkText};
                box-shadow: none;
                color: ${Ye.LinkText};
                fill: currentColor;
            }

            :host([appearance="accent"][href]) .control:${We} {
                border-color: ${Ye.LinkText};
                box-shadow: 0 0 0 2px ${Ye.HighlightText} inset;
            }
        `)),ea=xt`
    :host([appearance="hypertext"]) {
        font-size: inherit;
        line-height: inherit;
        height: auto;
        min-width: 0;
        background: transparent;
    }

    :host([appearance="hypertext"]) .control {
        display: inline;
        padding: 0;
        border: none;
        box-shadow: none;
        border-radius: 0;
        line-height: 1;
    }

    :host a.control:not(:link) {
        background-color: transparent;
        cursor: default;
    }
    :host([appearance="hypertext"]) .control:link,
    :host([appearance="hypertext"]) .control:visited {
        background: transparent;
        color: ${Tr.var};
        border-bottom: calc(var(--outline-width) * 1px) solid ${Tr.var};
    }

    :host([appearance="hypertext"]) .control:hover {
        border-bottom-color: ${Ar.var};
    }

    :host([appearance="hypertext"]) .control:active {
        border-bottom-color: ${Er.var};
    }

    :host([appearance="hypertext"]) .control:${We} {
        border-bottom: calc(var(--focus-outline-width) * 1px) solid ${Yr.var};
        margin-bottom: calc(calc(var(--outline-width) - var(--focus-outline-width)) * 1px);
    }
`.withBehaviors(Tr,Ar,Er,Yr,Qe(xt`
            :host([appearance="hypertext"]:hover) {
                background-color: ${Ye.ButtonFace};
                color: ${Ye.ButtonText};
            }
            :host([appearance="hypertext"][href]) .control:hover,
            :host([appearance="hypertext"][href]) .control:active,
            :host([appearance="hypertext"][href]) .control:${We} {
                color: ${Ye.LinkText};
                border-bottom-color: ${Ye.LinkText};
                box-shadow: none;
            }
        `)),na=xt`
    :host([appearance="lightweight"]) {
        background: transparent;
        color: ${Tr.var};
    }

    :host([appearance="lightweight"]) .control {
        padding: 0;
        height: initial;
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    :host([appearance="lightweight"]:hover) {
        color: ${Ar.var};
    }

    :host([appearance="lightweight"]:active) {
        color: ${Er.var};
    }

    :host([appearance="lightweight"]) .content {
        position: relative;
    }

    :host([appearance="lightweight"]) .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        position: absolute;
        top: calc(1em + 4px);
        width: 100%;
    }

    :host([appearance="lightweight"]:hover) .content::before {
        background: ${Ar.var};
    }

    :host([appearance="lightweight"]:active) .content::before {
        background: ${Er.var};
    }

    :host([appearance="lightweight"]) .control:${We} .content::before {
        background: ${Cr.var};
        height: calc(var(--focus-outline-width) * 1px);
    }

    :host([appearance="lightweight"][disabled]) .content::before {
        background: transparent;
    }
`.withBehaviors(Tr,Ar,Er,Ar,Cr,Qe(xt`
            :host([appearance="lightweight"]) .control:hover,
            :host([appearance="lightweight"]) .control:${We} {
                forced-color-adjust: none;
                background: ${Ye.ButtonFace};
                color: ${Ye.Highlight};
            }
            :host([appearance="lightweight"]) .control:hover .content::before,
            :host([appearance="lightweight"]) .control:${We} .content::before {
                background: ${Ye.Highlight};
            }

            :host([appearance="lightweight"].disabled) .control {
                forced-color-adjust: none;
                color: ${Ye.GrayText};
            }

            :host([appearance="lightweight"].disabled) .control:hover .content::before {
                background: none;
            }

            :host([appearance="lightweight"][href]) .control:hover,
            :host([appearance="lightweight"][href]) .control:${We} {
                background: ${Ye.ButtonFace};
                box-shadow: none;
                color: ${Ye.LinkText};
            }

            :host([appearance="lightweight"][href]) .control:hover .content::before,
            :host([appearance="lightweight"][href]) .control:${We} .content::before {
                background: ${Ye.LinkText};
            }
        `)),ia=xt`
    :host([appearance="outline"]) {
        background: transparent;
        border-color: ${Hr.var};
    }

    :host([appearance="outline"]:hover) {
        border-color: ${qr.var};
    }

    :host([appearance="outline"]:active) {
        border-color: ${Ur.var};
    }

    :host([appearance="outline"]) .control {
        border-color: inherit;
    }

    :host([appearance="outline"]) .control:${We} {
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Yr.var};
        border-color: ${Yr.var};
    }

    :host([appearance="outline"][disabled]) {
        border-color: ${Hr.var};
    }
`.withBehaviors(Hr,qr,Ur,Yr,Qe(xt`
            :host([appearance="outline"]) .control {
                border-color: ${Ye.ButtonText};
            }
            :host([appearance="outline"]) .control:${We} {
              forced-color-adjust: none;
              background-color: ${Ye.Highlight};
              border-color: ${Ye.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Ye.ButtonText};
              color: ${Ye.HighlightText};
              fill: currentColor;
            }
            :host([appearance="outline"][href]) .control {
                background: ${Ye.ButtonFace};
                border-color: ${Ye.LinkText};
                color: ${Ye.LinkText};
                fill: currentColor;
            }
            :host([appearance="outline"][href]) .control:hover,
            :host([appearance="outline"][href]) .control:${We} {
              forced-color-adjust: none;
              border-color: ${Ye.LinkText};
              box-shadow: 0 0 0 1px ${Ye.LinkText} inset;
            }
            :host([appearance="outline"][disabled]) .control {
                border-color: ${Ye.GrayText};
            }
        `)),sa=xt`
    :host([appearance="stealth"]) {
        background: ${Fr.var};
    }

    :host([appearance="stealth"]:hover) {
        background: ${Lr.var};
    }

    :host([appearance="stealth"]:active) {
        background: ${Nr.var};
    }

    :host([appearance="stealth"][disabled]) {
        background: ${Fr.var};
    }
`.withBehaviors(Fr,Lr,Nr,Qe(xt`
            :host([appearance="stealth"]),
            :host([appearance="stealth"]) .control {
                forced-color-adjust: none;
                background: ${Ye.ButtonFace};
                border-color: transparent;
                color: ${Ye.ButtonText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:hover) .control {
                background: ${Ye.Highlight};
                border-color: ${Ye.Highlight};
                color: ${Ye.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:${We}) .control {
                background: ${Ye.Highlight};
                box-shadow: 0 0 0 1px ${Ye.Highlight};
                color: ${Ye.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"].disabled) {
                background: ${Ye.ButtonFace};
            }

            :host([appearance="stealth"].disabled) .control {
                background: ${Ye.ButtonFace};
                border-color: transparent;
                color: ${Ye.GrayText};
            }

            :host([appearance="stealth"][href]) .control {
                color: ${Ye.LinkText};
            }

            :host([appearance="stealth"][href]:hover) .control,
            :host([appearance="stealth"][href]:${We}) .control {
                background: ${Ye.LinkText};
                border-color: ${Ye.LinkText};
                color: ${Ye.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"][href]:${We}) .control {
                forced-color-adjust: none;
                box-shadow: 0 0 0 1px ${Ye.LinkText};
            }
        `));class oa{constructor(t,e,n){this.propertyName=t,this.value=e,this.styles=n}bind(t){U.getNotifier(t).subscribe(this,this.propertyName),this.handleChange(t,this.propertyName)}unbind(t){U.getNotifier(t).unsubscribe(this,this.propertyName),t.$fastController.removeStyles(this.styles)}handleChange(t,e){t[e]===this.value?t.$fastController.addStyles(this.styles):t.$fastController.removeStyles(this.styles)}}function ra(t,e){return new oa("appearance",t,e)}const aa=xt`
    ${Jr}
`.withBehaviors(ra("accent",ta),ra("hypertext",ea),ra("lightweight",na),ra("outline",ia),ra("stealth",sa));let la=class extends Ee{appearanceChanged(t,e){t!==e&&(this.classList.add(e),this.classList.remove(t))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(t,e){const n=this.defaultSlottedContent.filter((t=>t.nodeType===Node.ELEMENT_NODE));1===n.length&&n[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};we([lt],la.prototype,"appearance",void 0),la=we([yt({name:"fast-anchor",template:Ie,styles:aa,shadowOptions:{delegatesFocus:!0}})],la);const ca=aa;let ha=class extends la{};ha=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-anchor",template:Ie,styles:ca,shadowOptions:{delegatesFocus:!0}})],ha);const ua="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)",da=xt`
  ${kt("flex")}

  :host {
    contain: content;
    overflow: hidden;
    cursor: pointer;
    flex-direction: column;
    border-radius: calc(var(--corner-radius) * 1px);
  }
  .image {
    position: relative;
    overflow: hidden;
    height: 0;
    padding-top: 56.25%;
    border-bottom-left-radius: calc(var(--corner-radius) * 1px);
    border-bottom-right-radius: calc(var(--corner-radius) * 1px);
  }
  .image-background {
    position: absolute;
    width: 100%;
    height: 100%;
    margin-top: -56.25%;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    transition: all 250ms ease;
  }
  :host(:hover) .image-background {
    transform: scale(1.05) translate(-1.25%, -1.25%);
    opacity: 0.8;
  }
  .button {
    margin-top: calc((${ua}) * -0.5px);
    text-align: right;
    margin-right: calc((${ua}) * 0.5px);
    position: relative;
    z-index: 1;
  }
  .content {
    padding: calc((${ua}) * 0.25px) calc((${ua}) * 0.5px) calc((${ua}) * 0.5px);
  }
`.withBehaviors(Gr,Qr,Cr),pa=Yt`
<div
  class="image"
  part="image"
  style="padding-top: ${t=>1/t.imageRatio*100}%;">
    <div class="image-background" style="margin-top: ${t=>-1/t.imageRatio*100}%;background-image: url(${t=>t.imageSrc});"></div>
</div>
<div class="button" part="button">
  <slot name="button"></slot>
</div>
<div class="content" part="content">
  <slot></slot>
</div>`;var ga=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},fa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let va=class extends bt{constructor(){super(...arguments),this.imageRatio=4/3}};ga([lt({attribute:"image-src"}),fa("design:type",String)],va.prototype,"imageSrc",void 0),ga([lt({attribute:"image-ratio"}),fa("design:type",Object)],va.prototype,"imageRatio",void 0),va=ga([yt({name:"ecos-article",template:pa,styles:da})],va);const ma=xt`
  ${kt("grid")}

  :host {
    contain: content;
    display: grid;
    justify-content: center;
    grid-gap: var(--spacing-unit);
  }
  
  @media screen and (min-width: 732px) {
    :host {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,ba=Yt`<slot></slot>`;let ya=class extends bt{};ya=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-article-list",template:ba,styles:ma})],ya);class wa extends bt{constructor(){super(...arguments),this.generateBadgeStyle=()=>{if(!this.fill&&!this.color)return;const t=`background-color: var(--badge-fill-${this.fill});`,e=`color: var(--badge-color-${this.color});`;return this.fill&&!this.color?t:this.color&&!this.fill?e:`${e} ${t}`}}}we([lt({attribute:"fill"})],wa.prototype,"fill",void 0),we([lt({attribute:"color"})],wa.prototype,"color",void 0),we([lt({mode:"boolean"})],wa.prototype,"circular",void 0);const xa=Yt`
    <template class="${t=>t.circular?"circular":""}">
        <div class="control" part="control" style="${t=>t.generateBadgeStyle()}">
            <slot></slot>
        </div>
    </template>
`,ka=xt`
    ${kt("inline-block")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
    }

    .control {
        border-radius: calc(var(--corner-radius) * 1px);
        padding: calc(var(--design-unit) * 0.5px) calc(var(--design-unit) * 1px);
        color: ${Tr.var};
        font-weight: 600;
    }

    .control[style] {
        font-weight: 400;
    }

    :host([circular]) .control {
        border-radius: 100px;
        padding: 0 calc(var(--design-unit) * 1px);
        ${""} height: calc((${Xe} - (var(--design-unit) * 3)) * 1px);
        min-width: calc((${Xe} - (var(--design-unit) * 3)) * 1px);
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }
`.withBehaviors(Tr);let Ca=class extends wa{};Ca=we([yt({name:"fast-badge",template:xa,styles:ka})],Ca);const Sa=ka;function $a(t,e,n=18){const i=Ei(t);let s=i.c+e*n;return s<0&&(s=0),Oi(new fi(i.l,s,i.h))}function Ta(t,e,n=18){const i=Ti(t),s=i.l-e*n;return Ai(new gi(s,i.a,i.b))}function Aa(t,e,n=18){return Ta(t,-1*e,n)}function Ea(t,e){const n=xi(t),i=xi(e);return 0===i.s?new ei(n.l,n.l,n.l,1):ki(new di(i.h,i.s,n.l))}function Oa(t,e){return t*e}function Pa(t,e){return new ei(Oa(t.r,e.r),Oa(t.g,e.g),Oa(t.b,e.b),1)}function Ra(t,e){return Gn(t<.5?2*e*t:1-2*(1-e)*(1-t),0,1)}function Ia(t,e){return new ei(Ra(t.r,e.r),Ra(t.g,e.g),Ra(t.b,e.b),1)}var ja;!function(t){t[t.Burn=0]="Burn",t[t.Color=1]="Color",t[t.Darken=2]="Darken",t[t.Dodge=3]="Dodge",t[t.Lighten=4]="Lighten",t[t.Multiply=5]="Multiply",t[t.Overlay=6]="Overlay",t[t.Screen=7]="Screen"}(ja||(ja={})),Je("accent-light-50",(t=>Aa(as(t.accentBaseColor),.25).toStringHexRGB()),kr.findProvider);const Fa=Je("accent-light-100",(t=>Aa(as(t.accentBaseColor),1).toStringHexRGB()),kr.findProvider),La=Je("accent-dark-50",(t=>Ta(as(t.accentBaseColor),1).toStringHexRGB()),kr.findProvider),Na=Je("accent-dark-100",(t=>Ta(as(t.accentBaseColor),2).toStringHexRGB()),kr.findProvider),Da=xt`
  .control {
    background: ${Rr.var};
    color: ${Cr.var};
  }
  :host([appearance=accent]) .control {
    background: ${Hr.var};
    color: ${Pr.var};
  }
  :host([appearance=accent-light]) .control {
    background: ${Fa.var};
    color: ${Pr.var};
  }
`.withBehaviors(Rr,Cr,Hr,Pr,Fa);var Ma=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let Ba=class extends Ca{constructor(){super(...arguments),this.appearance="neutral",this.generateBadgeStyle=()=>""}};var Va;Ma([lt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],Ba.prototype,"appearance",void 0),Ba=Ma([yt({name:"ecos-badge",template:xa,styles:[Sa,Da]})],Ba),function(t){t[t.alt=18]="alt",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.arrowUp=38]="arrowUp",t[t.back=8]="back",t[t.backSlash=220]="backSlash",t[t.break=19]="break",t[t.capsLock=20]="capsLock",t[t.closeBracket=221]="closeBracket",t[t.colon=186]="colon",t[t.colon2=59]="colon2",t[t.comma=188]="comma",t[t.ctrl=17]="ctrl",t[t.delete=46]="delete",t[t.end=35]="end",t[t.enter=13]="enter",t[t.equals=187]="equals",t[t.equals2=61]="equals2",t[t.equals3=107]="equals3",t[t.escape=27]="escape",t[t.forwardSlash=191]="forwardSlash",t[t.function1=112]="function1",t[t.function10=121]="function10",t[t.function11=122]="function11",t[t.function12=123]="function12",t[t.function2=113]="function2",t[t.function3=114]="function3",t[t.function4=115]="function4",t[t.function5=116]="function5",t[t.function6=117]="function6",t[t.function7=118]="function7",t[t.function8=119]="function8",t[t.function9=120]="function9",t[t.home=36]="home",t[t.insert=45]="insert",t[t.menu=93]="menu",t[t.minus=189]="minus",t[t.minus2=109]="minus2",t[t.numLock=144]="numLock",t[t.numPad0=96]="numPad0",t[t.numPad1=97]="numPad1",t[t.numPad2=98]="numPad2",t[t.numPad3=99]="numPad3",t[t.numPad4=100]="numPad4",t[t.numPad5=101]="numPad5",t[t.numPad6=102]="numPad6",t[t.numPad7=103]="numPad7",t[t.numPad8=104]="numPad8",t[t.numPad9=105]="numPad9",t[t.numPadDivide=111]="numPadDivide",t[t.numPadDot=110]="numPadDot",t[t.numPadMinus=109]="numPadMinus",t[t.numPadMultiply=106]="numPadMultiply",t[t.numPadPlus=107]="numPadPlus",t[t.openBracket=219]="openBracket",t[t.pageDown=34]="pageDown",t[t.pageUp=33]="pageUp",t[t.period=190]="period",t[t.print=44]="print",t[t.quote=222]="quote",t[t.scrollLock=145]="scrollLock",t[t.shift=16]="shift",t[t.space=32]="space",t[t.tab=9]="tab",t[t.tilde=192]="tilde",t[t.windowsLeft=91]="windowsLeft",t[t.windowsOpera=219]="windowsOpera",t[t.windowsRight=92]="windowsRight"}(Va||(Va={}));const Ha="form-associated-proxy",qa="ElementInternals"in window&&"setFormValue"in window.ElementInternals.prototype,Ua=new Map;function za(t){const e=class extends t{constructor(...t){super(...t),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.formDisabledCallback=t=>{this.disabled=t},this.formResetCallback=()=>{this.value=this.initialValue,this.dirtyValue=!1},this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||""}static get formAssociated(){return qa}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const t=this.proxy.labels,e=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=t?e.concat(Array.from(t)):e;return Object.freeze(n)}return k}valueChanged(t,e){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.setFormValue(this.value),this.validate()}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),P.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),P.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!qa)return null;let t=Ua.get(this);return t||(t=this.attachInternals(),Ua.set(this,t)),t}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback)}disconnectedCallback(){this.proxyEventsToBlock.forEach((t=>this.proxy.removeEventListener(t,this.stopPropagation))),this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(t,e,n){this.elementInternals?this.elementInternals.setValidity(t,e,n):"string"==typeof e&&this.proxy.setCustomValidity(e)}attachProxy(){var t;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((t=>this.proxy.addEventListener(t,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",Ha),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",Ha)),null===(t=this.shadowRoot)||void 0===t||t.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var t;this.removeChild(this.proxy),null===(t=this.shadowRoot)||void 0===t||t.removeChild(this.proxySlot)}validate(){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage)}setFormValue(t,e){this.elementInternals&&this.elementInternals.setFormValue(t,e||t)}_keypressHandler(t){switch(t.keyCode){case 13:if(this.form instanceof HTMLFormElement){const t=this.form.querySelector("[type=submit]");null==t||t.click()}}}stopPropagation(t){t.stopPropagation()}};return lt({mode:"boolean"})(e.prototype,"disabled"),lt({mode:"fromView",attribute:"value"})(e.prototype,"initialValue"),lt(e.prototype,"name"),lt({mode:"boolean"})(e.prototype,"required"),W(e.prototype,"value"),e}class _a extends bt{}class Wa extends(za(_a)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class Ka extends Wa{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const t=this.proxy.isConnected;t||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),t||this.detachProxy()},this.handleFormReset=()=>{var t;null===(t=this.form)||void 0===t||t.reset()}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(t,e){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===e&&this.addEventListener("click",this.handleSubmission),"submit"===t&&this.removeEventListener("click",this.handleSubmission),"reset"===e&&this.addEventListener("click",this.handleFormReset),"reset"===t&&this.removeEventListener("click",this.handleFormReset)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type)}get root(){return this.control}}we([lt({mode:"boolean"})],Ka.prototype,"autofocus",void 0),we([lt({attribute:"form"})],Ka.prototype,"formId",void 0),we([lt],Ka.prototype,"formaction",void 0),we([lt],Ka.prototype,"formenctype",void 0),we([lt],Ka.prototype,"formmethod",void 0),we([lt({mode:"boolean"})],Ka.prototype,"formnovalidate",void 0),we([lt],Ka.prototype,"formtarget",void 0),we([lt],Ka.prototype,"type",void 0),we([W],Ka.prototype,"defaultSlottedContent",void 0);class Ga{}we([lt({attribute:"aria-expanded",mode:"fromView"})],Ga.prototype,"ariaExpanded",void 0),we([lt({attribute:"aria-pressed",mode:"fromView"})],Ga.prototype,"ariaPressed",void 0),Ae(Ga,xe),Ae(Ka,Se,Ga);const Qa=Yt`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ce("control")}
    >
        ${Te}
        <span class="content" part="content">
            <slot ${Re("defaultSlottedContent")}></slot>
        </span>
        ${$e}
    </button>
`,Ya=xt`
    ${Jr}
`.withBehaviors(ra("accent",ta),ra("lightweight",na),ra("outline",ia),ra("stealth",sa));let Xa=class extends Ka{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(t,e){const n=this.defaultSlottedContent.filter((t=>t.nodeType===Node.ELEMENT_NODE));1===n.length&&n[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};we([lt],Xa.prototype,"appearance",void 0),Xa=we([yt({name:"fast-button",template:Qa,styles:Ya,shadowOptions:{delegatesFocus:!0}})],Xa);const Za=Ya;const Ja=xt`
  .control {
    padding: 0 calc((10 + max(0, calc(var(--corner-radius) - 10)) + (var(--design-unit) * 2 * max(var(--density), 0)))  * 1px);
  }
`;let tl=class extends Xa{};tl=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-button",template:Qa,styles:[Za,Ja],shadowOptions:{delegatesFocus:!0}})],tl);const el=Yt`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ce("control")}
    >
        <span class="shadow" part="shadow"></span>
        <span class="edge" part="edge"></span>
        <span class="front" part="front">
            ${Te}
            <span class="content" part="content">
                <slot ${Re("defaultSlottedContent")}></slot>
            </span>
            ${$e}
        </span>
    </button>
`,nl=xt`
  ${kt("inline")}

  .control {
    position: relative;
    border: none;
    background: transparent;
    padding: 0;
    cursor: pointer;
    outline-offset: 4px;
    transition: filter 250ms;
  }
  :host {
    contain: content;
  }
  
  :host([disabled]) {
    opacity: var(--disabled-opacity);
    cursor: ${Ke};
  }
  .start,
  .end {
    display: flex;
  }
  .control.icon-only {
    padding: 0;
    line-height: 0;
  }
  ::slotted(svg) {
    ${""} width: 16px;
    height: 16px;
    pointer-events: none;
  }
  .start {
    margin-inline-end: 11px;
  }
  .end {
    margin-inline-start: 11px;
  }


  .shadow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: hsl(0deg 0% 0% / 0.25);
    will-change: transform;
    transform: translateY(2px);
    transition:
      transform
      600ms
      cubic-bezier(.3, .7, .4, 1);
  }
  .edge {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: linear-gradient(
      to left,
      ${Na.var} 0%,
      ${La.var} 8%,
      ${La.var} 92%,
      ${Na.var} 100%
    );
  }
  .front {
    display: block;
    position: relative;
    padding: 12px 42px;
    border-radius: 12px;
    font-size: 1.25rem;
    color: ${Pr.var};;
    background: ${Hr.var};
    will-change: transform;
    transform: translateY(-4px);
    transition:
      transform
      600ms
      cubic-bezier(.3, .7, .4, 1);
  }
  :host(:hover) {
    filter: brightness(110%);
  }
  :host(:hover) .front {
    transform: translateY(-6px);
    transition:
      transform
      250ms
      cubic-bezier(.3, .7, .4, 1.5);
  }
  :host(:active) .front {
    transform: translateY(-2px);
    transition: transform 34ms;
  }
  :host(:hover) .shadow {
    transform: translateY(4px);
    transition:
      transform
      250ms
      cubic-bezier(.3, .7, .4, 1.5);
  }
  :host(:active) .shadow {
    transform: translateY(1px);
    transition: transform 34ms;
  }
  :host(:focus:not(:focus-visible)) {
    outline: none;
  }
`.withBehaviors(Hr,Tr,Pr,La,Na);let il=class extends Xa{};il=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-button-3d",template:el,styles:[nl],shadowOptions:{delegatesFocus:!0}})],il);const sl=Yt`
    <slot></slot>
`;var ol;function rl(t,e,n,i){if(isNaN(t)||t<=0)return n;if(t>=1)return i;switch(e){case ol.HSL:return ki(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new di(Jn(t,e.h,n.h),Zn(t,e.s,n.s),Zn(t,e.l,n.l))}(t,xi(n),xi(i)));case ol.HSV:return function(t,e=1){const n=t.s*t.v,i=n*(1-Math.abs(t.h/60%2-1)),s=t.v-n;let o=0,r=0,a=0;return t.h<60?(o=n,r=i,a=0):t.h<120?(o=i,r=n,a=0):t.h<180?(o=0,r=n,a=i):t.h<240?(o=0,r=i,a=n):t.h<300?(o=i,r=0,a=n):t.h<360&&(o=n,r=0,a=i),new ei(o+s,r+s,a+s,e)}(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new pi(Jn(t,e.h,n.h),Zn(t,e.s,n.s),Zn(t,e.v,n.v))}(t,Ci(n),Ci(i)));case ol.XYZ:return $i(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new vi(Zn(t,e.x,n.x),Zn(t,e.y,n.y),Zn(t,e.z,n.z))}(t,Si(n),Si(i)));case ol.LAB:return Ai(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new gi(Zn(t,e.l,n.l),Zn(t,e.a,n.a),Zn(t,e.b,n.b))}(t,Ti(n),Ti(i)));case ol.LCH:return Oi(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new fi(Zn(t,e.l,n.l),Zn(t,e.c,n.c),Jn(t,e.h,n.h))}(t,Ei(n),Ei(i)));default:return function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new ei(Zn(t,e.r,n.r),Zn(t,e.g,n.g),Zn(t,e.b,n.b),Zn(t,e.a,n.a))}(t,n,i)}}!function(t){t[t.RGB=0]="RGB",t[t.HSL=1]="HSL",t[t.HSV=2]="HSV",t[t.XYZ=3]="XYZ",t[t.LAB=4]="LAB",t[t.LCH=5]="LCH"}(ol||(ol={}));class al{constructor(t){if(null==t||0===t.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(t)}static createBalancedColorScale(t){if(null==t||0===t.length)throw new Error("The colors argument must be non-empty");const e=new Array(t.length);for(let n=0;n<t.length;n++)0===n?e[n]={color:t[n],position:0}:n===t.length-1?e[n]={color:t[n],position:1}:e[n]={color:t[n],position:n*(1/(t.length-1))};return new al(e)}getColor(t,e=ol.RGB){if(1===this.stops.length)return this.stops[0].color;if(t<=0)return this.stops[0].color;if(t>=1)return this.stops[this.stops.length-1].color;let n=0;for(let e=0;e<this.stops.length;e++)this.stops[e].position<=t&&(n=e);let i=n+1;return i>=this.stops.length&&(i=this.stops.length-1),rl((t-this.stops[n].position)*(1/(this.stops[i].position-this.stops[n].position)),e,this.stops[n].color,this.stops[i].color)}trim(t,e,n=ol.RGB){if(t<0||e>1||e<t)throw new Error("Invalid bounds");if(t===e)return new al([{color:this.getColor(t,n),position:0}]);const i=[];for(let n=0;n<this.stops.length;n++)this.stops[n].position>=t&&this.stops[n].position<=e&&i.push(this.stops[n]);if(0===i.length)return new al([{color:this.getColor(t),position:t},{color:this.getColor(e),position:e}]);i[0].position!==t&&i.unshift({color:this.getColor(t),position:t}),i[i.length-1].position!==e&&i.push({color:this.getColor(e),position:e});const s=e-t,o=new Array(i.length);for(let e=0;e<i.length;e++)o[e]={color:i[e].color,position:(i[e].position-t)/s};return new al(o)}findNextColor(t,e,n=!1,i=ol.RGB,s=.005,o=32){isNaN(t)||t<=0?t=0:t>=1&&(t=1);const r=this.getColor(t,i),a=n?0:1;if(wi(r,this.getColor(a,i))<=e)return a;let l=n?0:t,c=n?t:0,h=a,u=0;for(;u<=o;){h=Math.abs(c-l)/2+l;const t=wi(r,this.getColor(h,i));if(Math.abs(t-e)<=s)return h;t>e?n?l=h:c=h:n?c=h:l=h,u++}return h}clone(){const t=new Array(this.stops.length);for(let e=0;e<t.length;e++)t[e]={color:this.stops[e].color,position:this.stops[e].position};return new al(t)}sortColorScaleStops(t){return t.sort(((t,e)=>{const n=t.position,i=e.position;return n<i?-1:n>i?1:0}))}}class ll{constructor(t){this.config=Object.assign({},ll.defaultPaletteConfig,t),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(t){let e=!1;for(const n in t)this.config[n]&&(this.config[n].equalValue?this.config[n].equalValue(t[n])||(this.config[n]=t[n],e=!0):t[n]!==this.config[n]&&(this.config[n]=t[n],e=!0));return e&&this.updatePaletteColors(),e}updatePaletteColors(){const t=this.generatePaletteColorScale();for(let e=0;e<this.config.steps;e++)this.palette[e]=t.getColor(e/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const t=xi(this.config.baseColor),e=new al([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let n=e.getColor(0),i=e.getColor(1);if(t.s>=this.config.saturationAdjustmentCutoff&&(n=$a(n,this.config.saturationLight),i=$a(i,this.config.saturationDark)),0!==this.config.multiplyLight){const t=Pa(this.config.baseColor,n);n=rl(this.config.multiplyLight,this.config.interpolationMode,n,t)}if(0!==this.config.multiplyDark){const t=Pa(this.config.baseColor,i);i=rl(this.config.multiplyDark,this.config.interpolationMode,i,t)}if(0!==this.config.overlayLight){const t=Ia(this.config.baseColor,n);n=rl(this.config.overlayLight,this.config.interpolationMode,n,t)}if(0!==this.config.overlayDark){const t=Ia(this.config.baseColor,i);i=rl(this.config.overlayDark,this.config.interpolationMode,i,t)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new al([{position:0,color:this.config.baseColor},{position:1,color:i.clamp()}]):this.config.baseScalePosition>=1?new al([{position:0,color:n.clamp()},{position:1,color:this.config.baseColor}]):new al([{position:0,color:n.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:i.clamp()}]):new al([{position:0,color:n.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:i.clamp()}])}}ll.defaultPaletteConfig={baseColor:ci("#808080"),steps:11,interpolationMode:ol.RGB,scaleColorLight:new ei(1,1,1,1),scaleColorDark:new ei(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},ll.greyscalePaletteConfig={baseColor:ci("#808080"),steps:11,interpolationMode:ol.RGB,scaleColorLight:new ei(1,1,1,1),scaleColorDark:new ei(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},ll.defaultPaletteConfig.scaleColorLight,ll.defaultPaletteConfig.scaleColorDark;class cl{constructor(t){this.palette=[],this.config=Object.assign({},cl.defaultPaletteConfig,t),this.regenPalettes()}regenPalettes(){let t=this.config.steps;(isNaN(t)||t<3)&&(t=3);const e=.14,n=new ei(e,e,e,1),i=new ll(Object.assign(Object.assign({},ll.greyscalePaletteConfig),{baseColor:n,baseScalePosition:86/94,steps:t})).palette,s=(mi(this.config.baseColor)+xi(this.config.baseColor).l)/2,o=this.matchRelativeLuminanceIndex(s,i)/(t-1),r=this.matchRelativeLuminanceIndex(e,i)/(t-1),a=xi(this.config.baseColor),l=ki(di.fromObject({h:a.h,s:a.s,l:e})),c=ki(di.fromObject({h:a.h,s:a.s,l:.06})),h=new Array(5);h[0]={position:0,color:new ei(1,1,1,1)},h[1]={position:o,color:this.config.baseColor},h[2]={position:r,color:l},h[3]={position:.99,color:c},h[4]={position:1,color:new ei(0,0,0,1)};const u=new al(h);this.palette=new Array(t);for(let e=0;e<t;e++){const n=u.getColor(e/(t-1),ol.RGB);this.palette[e]=n}}matchRelativeLuminanceIndex(t,e){let n=Number.MAX_VALUE,i=0,s=0;const o=e.length;for(;s<o;s++){const o=Math.abs(mi(e[s])-t);o<n&&(n=o,i=s)}return i}}function hl(t){return new cl({baseColor:t}).palette.map((t=>t.toStringHexRGB().toUpperCase()))}cl.defaultPaletteConfig={baseColor:ci("#808080"),steps:94};const ul="box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))));",dl=xt`
    ${kt("block")} :host {
        --elevation: 4;
        display: block;
        contain: content;
        height: var(--card-height, 100%);
        width: var(--card-width, 100%);
        box-sizing: border-box;
        background: var(--background-color);
        border-radius: calc(var(--corner-radius) * 1px);
        ${ul}
    }
`.withBehaviors(Qe(xt`
            :host {
                forced-color-adjust: none;
                background: ${Ye.Canvas};
                box-shadow: 0 0 0 1px ${Ye.CanvasText};
            }
        `)),pl=new Map;let gl=class extends gr{cardBackgroundColorChanged(t,e){if(e){const t=ci(this.cardBackgroundColor);if(null!==t){if(pl.has(t))this.neutralPalette=pl.get(t);else{const e=hl(t);pl.set(t,e),this.neutralPalette=e}this.backgroundColor=this.cardBackgroundColor}}else this.provider&&this.provider.designSystem&&this.handleChange(this.provider.designSystem,"backgroundColor")}handleChange(t,e){this.cardBackgroundColor||(this.backgroundColor=Ro(t))}connectedCallback(){var t,e;super.connectedCallback();const n=U.getNotifier(null===(t=this.provider)||void 0===t?void 0:t.designSystem);n.subscribe(this,"backgroundColor"),n.subscribe(this,"neutralPalette"),this.handleChange(null===(e=this.provider)||void 0===e?void 0:e.designSystem,"backgroundColor")}};we([mr({attribute:!1,cssCustomProperty:"background-color",default:"#FFFFFF"})],gl.prototype,"backgroundColor",void 0),we([lt({attribute:"card-background-color"})],gl.prototype,"cardBackgroundColor",void 0),we([mr({attribute:!1,default:hl(ci("#FFFFFF")),cssCustomProperty:!1})],gl.prototype,"neutralPalette",void 0),gl=we([yt({name:"fast-card",template:sl,styles:dl})],gl);const fl=dl;const vl=xt`
  :host {
    color: ${Cr.var}
  }
`.withBehaviors(Cr);let ml=class extends gl{};ml=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-card",template:sl,styles:[fl,vl]})],ml);const bl=xt`
  ${kt("grid")}

  :host {
    contain: content;
    display: grid;
    justify-content: center;
    grid-gap: var(--spacing-unit);
  }
  
  @media screen and (min-width: 732px) {
    :host {
      grid-template-columns: repeat(auto-fit, minmax(var(--ecos-collection-min-item-width), 1fr));
    }
  }
`,yl=Yt`<template style="--ecos-collection-min-item-width: ${t=>t.minItemWidth};"><slot></slot></template>`;var wl=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let xl=class extends bt{constructor(){super(...arguments),this.minItemWidth="250px"}};wl([lt({attribute:"min-item-width"}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],xl.prototype,"minItemWidth",void 0),xl=wl([yt({name:"ecos-collection",template:yl,styles:bl})],xl);const kl=xt`
  ${kt("inline")}

  :host {
    position: relative;
    display: inline-block;
  }

  .colorizer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: currentColor;
    mix-blend-mode: lighten;
  }
`,Cl=Yt`
<slot></slot>
<span part="colorizer" class="colorizer"></span>
`;var Sl=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let $l=class extends bt{constructor(){super(...arguments),this.mode="lighten"}modeChanged(){window.requestAnimationFrame((()=>{if(!this.shadowRoot||!this.shadowRoot.querySelector(".colorizer"))return void this.modeChanged();const t=this.shadowRoot.querySelector(".colorizer");t&&("ligthen"===this.mode?t.removeAttribute("style"):t.setAttribute("style","mix-blend-mode:"+this.mode))}))}};Sl([lt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],$l.prototype,"mode",void 0),$l=Sl([yt({name:"ecos-colorize",template:Cl,styles:kl})],$l);var Tl=n(337),Al=n.n(Tl);function El(t,e,n=1.2){const i=t.typeRampBaseFontSize,s=Al()({ratio:e,base:i});t.typeRampBaseFontSize=`${s(0)}px`,t.typeRampBaseLineHeight=s(0)*n+"px",t.typeRampMinus1FontSize=`${s(-1)}px`,t.typeRampMinus1LineHeight=s(-1)*n+"px",t.typeRampMinus2FontSize=`${s(-2)}px`,t.typeRampMinus2LineHeight=s(-2)*n+"px",t.typeRampPlus1FontSize=`${s(1)}px`,t.typeRampPlus1LineHeight=s(1)*n+"px",t.typeRampPlus2FontSize=`${s(2)}px`,t.typeRampPlus2LineHeight=s(2)*n+"px",t.typeRampPlus3FontSize=`${s(3)}px`,t.typeRampPlus3LineHeight=s(3)*n+"px",t.typeRampPlus4FontSize=`${s(4)}px`,t.typeRampPlus4LineHeight=s(4)*n+"px",t.typeRampPlus5FontSize=`${s(5)}px`,t.typeRampPlus5LineHeight=s(5)*n+"px",t.typeRampPlus6FontSize=`${s(6)}px`,t.typeRampPlus6LineHeight=s(6)*n+"px"}var Ol=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},Pl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Rl=class extends kr{constructor(){super(...arguments),this.applybackgroundtobody=!1}accentBaseColorChanged(t,e){if(e!==t){this.accentBaseColor=e;const t=ui(e);t&&(this.accentPalette=hl(t)),this.setBackgroundTeintedColor()}}backgroundColorChanged2(){const t=ui(this.backgroundColor);t&&(this.neutralPalette=hl(t)),this.setBackgroundTeintedColor(),this.applybackgroundtobody&&document.body.style.setProperty("background-color",t.toStringHexRGB())}typeRampBaseFontSizeChanged(t,e){e!==t&&El(this,this.typeRampRatio,this.lineHeightRatio)}typeRampRatioChanged(t,e){e!==t&&El(this,this.typeRampRatio,this.lineHeightRatio)}lineHeightRatioChanged(t,e){e!==t&&El(this,this.typeRampRatio,this.lineHeightRatio)}setBackgroundTeintedColor(){const t=ui(this.backgroundColor),e=ui(this.accentBaseColor),n=Ea(t,e).toStringHexRGB();n!==t.toStringHexRGB()?this.backgroundTeintedColor=n:this.backgroundTeintedColor=Ea(e,t).toStringHexRGB()}};Ol([lt({mode:"boolean"}),Pl("design:type",Object)],Rl.prototype,"applybackgroundtobody",void 0),Ol([mr({attribute:"type-ramp-ratio",default:1.25}),Pl("design:type",Number)],Rl.prototype,"typeRampRatio",void 0),Ol([mr({attribute:"line-height-ratio",default:1.2}),Pl("design:type",Number)],Rl.prototype,"lineHeightRatio",void 0),Ol([mr({attribute:!1,cssCustomProperty:"background-teinted-color",default:en.backgroundColor}),Pl("design:type",String)],Rl.prototype,"backgroundTeintedColor",void 0),Rl=Ol([fr({name:"ecos-design-system-provider",template:br,styles:xt`:host { display: block }`})],Rl);var Il=n(760),jl=n.n(Il);class Fl extends bt{constructor(){super(...arguments),this.modal=!0,this.hidden=!1,this.trapFocus=!0,this.onChildListChange=t=>{t.length&&(this.tabbableElements=jl()(this))},this.trapFocusChanged=()=>{this.trapFocus?(this.tabbableElements=jl()(this),document.addEventListener("focusin",this.handleDocumentFocus),this.shouldForceFocus(document.activeElement)&&this.focusFirstElement()):document.removeEventListener("focusin",this.handleDocumentFocus)},this.handleDocumentKeydown=t=>{if(!t.defaultPrevented&&!this.hidden)switch(t.keyCode){case 27:this.dismiss();break;case 9:this.handleTabKeyDown(t)}},this.handleDocumentFocus=t=>{!t.defaultPrevented&&this.shouldForceFocus(t.target)&&(this.focusFirstElement(),t.preventDefault())},this.handleTabKeyDown=t=>{if(!this.trapFocus)return;const e=this.tabbableElements.length;if(0===e)return this.dialog.focus(),void t.preventDefault();t.shiftKey&&t.target===this.tabbableElements[0]?(this.tabbableElements[e-1].focus(),t.preventDefault()):t.shiftKey||t.target!==this.tabbableElements[e-1]||(this.tabbableElements[0].focus(),t.preventDefault())},this.focusFirstElement=()=>{0===this.tabbableElements.length?this.dialog.focus():this.tabbableElements[0].focus()},this.shouldForceFocus=t=>!this.hidden&&!this.contains(t)}dismiss(){this.$emit("dismiss")}show(){this.hidden=!1}hide(){this.hidden=!0}connectedCallback(){super.connectedCallback(),this.observer=new MutationObserver(this.onChildListChange),this.observer.observe(this,{childList:!0}),document.addEventListener("keydown",this.handleDocumentKeydown),P.queueUpdate(this.trapFocusChanged)}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect(),document.removeEventListener("keydown",this.handleDocumentKeydown),this.trapFocus&&document.removeEventListener("focusin",this.handleDocumentFocus)}}function Ll(t,e){const n="function"==typeof e?e:()=>e;return(e,i)=>t(e,i)?n(e,i):null}we([lt({mode:"boolean"})],Fl.prototype,"modal",void 0),we([lt({mode:"boolean"})],Fl.prototype,"hidden",void 0),we([lt({attribute:"trap-focus",mode:"boolean"})],Fl.prototype,"trapFocus",void 0),we([lt({attribute:"aria-describedby"})],Fl.prototype,"ariaDescribedby",void 0),we([lt({attribute:"aria-labelledby"})],Fl.prototype,"ariaLabelledby",void 0),we([lt({attribute:"aria-label"})],Fl.prototype,"ariaLabel",void 0);const Nl=Yt`
    <div class="positioning-region" part="positioning-region">
        ${Ll((t=>t.modal),Yt`
                <div
                    class="overlay"
                    part="overlay"
                    role="presentation"
                    tabindex="-1"
                    @click="${t=>t.dismiss()}"
                ></div>
            `)}
        <div
            role="dialog"
            class="control"
            part="control"
            aria-modal="${t=>t.modal}"
            aria-describedby="${t=>t.ariaDescribedby}"
            aria-labelledby="${t=>t.ariaLabelledby}"
            aria-label="${t=>t.ariaLabel}"
            ${Ce("dialog")}
        >
            <slot></slot>
        </div>
    </div>
`,Dl=xt`
    :host([hidden]) {
        display: none;
    }

    :host {
        --elevation: 14;
        --dialog-height: 480px;
        --dialog-width: 640px;
        display: block;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        touch-action: none;
    }

    .positioning-region {
        display: flex;
        justify-content: center;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: auto;
    }

    .control {
        ${ul}
        margin-top: auto;
        margin-bottom: auto;
        width: var(--dialog-width);
        height: var(--dialog-height);
        background-color: var(--background-color);
        z-index: 1;
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid transparent;
    }
`;let Ml=class extends Fl{};Ml=we([yt({name:"fast-dialog",template:Nl,styles:Dl})],Ml);const Bl=Dl,Vl=xt`
  :host(.ecos-dialog--fading) {
    opacity: 1;
    transition: opacity ease-in-out 250ms;
  }
  :host(.ecos-dialog--fading[hidden]) {
    opacity: 0;
    display: block!important;
    pointer-events: none;
  }
  :host(.ecos-dialog--fading) .control {
    transform: scale(1);
    transition: transform ease-in-out 250ms;
  }
  :host(.ecos-dialog--fading[hidden]) .control {
    transform: scale(0);
  }

  :host(.ecos-dialog--slide-up) {
    opacity: 1;
    transition: opacity ease-in-out 250ms;
  }
  :host(.ecos-dialog--slide-up[hidden]) {
    opacity: 0;
    display: block!important;
    pointer-events: none;
  }
  :host(.ecos-dialog--slide-up) .control {
    transform: translateY(0);
    transition: transform ease-in-out 250ms;
  }
  :host(.ecos-dialog--slide-up[hidden]) .control {
    transform: translateY(100vh);
  }
`;var Hl=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};const ql=Yt`<template class="ecos-dialog--${t=>t.effect}">${Nl}</template>`;let Ul=class extends Ml{constructor(){super(...arguments),this.effect=""}};Hl([lt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],Ul.prototype,"effect",void 0),Ul=Hl([yt({name:"ecos-dialog",template:ql,styles:[Bl,Vl]})],Ul);const zl=xt`
  ${kt("grid")}

  :host {
    contain: content;
    grid-gap: calc(var(--spacing-unit) * 0.5);
  }
`,_l=Yt`<slot></slot>`;let Wl=class extends bt{};Wl=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-form",template:_l,styles:zl})],Wl);const Kl=xt`
  ${kt("flex")}

  :host {
    contain: content;
    flex-direction: column;
  }
`,Gl=Yt`<slot></slot>`;let Ql=class extends bt{};Ql=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-form-row",template:Gl,styles:Kl})],Ql);const Yl=Yt`<span class="${t=>t.button?"button":""} ${t=>t.accent?"accent":""} ${t=>t.lightweight?"lightweight":""}"></span>`,Xl=xt`
  :host {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    contain: content;
    stroke-width: 1px;
  }
  span {
    display:inline-flex;
    align-items: center;
    justify-content: center;
    contain: content;
    stroke-width: 1px;
  }
  .button {
    margin: 4px;
    padding: 8px;
    background: ${Rr.var};
    color: ${Cr.var};
    border-radius: calc(var(--corner-radius) * 1px);
    cursor: pointer;
  }
  .button:hover {
    background: ${Ir.var};
  }
  .button:active {
    background: ${jr.var};
  }
  .button.disabled {
    background: ${Rr.var};
  }
  .button.lightweight {
    background: transparent;
    color: ${Tr.var};
  }
  .button.lightweight:hover {
    color: ${Ar.var};
  }
  .button.lightweight:active {
    color: ${Er.var};
  }
  .button.accent {
    margin: 4px;
    padding: 8px;
    background: ${Hr.var};
    color: ${Pr.var};
    box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Xr.var};
    border-radius: calc(var(--corner-radius) * 1px);
  }
  .button.accent:hover {
    background: ${qr.var};
  }
  .button.accent:active {
    background: ${Ur.var};
  }
  .button.accent.disabled {
    background: ${Hr.var};
  }
`.withBehaviors(Rr,Cr,Ir,jr,Hr,Pr,Ar,Er,Xr,Ur,Tr);var Zl,Jl=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},tc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ec=Zl=class extends bt{constructor(){super(...arguments),this.button=!1,this.lightweight=!1,this.accent=!1,this.type="outline",this.weight=1,this.size="lg"}buttonChanged(){this.setIcon()}lightweightChanged(){this.setIcon()}accentChanged(){this.setIcon()}iconChanged(){this.setIcon()}setIcon(){window.requestAnimationFrame((()=>{if(!this.shadowRoot||!this.shadowRoot.querySelector("span"))return void this.setIcon();this.shadowRoot.querySelector("span").innerHTML="solid"===this.type?Zl.solid[this.icon]:Zl.outline[this.icon];const t=this.shadowRoot.querySelector("svg");t instanceof SVGElement&&(t.setAttribute("part","svg"),t.style.width=`${this.sizeInPx()}px`,t.style.height=`${this.sizeInPx()}px`);const e=this.shadowRoot.querySelectorAll("path");for(const t of e)t.setAttribute("stroke-width",`${this.weight}`)}))}typeChanged(){"solid"!==this.type&&"outline"!==this.type&&(this.type="outline"),this.setIcon()}weightChanged(){this.setIcon()}sizeChanged(){this.setIcon()}sizeInPx(){return parseInt(this.size,10).toString()===this.size?parseInt(this.size,10):"sm"===this.size||"small"===this.size?16:"md"===this.size||"medium"===this.size?20:"lg"===this.size||"large"===this.size?24:"xl"===this.size||"extra-large"===this.size?28:24}};ec.solid={},ec.outline={},Jl([lt({mode:"boolean"}),tc("design:type",Object)],ec.prototype,"button",void 0),Jl([lt({mode:"boolean"}),tc("design:type",Object)],ec.prototype,"lightweight",void 0),Jl([lt({mode:"boolean"}),tc("design:type",Object)],ec.prototype,"accent",void 0),Jl([lt(),tc("design:type",String)],ec.prototype,"icon",void 0),Jl([lt(),tc("design:type",String)],ec.prototype,"type",void 0),Jl([lt(),tc("design:type",Object)],ec.prototype,"weight",void 0),Jl([lt(),tc("design:type",Object)],ec.prototype,"size",void 0),ec=Zl=Jl([yt({name:"ecos-icon",template:Yl,styles:Xl})],ec);const nc="((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) + 2 * var(--design-unit) + (10 + (var(--design-unit) * 2 * max(0, var(--density))))",ic=xt`
  ${kt("block")}

  :host {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  :host(.fixed) {
    position: fixed;
  }

  .navbar {
    position: relative;
    z-index: 2;
    height: calc((${nc}) * 1px);
    width: 100%;
    box-sizing: border-box;
    font-family: var(--body-font);
    font-size: var(--type-ramp-base-font-size);
    line-height: var(--type-ramp-base-line-height);
    padding-left: calc(var(--design-unit) * 4px);
    padding-right: calc(var(--design-unit) * 4px);
    box-shadow: var(--elevation2);
    background: ${Qr.var};
    color: ${Cr.var};
    transition: 500ms ease;
    transition-property: background-color, box-shadow;
  }
  :host(.transparent-first:not(.scrolled)) .navbar {
    background-color: transparent;
    box-shadow: none;
  }
  .navbar.secondary-opened {
    box-shadow: none;
  }
  :host(.navbar-layer-1) .navbar {
    background: ${Gr.var};
  }

  .navbar-content {
    display: grid;
    height: 100%;
    max-width: 100ch;
    margin-left: auto;
    margin-right: auto;
    align-items: center;
    justify-content: flex-start;
  }

  /* (mobile) mode */
  .navbar-content {
    grid-template-columns: 1fr 50px;
  }
  .branding {
    justify-self: start;
  }
  .main {
    display: none;
  }
  .secondary {
    display: none;
  }
  .secondary-toggler {
    display: none;
    cursor: pointer;
  }
  .secondary-toggler ::part(control) {
    cursor: pointer;
  }
  .toggler {
    justify-self: end;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
  }
  .toggler > svg {
    width: 24px;
    height: 24px;
  }
  .mobile-content {
    transition: transform 250ms ease, opacity 250ms ease;
    position: absolute;
    z-index: 1;
    top: calc((${nc}) * 1px);
    width: 100%;
    padding: calc(var(--design-unit) * 4px);
    background: ${Qr.var};
    color: ${Cr.var};
    box-shadow: var(--elevation2);
  }
  :host(.navbar-layer-1) .mobile-content {
    background: ${Gr.var};
  }
  .mobile-content[hidden] {
    display: block;
    opacity: 0;
    transform: translateY(-100%);
    pointer-events: none;
  }

  .mobile-main,
  .mobile-secondary {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .mobile-secondary {
    margin-top: calc(var(--design-unit) * 4px);
  }

  /* (desktop) mode */
  @media screen and (min-width: 732px) {
    .navbar-content {
      grid-template-columns: 1fr max-content 1fr;
    }
    .main {
      display: block;
      justify-self: center;
    }
    .xxx-secondary {
      display: block;
      justify-self: end;
    }
    .secondary-toggler {
      display: block;
      justify-self: end;
    }
    .secondary-content {
      box-sizing: border-box;
      transition: transform 250ms ease, opacity 250ms ease;
      position: absolute;
      z-index: 1;
      top: calc((${nc}) * 1px);
      width: 100%;
      padding: calc(var(--design-unit) * 4px);
      text-align: center;
      box-shadow: var(--elevation2);
      background: ${Qr.var};
      color: ${Cr.var};
    }
    .secondary-content[hidden] {
      display: block;
      opacity: 0;
      transform: translateY(-100%);
      pointer-events: none;
    }
    :host(.navbar-layer-1) .secondary-content {
      background: ${Gr.var};
    }
    .toggler {
      display: none;
    }
  }
`.withBehaviors(Gr,Qr,Cr),sc=Yt`
<template class="${t=>t.fixed?"fixed":""} ${t=>t.transparentFirst?"transparent-first":""} ${t=>t.scrolled?"scrolled":""} navbar-layer-${t=>t.layer}">
  <div class="navbar" part="navbar" ${Ce("navbarElement")}>
    <div class="navbar-content" part="navbar-content">
      <div class="branding" part="branding">
        <slot name="branding"></slot>
      </div>
      <div class="main" part="main" ${Ce("mainContentSource")}>
        <slot name="main" ${Ce("mainContentSlot")}></slot>
      </div>
      <div class="secondary" part="secondary" ${Ce("secondaryContentSource")}>
        <slot name="secondary" ${Ce("secondaryContentSlot")}></slot>
      </div>
      <div class="secondary-toggler" part="secondary-toggler" ${Ce("secondaryTogglerElement")} @click="${t=>t.toggleSecondary()}">
        <slot name="secondary-toggler"></slot>
      </div>
      <div class="toggler" part="toggler" ${Ce("mobileTogglerElement")} @click="${t=>t.toggle()}">
        ${Ll((t=>!t.isMobileOpened),Yt`
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/>
        </svg>
        `)}
        ${Ll((t=>t.isMobileOpened),Yt`
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
        `)}
      </div>
    </div>
  </div>
  <div hidden class="secondary-content" part="secondary-content" ${Ce("secondaryContentElement")}>

  </div>
  <div hidden class="mobile-content" part="mobile-content" ${Ce("mobileContentElement")}>
    <div class="mobile-main" part="mobile-main" ${Ce("mainContentMobileContainer")}>
    </div>
    <div class="mobile-secondary" part="mobile-secondary" ${Ce("secondaryContentMobileContainer")}>
    </div>
  </div>
</template>`;var oc=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},rc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ac=class extends bt{constructor(){super(...arguments),this.layer="4",this.fixed=!0,this.transparentFirst=!1,this.scrollingContainerSelector="",this.scrolled=!1,this.isMobileOpened=!1,this.isSecondaryOpened=!1}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this),this.addScrollListener()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this),this.removeScrollListener()}addScrollListener(){this.scrollingContainerSelector?document.querySelector(this.scrollingContainerSelector).addEventListener("scroll",this):document.addEventListener("scroll",this)}removeScrollListener(){this.scrollingContainerSelector?document.querySelector(this.scrollingContainerSelector).removeEventListener("scroll",this):document.removeEventListener("scroll",this)}handleEvent(t){t instanceof MouseEvent?this.handleClick(t):this.handleScroll(t)}handleClick(t){for(const e of t.composedPath()){if(e===this.secondaryTogglerElement)return;if(e===this.mobileTogglerElement)return}this.isMobileOpened&&this.toggle(),this.isSecondaryOpened&&this.toggleSecondary()}handleScroll(t){t.target instanceof HTMLElement?this.scrolled=t.target.scrollTop>20:this.scrolled=window.scrollY>20}toggle(){this.isMobileOpened?(this.mainContentSource.appendChild(this.mainContentSlot),this.secondaryContentSource.appendChild(this.secondaryContentSlot)):(this.mainContentMobileContainer.appendChild(this.mainContentSlot),this.secondaryContentMobileContainer.appendChild(this.secondaryContentSlot)),this.isMobileOpened=!this.isMobileOpened,this.mobileContentElement.toggleAttribute("hidden",!this.isMobileOpened)}toggleSecondary(){this.isSecondaryOpened?(this.navbarElement.classList.toggle("secondary-opened",!1),this.secondaryContentSource.appendChild(this.secondaryContentSlot)):(this.navbarElement.classList.toggle("secondary-opened",!0),this.secondaryContentElement.appendChild(this.secondaryContentSlot)),this.isSecondaryOpened=!this.isSecondaryOpened,this.secondaryContentElement.toggleAttribute("hidden",!this.isSecondaryOpened)}};oc([lt(),rc("design:type",Object)],ac.prototype,"layer",void 0),oc([lt({mode:"boolean"}),rc("design:type",Object)],ac.prototype,"fixed",void 0),oc([lt({mode:"boolean",attribute:"transparent-first"}),rc("design:type",Object)],ac.prototype,"transparentFirst",void 0),oc([lt({attribute:"scrolling-container-selector"}),rc("design:type",Object)],ac.prototype,"scrollingContainerSelector",void 0),oc([W,rc("design:type",Object)],ac.prototype,"scrolled",void 0),oc([W,rc("design:type",Object)],ac.prototype,"isMobileOpened",void 0),oc([W,rc("design:type",Object)],ac.prototype,"isSecondaryOpened",void 0),ac=oc([yt({name:"ecos-navbar",template:sc,styles:ic})],ac);const lc=xt`

  .ecos-section {
    display: grid;
    contain: content;
    --ecos-section-center-width: 60ch;
  }
  .ecos-section[nocontain] {
    contain: inherit;
  }

  .ecos-section {
    grid-template-columns: 1fr min(var(--ecos-section-center-width), calc(100% - 2 * var(--spacing-unit))) 1fr;
    grid-column-gap: var(--spacing-unit);
  }

  .ecos-section:not(.no-vertical-padding) {
    padding-top: var(--spacing-unit);
    padding-bottom: var(--spacing-unit);
  }
  .ecos-section.largev:not(.no-vertical-padding) {
    padding-top: calc(var(--spacing-unit) * 2);
    padding-bottom: calc(var(--spacing-unit) * 2);
  }

  .ecos-section > * {
    grid-column: 2;
    /* this prevent content of the grid item from growing */
    /* https://stackoverflow.com/questions/43311943/prevent-content-from-expanding-grid-items */
    min-width: 0; 
  }
  .ecos-section > .full-bleed {
    grid-column: 1 / -1;
    width: 100%;
  }
  @media screen and (max-width: 732px) {
    .ecos-section > .mobile-full-bleed {
      grid-column: 1 / -1;
      width: 100%;
    }
  }
  .ecos-section > .padded-full-bleed {
    grid-column: 1 / -1;
    width: 100%;
    padding-left: var(--spacing-unit);
    padding-right: var(--spacing-unit);
  }
  .ecos-section > .larger {
    grid-column: 1 / -1;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
`,cc=Yt`
<template 
  class="ecos-section ${t=>t.verticalpadded?"":"no-vertical-padding"} ${t=>t.stacked?"ecos-stack":""} ${t=>t.largev?"largev":""}"
  style="--ecos-section-center-width: ${t=>t.centerwidth};"
  >
  <slot></slot>
</template>`,hc=xt`
  
  .ecos-stack:not(.ecos-stack--inline):not(.ecos-section) {
    display: block;
    contain: content;
  }
  .ecos-stack:not(.ecos-stack--inline) > * + * {
    margin-top: calc(var(--type-ramp-base-font-size) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--large:not(.ecos-stack--inline) > * + * {
    margin-top: calc((var(--type-ramp-base-font-size) * 2) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--small:not(.ecos-stack--inline) > * + * {
    margin-top: calc((var(--type-ramp-base-font-size) * 0.5) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));  
  }

  .ecos-stack.ecos-stack--inline {
    display: inline;
    contain: content;
  }
  .ecos-stack.ecos-stack--inline > * + * {
    margin-left: calc(var(--type-ramp-base-font-size) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--large.ecos-stack--inline > * + * {
    margin-left: calc((var(--type-ramp-base-font-size) * 2) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--small.ecos-stack--inline > * + * {
    margin-left: calc((var(--type-ramp-base-font-size) * 0.5) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));  
  }

`;var uc=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},dc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let pc=class extends bt{constructor(){super(...arguments),this.verticalpadded=!0,this.nocontain=!1,this.stacked=!0,this.centerwidth="65ch",this.largev=!1}};uc([lt({mode:"boolean"}),dc("design:type",Object)],pc.prototype,"verticalpadded",void 0),uc([lt({mode:"boolean"}),dc("design:type",Object)],pc.prototype,"nocontain",void 0),uc([lt({mode:"boolean"}),dc("design:type",Object)],pc.prototype,"stacked",void 0),uc([lt(),dc("design:type",Object)],pc.prototype,"centerwidth",void 0),uc([lt({mode:"boolean"}),dc("design:type",Object)],pc.prototype,"largev",void 0),pc=uc([yt({name:"ecos-section",template:cc,styles:[hc,lc],shadowOptions:null})],pc);const gc=Array.isArray;var fc=Ne?Ne.prototype:void 0,vc=fc?fc.toString:void 0;const mc=function t(e){if("string"==typeof e)return e;if(gc(e))return function(t,e){for(var n=-1,i=null==t?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}(e,t)+"";if(bo(e))return vc?vc.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var bc=0;const yc=function(t){var e,n=++bc;return(null==(e=t)?"":mc(e))+n};function wc(t){return function(...t){return t.every((t=>t instanceof HTMLElement))}(t)&&("option"===t.getAttribute("role")||t instanceof HTMLOptionElement)}class xc extends bt{constructor(t,e,n,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,this.initialValue=this.initialValue||"",t&&(this.textContent=t),e&&(this.initialValue=e),n&&(this.defaultSelected=n),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,e){this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.$fastController.isConnected&&(this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected))}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){return this.value?this.value:this.textContent?this.textContent:""}get text(){return this.textContent}set value(t){this._value=t,this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=t),U.notify(this,"value")}get value(){return U.track(this,"value"),this._value?this._value:this.text}get form(){return this.proxy?this.proxy.form:null}}var kc,Cc,Sc;we([W],xc.prototype,"defaultSelected",void 0),we([lt({mode:"boolean"})],xc.prototype,"disabled",void 0),we([lt({attribute:"selected",mode:"boolean"})],xc.prototype,"selectedAttribute",void 0),we([W],xc.prototype,"selected",void 0),we([lt({attribute:"value",mode:"fromView"})],xc.prototype,"initialValue",void 0),Ae(xc,Se),function(t){t.listbox="listbox"}(kc||(kc={}));class $c extends bt{constructor(){super(...arguments),this.selectedIndex=-1,this.typeaheadBuffer="",this.typeaheadTimeout=-1,this.typeAheadExpired=!0,this.role=kc.listbox,this._options=[],this.selectedOptions=[],this.handleTypeAhead=t=>{this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeAheadExpired=!0),$c.TYPE_AHEAD_TIMEOUT_MS),t.length>1||(this.typeaheadBuffer=`${this.typeAheadExpired?"":this.typeaheadBuffer}${t}`)}}selectedIndexChanged(t,e){this.setSelectedOptions()}typeaheadBufferChanged(t,e){if(this.$fastController.isConnected){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),e=new RegExp(`^${t}`,"gi"),n=this.options.filter((t=>t.text.trim().match(e)));if(n.length){const t=this.options.indexOf(n[0]);t>-1&&(this.selectedIndex=t)}this.typeAheadExpired=!1}}slottedOptionsChanged(t,e){this.$fastController.isConnected&&(this.options=e.reduce(((t,e)=>(wc(e)&&t.push(e),t)),[]),this.options.forEach((t=>{t.id=t.id||yc("option-")})),this.setSelectedOptions(),this.setDefaultSelectedOption())}get options(){return U.track(this,"options"),this._options}set options(t){this._options=t,U.notify(this,"options")}selectedOptionsChanged(t,e){this.$fastController.isConnected&&this.options.forEach((t=>{t.selected=e.includes(t)}))}get firstSelectedOption(){return this.selectedOptions[0]}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&this.firstSelectedOption&&(this.firstSelectedOption.focus(),this.firstSelectedOption.scrollIntoView({block:"nearest"}))}focusinHandler(t){t.target===t.currentTarget&&(this.setSelectedOptions(),this.focusAndScrollOptionIntoView())}setDefaultSelectedOption(){if(this.options&&this.$fastController.isConnected){const t=this.options.findIndex((t=>null!==t.getAttribute("selected")));if(-1!==t)return void(this.selectedIndex=t);this.selectedIndex=0}}setSelectedOptions(){if(this.$fastController.isConnected&&this.options){const t=this.options[this.selectedIndex]||null;this.selectedOptions=this.options.filter((e=>e.isSameNode(t))),this.ariaActiveDescendant=this.firstSelectedOption?this.firstSelectedOption.id:"",this.focusAndScrollOptionIntoView()}}selectFirstOption(){this.disabled||(this.selectedIndex=0)}selectLastOption(){this.disabled||(this.selectedIndex=this.options.length-1)}selectNextOption(){!this.disabled&&this.options&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}get length(){return this.options?this.options.length:0}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}clickHandler(t){const e=t.target.closest("option,[role=option]");if(e&&!e.disabled)return this.selectedIndex=this.options.indexOf(e),!0}keydownHandler(t){if(this.disabled)return!0;const e=t.key;switch(e){case"Home":t.shiftKey||(t.preventDefault(),this.selectFirstOption());break;case"ArrowDown":t.shiftKey||(t.preventDefault(),this.selectNextOption());break;case"ArrowUp":t.shiftKey||(t.preventDefault(),this.selectPreviousOption());break;case"End":t.preventDefault(),this.selectLastOption();break;case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Enter":case"Escape":return!0;case" ":if(this.typeAheadExpired)return!0;default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}}$c.TYPE_AHEAD_TIMEOUT_MS=1e3,$c.slottedOptionFilter=t=>wc(t)&&!t.disabled&&!t.hidden,we([W],$c.prototype,"selectedIndex",void 0),we([W],$c.prototype,"typeaheadBuffer",void 0),we([lt],$c.prototype,"role",void 0),we([lt({mode:"boolean"})],$c.prototype,"disabled",void 0),we([W],$c.prototype,"slottedOptions",void 0),we([W],$c.prototype,"selectedOptions",void 0);class Tc{constructor(){this.ariaActiveDescendant=""}}we([W],Tc.prototype,"ariaActiveDescendant",void 0),we([W],Tc.prototype,"ariaDisabled",void 0),we([W],Tc.prototype,"ariaExpanded",void 0),Ae(Tc,xe),Ae($c,Tc);class Ac extends $c{}class Ec extends(za(Ac)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}!function(t){t.above="above",t.below="below"}(Cc||(Cc={})),function(t){t.combobox="combobox"}(Sc||(Sc={}));class Oc extends Ec{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.role=Sc.combobox,this.position=Cc.below,this.maxHeight=0,this.displayValue="",this.formResetCallback=()=>{this.setProxyOptions(),this.setDefaultSelectedOption(),this.value=this.firstSelectedOption.value}}openChanged(){this.ariaExpanded=this.open?"true":"false",this.open&&(this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex)}get value(){return U.track(this,"value"),this._value}set value(t){const e=`${this._value}`;if(this.$fastController.isConnected&&this.options){const e=this.options.findIndex((e=>e.value===t)),n=this.options[this.selectedIndex],i=this.options[e],s=n?n.value:null,o=i?i.value:null;-1!==e&&s===o||(t="",this.selectedIndex=e),this.firstSelectedOption&&(t=this.firstSelectedOption.value)}e!==t&&(this._value=t,super.valueChanged(e,t),U.notify(this,"value"))}updateValue(t){this.$fastController.isConnected&&(this.value=this.firstSelectedOption?this.firstSelectedOption.value:"",this.displayValue=this.firstSelectedOption?this.firstSelectedOption.textContent||this.firstSelectedOption.value:this.value),t&&this.$emit("change")}selectedIndexChanged(t,e){super.selectedIndexChanged(t,e),this.updateValue()}setPositioning(){const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom;this.position=this.forcedPosition?this.positionAttribute:t.top>e?Cc.above:Cc.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===Cc.above?~~t.top:~~e}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}clickHandler(t){if(!this.disabled){if(this.open){const e=t.target.closest("option,[role=option]");if(e&&e.disabled)return}return super.clickHandler(t),this.open=!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(t){if(!this.open)return!0;const e=t.relatedTarget;this.isSameNode(e)?this.focus():this.options&&this.options.includes(e)||(this.open=!1)}slottedOptionsChanged(t,e){super.slottedOptionsChanged(t,e),this.setProxyOptions(),this.updateValue()}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((t=>{const e=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null);e&&this.proxy.appendChild(e)})))}keydownHandler(t){switch(super.keydownHandler(t),t.key||t.key.charCodeAt(0)){case" ":this.typeAheadExpired&&(t.preventDefault(),this.open=!this.open);break;case"Enter":t.preventDefault(),this.open=!this.open;break;case"Escape":this.open&&(t.preventDefault(),this.open=!1);break;case"Tab":if(!this.open)return!0;t.preventDefault(),this.open=!1}return this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute}}we([lt({attribute:"open",mode:"boolean"})],Oc.prototype,"open",void 0),we([lt({attribute:"position"})],Oc.prototype,"positionAttribute",void 0),we([W],Oc.prototype,"position",void 0),we([W],Oc.prototype,"maxHeight",void 0),we([W],Oc.prototype,"displayValue",void 0);class Pc{}we([W],Pc.prototype,"ariaExpanded",void 0),we([lt({attribute:"aria-pressed",mode:"fromView"})],Pc.prototype,"ariaPressed",void 0),Ae(Pc,xe),Ae(Oc,Se,Pc);const Rc=Yt`
    <template
        class="${t=>t.open?"open":""} ${t=>t.disabled?"disabled":""} ${t=>t.position}"
        role="${t=>t.role}"
        tabindex="${t=>t.disabled?null:"0"}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-expanded="${t=>t.ariaExpanded}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @focusout="${(t,e)=>t.focusoutHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
    >
        <div
            aria-activedescendant="${t=>t.open?t.ariaActiveDescendant:null}"
            aria-controls="listbox"
            aria-expanded="${t=>t.ariaExpanded}"
            aria-haspopup="listbox"
            class="control"
            part="control"
            role="button"
            ?disabled="${t=>t.disabled}"
        >
            ${Te}
            <slot name="button-container">
                <div class="selected-value" part="selected-value">
                    <slot name="selected-value">${t=>t.displayValue}</slot>
                </div>
                <div class="indicator" part="indicator" aria-hidden="true">
                    <slot name="indicator">
                        <svg
                            class="select-indicator"
                            part="select-indicator"
                            viewBox="0 0 12 7"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z"
                            />
                        </svg>
                    </slot>
                </div>
            </slot>
            ${$e}
        </div>
        <div
            aria-disabled="${t=>t.disabled}"
            class="listbox"
            id="listbox"
            part="listbox"
            role="listbox"
            style="--max-height: ${t=>t.maxHeight}px"
            ?disabled="${t=>t.disabled}"
            ?hidden="${t=>!t.open}"
        >
            <slot
                ${Re({filter:$c.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,Ic=xt`
    ${kt("inline-flex")} :host {
        --elevation: 14;
        background: ${Mr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${Hr.var};
        box-sizing: border-box;
        color: ${Cr.var};
        font-family: var(--body-font);
        height: calc(${Xe} * 1px);
        position: relative;
        user-select: none;
        min-width: 250px;
        outline: none;
        vertical-align: top;
    }

    .listbox {
        ${ul}
        background: ${Kr.var};
        border: calc(var(--outline-width) * 1px) solid ${_r.var};
        border-radius: calc(var(--corner-radius) * 1px);
        box-sizing: border-box;
        display: inline-flex;
        flex-direction: column;
        left: 0;
        max-height: calc(var(--max-height) - (${Xe} * 1px));
        padding: calc(var(--design-unit) * 1px) 0;
        overflow-y: auto;
        position: absolute;
        width: 100%;
        z-index: 1;
    }

    .listbox[hidden] {
        display: none;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: flex;
        font-size: var(--type-ramp-base-font-size);
        font-family: inherit;
        line-height: var(--type-ramp-base-line-height);
        min-height: 100%;
        padding: 0 calc(var(--design-unit) * 2.25px);
        width: 100%;
    }

    :host(:not([disabled]):hover) {
        background: ${Br.var};
        border-color: ${qr.var};
    }

    :host(:${We}) {
        border-color: ${Yr.var};
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Yr.var};
    }

    :host(:${We}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Xr.var};
        border-color: ${Yr.var};
        background: ${qr.var};
        color: ${Pr.var};
    }

    :host([disabled]) {
        cursor: ${Ke};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        cursor: ${Ke};
        user-select: none;
    }

    :host([disabled]:hover) {
        background: ${Fr.var};
        color: ${Cr.var};
        fill: currentcolor;
    }

    :host(:not([disabled])) .control:active {
        background: ${Vr.var};
        border-color: ${Ur.var};
    }

    :host([open][position="above"]) .listbox,
    :host([open][position="below"]) .control {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    :host([open][position="above"]) .control,
    :host([open][position="below"]) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    :host([open][position="above"]) .listbox {
        border-bottom: 0;
        bottom: calc(${Xe} * 1px);
    }

    :host([open][position="below"]) .listbox {
        border-top: 0;
        top: calc(${Xe} * 1px);
    }

    .selected-value {
        flex: 1 1 auto;
        font-family: inherit;
        text-align: start;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .indicator {
        flex: 0 0 auto;
        margin-inline-start: 1em;
    }

    slot[name="listbox"] {
        display: none;
        width: 100%;
    }

    :host([open]) slot[name="listbox"] {
        display: flex;
        position: absolute;
        ${ul}
    }

    .end {
        margin-inline-start: auto;
    }

    .start,
    .end,
    .indicator,
    .select-indicator,
    ::slotted(svg) {
        ${""}
        fill: currentcolor;
        height: 1em;
        min-height: calc(var(--design-unit) * 4px);
        min-width: calc(var(--design-unit) * 4px);
        width: 1em;
    }

    ::slotted([role="option"]),
    ::slotted(option) {
        flex: 0 0 auto;
    }

`.withBehaviors(Ur,qr,Hr,Pr,Or,Qe(xt`
            :host(:not([disabled]):hover),
            :host(:not([disabled]):active) {
                border-color: ${Ye.Highlight};
            }

            :host(:not([disabled]):${We}) {
                background-color: ${Ye.ButtonFace};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Ye.Highlight};
                color: ${Ye.ButtonText};
                fill: currentcolor;
                forced-color-adjust: none;
            }

            :host(:not([disabled]):${We}) .listbox {
                background: ${Ye.ButtonFace};
            }

            :host([disabled]) {
                border-color: ${Ye.GrayText};
                background-color: ${Ye.ButtonFace};
                color: ${Ye.GrayText};
                fill: currentcolor;
                opacity: 1;
                forced-color-adjust: none;
            }

            :host([disabled]:hover) {
                background: ${Ye.ButtonFace};
            }

            :host([disabled]) .control {
                color: ${Ye.GrayText};
                border-color: ${Ye.GrayText};
            }

            :host([disabled]) .control .select-indicator {
                fill: ${Ye.GrayText};
            }

            :host(:${We}) ::slotted([aria-selected="true"][role="option"]),
            :host(:${We}) ::slotted(option[aria-selected="true"]),
            :host(:${We}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
                background: ${Ye.Highlight};
                border-color: ${Ye.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Ye.HighlightText};
                color: ${Ye.HighlightText};
                fill: currentcolor;
            }

            .start,
            .end,
            .indicator,
            .select-indicator,
            ::slotted(svg) {
                color: ${Ye.ButtonText};
                fill: currentcolor;
            }
        `),Vr,Br,Mr,Yr,Xr,Cr,Kr,_r);let jc=class extends Oc{};jc=we([yt({name:"fast-select",template:Rc,styles:Ic})],jc);const Fc=Ic,Lc=Yt`
    <template
        aria-selected="${t=>t.selected}"
        class="${t=>t.selected?"selected":""} ${t=>t.disabled?"disabled":""}"
        role="option"
    >
        ${Te}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${$e}
    </template>
`,Nc=xt`
    ${kt("inline-flex")} :host {
        align-items: center;
        font-family: var(--body-font);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: ${Cr.var};
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(${Xe} * 1px);
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: hidden;
        padding: 0 calc(var(--design-unit) * 2.25px);
        user-select: none;
        white-space: nowrap;
    }

    :host(:${We}) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Xr.var};
        border-color: ${Yr.var};
        background: ${qr.var};
        color: ${Pr.var};
    }

    :host([aria-selected="true"]) {
        background: ${qr.var};
        color: ${Pr.var};
    }

    :host(:active) {
        background: ${Ur.var};
        color: ${Pr.var};
    }

    :host(:not([aria-selected="true"]):hover) {
        background: ${Ir.var};
        color: ${Sr.var};
    }

    :host(:not([aria-selected="true"]):active) {
        background: ${Ir.var};
        color: ${Sr.var};
    }

    :host([disabled]) {
        cursor: ${Ke};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        background-color: inherit;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end,
    ::slotted(svg) {
        display: flex;
    }

    ::slotted(svg) {
        ${""}
        height: calc(var(--design-unit) * 4px);
        width: calc(var(--design-unit) * 4px);
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 1ch;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 1ch;
    }

`.withBehaviors(Ur,qr,zr,Pr,Qe(xt`
            :host {
                border-color: transparent;
                forced-color-adjust: none;
                color: ${Ye.ButtonText};
                fill: currentcolor;
            }

            :host(:not([aria-selected="true"]):hover),
            :host([aria-selected="true"]) {
                background: ${Ye.Highlight};
                color: ${Ye.HighlightText};
            }

            :host([disabled]),
            :host([disabled]:not([aria-selected="true"]):hover) {
                background: ${Ye.Canvas};
                color: ${Ye.GrayText};
                fill: currentcolor;
                opacity: 1;
            }
        `),Ir,Lr,Fr,Dr,Yr,Xr,Sr,Cr,Gr);let Dc=class extends xc{};Dc=we([yt({name:"fast-option",template:Lc,styles:Nc})],Dc);const Mc=Nc;var Bc=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let Vc=class extends jc{};Vc=Bc([yt({name:"ecos-select",template:Rc,styles:Fc})],Vc);let Hc=class extends Dc{};var qc,Uc;function zc(t,e,n,i){let s=(0,1,o=(t-e)/(n-e),Math.min(Math.max(o,0),1));var o;return i===tn.rtl&&(s=1-s),s}Hc=Bc([yt({name:"ecos-option",template:Lc,styles:Mc})],Hc),function(t){t.horizontal="horizontal",t.vertical="vertical"}(qc||(qc={}));class _c extends bt{}class Wc extends(za(_c)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}!function(t){t.singleValue="single-value"}(Uc||(Uc={}));class Kc extends Wc{constructor(){super(...arguments),this.direction=tn.ltr,this.isDragging=!1,this.trackWidth=0,this.trackMinWidth=0,this.trackHeight=0,this.trackLeft=0,this.trackMinHeight=0,this.valueTextFormatter=()=>null,this.min=0,this.max=10,this.step=1,this.orientation=qc.horizontal,this.mode=Uc.singleValue,this.keypressHandler=t=>{if(9!==t.keyCode&&t.preventDefault(),36===t.keyCode)this.value=`${this.min}`;else if(35===t.keyCode)this.value=`${this.max}`;else if(!t.shiftKey)switch(t.keyCode){case 39:case 38:this.increment();break;case 37:case 40:this.decrement()}},this.setupTrackConstraints=()=>{const t=this.track.getBoundingClientRect();this.trackWidth=this.track.clientWidth,this.trackMinWidth=this.track.clientLeft,this.trackHeight=t.bottom,this.trackMinHeight=t.top,this.trackLeft=this.getBoundingClientRect().left,0===this.trackWidth&&(this.trackWidth=1)},this.setupListeners=()=>{this.addEventListener("keydown",this.keypressHandler),this.addEventListener("mousedown",this.handleMouseDown),this.thumb.addEventListener("mousedown",this.handleThumbMouseDown),this.thumb.addEventListener("touchstart",this.handleThumbMouseDown)},this.initialValue="",this.handleThumbMouseDown=t=>{this.readOnly||this.disabled||t.defaultPrevented||(t.preventDefault(),t.target.focus(),window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("touchmove",this.handleMouseMove),window.addEventListener("touchend",this.handleWindowMouseUp),this.isDragging=!0)},this.handleMouseMove=t=>{if(this.readOnly||this.disabled||t.defaultPrevented)return;const e=window.TouchEvent&&t instanceof TouchEvent?t.touches[0]:t,n=this.orientation===qc.horizontal?e.pageX-this.trackLeft:e.pageY;this.value=`${this.calculateNewValue(n)}`},this.calculateNewValue=t=>{const e=zc(t,this.orientation===qc.horizontal?this.trackMinWidth:this.trackMinHeight,this.orientation===qc.horizontal?this.trackWidth:this.trackHeight,this.direction),n=(this.max-this.min)*e+this.min;return this.convertToConstrainedValue(n)},this.handleWindowMouseUp=t=>{this.stopDragging()},this.stopDragging=()=>{this.isDragging=!1,window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("touchend",this.handleWindowMouseUp)},this.handleMouseDown=t=>{if(t.preventDefault(),!this.disabled&&!this.readOnly){this.setupTrackConstraints(),t.target.focus(),window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleMouseMove);const e=this.orientation===qc.horizontal?t.pageX-this.trackLeft:t.pageY;this.value=`${this.calculateNewValue(e)}`}},this.convertToConstrainedValue=t=>{isNaN(t)&&(t=this.min);let e=t-this.min;const n=e%Number(this.step);return e=n>=Number(this.step)/2?e-n+Number(this.step):e-n,e+this.min}}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}valueChanged(t,e){super.valueChanged(t,e),this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction),this.$emit("change")}minChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.min=`${this.min}`),this.validate()}maxChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.max=`${this.max}`),this.validate()}stepChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.step=`${this.step}`),this.validate()}orientationChanged(){this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","range"),this.direction=(t=>{const e=this.closest("[dir]");return null!==e&&"rtl"===e.dir?tn.rtl:tn.ltr})(),this.setupTrackConstraints(),this.setupListeners(),this.setupDefaultValue(),this.setThumbPositionForOrientation(this.direction)}disconnectedCallback(){this.removeEventListener("keydown",this.keypressHandler),this.removeEventListener("mousedown",this.handleMouseDown),this.thumb.removeEventListener("mousedown",this.handleThumbMouseDown),this.thumb.removeEventListener("touchstart",this.handleThumbMouseDown)}increment(){const t=this.direction!==tn.rtl&&this.orientation!==qc.vertical?Number(this.value)+Number(this.step):Number(this.value)-Number(this.step),e=this.convertToConstrainedValue(t),n=e<Number(this.max)?`${e}`:`${this.max}`;this.value=n}decrement(){const t=this.direction!==tn.rtl&&this.orientation!==qc.vertical?Number(this.value)-Number(this.step):Number(this.value)+Number(this.step),e=this.convertToConstrainedValue(t),n=e>Number(this.min)?`${e}`:`${this.min}`;this.value=n}setThumbPositionForOrientation(t){const e=zc(Number(this.value),Number(this.min),Number(this.max),t),n=Math.round(100*(1-e));this.orientation===qc.horizontal?this.position=this.isDragging?`right: ${n}%; transition: none;`:`right: ${n}%; transition: all 0.2s ease;`:this.position=this.isDragging?`bottom: ${n}%; transition: none;`:`bottom: ${n}%; transition: all 0.2s ease;`}get midpoint(){return`${this.convertToConstrainedValue((this.max+this.min)/2)}`}setupDefaultValue(){if("string"==typeof this.value)if(0===this.value.length)this.initialValue=this.midpoint;else{const t=parseFloat(this.value);!Number.isNaN(t)&&(t<this.min||t>this.max)&&(this.value=this.midpoint)}}}we([lt({attribute:"readonly",mode:"boolean"})],Kc.prototype,"readOnly",void 0),we([W],Kc.prototype,"direction",void 0),we([W],Kc.prototype,"isDragging",void 0),we([W],Kc.prototype,"position",void 0),we([W],Kc.prototype,"trackWidth",void 0),we([W],Kc.prototype,"trackMinWidth",void 0),we([W],Kc.prototype,"trackHeight",void 0),we([W],Kc.prototype,"trackLeft",void 0),we([W],Kc.prototype,"trackMinHeight",void 0),we([W],Kc.prototype,"valueTextFormatter",void 0),we([lt({converter:rt})],Kc.prototype,"min",void 0),we([lt({converter:rt})],Kc.prototype,"max",void 0),we([lt({converter:rt})],Kc.prototype,"step",void 0),we([lt],Kc.prototype,"orientation",void 0),we([lt],Kc.prototype,"mode",void 0);const Gc=Yt`
    <template
        role="slider"
        class="${t=>t.readOnly?"readonly":""}
        ${t=>t.orientation||qc.horizontal}"
        tabindex="${t=>t.disabled?null:0}"
        aria-valuetext="${t=>t.valueTextFormatter(t.value)}"
        aria-valuenow="${t=>t.value}"
        aria-valuemin="${t=>t.min}"
        aria-valuemax="${t=>t.max}"
        aria-disabled="${t=>!!t.disabled||void 0}"
        aria-readonly="${t=>!!t.readOnly||void 0}"
        aria-orientation="${t=>t.orientation}"
        class="${t=>t.orientation}"
    >
        <div part="positioning-region" class="positioning-region">
            <div ${Ce("track")} part="track-container" class="track">
                <slot name="track"></slot>
            </div>
            <slot></slot>
            <div
                ${Ce("thumb")}
                part="thumb-container"
                class="thumb-container"
                style=${t=>t.position}
            >
                <slot name="thumb"><div class="thumb-cursor"></div></slot>
            </div>
        </div>
    </template>
`,Qc=xt`
    :host([hidden]) {
        display: none;
    }

    ${kt("inline-grid")} :host {
        --thumb-size: calc(${Xe} * 0.5 - var(--design-unit));
        --thumb-translate: calc(var(--thumb-size) * 0.5);
        --track-overhang: calc((var(--design-unit) / 2) * -1);
        --track-width: var(--design-unit);
        --fast-slider-height: calc(var(--thumb-size) * 10);
        align-items: center;
        width: 100%;
        margin: calc(var(--design-unit) * 1px) 0;
        user-select: none;
        box-sizing: border-box;
        border-radius: calc(var(--corner-radius) * 1px);
        outline: none;
        cursor: pointer;
    }
    :host([orientation="horizontal"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        grid-template-rows: calc(var(--thumb-size) * 1px) 1fr;
    }
    :host([orientation="vertical"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        height: 100%;
        grid-template-columns: calc(var(--thumb-size) * 1px) 1fr;
    }

    :host(:${We}) .thumb-cursor {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px var(--neutral-focus);
    }
    
    .thumb-container {
        position: absolute;
        height: calc(var(--thumb-size) * 1px);
        width: calc(var(--thumb-size) * 1px);
        transition: all 0.2s ease;
        color: ${Cr.var};
        fill: currentcolor;
    }
    .thumb-cursor {
        border: none;
        width: calc(var(--thumb-size) * 1px);
        height: calc(var(--thumb-size) * 1px);
        background: ${Cr.var};
        border-radius: calc(var(--corner-radius) * 1px);
    }
    .thumb-cursor:hover {
        background: ${Sr.var};
        border-color: ${Wr.var};
    }
    .thumb-cursor:active {
        background: ${$r.var};
    }
    :host([orientation="horizontal"]) .thumb-container {
        transform: translateX(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="vertical"]) .thumb-container {
        transform: translateY(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="horizontal"]) {
        min-width: calc(var(--thumb-size) * 1px);
    }
    :host([orientation="horizontal"]) .track {
        right: calc(var(--track-overhang) * 1px);
        left: calc(var(--track-overhang) * 1px);
        align-self: start;
        margin-top: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        height: calc(var(--track-width) * 1px);
    }
    :host([orientation="vertical"]) .track {
        top: calc(var(--track-overhang) * 1px);
        bottom: calc(var(--track-overhang) * 1px);
        width: calc(var(--track-width) * 1px);
        margin-inline-start: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        height: 100%;
    }
    .track {
        background: ${_r.var};
        position: absolute;
        border-radius: calc(var(--corner-radius) * 1px);
    }
    :host([orientation="vertical"]) {
        height: calc(var(--fast-slider-height) * 1px);
        min-height: calc(var(--thumb-size) * 1px);
        min-width: calc(var(--design-unit) * 20px);
    }
    :host([disabled]), :host([readonly]) {
        cursor: ${Ke};
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors(Yr,$r,Sr,Cr,Wr,_r,Qe(xt`
            .thumb-cursor {
                forced-color-adjust: none;
                border-color: ${Ye.FieldText};
                background: ${Ye.FieldText};
            }
            .thumb-cursor:hover,
            .thumb-cursor:active {
                background: ${Ye.Highlight};
            }
            .track {
                forced-color-adjust: none;
                background: ${Ye.FieldText};
            }
            :host(:${We}) .thumb-cursor {
                border-color: ${Ye.Highlight};
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .track,
            :host([disabled]) .thumb-cursor {
                forced-color-adjust: none;
                background: ${Ye.GrayText};
            }

            :host(:${We}) .thumb-cursor {
                background: ${Ye.Highlight};
                border-color: ${Ye.Highlight};
                box-shadow: 0 0 0 2px ${Ye.Field}, 0 0 0 4px ${Ye.FieldText};    
            }
        `));let Yc=class extends Kc{};Yc=we([yt({name:"fast-slider",template:Gc,styles:Qc})],Yc);const Xc=Qc;let Zc=class extends Yc{};Zc=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-slider",template:Gc,styles:Xc})],Zc);const Jc=Yt`<template class="ecos-stack ${t=>t.small?"ecos-stack--small":""} ${t=>t.large?"ecos-stack--large":""} ${t=>t.inline?"ecos-stack--inline":""}"><slot></slot></template>`;var th=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},eh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let nh=class extends bt{constructor(){super(...arguments),this.small=!1,this.large=!1,this.inline=!1}};th([lt({mode:"boolean"}),eh("design:type",Object)],nh.prototype,"small",void 0),th([lt({mode:"boolean"}),eh("design:type",Object)],nh.prototype,"large",void 0),th([lt({mode:"boolean"}),eh("design:type",Object)],nh.prototype,"inline",void 0),nh=th([yt({name:"ecos-stack",template:Jc,styles:hc})],nh);class ih extends bt{}class sh extends(za(ih)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}var oh;!function(t){t.email="email",t.password="password",t.tel="tel",t.text="text",t.url="url"}(oh||(oh={}));class rh extends sh{constructor(){super(...arguments),this.type=oh.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&P.queueUpdate((()=>{this.focus()}))}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}}we([lt({attribute:"readonly",mode:"boolean"})],rh.prototype,"readOnly",void 0),we([lt({mode:"boolean"})],rh.prototype,"autofocus",void 0),we([lt],rh.prototype,"placeholder",void 0),we([lt],rh.prototype,"type",void 0),we([lt],rh.prototype,"list",void 0),we([lt({converter:rt})],rh.prototype,"maxlength",void 0),we([lt({converter:rt})],rh.prototype,"minlength",void 0),we([lt],rh.prototype,"pattern",void 0),we([lt({converter:rt})],rh.prototype,"size",void 0),we([lt({mode:"boolean"})],rh.prototype,"spellcheck",void 0),we([W],rh.prototype,"defaultSlottedNodes",void 0);class ah{}Ae(ah,xe),Ae(rh,Se,ah);const lh=Yt`
    <template
        class="
            ${t=>t.readOnly?"readonly":""}
        "
    >
        <label
            part="label"
            for="control"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot
                ${Re({property:"defaultSlottedNodes",filter:function(t,e,n){return t.nodeType!==Node.TEXT_NODE||"string"==typeof t.nodeValue&&!!t.nodeValue.trim().length}})}
            ></slot>
        </label>
        <div class="root" part="root">
            ${Te}
            <input
                class="control"
                part="control"
                id="control"
                @input="${t=>t.handleTextInput()}"
                @change="${t=>t.handleChange()}"
                ?autofocus="${t=>t.autofocus}"
                ?disabled="${t=>t.disabled}"
                list="${t=>t.list}"
                maxlength="${t=>t.maxlength}"
                minlength="${t=>t.minlength}"
                pattern="${t=>t.pattern}"
                placeholder="${t=>t.placeholder}"
                ?readonly="${t=>t.readOnly}"
                ?required="${t=>t.required}"
                size="${t=>t.size}"
                ?spellcheck="${t=>t.spellcheck}"
                :value="${t=>t.value}"
                type="${t=>t.type}"
                aria-atomic="${t=>t.ariaAtomic}"
                aria-busy="${t=>t.ariaBusy}"
                aria-controls="${t=>t.ariaControls}"
                aria-current="${t=>t.ariaCurrent}"
                aria-describedBy="${t=>t.ariaDescribedby}"
                aria-details="${t=>t.ariaDetails}"
                aria-disabled="${t=>t.ariaDisabled}"
                aria-errormessage="${t=>t.ariaErrormessage}"
                aria-flowto="${t=>t.ariaFlowto}"
                aria-haspopup="${t=>t.ariaHaspopup}"
                aria-hidden="${t=>t.ariaHidden}"
                aria-invalid="${t=>t.ariaInvalid}"
                aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
                aria-label="${t=>t.ariaLabel}"
                aria-labelledby="${t=>t.ariaLabelledby}"
                aria-live="${t=>t.ariaLive}"
                aria-owns="${t=>t.ariaOwns}"
                aria-relevant="${t=>t.ariaRelevant}"
                aria-roledescription="${t=>t.ariaRoledescription}"
                ${Ce("control")}
            />
            ${$e}
        </div>
    </template>
`,ch=xt`
    ${kt("inline-block")} :host {
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }

    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: ${Cr.var};
        background: ${Mr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${Hr.var};
        height: calc(${Xe} * 1px);
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        border: 0;
        color: inherit;
        height: calc(100% - 4px);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .control:hover,
    .control:${We},
    .control:disabled,
    .control:active {
        outline: none;
    }

    .label {
        display: block;
        color: ${Cr.var};
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .start,
    .end {
        margin: auto;
        fill: currentcolor;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    .start {
        margin-inline-start: 11px;
    }

    .end {
        margin-inline-end: 11px;
    }

    :host(:hover:not([disabled])) .root {
        background: ${Br.var};
        border-color: ${qr.var};
    }

    :host(:active:not([disabled])) .root {
        background: ${Br.var};
        border-color: ${Ur.var};
    }

    :host(:focus-within:not([disabled])) .root {
        border-color: ${Yr.var};
        box-shadow: 0 0 0 1px ${Yr.var} inset;
    }

    :host([appearance="filled"]) .root {
        background: ${Rr.var};
    }

    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: ${Ir.var};
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: ${Ke};
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        border-color: ${_r.var};
    }
`.withBehaviors(Ur,qr,Hr,Ir,Br,Mr,Rr,Yr,Cr,_r,Qe(xt`
            .root,
            :host([appearance="filled"]) .root {
                forced-color-adjust: none;
                background: ${Ye.Field};
                border-color: ${Ye.FieldText};
            }
            :host(:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover) .root {
                background: ${Ye.Field};
                border-color: ${Ye.Highlight};
            }
            .start,
            .end {
                fill: currentcolor;
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .root,
            :host([appearance="filled"]:hover[disabled]) .root {
                border-color: ${Ye.GrayText};
                background: ${Ye.Field};
            }
            :host(:focus-within:enabled) .root {
                border-color: ${Ye.Highlight};
                box-shadow: 0 0 0 1px ${Ye.Highlight} inset;
            }
        `));let hh=class extends rh{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="outline")}};we([lt],hh.prototype,"appearance",void 0),hh=we([yt({name:"fast-text-field",template:lh,styles:ch,shadowOptions:{delegatesFocus:!0}})],hh);const uh=ch;let dh=class extends hh{};dh=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yt({name:"ecos-text-field",template:lh,styles:uh,shadowOptions:{delegatesFocus:!0}})],dh);const ph=xt`

  .ecos-two {
    display: grid;
    contain: content;
    grid-gap: var(--spacing-unit);
    justify-items: center;
    text-align: center;
  }

  @media screen and (min-width: 732px) {
    .ecos-two {
      grid-template-columns: 1fr 1fr;
      align-items: center;
      text-align: inherit;
    }
    .ecos-two.rightleft > :nth-child(1) {
      grid-column: 2;
      grid-row: 1;
    }
    .ecos-two.rightleft > :nth-child(2) {
      grid-row: 1;
      grid-column: 1;
    }
  }

`,gh=Yt`
<template class="ecos-two ${t=>t.rightleft?"rightleft":""}">
  <slot></slot>
</template>`;var fh=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let vh=class extends bt{constructor(){super(...arguments),this.rightleft=!1}};function mh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function bh(t){return null==t}fh([lt({mode:"boolean"}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],vh.prototype,"rightleft",void 0),vh=fh([yt({name:"ecos-two",template:gh,styles:ph,shadowOptions:null})],vh);const yh=new WeakMap;function wh(t,e,n,i,s){return new TypeError(`${t}(${e.map(String).join(",")}) - Expected '${n}' to be of type ${s}, but got: ${Object.prototype.toString.call(i)} (${String(i)})`)}function xh(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:return`${t}`}}function kh(t,e,n){let i=yh.get(t);if(void 0===i){if(!n)return;i=new Map,yh.set(t,i)}let s=i.get(e);if(void 0===s){if(!n)return;s=new Map,i.set(e,s)}return s}function Ch(t,e,n){const i=kh(e,n,!1);return void 0!==i&&i.has(t)}function Sh(t,e,n){if(Ch(t,e,n))return!0;const i=Object.getPrototypeOf(e);return null!==i&&Sh(t,i,n)}function $h(t,e,n){const i=kh(e,n,!1);if(void 0!==i)return i.get(t)}function Th(t,e,n){if(Ch(t,e,n))return $h(t,e,n);const i=Object.getPrototypeOf(e);return null!==i?Th(t,i,n):void 0}function Ah(t,e,n,i){kh(n,i,!0).set(t,e)}function Eh(t,e){const n=[],i=kh(t,e,!1);if(void 0===i)return n;const s=i.keys();let o=0;for(const t of s)n[o]=t,++o;return n}function Oh(t,e){const n=Eh(t,e),i=Object.getPrototypeOf(t);if(null===i)return n;const s=Oh(i,e),o=n.length;if(0===o)return s;const r=s.length;if(0===r)return n;const a=new Set,l=[];let c,h=0;for(let t=0;t<o;++t)c=n[t],a.has(c)||(a.add(c),l[h]=c,++h);for(let t=0;t<r;++t)c=s[t],a.has(c)||(a.add(c),l[h]=c,++h);return l}function Ph(t,e){return function(n,i){if(!mh(n))throw wh("@metadata",[t,e,n,i],"target",n,"Object or Function");Ah(t,e,n,function(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:throw new TypeError(`Invalid metadata propertyKey: ${t}.`)}}(i))}}function Rh(t,e,n,i){if(void 0!==n){if(!Array.isArray(t))throw wh("Metadata.decorate",[t,e,n,i],"decorators",t,"Array");if(!mh(e))throw wh("Metadata.decorate",[t,e,n,i],"target",e,"Object or Function");if(!mh(i)&&!bh(i))throw wh("Metadata.decorate",[t,e,n,i],"attributes",i,"Object, Function, null, or undefined");return null===i&&(i=void 0),function(t,e,n,i){for(let s=t.length-1;s>=0;--s){const o=(0,t[s])(e,n,i);if(!bh(o)){if(!mh(o))throw wh("DecorateProperty",[t,e,n,i],"decorated",o,"Object, Function, null, or undefined");i=o}}return i}(t,e,n=function(t){switch(typeof t){case"string":case"symbol":return t;default:return`${t}`}}(n),i)}if(!Array.isArray(t))throw wh("Metadata.decorate",[t,e,n,i],"decorators",t,"Array");if("function"!=typeof e)throw wh("Metadata.decorate",[t,e,n,i],"target",e,"Function");return function(t,e){for(let n=t.length-1;n>=0;--n){const i=(0,t[n])(e);if(!bh(i)){if("function"!=typeof i)throw wh("DecorateConstructor",[t,e],"decorated",i,"Function, null, or undefined");e=i}}return e}(t,e)}function Ih(t,e,n,i){if(!mh(n))throw wh("Metadata.define",[t,e,n,i],"target",n,"Object or Function");return Ah(t,e,n,xh(i))}function jh(t,e,n){if(!mh(e))throw wh("Metadata.has",[t,e,n],"target",e,"Object or Function");return Sh(t,e,xh(n))}function Fh(t,e,n){if(!mh(e))throw wh("Metadata.hasOwn",[t,e,n],"target",e,"Object or Function");return Ch(t,e,xh(n))}function Lh(t,e,n){if(!mh(e))throw wh("Metadata.get",[t,e,n],"target",e,"Object or Function");return Th(t,e,xh(n))}function Nh(t,e,n){if(!mh(e))throw wh("Metadata.getOwn",[t,e,n],"target",e,"Object or Function");return $h(t,e,xh(n))}function Dh(t,e){if(!mh(t))throw wh("Metadata.getKeys",[t,e],"target",t,"Object or Function");return Oh(t,xh(e))}function Mh(t,e){if(!mh(t))throw wh("Metadata.getOwnKeys",[t,e],"target",t,"Object or Function");return Eh(t,xh(e))}function Bh(t,e,n){if(!mh(e))throw wh("Metadata.delete",[t,e,n],"target",e,"Object or Function");return function(t,e,n){const i=kh(t,n,!1);return void 0!==i&&i.delete(e)}(e,t,xh(n))}const Vh={define:Ih,has:jh,hasOwn:Fh,get:Lh,getOwn:Nh,getKeys:Dh,getOwnKeys:Mh,delete:Bh};function Hh(t,e,n,i,s){if(!Reflect.defineProperty(t,e,{writable:i,enumerable:!1,configurable:s,value:n}))throw new Error(`Unable to apply metadata polyfill: could not add property '${e}' to the global Reflect object`)}const qh="[[$au]]";function Uh(t,e,n){Hh(t,qh,yh,e,n),Hh(t,"metadata",Ph,e,n),Hh(t,"decorate",Rh,e,n),Hh(t,"defineMetadata",Ih,e,n),Hh(t,"hasMetadata",jh,e,n),Hh(t,"hasOwnMetadata",Fh,e,n),Hh(t,"getMetadata",Lh,e,n),Hh(t,"getOwnMetadata",Nh,e,n),Hh(t,"getMetadataKeys",Dh,e,n),Hh(t,"getOwnMetadataKeys",Mh,e,n),Hh(t,"deleteMetadata",Bh,e,n)}const zh={};function _h(t){switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=zh[t];if(void 0!==e)return e;const n=t.length;if(0===n)return zh[t]=!1;let i=0;for(let e=0;e<n;++e)if(i=t.charCodeAt(e),0===e&&48===i&&n>1||i<48||i>57)return zh[t]=!1;return zh[t]=!0}default:return!1}}function Wh(t){switch(typeof t){case"number":case"bigint":return!0;default:return!1}}function Kh(t){switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}}const Gh=function(){let t;!function(t){t[t.none=0]="none",t[t.digit=1]="digit",t[t.upper=2]="upper",t[t.lower=3]="lower"}(t||(t={}));const e=Object.assign(Object.create(null),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0});function n(t){return""===t?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:!0===e[t]?1:0}return function(t,e){const i=t.length;if(0===i)return t;let s,o=!1,r="",a="",l=0,c=t.charAt(0),h=n(c);for(let u=0;u<i;++u)s=l,a=c,l=h,c=t.charAt(u+1),h=n(c),0===l?r.length>0&&(o=!0):(!o&&r.length>0&&2===l&&(o=3===s||3===h),r+=e(a,o),o=!1);return r}}(),Qh=function(){const t=Object.create(null);function e(t,e){return e?t.toUpperCase():t.toLowerCase()}return function(n){let i=t[n];return void 0===i&&(i=t[n]=Gh(n,e)),i}}(),Yh=function(){const t=Object.create(null);return function(e){let n=t[e];return void 0===n&&(n=Qh(e),n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),t[e]=n),n}}(),Xh=function(){const t=Object.create(null);function e(t,e){return e?`-${t.toLowerCase()}`:t.toLowerCase()}return function(n){let i=t[n];return void 0===i&&(i=t[n]=Gh(n,e)),i}}();function Zh(t){const{length:e}=t,n=Array(e);for(let i=0;i<e;++i)n[i]=t[i];return n}const Jh={};function tu(t){return void 0===Jh[t]&&(Jh[t]=0),++Jh[t]}function eu(t,e){return t-e}function nu(t,e,n){return{configurable:!0,enumerable:n.enumerable,get(){const t=n.value.bind(this);return Reflect.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:n.enumerable}),t}}}function iu(...t){const e=[];let n=0;const i=t.length;let s,o=0;for(let r=0;r<i;++r)if(s=t[r],void 0!==s){o=s.length;for(let t=0;t<o;++t)e[n++]=s[t]}return e}function su(...t){const e=t.length;let n;for(let i=0;i<e;++i)if(n=t[i],void 0!==n)return n;throw new Error("No default value found")}const ou=function(){const t=Function.prototype,e=Object.getPrototypeOf,n=new WeakMap;let i,s=t,o=0;return function(r){if(i=n.get(r),void 0===i)for(n.set(r,i=[s=r]),o=0;(s=e(s))!==t;)i[++o]=s;return i}}();function ru(...t){return Object.assign(Object.create(null),...t)}const au=function(){const t=new WeakMap;let e=!1,n="",i=0;return function(s){return e=t.get(s),void 0===e&&(n=s.toString(),i=n.length,e=i>=29&&i<=100&&125===n.charCodeAt(i-1)&&n.charCodeAt(i-2)<=32&&93===n.charCodeAt(i-3)&&101===n.charCodeAt(i-4)&&100===n.charCodeAt(i-5)&&111===n.charCodeAt(i-6)&&99===n.charCodeAt(i-7)&&32===n.charCodeAt(i-8)&&101===n.charCodeAt(i-9)&&118===n.charCodeAt(i-10)&&105===n.charCodeAt(i-11)&&116===n.charCodeAt(i-12)&&97===n.charCodeAt(i-13)&&110===n.charCodeAt(i-14)&&88===n.charCodeAt(i-15),t.set(s,e)),e}}();function lu(t,e){return t instanceof Promise?t.then(e):e(t)}function cu(...t){let e,n,i;for(let s=0,o=t.length;s<o;++s)e=t[s],(e=t[s])instanceof Promise&&(void 0===n?n=e:void 0===i?i=[n,e]:i.push(e));return void 0===i?n:Promise.all(i)}const hu={name:"au:annotation",appendTo(t,e){const n=Vh.getOwn(hu.name,t);void 0===n?Vh.define(hu.name,[e],t):n.push(e)},set(t,e,n){Vh.define(hu.keyFor(e),n,t)},get:(t,e)=>Vh.getOwn(hu.keyFor(e),t),getKeys(t){let e=Vh.getOwn(hu.name,t);return void 0===e&&Vh.define(hu.name,e=[],t),e},isKey:t=>t.startsWith(hu.name),keyFor:(t,e)=>void 0===e?`${hu.name}:${t}`:`${hu.name}:${t}:${e}`},uu={name:"au:resource",appendTo(t,e){const n=Vh.getOwn(uu.name,t);void 0===n?Vh.define(uu.name,[e],t):n.push(e)},has:t=>Vh.hasOwn(uu.name,t),getAll(t){const e=Vh.getOwn(uu.name,t);return void 0===e?Xu:e.map((e=>Vh.getOwn(e,t)))},getKeys(t){let e=Vh.getOwn(uu.name,t);return void 0===e&&Vh.define(uu.name,e=[],t),e},isKey:t=>t.startsWith(uu.name),keyFor:(t,e)=>void 0===e?`${uu.name}:${t}`:`${uu.name}:${t}:${e}`},du={annotation:hu,resource:uu},pu=Object.prototype.hasOwnProperty;function gu(t,e,n,i){let s=Vh.getOwn(du.annotation.keyFor(t),n);return void 0===s?(s=e[t],void 0===s?(s=n[t],void 0!==s&&pu.call(n,t)?s:i()):s):s}function fu(t,e,n){let i=Vh.getOwn(du.annotation.keyFor(t),e);return void 0===i?(i=e[t],void 0!==i&&pu.call(e,t)?i:n()):i}function vu(t,e,n){const i=e[t];return void 0===i?n():i}!function(t,e=!0,n=!1,i=!0,s=!0){if(function(t){return qh in t}(t)){if(t["[[$au]]"]===yh)return;throw new Error("Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.")}const o=["metadata","decorate","defineMetadata","hasMetadata","hasOwnMetadata","getMetadata","getOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata"].filter((function(t){return t in Reflect}));if(o.length>0){if(e){const t=o.map((function(t){return`${t}:\n${Reflect[t].toString().slice(0,100)}...`})).join("\n\n");throw new Error(`Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\n\n${t}`)}n&&Uh(t,i,s)}else Uh(t,i,s)}(Reflect);class mu{constructor(t,e){this.container=t,this.key=e}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,_u(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,e){const{container:n,key:i}=this;return this.container=this.key=void 0,n.registerResolver(i,new ju(i,t,e))}}function bu(t){const e=t.slice(),n=Object.keys(t),i=n.length;let s;for(let o=0;o<i;++o)s=n[o],_h(s)||(e[s]=t[s]);return e}const yu={none(t){throw Error(`${t.toString()} not registered, did you forget to add @singleton()?`)},singleton:t=>new ju(t,1,t),transient:t=>new ju(t,2,t)};class wu{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){var e,n;return void 0===t||t===wu.DEFAULT?wu.DEFAULT:new wu(null!==(e=t.inheritParentResources)&&void 0!==e&&e,null!==(n=t.defaultResolver)&&void 0!==n?n:yu.singleton)}}wu.DEFAULT=wu.from({});const xu={createContainer:t=>new qu(null,wu.from(t)),getDesignParamtypes:t=>Vh.getOwn("design:paramtypes",t),getAnnotationParamtypes(t){const e=du.annotation.keyFor("di:paramtypes");return Vh.getOwn(e,t)},getOrCreateAnnotationParamTypes(t){const e=du.annotation.keyFor("di:paramtypes");let n=Vh.getOwn(e,t);return void 0===n&&(Vh.define(e,n=[],t),du.annotation.appendTo(t,e)),n},getDependencies(t){const e=du.annotation.keyFor("di:dependencies");let n=Vh.getOwn(e,t);if(void 0===n){const i=t.inject;if(void 0===i){const e=xu.getDesignParamtypes(t),i=xu.getAnnotationParamtypes(t);if(void 0===e)if(void 0===i){const e=Object.getPrototypeOf(t);n="function"==typeof e&&e!==Function.prototype?bu(xu.getDependencies(e)):[]}else n=bu(i);else if(void 0===i)n=bu(e);else{n=bu(e);let t,s=i.length;for(let e=0;e<s;++e)t=i[e],void 0!==t&&(n[e]=t);const o=Object.keys(i);let r;s=o.length;for(let t=0;t<s;++t)r=o[t],_h(r)||(n[r]=i[r])}}else n=bu(i);Vh.define(e,n,t),du.annotation.appendTo(t,e)}return n},createInterface(t,e){const n="function"==typeof t?t:e,i="string"==typeof t?t:void 0,s=function(t,e,n){if(null==t||void 0!==new.target)throw new Error(`No registration for interface: '${s.friendlyName}'`);xu.getOrCreateAnnotationParamTypes(t)[n]=s};return s.$isInterface=!0,s.friendlyName=null==i?"(anonymous)":i,null!=n&&(s.register=function(t,e){return n(new mu(t,null!=e?e:s))}),s.toString=function(){return`InterfaceSymbol<${s.friendlyName}>`},s},inject:(...t)=>function(e,n,i){if("number"==typeof i){const n=xu.getOrCreateAnnotationParamTypes(e),s=t[0];void 0!==s&&(n[i]=s)}else if(n){const i=xu.getOrCreateAnnotationParamTypes(e.constructor),s=t[0];void 0!==s&&(i[n]=s)}else if(i){const e=i.value,n=xu.getOrCreateAnnotationParamTypes(e);let s;for(let e=0;e<t.length;++e)s=t[e],void 0!==s&&(n[e]=s)}else{const n=xu.getOrCreateAnnotationParamTypes(e);let i;for(let e=0;e<t.length;++e)i=t[e],void 0!==i&&(n[e]=i)}},transient:t=>(t.register=function(e){return Wu.transient(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Tu)=>(t.register=function(e){return Wu.singleton(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)},ku=xu.createInterface("IContainer"),Cu=ku;function Su(t){return function(e){const n=function(t,e,i){xu.inject(n)(t,e,i)};return n.$isResolver=!0,n.resolve=function(n,i){return t(e,n,i)},n}}const $u=xu.inject,Tu={scoped:!1},Au=(Eu=(t,e,n,i)=>n.getAll(t,i),function(t,e){e=!!e;const n=function(t,e,i){xu.inject(n)(t,e,i)};return n.$isResolver=!0,n.resolve=function(n,i){return Eu(t,0,i,e)},n});var Eu;Su(((t,e,n)=>()=>n.get(t)));const Ou=Su(((t,e,n)=>n.has(t,!0)?n.get(t):void 0));function Pu(t,e,n){xu.inject(Pu)(t,e,n)}function Ru(t,e){return e.getFactory(t).construct(e)}var Iu;Pu.$isResolver=!0,Pu.resolve=()=>{},Su(((t,e,n)=>{const i=Ru(t,e),s=new Ku(String(t));return s.prepare(i),n.registerResolver(t,s,!0),i})),Su(((t,e,n)=>Ru(t,e))),function(t){t[t.instance=0]="instance",t[t.singleton=1]="singleton",t[t.transient=2]="transient",t[t.callback=3]="callback",t[t.array=4]="array",t[t.alias=5]="alias"}(Iu||(Iu={}));class ju{constructor(t,e,n){this.key=t,this.strategy=e,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(t,e){return t.registerResolver(e||this.key,this)}resolve(t,e){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(e),this.strategy=0,this.resolving=!1,this.state;case 2:{const n=t.getFactory(this.state);if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return n.construct(e)}case 3:return this.state(t,e,this);case 4:return this.state[0].resolve(t,e);case 5:return e.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var e,n,i;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return null!==(i=null===(n=null===(e=t.getResolver(this.state))||void 0===e?void 0:e.getFactory)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:null;default:return null}}}function Fu(t){return this.get(t)}function Lu(t,e){return e(t)}class Nu{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let n;return n=void 0===e?new this.Type(...this.dependencies.map(Fu,t)):new this.Type(...this.dependencies.map(Fu,t),...e),null==this.transformers?n:this.transformers.reduce(Lu,n)}registerTransformer(t){var e;(null!==(e=this.transformers)&&void 0!==e?e:this.transformers=[]).push(t)}}const Du={$isResolver:!0,resolve:(t,e)=>e};function Mu(t){return"function"==typeof t.register}function Bu(t){return function(t){return Mu(t)&&"boolean"==typeof t.registerInRequestor}(t)&&t.registerInRequestor}const Vu=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]);du.annotation.keyFor("di:factory");let Hu=0;class qu{constructor(t,e){this.parent=t,this.config=e,this.id=++Hu,this.registerDepth=0,this.disposableResolvers=new Set,null===t?(this.root=this,this.resolvers=new Map,this.factories=new Map,this.resourceResolvers=Object.create(null)):(this.root=t.root,this.resolvers=new Map,this.factories=t.factories,e.inheritParentResources?this.resourceResolvers=Object.assign(Object.create(null),t.resourceResolvers,this.root.resourceResolvers):this.resourceResolvers=Object.assign(Object.create(null),this.root.resourceResolvers)),this.resolvers.set(ku,Du)}get depth(){return null===this.parent?0:this.parent.depth+1}register(...t){if(100==++this.registerDepth)throw new Error(`Unable to autoregister dependency: [${t.map(String)}]`);let e,n,i,s,o;for(let r=0,a=t.length;r<a;++r)if(e=t[r],mh(e))if(Mu(e))e.register(this);else if(du.resource.has(e)){const t=du.resource.getAll(e);if(1===t.length)t[0].register(this);else{const e=t.length;for(let n=0;n<e;++n)t[n].register(this)}}else if(void 0!==e.prototype)Wu.singleton(e,e).register(this);else for(n=Object.keys(e),s=0,o=n.length;s<o;++s)i=e[n[s]],mh(i)&&(Mu(i)?i.register(this):this.register(i));return--this.registerDepth,this}registerResolver(t,e,n=!1){Gu(t);const i=this.resolvers,s=i.get(t);return null==s?(i.set(t,e),function(t){return"string"==typeof t&&t.indexOf(":")>0}(t)&&(this.resourceResolvers[t]=e)):s instanceof ju&&4===s.strategy?s.state.push(e):i.set(t,new ju(t,4,[s,e])),n&&this.disposableResolvers.add(e),e}registerTransformer(t,e){const n=this.getResolver(t);if(null==n)return!1;if(n.getFactory){const t=n.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(Gu(t),void 0!==t.resolve)return t;let n,i=this;for(;null!=i;){if(n=i.resolvers.get(t),null!=n)return n;if(null==i.parent){const n=Bu(t)?this:i;return e?this.jitRegister(t,n):null}i=i.parent}return null}has(t,e=!1){return!!this.resolvers.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(Gu(t),t.$isResolver)return t.resolve(this,this);let e,n=this;for(;null!=n;){if(e=n.resolvers.get(t),null!=e)return e.resolve(n,this);if(null==n.parent){const i=Bu(t)?this:n;return e=this.jitRegister(t,i),e.resolve(n,this)}n=n.parent}throw new Error(`Unable to resolve key: ${t}`)}getAll(t,e=!1){Gu(t);const n=this;let i,s=n;if(e){let e=Xu;for(;null!=s;)i=s.resolvers.get(t),null!=i&&(e=e.concat(Qu(i,s,n))),s=s.parent;return e}for(;null!=s;){if(i=s.resolvers.get(t),null!=i)return Qu(i,s,n);if(s=s.parent,null==s)return Xu}return Xu}invoke(t,e){if(au(t))throw Yu(t);return new Nu(t,xu.getDependencies(t)).construct(this,e)}getFactory(t){let e=this.factories.get(t);if(void 0===e){if(au(t))throw Yu(t);this.factories.set(t,e=new Nu(t,xu.getDependencies(t)))}return e}registerFactory(t,e){this.factories.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===wu.DEFAULT?new qu(this,this.config):new qu(this,wu.from({...this.config,inheritParentResources:!1})):new qu(this,wu.from(null!=t?t:this.config))}disposeResolvers(){var t;const e=Array.from(this.disposableResolvers);for(;e.length>0;)null===(t=e.pop())||void 0===t||t.dispose()}find(t,e){const n=t.keyFrom(e);let i=this.resourceResolvers[n];if(void 0===i&&(i=this.root.resourceResolvers[n],void 0===i))return null;if(null===i)return null;if("function"==typeof i.getFactory){const e=i.getFactory(this);if(null==e)return null;const n=Vh.getOwn(t.name,e.Type);return void 0===n?null:n}return null}create(t,e){var n,i;const s=t.keyFrom(e);let o=this.resourceResolvers[s];return void 0===o?(o=this.root.resourceResolvers[s],void 0===o?null:null!==(n=o.resolve(this.root,this))&&void 0!==n?n:null):null!==(i=o.resolve(this,this))&&void 0!==i?i:null}dispose(){this.disposeResolvers(),this.resolvers.clear()}jitRegister(t,e){if("function"!=typeof t)throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this resource?`);if(Vu.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`);if(Mu(t)){const n=t.register(e,t);if(!(n instanceof Object)||null==n.resolve){const n=e.resolvers.get(t);if(null!=n)return n;throw new Error("Invalid resolver returned from the static register method")}return n}if(du.resource.has(t)){const n=du.resource.getAll(t);if(1===n.length)n[0].register(e);else{const t=n.length;for(let i=0;i<t;++i)n[i].register(e)}const i=e.resolvers.get(t);if(null!=i)return i;throw new Error("Invalid resolver returned from the static register method")}if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`);{const n=this.config.defaultResolver(t,e);return e.resolvers.set(t,n),n}}}class Uu{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter((t=>"object"==typeof t)))}}const zu=new WeakMap;function _u(t){return function(e,n,i){let s=zu.get(e);if(void 0===s&&zu.set(e,s=new WeakMap),s.has(i))return s.get(i);const o=t(e,n,i);return s.set(i,o),o}}const Wu={instance:(t,e)=>new ju(t,0,e),singleton:(t,e)=>new ju(t,1,e),transient:(t,e)=>new ju(t,2,e),callback:(t,e)=>new ju(t,3,e),cachedCallback:(t,e)=>new ju(t,3,_u(e)),aliasTo:(t,e)=>new ju(e,5,t),defer:(t,...e)=>new Uu(t,e)};class Ku{constructor(t){this.friendlyName=t,this.instance=null}prepare(t){this.instance=t}get $isResolver(){return!0}resolve(){if(null==this.instance)throw new Error(`Cannot call resolve ${this.friendlyName} before calling prepare or after calling dispose.`);return this.instance}dispose(){this.instance=null}}function Gu(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function Qu(t,e,n){if(t instanceof ju&&4===t.strategy){const i=t.state;let s=i.length;const o=new Array(s);for(;s--;)o[s]=i[s].resolve(e,n);return o}return[t.resolve(e,n)]}function Yu(t){return new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`)}const Xu=Object.freeze([]),Zu=Object.freeze({});function Ju(){}const td=xu.createInterface("IPlatform"),ed=new Map;function nd(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}class id{constructor(t,e={}){var n,i,s,o,r,a,l,c,h,u,d,p,g;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,this.decodeURI="decodeURI"in e?e.decodeURI:t.decodeURI,this.decodeURIComponent="decodeURIComponent"in e?e.decodeURIComponent:t.decodeURIComponent,this.encodeURI="encodeURI"in e?e.encodeURI:t.encodeURI,this.encodeURIComponent="encodeURIComponent"in e?e.encodeURIComponent:t.encodeURIComponent,this.Date="Date"in e?e.Date:t.Date,this.Reflect="Reflect"in e?e.Reflect:t.Reflect,this.clearInterval="clearInterval"in e?e.clearInterval:null!==(i=null===(n=t.clearInterval)||void 0===n?void 0:n.bind(t))&&void 0!==i?i:nd("clearInterval"),this.clearTimeout="clearTimeout"in e?e.clearTimeout:null!==(o=null===(s=t.clearTimeout)||void 0===s?void 0:s.bind(t))&&void 0!==o?o:nd("clearTimeout"),this.queueMicrotask="queueMicrotask"in e?e.queueMicrotask:null!==(a=null===(r=t.queueMicrotask)||void 0===r?void 0:r.bind(t))&&void 0!==a?a:nd("queueMicrotask"),this.setInterval="setInterval"in e?e.setInterval:null!==(c=null===(l=t.setInterval)||void 0===l?void 0:l.bind(t))&&void 0!==c?c:nd("setInterval"),this.setTimeout="setTimeout"in e?e.setTimeout:null!==(u=null===(h=t.setTimeout)||void 0===h?void 0:h.bind(t))&&void 0!==u?u:nd("setTimeout"),this.console="console"in e?e.console:t.console,this.performanceNow="performanceNow"in e?e.performanceNow:null!==(g=null===(p=null===(d=t.performance)||void 0===d?void 0:d.now)||void 0===p?void 0:p.bind(t.performance))&&void 0!==g?g:nd("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new od(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let n=ed.get(t);return void 0===n&&ed.set(t,n=new id(t,e)),n}static set(t,e){ed.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}function sd(t){return t.persistent}class od{constructor(t,e,n){this.platform=t,this.$request=e,this.$cancel=n,this.processing=[],this.suspenderTask=void 0,this.pendingAsyncCount=0,this.pending=[],this.delayed=[],this.flushRequested=!1,this.yieldPromise=void 0,this.taskPool=[],this.taskPoolSize=0,this.lastRequest=0,this.lastFlush=0,this.requestFlush=()=>{this.tracer.enabled&&this.tracer.enter(this,"requestFlush"),this.flushRequested||(this.flushRequested=!0,this.lastRequest=this.platform.performanceNow(),this.$request()),this.tracer.enabled&&this.tracer.leave(this,"requestFlush")},this.tracer=new ud(t.console)}get isEmpty(){return 0===this.pendingAsyncCount&&0===this.processing.length&&0===this.pending.length&&0===this.delayed.length}get hasNoMoreFiniteWork(){return 0===this.pendingAsyncCount&&this.processing.every(sd)&&this.pending.every(sd)&&this.delayed.every(sd)}flush(t=this.platform.performanceNow()){if(this.tracer.enabled&&this.tracer.enter(this,"flush"),this.flushRequested=!1,this.lastFlush=t,void 0===this.suspenderTask){if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}let e;for(;this.processing.length>0;)if((e=this.processing.shift()).run(),1===e.status){if(!0===e.suspend)return this.suspenderTask=e,this.requestFlush(),void(this.tracer.enabled&&this.tracer.leave(this,"flush early async"));++this.pendingAsyncCount}if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}if((this.processing.length>0||this.delayed.length>0||this.pendingAsyncCount>0)&&this.requestFlush(),void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const t=this.yieldPromise;this.yieldPromise=void 0,t.resolve()}}else this.requestFlush();this.tracer.enabled&&this.tracer.leave(this,"flush full")}cancel(){this.tracer.enabled&&this.tracer.enter(this,"cancel"),this.flushRequested&&(this.$cancel(),this.flushRequested=!1),this.tracer.enabled&&this.tracer.leave(this,"cancel")}async yield(){this.tracer.enabled&&this.tracer.enter(this,"yield"),this.isEmpty?this.tracer.enabled&&this.tracer.leave(this,"yield empty"):(void 0===this.yieldPromise&&(this.tracer.enabled&&this.tracer.trace(this,"yield - creating promise"),this.yieldPromise=vd()),await this.yieldPromise,this.tracer.enabled&&this.tracer.leave(this,"yield task"))}queueTask(t,e){this.tracer.enabled&&this.tracer.enter(this,"queueTask");const{delay:n,preempt:i,persistent:s,reusable:o,suspend:r}={...dd,...e};if(i){if(n>0)throw new Error("Invalid arguments: preempt cannot be combined with a greater-than-zero delay");if(s)throw new Error("Invalid arguments: preempt cannot be combined with persistent")}0===this.processing.length&&this.requestFlush();const a=this.platform.performanceNow();let l;if(o){const e=this.taskPool,c=this.taskPoolSize-1;c>=0?(l=e[c],e[c]=void 0,this.taskPoolSize=c,l.reuse(a,n,i,s,r,t)):l=new hd(this.tracer,this,a,a+n,i,s,r,o,t)}else l=new hd(this.tracer,this,a,a+n,i,s,r,o,t);return i?this.processing[this.processing.length]=l:0===n?this.pending[this.pending.length]=l:this.delayed[this.delayed.length]=l,this.tracer.enabled&&this.tracer.leave(this,"queueTask"),l}remove(t){this.tracer.enabled&&this.tracer.enter(this,"remove");let e=this.processing.indexOf(t);if(e>-1)return this.processing.splice(e,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove processing"));if(e=this.pending.indexOf(t),e>-1)return this.pending.splice(e,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove pending"));if(e=this.delayed.indexOf(t),e>-1)return this.delayed.splice(e,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove delayed"));throw this.tracer.enabled&&this.tracer.leave(this,"remove error"),new Error(`Task #${t.id} could not be found`)}returnToPool(t){this.tracer.enabled&&this.tracer.trace(this,"returnToPool"),this.taskPool[this.taskPoolSize++]=t}resetPersistentTask(t){this.tracer.enabled&&this.tracer.enter(this,"resetPersistentTask"),t.reset(this.platform.performanceNow()),t.createdTime===t.queueTime?this.pending[this.pending.length]=t:this.delayed[this.delayed.length]=t,this.tracer.enabled&&this.tracer.leave(this,"resetPersistentTask")}completeAsyncTask(t){var e;if(this.tracer.enabled&&this.tracer.enter(this,"completeAsyncTask"),!0===t.suspend){if(this.suspenderTask!==t)throw this.tracer.enabled&&this.tracer.leave(this,"completeAsyncTask error"),new Error(`Async task completion mismatch: suspenderTask=${null===(e=this.suspenderTask)||void 0===e?void 0:e.id}, task=${t.id}`);this.suspenderTask=void 0}else--this.pendingAsyncCount;if(void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const t=this.yieldPromise;this.yieldPromise=void 0,t.resolve()}this.isEmpty&&this.cancel(),this.tracer.enabled&&this.tracer.leave(this,"completeAsyncTask")}}class rd extends Error{constructor(t){super("Task was canceled."),this.task=t}}let ad=0;var ld,cd;!function(t){t[t.pending=0]="pending",t[t.running=1]="running",t[t.completed=2]="completed",t[t.canceled=3]="canceled"}(ld||(ld={}));class hd{constructor(t,e,n,i,s,o,r,a,l){this.tracer=t,this.taskQueue=e,this.createdTime=n,this.queueTime=i,this.preempt=s,this.persistent=o,this.suspend=r,this.reusable=a,this.callback=l,this.id=++ad,this.resolve=void 0,this.reject=void 0,this._result=void 0,this._status=0}get result(){const t=this._result;if(void 0===t)switch(this._status){case 0:{const t=this._result=vd();return this.resolve=t.resolve,this.reject=t.reject,t}case 1:throw new Error("Trying to await task from within task will cause a deadlock.");case 2:return this._result=Promise.resolve();case 3:return this._result=Promise.reject(new rd(this))}return t}get status(){return this._status}run(t=this.taskQueue.platform.performanceNow()){if(this.tracer.enabled&&this.tracer.enter(this,"run"),0!==this._status)throw this.tracer.enabled&&this.tracer.leave(this,"run error"),new Error(`Cannot run task in ${this._status} state`);const{persistent:e,reusable:n,taskQueue:i,callback:s,resolve:o,reject:r,createdTime:a}=this;this._status=1;try{const l=s(t-a);l instanceof Promise?l.then((t=>{this.persistent?i.resetPersistentTask(this):(this._status=e?3:2,this.dispose()),i.completeAsyncTask(this),this.tracer.enabled&&this.tracer.leave(this,"run async then"),void 0!==o&&o(t),!this.persistent&&n&&i.returnToPool(this)})).catch((t=>{if(this.persistent||this.dispose(),i.completeAsyncTask(this),this.tracer.enabled&&this.tracer.leave(this,"run async catch"),void 0===r)throw t;r(t)})):(this.persistent?i.resetPersistentTask(this):(this._status=e?3:2,this.dispose()),this.tracer.enabled&&this.tracer.leave(this,"run sync success"),void 0!==o&&o(l),!this.persistent&&n&&i.returnToPool(this))}catch(t){if(this.persistent||this.dispose(),this.tracer.enabled&&this.tracer.leave(this,"run sync error"),void 0===r)throw t;r(t)}}cancel(){if(this.tracer.enabled&&this.tracer.enter(this,"cancel"),0===this._status){const t=this.taskQueue,e=this.reusable,n=this.reject;return t.remove(this),t.isEmpty&&t.cancel(),this._status=3,this.dispose(),e&&t.returnToPool(this),void 0!==n&&n(new rd(this)),this.tracer.enabled&&this.tracer.leave(this,"cancel true =pending"),!0}return 1===this._status&&this.persistent?(this.persistent=!1,this.tracer.enabled&&this.tracer.leave(this,"cancel true =running+persistent"),!0):(this.tracer.enabled&&this.tracer.leave(this,"cancel false"),!1)}reset(t){this.tracer.enabled&&this.tracer.enter(this,"reset");const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this._status=0,this.resolve=void 0,this.reject=void 0,this._result=void 0,this.tracer.enabled&&this.tracer.leave(this,"reset")}reuse(t,e,n,i,s,o){this.tracer.enabled&&this.tracer.enter(this,"reuse"),this.createdTime=t,this.queueTime=t+e,this.preempt=n,this.persistent=i,this.suspend=s,this.callback=o,this._status=0,this.tracer.enabled&&this.tracer.leave(this,"reuse")}dispose(){this.tracer.enabled&&this.tracer.trace(this,"dispose"),this.callback=void 0,this.resolve=void 0,this.reject=void 0,this._result=void 0}}class ud{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,n){if(e instanceof od){const i=`processing=${e.processing.length} pending=${e.pending.length} delayed=${e.delayed.length} flushReq=${e.flushRequested} susTask=${!!e.suspenderTask}`;this.console.log(`${t}[Q.${n}] ${i}`)}else{const i=e.id,s=Math.round(10*e.createdTime)/10,o=Math.round(10*e.queueTime)/10,r=e.preempt,a=e.reusable,l=e.persistent,c=e.suspend,h=`id=${i} created=${s} queue=${o} preempt=${r} persistent=${l} reusable=${a} status=${function(t){switch(t){case 0:return"pending";case 1:return"running";case 3:return"canceled";case 2:return"completed"}}(e._status)} suspend=${c}`;this.console.log(`${t}[T.${n}] ${h}`)}}}!function(t){t[t.render=0]="render",t[t.macroTask=1]="macroTask",t[t.postRender=2]="postRender"}(cd||(cd={}));const dd={delay:0,preempt:!1,persistent:!1,reusable:!0,suspend:!1};let pd,gd;function fd(t,e){pd=t,gd=e}function vd(){const t=new Promise(fd);return t.resolve=pd,t.reject=gd,t}var md,bd,yd=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},wd=function(t,e){return function(n,i){e(n,i,t)}};!function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.fatal=5]="fatal",t[t.none=6]="none"}(md||(md={})),function(t){t[t.noColors=0]="noColors",t[t.colors=1]="colors"}(bd||(bd={}));const xd=xu.createInterface("ILogConfig",(t=>t.instance(new Ed(0,3)))),kd=xu.createInterface("ISink"),Cd=xu.createInterface("ILogEventFactory",(t=>t.singleton(Id))),Sd=xu.createInterface("ILogger",(t=>t.singleton(Fd))),$d=xu.createInterface("ILogScope"),Td=Object.freeze({key:du.annotation.keyFor("logger-sink-handles"),define(t,e){return Vh.define(this.key,e.handles,t.prototype),t},getHandles(t){return Vh.get(this.key,t)}}),Ad=ru({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class Ed{constructor(t,e){this.colorOptions=t,this.level=e}}const Od=function(){const t=[ru({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),ru({TRC:Ad.grey("TRC"),DBG:Ad.grey("DBG"),INF:Ad.white("INF"),WRN:Ad.yellow("WRN"),ERR:Ad.red("ERR"),FTL:Ad.red("FTL"),QQQ:Ad.grey("???")})];return function(e,n){return e<=0?t[n].TRC:e<=1?t[n].DBG:e<=2?t[n].INF:e<=3?t[n].WRN:e<=4?t[n].ERR:e<=5?t[n].FTL:t[n].QQQ}}();function Pd(t,e){return 0===e?new Date(t).toISOString():Ad.grey(new Date(t).toISOString())}class Rd{constructor(t,e,n,i,s,o){this.severity=t,this.message=e,this.optionalParams=n,this.scope=i,this.colorOptions=s,this.timestamp=o}toString(){const{severity:t,message:e,scope:n,colorOptions:i,timestamp:s}=this;return 0===n.length?`${Pd(s,i)} [${Od(t,i)}] ${e}`:`${Pd(s,i)} [${Od(t,i)} ${function(t,e){return 0===e?t.join("."):t.map(Ad.cyan).join(".")}(n,i)}] ${e}`}}let Id=class{constructor(t){this.config=t}createLogEvent(t,e,n,i){return new Rd(e,n,i,t.scope,this.config.colorOptions,Date.now())}};Id=yd([wd(0,xd)],Id);let jd=class t{constructor(t){const e=t.console;this.handleEvent=function(t){const n=t.optionalParams;if(void 0===n||0===n.length){const n=t.toString();switch(t.severity){case 0:case 1:return e.debug(n);case 2:return e.info(n);case 3:return e.warn(n);case 4:case 5:return e.error(n)}}else{let i=t.toString(),s=0;for(;i.includes("%s");)i=i.replace("%s",String(n[s++]));switch(t.severity){case 0:case 1:return e.debug(i,...n.slice(s));case 2:return e.info(i,...n.slice(s));case 3:return e.warn(i,...n.slice(s));case 4:case 5:return e.error(i,...n.slice(s))}}}}static register(e){Wu.singleton(kd,t).register(e)}};jd=yd([wd(0,td)],jd);let Fd=class t{constructor(t,e,n,i=[],s=null){var o,r,a,l,c,h;let u,d,p,g,f,v;if(this.config=t,this.factory=e,this.scope=i,this.scopedLoggers=Object.create(null),null===s){this.root=this,this.parent=this,u=this.traceSinks=[],d=this.debugSinks=[],p=this.infoSinks=[],g=this.warnSinks=[],f=this.errorSinks=[],v=this.fatalSinks=[];for(const t of n){const e=Td.getHandles(t);(null===(o=null==e?void 0:e.includes(0))||void 0===o||o)&&u.push(t),(null===(r=null==e?void 0:e.includes(1))||void 0===r||r)&&d.push(t),(null===(a=null==e?void 0:e.includes(2))||void 0===a||a)&&p.push(t),(null===(l=null==e?void 0:e.includes(3))||void 0===l||l)&&g.push(t),(null===(c=null==e?void 0:e.includes(4))||void 0===c||c)&&f.push(t),(null===(h=null==e?void 0:e.includes(5))||void 0===h||h)&&v.push(t)}}else this.root=s.root,this.parent=s,u=this.traceSinks=s.traceSinks,d=this.debugSinks=s.debugSinks,p=this.infoSinks=s.infoSinks,g=this.warnSinks=s.warnSinks,f=this.errorSinks=s.errorSinks,v=this.fatalSinks=s.fatalSinks}trace(t,...e){this.config.level<=0&&this.emit(this.traceSinks,0,t,e)}debug(t,...e){this.config.level<=1&&this.emit(this.debugSinks,1,t,e)}info(t,...e){this.config.level<=2&&this.emit(this.infoSinks,2,t,e)}warn(t,...e){this.config.level<=3&&this.emit(this.warnSinks,3,t,e)}error(t,...e){this.config.level<=4&&this.emit(this.errorSinks,4,t,e)}fatal(t,...e){this.config.level<=5&&this.emit(this.fatalSinks,5,t,e)}scopeTo(e){const n=this.scopedLoggers;let i=n[e];return void 0===i&&(i=n[e]=new t(this.config,this.factory,void 0,this.scope.concat(e),this)),i}emit(t,e,n,i){const s="function"==typeof n?n():n,o=this.factory.createLogEvent(this,e,s,i);for(let e=0,n=t.length;e<n;++e)t[e].handleEvent(o)}};yd([nu],Fd.prototype,"trace",null),yd([nu],Fd.prototype,"debug",null),yd([nu],Fd.prototype,"info",null),yd([nu],Fd.prototype,"warn",null),yd([nu],Fd.prototype,"error",null),yd([nu],Fd.prototype,"fatal",null),Fd=yd([wd(0,xd),wd(1,Cd),wd(2,Au(kd)),wd(3,Ou($d)),wd(4,Pu)],Fd);const Ld=ru({create:({level:t=3,colorOptions:e=0,sinks:n=[]}={})=>ru({register(i){i.register(Wu.instance(xd,new Ed(e,t)));for(const t of n)"function"==typeof t?i.register(Wu.singleton(kd,t)):i.register(t);return i}})}),Nd=xu.createInterface((t=>t.singleton(Bd)));function Dd(t){return t}class Md{constructor(t){this.$transform=t,this.promiseCache=new Map,this.objectCache=new Map}transform(t){if(t instanceof Promise)return this.transformPromise(t);if("object"==typeof t&&null!==t)return this.transformObject(t);throw new Error(`Invalid input: ${String(t)}. Expected Promise or Object.`)}transformPromise(t){if(this.promiseCache.has(t))return this.promiseCache.get(t);const e=t.then((t=>this.transformObject(t)));return this.promiseCache.set(t,e),e.then((e=>{this.promiseCache.set(t,e)})),e}transformObject(t){if(this.objectCache.has(t))return this.objectCache.get(t);const e=this.$transform(this.analyze(t));return this.objectCache.set(t,e),e instanceof Promise&&e.then((e=>{this.objectCache.set(t,e)})),e}analyze(t){let e,n,i,s;const o=[];for(const r in t){switch(typeof(e=t[r])){case"object":if(null===e)continue;n="function"==typeof e.register,i=!1,s=Xu;break;case"function":n="function"==typeof e.register,i=void 0!==e.prototype,s=du.resource.getAll(e);break;default:continue}o.push(new Hd(r,e,n,i,s))}return new Vd(t,o)}}class Bd{constructor(){this.transformers=new Map}load(t,e=Dd){const n=this.transformers;let i=n.get(e);return void 0===i&&n.set(e,i=new Md(e)),i.transform(t)}dispose(){this.transformers.clear()}}class Vd{constructor(t,e){this.raw=t,this.items=e}}class Hd{constructor(t,e,n,i,s){this.key=t,this.value=e,this.isRegistry=n,this.isConstructable=i,this.definitions=s}}class qd{constructor(t,e){this.messageType=t,this.callback=e}handle(t){t instanceof this.messageType&&this.callback.call(null,t)}}const Ud=xu.createInterface("IEventAggregator",(t=>t.singleton(zd)));class zd{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw new Error(`Invalid channel name or instance: ${t}.`);if("string"==typeof t){let n=this.eventLookup[t];if(void 0!==n){n=n.slice();let i=n.length;for(;i-- >0;)n[i](e,t)}}else{const e=this.messageHandlers.slice();let n=e.length;for(;n-- >0;)e[n].handle(t)}}subscribe(t,e){if(!t)throw new Error(`Invalid channel name or type: ${t}.`);let n,i;return"string"==typeof t?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),n=e,i=this.eventLookup[t]):(n=new qd(t,e),i=this.messageHandlers),i.push(n),{dispose(){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}}subscribeOnce(t,e){const n=this.subscribe(t,(function(t,i){n.dispose(),e(t,i)}));return n}}const _d=new Map;function Wd(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}class Kd extends id{constructor(t,e={}){var n,i,s,o,r,a;super(t,e),this.domReadRequested=!1,this.domReadHandle=-1,this.domWriteRequested=!1,this.domWriteHandle=-1,this.Node="Node"in e?e.Node:t.Node,this.Element="Element"in e?e.Element:t.Element,this.HTMLElement="HTMLElement"in e?e.HTMLElement:t.HTMLElement,this.CustomEvent="CustomEvent"in e?e.CustomEvent:t.CustomEvent,this.CSSStyleSheet="CSSStyleSheet"in e?e.CSSStyleSheet:t.CSSStyleSheet,this.ShadowRoot="ShadowRoot"in e?e.ShadowRoot:t.ShadowRoot,this.MutationObserver="MutationObserver"in e?e.MutationObserver:t.MutationObserver,this.window="window"in e?e.window:t.window,this.document="document"in e?e.document:t.document,this.location="location"in e?e.location:t.location,this.history="history"in e?e.history:t.history,this.navigator="navigator"in e?e.navigator:t.navigator,this.fetch="fetch"in e?e.fetch:null!==(i=null===(n=t.fetch)||void 0===n?void 0:n.bind(t))&&void 0!==i?i:Wd("fetch"),this.requestAnimationFrame="requestAnimationFrame"in e?e.requestAnimationFrame:null!==(o=null===(s=t.requestAnimationFrame)||void 0===s?void 0:s.bind(t))&&void 0!==o?o:Wd("requestAnimationFrame"),this.cancelAnimationFrame="cancelAnimationFrame"in e?e.cancelAnimationFrame:null!==(a=null===(r=t.cancelAnimationFrame)||void 0===r?void 0:r.bind(t))&&void 0!==a?a:Wd("cancelAnimationFrame"),this.customElements="customElements"in e?e.customElements:t.customElements,this.flushDomRead=this.flushDomRead.bind(this),this.flushDomWrite=this.flushDomWrite.bind(this),this.domReadQueue=new od(this,this.requestDomRead.bind(this),this.cancelDomRead.bind(this)),this.domWriteQueue=new od(this,this.requestDomWrite.bind(this),this.cancelDomWrite.bind(this))}static getOrCreate(t,e={}){let n=_d.get(t);return void 0===n&&_d.set(t,n=new Kd(t,e)),n}static set(t,e){_d.set(t,e)}requestDomRead(){this.domReadRequested=!0,-1===this.domWriteHandle&&(this.domWriteHandle=this.requestAnimationFrame(this.flushDomWrite))}cancelDomRead(){this.domReadRequested=!1,this.domReadHandle>-1&&(this.clearTimeout(this.domReadHandle),this.domReadHandle=-1),!1===this.domWriteRequested&&this.domWriteHandle>-1&&(this.cancelAnimationFrame(this.domWriteHandle),this.domWriteHandle=-1)}flushDomRead(){this.domReadHandle=-1,!0===this.domReadRequested&&(this.domReadRequested=!1,this.domReadQueue.flush())}requestDomWrite(){this.domWriteRequested=!0,-1===this.domWriteHandle&&(this.domWriteHandle=this.requestAnimationFrame(this.flushDomWrite))}cancelDomWrite(){this.domWriteRequested=!1,this.domWriteHandle>-1&&(!1===this.domReadRequested||this.domReadHandle>-1)&&(this.cancelAnimationFrame(this.domWriteHandle),this.domWriteHandle=-1)}flushDomWrite(){this.domWriteHandle=-1,!0===this.domWriteRequested&&(this.domWriteRequested=!1,this.domWriteQueue.flush()),!0===this.domReadRequested&&-1===this.domReadHandle&&(this.domReadHandle=this.setTimeout(this.flushDomRead,0))}}function Gd(t,e,n,i){for(let s=0,o=t.length;s<o;++s)Wu.aliasTo(n,e.keyFrom(t[s])).register(i)}const Qd=Object.freeze({});class Yd{constructor(t,e){if(void 0!==t)if(void 0!==e)this[t]=e;else for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this[e]=t[e])}static create(t,e){return new Yd(t,e)}static get(t,e,n,i,s){if(null==t&&null==s)throw new Error(`Scope is ${t} and HostScope is ${s}.`);const o=s!==t&&null!=s;let r=Xd(t,e,n);return null!==r&&(null!=r&&e in r||!o)||o&&(r=Xd(s,e,n),null!=r&&e in r)?r:16&i?Qd:t.bindingContext||t.overrideContext}}function Xd(t,e,n){var i,s;let o=t.overrideContext,r=t;if(n>0){for(;n>0;)if(n--,r=r.parentScope,null==(null==r?void 0:r.overrideContext))return;return o=r.overrideContext,e in o?o:o.bindingContext}for(;!(null==r?void 0:r.isComponentBoundary)&&o&&!(e in o)&&(!o.bindingContext||!(e in o.bindingContext));)r=null!==(i=r.parentScope)&&void 0!==i?i:null,o=null!==(s=null==r?void 0:r.overrideContext)&&void 0!==s?s:null;return o?e in o?o:o.bindingContext:null}class Zd{constructor(t,e,n,i){this.parentScope=t,this.bindingContext=e,this.overrideContext=n,this.isComponentBoundary=i}static create(t,e,n){return new Zd(null,t,null==e?Jd.create(t):e,null!=n&&n)}static fromOverride(t){if(null==t)throw new Error(`OverrideContext is ${t}`);return new Zd(null,t.bindingContext,t,!1)}static fromParent(t,e){if(null==t)throw new Error(`ParentScope is ${t}`);return new Zd(t,e,Jd.create(e),!1)}}class Jd{constructor(t){this.bindingContext=t}static create(t){return new Jd(t)}}const tp=xu.createInterface("ISignaler",(t=>t.singleton(ep)));class ep{constructor(){this.signals=Object.create(null)}dispatchSignal(t,e){const n=this.signals[t];if(void 0!==n)for(const t of n.keys())t.handleChange(void 0,void 0,e)}addSignalListener(t,e){const n=this.signals,i=n[t];void 0===i?n[t]=new Set([e]):i.add(e)}removeSignalListener(t,e){const n=this.signals[t];n&&n.delete(e)}}var np;function ip(t){return function(e){return ap.define(t,e)}}!function(t){t[t.singleton=1]="singleton",t[t.interceptor=2]="interceptor"}(np||(np={}));class sp{constructor(t,e,n,i,s){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.strategy=s}static create(t,e){let n,i;"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t);const s=Object.getPrototypeOf(e)===rp;return new sp(e,su(ap.getAnnotation(e,"name"),n),iu(ap.getAnnotation(e,"aliases"),i.aliases,e.aliases),ap.keyFrom(n),gu("strategy",i,e,(()=>s?2:1)))}register(t){const{Type:e,key:n,aliases:i,strategy:s}=this;switch(s){case 1:Wu.singleton(n,e).register(t);break;case 2:Wu.instance(n,new op(t,e)).register(t)}Wu.aliasTo(n,e).register(t),Gd(i,ap,n,t)}}class op{constructor(t,e){this.container=t,this.Type=e,this.deps=xu.getDependencies(e)}construct(t,e){const n=this.container,i=this.deps;switch(i.length){case 0:case 1:case 2:return new this.Type(t,e);case 3:return new this.Type(n.get(i[0]),t,e);case 4:return new this.Type(n.get(i[0]),n.get(i[1]),t,e);default:return new this.Type(...i.map((t=>n.get(t))),t,e)}}}class rp{constructor(t,e){let n;for(this.binding=t,this.expr=e,this.interceptor=this;t.interceptor!==this;)n=t.interceptor,t.interceptor=this,t=n}get observerLocator(){return this.binding.observerLocator}get locator(){return this.binding.locator}get $scope(){return this.binding.$scope}get $hostScope(){return this.binding.$hostScope}get isBound(){return this.binding.isBound}get obs(){return this.binding.obs}get sourceExpression(){return this.binding.sourceExpression}updateTarget(t,e){this.binding.updateTarget(t,e)}updateSource(t,e){this.binding.updateSource(t,e)}callSource(t){return this.binding.callSource(t)}handleChange(t,e,n){this.binding.handleChange(t,e,n)}handleCollectionChange(t,e){this.binding.handleCollectionChange(t,e)}observeProperty(t,e){this.binding.observeProperty(t,e)}observeCollection(t){this.binding.observeCollection(t)}$bind(t,e,n){this.binding.$bind(t,e,n)}$unbind(t){this.binding.$unbind(t)}}const ap={name:du.resource.keyFor("binding-behavior"),keyFrom:t=>`${ap.name}:${t}`,isType:t=>"function"==typeof t&&Vh.hasOwn(ap.name,t),define(t,e){const n=sp.create(t,e);return Vh.define(ap.name,n,n.Type),Vh.define(ap.name,n,n),du.resource.appendTo(e,ap.name),n.Type},getDefinition(t){const e=Vh.getOwn(ap.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){Vh.define(du.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>Vh.getOwn(du.annotation.keyFor(e),t)};function lp(t){return function(e){return hp.define(t,e)}}class cp{constructor(t,e,n,i){this.Type=t,this.name=e,this.aliases=n,this.key=i}static create(t,e){let n,i;return"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t),new cp(e,su(hp.getAnnotation(e,"name"),n),iu(hp.getAnnotation(e,"aliases"),i.aliases,e.aliases),hp.keyFrom(n))}register(t){const{Type:e,key:n,aliases:i}=this;Wu.singleton(n,e).register(t),Wu.aliasTo(n,e).register(t),Gd(i,hp,n,t)}}const hp={name:du.resource.keyFor("value-converter"),keyFrom:t=>`${hp.name}:${t}`,isType:t=>"function"==typeof t&&Vh.hasOwn(hp.name,t),define(t,e){const n=cp.create(t,e);return Vh.define(hp.name,n,n.Type),Vh.define(hp.name,n,n),du.resource.appendTo(e,hp.name),n.Type},getDefinition(t){const e=Vh.getOwn(hp.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){Vh.define(du.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>Vh.getOwn(du.annotation.keyFor(e),t)};var up;!function(t){t[t.Connects=32]="Connects",t[t.Observes=64]="Observes",t[t.CallsFunction=128]="CallsFunction",t[t.HasAncestor=256]="HasAncestor",t[t.IsPrimary=512]="IsPrimary",t[t.IsLeftHandSide=1024]="IsLeftHandSide",t[t.HasBind=2048]="HasBind",t[t.HasUnbind=4096]="HasUnbind",t[t.IsAssignable=8192]="IsAssignable",t[t.IsLiteral=16384]="IsLiteral",t[t.IsResource=32768]="IsResource",t[t.IsForDeclaration=65536]="IsForDeclaration",t[t.Type=31]="Type",t[t.AccessThis=1793]="AccessThis",t[t.AccessScope=10082]="AccessScope",t[t.ArrayLiteral=17955]="ArrayLiteral",t[t.ObjectLiteral=17956]="ObjectLiteral",t[t.PrimitiveLiteral=17925]="PrimitiveLiteral",t[t.Template=17958]="Template",t[t.Unary=39]="Unary",t[t.CallScope=1448]="CallScope",t[t.CallMember=1161]="CallMember",t[t.CallFunction=1162]="CallFunction",t[t.AccessMember=9323]="AccessMember",t[t.AccessKeyed=9324]="AccessKeyed",t[t.TaggedTemplate=1197]="TaggedTemplate",t[t.Binary=46]="Binary",t[t.Conditional=63]="Conditional",t[t.Assign=8208]="Assign",t[t.ValueConverter=36913]="ValueConverter",t[t.BindingBehavior=38962]="BindingBehavior",t[t.HtmlLiteral=51]="HtmlLiteral",t[t.ArrayBindingPattern=65556]="ArrayBindingPattern",t[t.ObjectBindingPattern=65557]="ObjectBindingPattern",t[t.BindingIdentifier=65558]="BindingIdentifier",t[t.ForOfStatement=6199]="ForOfStatement",t[t.Interpolation=24]="Interpolation"}(up||(up={}));class dp{constructor(){this.text=""}static unparse(t){const e=new dp;return t.accept(e),e.text}visitAccessMember(t){t.object.accept(this),this.text+=`.${t.name}`}visitAccessKeyed(t){t.object.accept(this),this.text+="[",t.key.accept(this),this.text+="]"}visitAccessThis(t){if(0===t.ancestor)return void(this.text+="$this");this.text+="$parent";let e=t.ancestor-1;for(;e--;)this.text+=".$parent"}visitAccessScope(t){let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name}visitArrayLiteral(t){const e=t.elements;this.text+="[";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectLiteral(t){const e=t.keys,n=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,n[t].accept(this);this.text+="}"}visitPrimitiveLiteral(t){if(this.text+="(","string"==typeof t.value){const e=t.value.replace(/'/g,"\\'");this.text+=`'${e}'`}else this.text+=`${t.value}`;this.text+=")"}visitCallFunction(t){this.text+="(",t.func.accept(this),this.writeArgs(t.args),this.text+=")"}visitCallMember(t){this.text+="(",t.object.accept(this),this.text+=`.${t.name}`,this.writeArgs(t.args),this.text+=")"}visitCallScope(t){this.text+="(";let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name,this.writeArgs(t.args),this.text+=")"}visitTemplate(t){const{cooked:e,expressions:n}=t,i=n.length;this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)n[t].accept(this),this.text+=e[t+1];this.text+="`"}visitTaggedTemplate(t){const{cooked:e,expressions:n}=t,i=n.length;t.func.accept(this),this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)n[t].accept(this),this.text+=e[t+1];this.text+="`"}visitUnary(t){this.text+=`(${t.operation}`,t.operation.charCodeAt(0)>=97&&(this.text+=" "),t.expression.accept(this),this.text+=")"}visitBinary(t){this.text+="(",t.left.accept(this),105===t.operation.charCodeAt(0)?this.text+=` ${t.operation} `:this.text+=t.operation,t.right.accept(this),this.text+=")"}visitConditional(t){this.text+="(",t.condition.accept(this),this.text+="?",t.yes.accept(this),this.text+=":",t.no.accept(this),this.text+=")"}visitAssign(t){this.text+="(",t.target.accept(this),this.text+="=",t.value.accept(this),this.text+=")"}visitValueConverter(t){const e=t.args;t.expression.accept(this),this.text+=`|${t.name}`;for(let t=0,n=e.length;t<n;++t)this.text+=":",e[t].accept(this)}visitBindingBehavior(t){const e=t.args;t.expression.accept(this),this.text+=`&${t.name}`;for(let t=0,n=e.length;t<n;++t)this.text+=":",e[t].accept(this)}visitArrayBindingPattern(t){const e=t.elements;this.text+="[";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectBindingPattern(t){const e=t.keys,n=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,n[t].accept(this);this.text+="}"}visitBindingIdentifier(t){this.text+=t.name}visitHtmlLiteral(t){throw new Error("visitHtmlLiteral")}visitForOfStatement(t){t.declaration.accept(this),this.text+=" of ",t.iterable.accept(this)}visitInterpolation(t){const{parts:e,expressions:n}=t,i=n.length;this.text+="${",this.text+=e[0];for(let t=0;t<i;t++)n[t].accept(this),this.text+=e[t+1];this.text+="}"}writeArgs(t){this.text+="(";for(let e=0,n=t.length;e<n;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+=")"}}function pp(t,e,n){if(t){if(null==n)throw new Error("Host scope is missing. Are you using `$host` outside the `au-slot`? Or missing the `au-slot` attribute?");return n}return e}class gp{constructor(t){this.value=t}evaluate(t,e,n,i,s){return this.value}}class fp{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.behaviorKey=ap.keyFrom(e)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(t,e,n,i,s){return this.expression.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){return this.expression.assign(t,e,n,i,s)}bind(t,e,n,i){this.expression.hasBind&&this.expression.bind(t,e,n,i);const s=i.locator.get(this.behaviorKey);if(null==s)throw new Error(`BindingBehavior named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(!(s instanceof op)){if(void 0!==i[this.behaviorKey])throw new Error(`BindingBehavior named '${this.name}' already applied.`);i[this.behaviorKey]=s,s.bind.call(s,t,e,n,i,...this.args.map((s=>s.evaluate(t,e,n,i.locator,null))))}}unbind(t,e,n,i){const s=this.behaviorKey,o=i;void 0!==o[s]&&("function"==typeof o[s].unbind&&o[s].unbind(t,e,n,i),o[s]=void 0),this.expression.hasUnbind&&this.expression.unbind(t,e,n,i)}accept(t){return t.visitBindingBehavior(this)}toString(){return dp.unparse(this)}}class vp{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.converterKey=hp.keyFrom(e)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(t,e,n,i,s){const o=i.get(this.converterKey);if(null==o)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(null!==s&&"handleChange"in s){const t=o.signals;if(null!=t){const e=i.get(tp);for(let n=0,i=t.length;n<i;++n)e.addSignalListener(t[n],s)}}return"toView"in o?o.toView(this.expression.evaluate(t,e,n,i,s),...this.args.map((o=>o.evaluate(t,e,n,i,s)))):this.expression.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){const o=i.get(this.converterKey);if(null==o)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);return"fromView"in o&&(s=o.fromView(s,...this.args.map((s=>s.evaluate(t,e,n,i,null))))),this.expression.assign(t,e,n,i,s)}unbind(t,e,n,i){const s=i.locator.get(this.converterKey);if(void 0===s.signals)return;const o=i.locator.get(tp);for(let t=0;t<s.signals.length;++t)o.removeSignalListener(s.signals[t],i)}accept(t){return t.visitValueConverter(this)}toString(){return dp.unparse(this)}}class mp{constructor(t,e){this.target=t,this.value=e}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.target.assign(t,e,n,i,this.value.evaluate(t,e,n,i,s))}assign(t,e,n,i,s){return this.value.assign(t,e,n,i,s),this.target.assign(t,e,n,i,s)}accept(t){return t.visitAssign(this)}toString(){return dp.unparse(this)}}class bp{constructor(t,e,n){this.condition=t,this.yes=e,this.no=n}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.condition.evaluate(t,e,n,i,s)?this.yes.evaluate(t,e,n,i,s):this.no.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){}accept(t){return t.visitConditional(this)}toString(){return dp.unparse(this)}}class yp{constructor(t=0){this.ancestor=t}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){var o;this===yp.$host&&(e=pp(!0,e,n));let r=e.overrideContext,a=e,l=this.ancestor;for(;l--&&r;)a=a.parentScope,r=null!==(o=null==a?void 0:a.overrideContext)&&void 0!==o?o:null;return l<1&&r?r.bindingContext:void 0}assign(t,e,n,i,s){}accept(t){return t.visitAccessThis(this)}toString(){return dp.unparse(this)}}yp.$this=new yp(0),yp.$host=new yp(0),yp.$parent=new yp(1);class wp{constructor(t,e=0,n=!1){this.name=t,this.ancestor=e,this.accessHostScope=n}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o=Yd.get(pp(this.accessHostScope,e,n),this.name,this.ancestor,t,n);null!==s&&s.observeProperty(o,this.name);const r=o[this.name];return 1&t?r:null==r?"":r}assign(t,e,n,i,s){var o;const r=Yd.get(pp(this.accessHostScope,e,n),this.name,this.ancestor,t,n);if(r instanceof Object)return void 0!==(null===(o=r.$observers)||void 0===o?void 0:o[this.name])?(r.$observers[this.name].setValue(s,t),s):r[this.name]=s}accept(t){return t.visitAccessScope(this)}toString(){return dp.unparse(this)}}class xp{constructor(t,e){this.object=t,this.name=e}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o=this.object.evaluate(t,e,n,i,(128&t)>0?null:s);return 1&t?null==o?o:(null!==s&&s.observeProperty(o,this.name),o[this.name]):(null!==s&&o instanceof Object&&s.observeProperty(o,this.name),o?o[this.name]:"")}assign(t,e,n,i,s){const o=this.object.evaluate(t,e,n,i,null);return o instanceof Object?void 0!==o.$observers&&void 0!==o.$observers[this.name]?o.$observers[this.name].setValue(s,t):o[this.name]=s:this.object.assign(t,e,n,i,{[this.name]:s}),s}accept(t){return t.visitAccessMember(this)}toString(){return dp.unparse(this)}}class kp{constructor(t,e){this.object=t,this.key=e}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o=this.object.evaluate(t,e,n,i,(128&t)>0?null:s);if(o instanceof Object){const r=this.key.evaluate(t,e,n,i,(128&t)>0?null:s);return null!==s&&s.observeProperty(o,r),o[r]}}assign(t,e,n,i,s){return this.object.evaluate(t,e,n,i,null)[this.key.evaluate(t,e,n,i,null)]=s}accept(t){return t.visitAccessKeyed(this)}toString(){return dp.unparse(this)}}class Cp{constructor(t,e,n=0,i=!1){this.name=t,this.args=e,this.ancestor=n,this.accessHostScope=i}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){e=pp(this.accessHostScope,e,n);const o=this.args.map((o=>o.evaluate(t,e,n,i,s))),r=Yd.get(e,this.name,this.ancestor,t,n),a=Bp(t,r,this.name);if(a)return a.apply(r,o)}assign(t,e,n,i,s){}accept(t){return t.visitCallScope(this)}toString(){return dp.unparse(this)}}class Sp{constructor(t,e,n){this.object=t,this.name=e,this.args=n}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o=this.object.evaluate(t,e,n,i,(128&t)>0?null:s),r=this.args.map((o=>o.evaluate(t,e,n,i,s))),a=Bp(t,o,this.name);if(a)return a.apply(o,r)}assign(t,e,n,i,s){}accept(t){return t.visitCallMember(this)}toString(){return dp.unparse(this)}}class $p{constructor(t,e){this.func=t,this.args=e}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o=this.func.evaluate(t,e,n,i,s);if("function"==typeof o)return o(...this.args.map((o=>o.evaluate(t,e,n,i,s))));if(8&t||null!=o)throw new Error("Expression is not a function.")}assign(t,e,n,i,s){}accept(t){return t.visitCallFunction(this)}toString(){return dp.unparse(this)}}class Tp{constructor(t,e,n){this.operation=t,this.left=e,this.right=n}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){switch(this.operation){case"&&":return this.left.evaluate(t,e,n,i,s)&&this.right.evaluate(t,e,n,i,s);case"||":return this.left.evaluate(t,e,n,i,s)||this.right.evaluate(t,e,n,i,s);case"==":return this.left.evaluate(t,e,n,i,s)==this.right.evaluate(t,e,n,i,s);case"===":return this.left.evaluate(t,e,n,i,s)===this.right.evaluate(t,e,n,i,s);case"!=":return this.left.evaluate(t,e,n,i,s)!=this.right.evaluate(t,e,n,i,s);case"!==":return this.left.evaluate(t,e,n,i,s)!==this.right.evaluate(t,e,n,i,s);case"instanceof":{const o=this.right.evaluate(t,e,n,i,s);return"function"==typeof o&&this.left.evaluate(t,e,n,i,s)instanceof o}case"in":{const o=this.right.evaluate(t,e,n,i,s);return o instanceof Object&&this.left.evaluate(t,e,n,i,s)in o}case"+":{const o=this.left.evaluate(t,e,n,i,s),r=this.right.evaluate(t,e,n,i,s);if((1&t)>0)return o+r;if(!o||!r){if(Wh(o)||Wh(r))return(o||0)+(r||0);if(Kh(o)||Kh(r))return(o||"")+(r||"")}return o+r}case"-":return this.left.evaluate(t,e,n,i,s)-this.right.evaluate(t,e,n,i,s);case"*":return this.left.evaluate(t,e,n,i,s)*this.right.evaluate(t,e,n,i,s);case"/":return this.left.evaluate(t,e,n,i,s)/this.right.evaluate(t,e,n,i,s);case"%":return this.left.evaluate(t,e,n,i,s)%this.right.evaluate(t,e,n,i,s);case"<":return this.left.evaluate(t,e,n,i,s)<this.right.evaluate(t,e,n,i,s);case">":return this.left.evaluate(t,e,n,i,s)>this.right.evaluate(t,e,n,i,s);case"<=":return this.left.evaluate(t,e,n,i,s)<=this.right.evaluate(t,e,n,i,s);case">=":return this.left.evaluate(t,e,n,i,s)>=this.right.evaluate(t,e,n,i,s);default:throw new Error(`Unknown binary operator: '${this.operation}'`)}}assign(t,e,n,i,s){}accept(t){return t.visitBinary(this)}toString(){return dp.unparse(this)}}class Ap{constructor(t,e){this.operation=t,this.expression=e}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){switch(this.operation){case"void":return void this.expression.evaluate(t,e,n,i,s);case"typeof":return typeof this.expression.evaluate(1|t,e,n,i,s);case"!":return!this.expression.evaluate(t,e,n,i,s);case"-":return-this.expression.evaluate(t,e,n,i,s);case"+":return+this.expression.evaluate(t,e,n,i,s);default:throw new Error(`Unknown unary operator: '${this.operation}'`)}}assign(t,e,n,i,s){}accept(t){return t.visitUnary(this)}toString(){return dp.unparse(this)}}class Ep{constructor(t){this.value=t}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.value}assign(t,e,n,i,s){}accept(t){return t.visitPrimitiveLiteral(this)}toString(){return dp.unparse(this)}}Ep.$undefined=new Ep(void 0),Ep.$null=new Ep(null),Ep.$true=new Ep(!0),Ep.$false=new Ep(!1),Ep.$empty=new Ep("");class Op{constructor(t){this.elements=t}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.elements.map((o=>o.evaluate(t,e,n,i,s)))}assign(t,e,n,i,s){}accept(t){return t.visitArrayLiteral(this)}toString(){return dp.unparse(this)}}Op.$empty=new Op(Xu);class Pp{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o={};for(let r=0;r<this.keys.length;++r)o[this.keys[r]]=this.values[r].evaluate(t,e,n,i,s);return o}assign(t,e,n,i,s){}accept(t){return t.visitObjectLiteral(this)}toString(){return dp.unparse(this)}}Pp.$empty=new Pp(Xu,Xu);class Rp{constructor(t,e=Xu){this.cooked=t,this.expressions=e}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){let o=this.cooked[0];for(let r=0;r<this.expressions.length;++r)o+=String(this.expressions[r].evaluate(t,e,n,i,s)),o+=this.cooked[r+1];return o}assign(t,e,n,i,s){}accept(t){return t.visitTemplate(this)}toString(){return dp.unparse(this)}}Rp.$empty=new Rp([""]);class Ip{constructor(t,e,n,i=Xu){this.cooked=t,this.func=n,this.expressions=i,t.raw=e}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const o=this.expressions.map((o=>o.evaluate(t,e,n,i,s))),r=this.func.evaluate(t,e,n,i,s);if("function"!=typeof r)throw new Error("Left-hand side of tagged template expression is not a function.");return r(this.cooked,...o)}assign(t,e,n,i,s){}accept(t){return t.visitTaggedTemplate(this)}toString(){return dp.unparse(this)}}class jp{constructor(t){this.elements=t}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){}assign(t,e,n,i,s){}accept(t){return t.visitArrayBindingPattern(this)}toString(){return dp.unparse(this)}}class Fp{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){}assign(t,e,n,i,s){}accept(t){return t.visitObjectBindingPattern(this)}toString(){return dp.unparse(this)}}class Lp{constructor(t){this.name=t}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.name}accept(t){return t.visitBindingIdentifier(this)}toString(){return dp.unparse(this)}}const Np=Object.prototype.toString;class Dp{constructor(t,e){this.declaration=t,this.iterable=e}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.iterable.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){}count(t,e){switch(Np.call(e)){case"[object Array]":return e.length;case"[object Map]":case"[object Set]":return e.size;case"[object Number]":return e;case"[object Null]":case"[object Undefined]":return 0;default:throw new Error(`Cannot count ${Np.call(e)}`)}}iterate(t,e,n){switch(Np.call(e)){case"[object Array]":return Vp(e,n);case"[object Map]":return function(t,e){const n=Array(t.size);let i=-1;for(const e of t.entries())n[++i]=e;Vp(n,e)}(e,n);case"[object Set]":return function(t,e){const n=Array(t.size);let i=-1;for(const e of t.keys())n[++i]=e;Vp(n,e)}(e,n);case"[object Number]":return function(t,e){const n=Array(t);for(let e=0;e<t;++e)n[e]=e;Vp(n,e)}(e,n);case"[object Null]":case"[object Undefined]":return;default:throw new Error(`Cannot iterate over ${Np.call(e)}`)}}bind(t,e,n,i){this.iterable.hasBind&&this.iterable.bind(t,e,n,i)}unbind(t,e,n,i){this.iterable.hasUnbind&&this.iterable.unbind(t,e,n,i)}accept(t){return t.visitForOfStatement(this)}toString(){return dp.unparse(this)}}class Mp{constructor(t,e=Xu){this.parts=t,this.expressions=e,this.isMulti=e.length>1,this.firstExpression=e[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){if(this.isMulti){let o=this.parts[0];for(let r=0;r<this.expressions.length;++r)o+=String(this.expressions[r].evaluate(t,e,n,i,s)),o+=this.parts[r+1];return o}return`${this.parts[0]}${this.firstExpression.evaluate(t,e,n,i,s)}${this.parts[1]}`}assign(t,e,n,i,s){}accept(t){return t.visitInterpolation(this)}toString(){return dp.unparse(this)}}function Bp(t,e,n){const i=null==e?null:e[n];if("function"==typeof i)return i;if(!(8&t)&&null==i)return null;throw new Error(`Expected '${n}' to be a function`)}function Vp(t,e){for(let n=0,i=t.length;n<i;++n)e(t,n,t[n])}const Hp=Reflect.defineProperty;function qp(t,e,n){Hp(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function Up(t,e,n,i=!1){!i&&Object.prototype.hasOwnProperty.call(t,e)||qp(t,e,n)}var zp,_p,Wp,Kp,Gp,Qp,Yp;function Xp(t=0){const e=Array(t);let n=0;for(;n<t;)e[n]=n++;return e.deletedItems=[],e.isIndexMap=!0,e}function Zp(t){return null==t?Jp:Jp(t)}function Jp(t){const e=t.prototype;Hp(e,"subs",{get:eg}),Up(e,"subscribe",ng),Up(e,"unsubscribe",ig)}(Yp=zp||(zp={}))[Yp.oneTime=1]="oneTime",Yp[Yp.toView=2]="toView",Yp[Yp.fromView=4]="fromView",Yp[Yp.twoWay=6]="twoWay",Yp[Yp.default=8]="default",function(t){t[t.none=0]="none",t[t.persistentBindingFlags=961]="persistentBindingFlags",t[t.allowParentScopeTraversal=64]="allowParentScopeTraversal",t[t.observeLeafPropertiesOnly=128]="observeLeafPropertiesOnly",t[t.targetObserverFlags=769]="targetObserverFlags",t[t.noFlush=256]="noFlush",t[t.persistentTargetObserverQueue=512]="persistentTargetObserverQueue",t[t.bindingStrategy=1]="bindingStrategy",t[t.isStrictBindingStrategy=1]="isStrictBindingStrategy",t[t.fromBind=2]="fromBind",t[t.fromUnbind=4]="fromUnbind",t[t.mustEvaluate=8]="mustEvaluate",t[t.isTraversingParentScope=16]="isTraversingParentScope",t[t.dispose=32]="dispose"}(_p||(_p={})),function(t){t[t.None=0]="None",t[t.Subscriber0=1]="Subscriber0",t[t.Subscriber1=2]="Subscriber1",t[t.Subscriber2=4]="Subscriber2",t[t.SubscribersRest=8]="SubscribersRest",t[t.Any=15]="Any"}(Wp||(Wp={})),function(t){t[t.none=0]="none",t[t.capturing=1]="capturing",t[t.bubbling=2]="bubbling"}(Kp||(Kp={})),function(t){t[t.indexed=8]="indexed",t[t.keyed=4]="keyed",t[t.array=9]="array",t[t.map=6]="map",t[t.set=7]="set"}(Gp||(Gp={})),function(t){t[t.None=0]="None",t[t.Observer=1]="Observer",t[t.Node=2]="Node",t[t.Layout=4]="Layout",t[t.Primtive=8]="Primtive",t[t.Array=18]="Array",t[t.Set=34]="Set",t[t.Map=66]="Map"}(Qp||(Qp={}));class tg{constructor(){this._sf=0,this.count=0}add(t){if(this.has(t))return!1;const e=this._sf;return 0==(1&e)?(this._s0=t,this._sf|=1):0==(2&e)?(this._s1=t,this._sf|=2):0==(4&e)?(this._s2=t,this._sf|=4):0==(8&e)?(this._sr=[t],this._sf|=8):this._sr.push(t),++this.count,!0}has(t){const e=this._sf;if((1&e)>0&&this._s0===t)return!0;if((2&e)>0&&this._s1===t)return!0;if((4&e)>0&&this._s2===t)return!0;if((8&e)>0){const e=this._sr,n=e.length;let i=0;for(;i<n;++i)if(e[i]===t)return!0}return!1}any(){return 0!==this._sf}remove(t){const e=this._sf;if((1&e)>0&&this._s0===t)return this._s0=void 0,this._sf=1^(1|this._sf),--this.count,!0;if((2&e)>0&&this._s1===t)return this._s1=void 0,this._sf=2^(2|this._sf),--this.count,!0;if((4&e)>0&&this._s2===t)return this._s2=void 0,this._sf=4^(4|this._sf),--this.count,!0;if((8&e)>0){const e=this._sr,n=e.length;let i=0;for(;i<n;++i)if(e[i]===t)return e.splice(i,1),1===n&&(this._sf=8^(8|this._sf)),--this.count,!0}return!1}notify(t,e,n){const i=this._s0,s=this._s1,o=this._s2;let r=this._sr;if(void 0!==r&&(r=r.slice()),void 0!==i&&i.handleChange(t,e,n),void 0!==s&&s.handleChange(t,e,n),void 0!==o&&o.handleChange(t,e,n),void 0!==r){const i=r.length;let s,o=0;for(;o<i;++o)s=r[o],void 0!==s&&s.handleChange(t,e,n)}}notifyCollection(t,e){const n=this._s0,i=this._s1,s=this._s2;let o=this._sr;if(void 0!==o&&(o=o.slice()),void 0!==n&&n.handleCollectionChange(t,e),void 0!==i&&i.handleCollectionChange(t,e),void 0!==s&&s.handleCollectionChange(t,e),void 0!==o){const n=o.length;let i,s=0;for(;s<n;++s)i=o[s],void 0!==i&&i.handleCollectionChange(t,e)}}}function eg(){const t=new tg;return qp(this,"subs",t),t}function ng(t){return this.subs.add(t)}function ig(t){return this.subs.remove(t)}class sg{constructor(t){this.owner=t,this.type=18,this.value=(this.obj=t.collection).length}getValue(){return this.obj.length}setValue(t,e){const n=this.value;t!==n&&_h(t)&&(0==(256&e)&&(this.obj.length=t),this.value=t,this.subs.notify(t,n,e))}handleCollectionChange(t,e){const n=this.value,i=this.obj.length;(this.value=i)!==n&&this.subs.notify(i,n,e)}}class og{constructor(t){this.owner=t,this.value=(this.obj=t.collection).size,this.type=this.obj instanceof Map?66:34}getValue(){return this.obj.size}setValue(){throw new Error('Map/Set "size" is a readonly property')}handleCollectionChange(t,e){const n=this.value,i=this.obj.size;this.value=i,i!==n&&this.subs.notify(i,n,e)}}function rg(t){const e=t.prototype;Up(e,"subscribe",ag,!0),Up(e,"unsubscribe",lg,!0),Zp(t)}function ag(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function lg(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}rg(sg),rg(og);const cg=new WeakMap;function hg(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function ug(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function dg(t,e,n,i,s){let o,r,a,l,c,h,u;for(h=n+1;h<i;h++){for(o=t[h],r=e[h],u=h-1;u>=n&&(a=t[u],l=e[u],c=s(a,o),c>0);u--)t[u+1]=a,e[u+1]=l;t[u+1]=o,e[u+1]=r}}function pg(t,e,n,i,s){let o,r,a,l,c,h,u,d,p,g,f,v,m,b,y,w,x,k,C,S=0,$=0;for(;;){if(i-n<=10)return void dg(t,e,n,i,s);S=n+(i-n>>1),o=t[n],l=e[n],r=t[i-1],c=e[i-1],a=t[S],h=e[S],u=s(o,r),u>0&&(g=o,f=l,o=r,l=c,r=g,c=f),d=s(o,a),d>=0?(g=o,f=l,o=a,l=h,a=r,h=c,r=g,c=f):(p=s(r,a),p>0&&(g=r,f=c,r=a,c=h,a=g,h=f)),t[n]=o,e[n]=l,t[i-1]=a,e[i-1]=h,v=r,m=c,b=n+1,y=i-1,t[S]=t[b],e[S]=e[b],t[b]=v,e[b]=m;t:for($=b+1;$<y;$++)if(w=t[$],x=e[$],k=s(w,v),k<0)t[$]=t[b],e[$]=e[b],t[b]=w,e[b]=x,b++;else if(k>0){do{if(y--,y==$)break t;C=t[y],k=s(C,v)}while(k>0);t[$]=t[y],e[$]=e[y],t[y]=w,e[y]=x,k<0&&(w=t[$],x=e[$],t[$]=t[b],e[$]=e[b],t[b]=w,e[b]=x,b++)}i-y<b-n?(pg(t,e,y,i,s),i=b):(pg(t,e,n,b,s),n=y)}}const gg=Array.prototype,fg=gg.push,vg=gg.unshift,mg=gg.pop,bg=gg.shift,yg=gg.splice,wg=gg.reverse,xg=gg.sort,kg=["push","unshift","pop","shift","splice","reverse","sort"],Cg={push:function(...t){const e=cg.get(this);if(void 0===e)return fg.apply(this,t);const n=this.length,i=t.length;if(0===i)return n;this.length=e.indexMap.length=n+i;let s=n;for(;s<this.length;)this[s]=t[s-n],e.indexMap[s]=-2,s++;return e.notify(),this.length},unshift:function(...t){const e=cg.get(this);if(void 0===e)return vg.apply(this,t);const n=t.length,i=new Array(n);let s=0;for(;s<n;)i[s++]=-2;vg.apply(e.indexMap,i);const o=vg.apply(this,t);return e.notify(),o},pop:function(){const t=cg.get(this);if(void 0===t)return mg.call(this);const e=t.indexMap,n=mg.call(this),i=e.length-1;return e[i]>-1&&e.deletedItems.push(e[i]),mg.call(e),t.notify(),n},shift:function(){const t=cg.get(this);if(void 0===t)return bg.call(this);const e=t.indexMap,n=bg.call(this);return e[0]>-1&&e.deletedItems.push(e[0]),bg.call(e),t.notify(),n},splice:function(...t){const e=t[0],n=t[1],i=cg.get(this);if(void 0===i)return yg.apply(this,t);const s=this.length,o=0|e,r=o<0?Math.max(s+o,0):Math.min(o,s),a=i.indexMap,l=t.length,c=0===l?0:1===l?s-r:n;if(c>0){let t=r;const e=t+c;for(;t<e;)a[t]>-1&&a.deletedItems.push(a[t]),t++}if(l>2){const t=l-2,i=new Array(t);let s=0;for(;s<t;)i[s++]=-2;yg.call(a,e,n,...i)}else yg.apply(a,t);const h=yg.apply(this,t);return i.notify(),h},reverse:function(){const t=cg.get(this);if(void 0===t)return wg.call(this),this;const e=this.length,n=e/2|0;let i=0;for(;i!==n;){const n=e-i-1,s=this[i],o=t.indexMap[i],r=this[n],a=t.indexMap[n];this[i]=r,t.indexMap[i]=a,this[n]=s,t.indexMap[n]=o,i++}return t.notify(),this},sort:function(t){const e=cg.get(this);if(void 0===e)return xg.call(this,t),this;const n=this.length;if(n<2)return this;pg(this,e.indexMap,0,n,ug);let i=0;for(;i<n&&void 0!==this[i];)i++;return void 0!==t&&"function"==typeof t||(t=hg),pg(this,e.indexMap,0,i,t),e.notify(),this}};for(const t of kg)Hp(Cg[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Sg=!1;class $g{constructor(t){this.type=18,Sg||(Sg=!0,function(){for(const t of kg)!0!==gg[t].observing&&qp(gg,t,Cg[t])}()),this.indexObservers={},this.collection=t,this.indexMap=Xp(t.length),this.lenObs=void 0,cg.set(t,this)}notify(){const t=this.indexMap,e=this.collection.length;this.indexMap=Xp(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new sg(this)}getIndexObserver(t){var e,n;return null!==(e=(n=this.indexObservers)[t])&&void 0!==e?e:n[t]=new Tg(this,t)}}class Tg{constructor(t,e){this.owner=t,this.index=e,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t,e){if(t===this.getValue())return;const n=this.owner,i=this.index,s=n.indexMap;s[i]>-1&&s.deletedItems.push(s[i]),s[i]=-2,n.collection[i]=t,n.notify()}handleCollectionChange(t,e){const n=this.index;if(t[n]===n)return;const i=this.value,s=this.value=this.getValue();i!==s&&this.subs.notify(s,i,e)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function Ag(t){let e=cg.get(t);return void 0===e&&(e=new $g(t)),e}Zp($g),Zp(Tg);const Eg=new WeakMap,Og=Set.prototype,Pg=Og.add,Rg=Og.clear,Ig=Og.delete,jg=["add","clear","delete"],Fg={add:function(t){const e=Eg.get(this);if(void 0===e)return Pg.call(this,t),this;const n=this.size;return Pg.call(this,t),this.size===n||(e.indexMap[n]=-2,e.notify()),this},clear:function(){const t=Eg.get(this);if(void 0===t)return Rg.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&e.deletedItems.push(e[n]),n++;Rg.call(this),e.length=0,t.notify()}},delete:function(t){const e=Eg.get(this);if(void 0===e)return Ig.call(this,t);if(0===this.size)return!1;let n=0;const i=e.indexMap;for(const s of this.keys()){if(s===t){i[n]>-1&&i.deletedItems.push(i[n]),i.splice(n,1);const s=Ig.call(this,t);return!0===s&&e.notify(),s}n++}return!1}},Lg={writable:!0,enumerable:!1,configurable:!0};for(const t of jg)Hp(Fg[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Ng=!1;class Dg{constructor(t){this.type=34,Ng||(Ng=!0,function(){for(const t of jg)!0!==Og[t].observing&&Hp(Og,t,{...Lg,value:Fg[t]})}()),this.collection=t,this.indexMap=Xp(t.size),this.lenObs=void 0,Eg.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=Xp(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new og(this)}}function Mg(t){let e=Eg.get(t);return void 0===e&&(e=new Dg(t)),e}Zp(Dg);const Bg=new WeakMap,Vg=Map.prototype,Hg=Vg.set,qg=Vg.clear,Ug=Vg.delete,zg=["set","clear","delete"],_g={set:function(t,e){const n=Bg.get(this);if(void 0===n)return Hg.call(this,t,e),this;const i=this.get(t),s=this.size;if(Hg.call(this,t,e),this.size===s){let e=0;for(const s of this.entries()){if(s[0]===t)return s[1]!==i&&(n.indexMap.deletedItems.push(n.indexMap[e]),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[s]=-2,n.notify(),this},clear:function(){const t=Bg.get(this);if(void 0===t)return qg.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&e.deletedItems.push(e[n]),n++;qg.call(this),e.length=0,t.notify()}},delete:function(t){const e=Bg.get(this);if(void 0===e)return Ug.call(this,t);if(0===this.size)return!1;let n=0;const i=e.indexMap;for(const s of this.keys()){if(s===t){i[n]>-1&&i.deletedItems.push(i[n]),i.splice(n,1);const s=Ug.call(this,t);return!0===s&&e.notify(),s}++n}return!1}},Wg={writable:!0,enumerable:!1,configurable:!0};for(const t of zg)Hp(_g[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Kg=!1;class Gg{constructor(t){this.type=66,Kg||(Kg=!0,function(){for(const t of zg)!0!==Vg[t].observing&&Hp(Vg,t,{...Wg,value:_g[t]})}()),this.collection=t,this.indexMap=Xp(t.size),this.lenObs=void 0,Bg.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=Xp(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new og(this)}}function Qg(t){let e=Bg.get(t);return void 0===e&&(e=new Gg(t)),e}Zp(Gg);const Yg=[],Xg=[];let Zg=-1;function Jg(t){if(t===Zg){Zg+=5;const e=Yg.length=Xg.length=Zg+1;let n=t+1;for(;n<e;++n)Yg[n]=`_o${n}`,Xg[n]=`_v${n}`}}function tf(t,e){const n=this.observerLocator.getObserver(t,e);this.obs.add(n)}function ef(){const t=new af(this);return qp(this,"obs",t),t}function nf(t){let e;if(t instanceof Array)e=Ag(t);else if(t instanceof Set)e=Mg(t);else{if(!(t instanceof Map))throw new Error("Unrecognised collection type.");e=Qg(t)}this.obs.add(e)}function sf(t){this.obs.add(t)}function of(){throw new Error('method "handleChange" not implemented')}function rf(){throw new Error('method "handleCollectionChange" not implemented')}Jg(-1);class af{constructor(t){this.binding=t,this.version=0,this.count=0}handleChange(t,e,n){return this.binding.interceptor.handleChange(t,e,n)}handleCollectionChange(t,e){this.binding.interceptor.handleCollectionChange(t,e)}add(t){const e=null==this.count?0:this.count;let n=e;for(;n--&&this[Yg[n]]!==t;);if(-1===n){for(n=0;this[Yg[n]];)n++;this[Yg[n]]=t,t.subscribe(this),n===e&&(this.count=n+1)}this[Xg[n]]=this.version,Jg(n)}clear(t){const e=this.count;let n,i,s=0;if(!0===t){for(;s<e;++s)n=Yg[s],i=this[n],null!=i&&(this[n]=void 0,i.unsubscribe(this));this.count=0}else for(;s<e;++s)this[Xg[s]]!==this.version&&(n=Yg[s],i=this[n],null!=i&&(this[n]=void 0,i.unsubscribe(this),this.count--))}}function lf(t){const e=t.prototype;return Up(e,"observeProperty",tf,!0),Up(e,"observeCollection",nf,!0),Up(e,"subscribeTo",sf,!0),Hp(e,"obs",{get:ef}),Up(e,"handleChange",of),Up(e,"handleCollectionChange",rf),t}function cf(t){return null==t?lf:lf(t)}lf(class{constructor(t,e,n,i){this.key=t,this.binding=e,this.observerLocator=n,this.locator=i,this.interceptor=this}$bind(t,e,n,i){throw new Error("Method not implemented.")}$unbind(t){throw new Error("Method not implemented.")}handleChange(t,e,n){this.binding[this.key](t,e,n)}});const hf=xu.createInterface("IExpressionParser",(t=>t.singleton(uf)));class uf{constructor(){this.expressionLookup=Object.create(null),this.forOfLookup=Object.create(null),this.interpolationLookup=Object.create(null)}parse(t,e){switch(e){case 2048:{let n=this.interpolationLookup[t];return void 0===n&&(n=this.interpolationLookup[t]=this.$parse(t,e)),n}case 539:{let n=this.forOfLookup[t];return void 0===n&&(n=this.forOfLookup[t]=this.$parse(t,e)),n}default:{if(0===t.length&&55&e)return Ep.$empty;let n=this.expressionLookup[t];return void 0===n&&(n=this.expressionLookup[t]=this.$parse(t,e)),n}}}$parse(t,e){return $f.input=t,$f.length=t.length,$f.index=0,$f.currentChar=t.charCodeAt(0),Tf($f,0,61,void 0===e?53:e)}}var df,pf,gf,ff;function vf(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}!function(t){t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.VerticalTab=11]="VerticalTab",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.Exclamation=33]="Exclamation",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dollar=36]="Dollar",t[t.Percent=37]="Percent",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Minus=45]="Minus",t[t.Dot=46]="Dot",t[t.Slash=47]="Slash",t[t.Semicolon=59]="Semicolon",t[t.Backtick=96]="Backtick",t[t.OpenBracket=91]="OpenBracket",t[t.Backslash=92]="Backslash",t[t.CloseBracket=93]="CloseBracket",t[t.Caret=94]="Caret",t[t.Underscore=95]="Underscore",t[t.OpenBrace=123]="OpenBrace",t[t.Bar=124]="Bar",t[t.CloseBrace=125]="CloseBrace",t[t.Colon=58]="Colon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.Question=63]="Question",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.UpperA=65]="UpperA",t[t.UpperB=66]="UpperB",t[t.UpperC=67]="UpperC",t[t.UpperD=68]="UpperD",t[t.UpperE=69]="UpperE",t[t.UpperF=70]="UpperF",t[t.UpperG=71]="UpperG",t[t.UpperH=72]="UpperH",t[t.UpperI=73]="UpperI",t[t.UpperJ=74]="UpperJ",t[t.UpperK=75]="UpperK",t[t.UpperL=76]="UpperL",t[t.UpperM=77]="UpperM",t[t.UpperN=78]="UpperN",t[t.UpperO=79]="UpperO",t[t.UpperP=80]="UpperP",t[t.UpperQ=81]="UpperQ",t[t.UpperR=82]="UpperR",t[t.UpperS=83]="UpperS",t[t.UpperT=84]="UpperT",t[t.UpperU=85]="UpperU",t[t.UpperV=86]="UpperV",t[t.UpperW=87]="UpperW",t[t.UpperX=88]="UpperX",t[t.UpperY=89]="UpperY",t[t.UpperZ=90]="UpperZ",t[t.LowerA=97]="LowerA",t[t.LowerB=98]="LowerB",t[t.LowerC=99]="LowerC",t[t.LowerD=100]="LowerD",t[t.LowerE=101]="LowerE",t[t.LowerF=102]="LowerF",t[t.LowerG=103]="LowerG",t[t.LowerH=104]="LowerH",t[t.LowerI=105]="LowerI",t[t.LowerJ=106]="LowerJ",t[t.LowerK=107]="LowerK",t[t.LowerL=108]="LowerL",t[t.LowerM=109]="LowerM",t[t.LowerN=110]="LowerN",t[t.LowerO=111]="LowerO",t[t.LowerP=112]="LowerP",t[t.LowerQ=113]="LowerQ",t[t.LowerR=114]="LowerR",t[t.LowerS=115]="LowerS",t[t.LowerT=116]="LowerT",t[t.LowerU=117]="LowerU",t[t.LowerV=118]="LowerV",t[t.LowerW=119]="LowerW",t[t.LowerX=120]="LowerX",t[t.LowerY=121]="LowerY",t[t.LowerZ=122]="LowerZ"}(df||(df={})),function(t){t[t.Reset=0]="Reset",t[t.Ancestor=511]="Ancestor",t[t.This=512]="This",t[t.Scope=1024]="Scope",t[t.Member=2048]="Member",t[t.Keyed=4096]="Keyed"}(pf||(pf={})),function(t){t[t.Variadic=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.LogicalOR=64]="LogicalOR",t[t.LogicalAND=128]="LogicalAND",t[t.Equality=192]="Equality",t[t.Relational=256]="Relational",t[t.Additive=320]="Additive",t[t.Multiplicative=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.LeftHandSide=449]="LeftHandSide",t[t.Primary=450]="Primary",t[t.Unary=451]="Unary"}(gf||(gf={})),function(t){t[t.EOF=1572864]="EOF",t[t.ExpressionTerminal=1048576]="ExpressionTerminal",t[t.AccessScopeTerminal=524288]="AccessScopeTerminal",t[t.ClosingToken=262144]="ClosingToken",t[t.OpeningToken=131072]="OpeningToken",t[t.BinaryOp=65536]="BinaryOp",t[t.UnaryOp=32768]="UnaryOp",t[t.LeftHandSide=16384]="LeftHandSide",t[t.StringOrNumericLiteral=12288]="StringOrNumericLiteral",t[t.NumericLiteral=8192]="NumericLiteral",t[t.StringLiteral=4096]="StringLiteral",t[t.IdentifierName=3072]="IdentifierName",t[t.Keyword=2048]="Keyword",t[t.Identifier=1024]="Identifier",t[t.Contextual=512]="Contextual",t[t.Precedence=448]="Precedence",t[t.Type=63]="Type",t[t.FalseKeyword=2048]="FalseKeyword",t[t.TrueKeyword=2049]="TrueKeyword",t[t.NullKeyword=2050]="NullKeyword",t[t.UndefinedKeyword=2051]="UndefinedKeyword",t[t.ThisScope=3076]="ThisScope",t[t.HostScope=3077]="HostScope",t[t.ParentScope=3078]="ParentScope",t[t.OpenParen=671751]="OpenParen",t[t.OpenBrace=131080]="OpenBrace",t[t.Dot=16393]="Dot",t[t.CloseBrace=1835018]="CloseBrace",t[t.CloseParen=1835019]="CloseParen",t[t.Comma=1572876]="Comma",t[t.OpenBracket=671757]="OpenBracket",t[t.CloseBracket=1835022]="CloseBracket",t[t.Colon=1572879]="Colon",t[t.Question=1572880]="Question",t[t.Ampersand=1572883]="Ampersand",t[t.Bar=1572884]="Bar",t[t.BarBar=1638549]="BarBar",t[t.AmpersandAmpersand=1638614]="AmpersandAmpersand",t[t.EqualsEquals=1638679]="EqualsEquals",t[t.ExclamationEquals=1638680]="ExclamationEquals",t[t.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",t[t.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",t[t.LessThan=1638747]="LessThan",t[t.GreaterThan=1638748]="GreaterThan",t[t.LessThanEquals=1638749]="LessThanEquals",t[t.GreaterThanEquals=1638750]="GreaterThanEquals",t[t.InKeyword=1640799]="InKeyword",t[t.InstanceOfKeyword=1640800]="InstanceOfKeyword",t[t.Plus=623009]="Plus",t[t.Minus=623010]="Minus",t[t.TypeofKeyword=34851]="TypeofKeyword",t[t.VoidKeyword=34852]="VoidKeyword",t[t.Asterisk=1638885]="Asterisk",t[t.Percent=1638886]="Percent",t[t.Slash=1638887]="Slash",t[t.Equals=1048616]="Equals",t[t.Exclamation=32809]="Exclamation",t[t.TemplateTail=540714]="TemplateTail",t[t.TemplateContinuation=540715]="TemplateContinuation",t[t.OfKeyword=1051180]="OfKeyword"}(ff||(ff={}));const mf=Ep.$false,bf=Ep.$true,yf=Ep.$null,wf=Ep.$undefined,xf=yp.$this,kf=yp.$host,Cf=yp.$parent;var Sf;!function(t){t[t.None=0]="None",t[t.IgnoreAttr=4096]="IgnoreAttr",t[t.Interpolation=2048]="Interpolation",t[t.IsRef=5376]="IsRef",t[t.IsIterator=512]="IsIterator",t[t.IsCustom=256]="IsCustom",t[t.IsFunction=128]="IsFunction",t[t.IsEvent=64]="IsEvent",t[t.IsProperty=32]="IsProperty",t[t.IsCommand=16]="IsCommand",t[t.IsPropertyCommand=48]="IsPropertyCommand",t[t.IsEventCommand=80]="IsEventCommand",t[t.DelegationStrategyDelta=6]="DelegationStrategyDelta",t[t.Command=15]="Command",t[t.OneTimeCommand=49]="OneTimeCommand",t[t.ToViewCommand=50]="ToViewCommand",t[t.FromViewCommand=51]="FromViewCommand",t[t.TwoWayCommand=52]="TwoWayCommand",t[t.BindCommand=53]="BindCommand",t[t.TriggerCommand=4182]="TriggerCommand",t[t.CaptureCommand=4183]="CaptureCommand",t[t.DelegateCommand=4184]="DelegateCommand",t[t.CallCommand=153]="CallCommand",t[t.OptionsCommand=26]="OptionsCommand",t[t.ForCommand=539]="ForCommand",t[t.CustomCommand=284]="CustomCommand"}(Sf||(Sf={}));const $f=new class{constructor(t){this.input=t,this.index=0,this.startIndex=0,this.lastIndex=0,this.currentToken=1572864,this.tokenValue="",this.assignable=!0,this.length=t.length,this.currentChar=t.charCodeAt(0)}get tokenRaw(){return this.input.slice(this.startIndex,this.index)}}("");function Tf(t,e,n,i){if(284===i)return new gp(t.input);if(0===t.index){if(2048&i)return function(t){const e=[],n=[],i=t.length;let s="";for(;t.index<i;){switch(t.currentChar){case 36:if(123===t.input.charCodeAt(t.index+1)){e.push(s),s="",t.index+=2,t.currentChar=t.input.charCodeAt(t.index),Ef(t);const i=Tf(t,0,61,2048);n.push(i);continue}s+="$";break;case 92:s+=String.fromCharCode(vf(Of(t)));break;default:s+=String.fromCharCode(t.currentChar)}Of(t)}return n.length?(e.push(s),new Mp(e,n)):null}(t);if(Ef(t),1048576&t.currentToken)throw new Error(`Invalid start of expression: '${t.input}'`)}let s;if(t.assignable=448>n,32768&t.currentToken){const n=Lf[63&t.currentToken];Ef(t),s=new Ap(n,Tf(t,e,449,i)),t.assignable=!1}else{t:switch(t.currentToken){case 3078:t.assignable=!1;do{if(Ef(t),e++,!jf(t,16393)){if(524288&t.currentToken){const t=511&e;s=0===t?xf:1===t?Cf:new yp(t),e=512;break t}throw new Error(`Invalid member expression: '${t.input}'`)}if(16393===t.currentToken)throw new Error(`Double dot and spread operators are not supported: '${t.input}'`);if(1572864===t.currentToken)throw new Error(`Expected identifier: '${t.input}'`)}while(3078===t.currentToken);case 1024:512&i?s=new Lp(t.tokenValue):(s=new wp(t.tokenValue,511&e),e=1024),t.assignable=!0,Ef(t);break;case 3076:t.assignable=!1,Ef(t),s=xf,e=512;break;case 3077:t.assignable=!1,Ef(t),s=kf,e=512;break;case 671751:Ef(t),s=Tf(t,0,62,i),Ff(t,1835019),e=0;break;case 671757:s=function(t,e,n){Ef(t);const i=new Array;for(;1835022!==t.currentToken;)if(jf(t,1572876)){if(i.push(wf),1835022===t.currentToken)break}else{if(i.push(Tf(t,e,62,-513&n)),!jf(t,1572876))break;if(1835022===t.currentToken)break}return Ff(t,1835022),512&n?new jp(i):(t.assignable=!1,new Op(i))}(t,e,i),e=0;break;case 131080:s=function(t,e){const n=new Array,i=new Array;for(Ef(t);1835018!==t.currentToken;){if(n.push(t.tokenValue),12288&t.currentToken)Ef(t),Ff(t,1572879),i.push(Tf(t,0,62,-513&e));else{if(!(3072&t.currentToken))throw new Error(`Invalid or unsupported property definition in object literal: '${t.input}'`);{const{currentChar:n,currentToken:s,index:o}=t;Ef(t),jf(t,1572879)?i.push(Tf(t,0,62,-513&e)):(t.currentChar=n,t.currentToken=s,t.index=o,i.push(Tf(t,0,450,-513&e)))}}1835018!==t.currentToken&&Ff(t,1572876)}return Ff(t,1835018),512&e?new Fp(n,i):(t.assignable=!1,new Pp(n,i))}(t,i),e=0;break;case 540714:s=new Rp([t.tokenValue]),t.assignable=!1,Ef(t),e=0;break;case 540715:s=Af(t,e,i,s,!1),e=0;break;case 4096:case 8192:s=new Ep(t.tokenValue),t.assignable=!1,Ef(t),e=0;break;case 2050:case 2051:case 2049:case 2048:s=Lf[63&t.currentToken],t.assignable=!1,Ef(t),e=0;break;default:throw t.index>=t.length?new Error(`Unexpected end of expression: '${t.input}'`):new Error(`Unconsumed token: '${t.input}'`)}if(512&i)return function(t,e){if(0==(65536&e.$kind))throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${t.input}'`);if(1051180!==t.currentToken)throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${t.input}'`);Ef(t);const n=e,i=Tf(t,0,61,0);return new Dp(n,i)}(t,s);if(449<n)return s;let o=t.tokenValue;for(;(16384&t.currentToken)>0;){const n=[];let r;switch(t.currentToken){case 16393:if(t.assignable=!0,Ef(t),0==(3072&t.currentToken))throw new Error(`Expected identifier: '${t.input}'`);if(o=t.tokenValue,Ef(t),e=(1536&e)<<1|2048&e|(4096&e)>>1,671751===t.currentToken){0===e&&(e=2048);continue}s=1024&e?new wp(o,s.ancestor,s===kf):new xp(s,o);continue;case 671757:t.assignable=!0,Ef(t),e=4096,s=new kp(s,Tf(t,0,62,i)),Ff(t,1835022);break;case 671751:for(t.assignable=!1,Ef(t);1835019!==t.currentToken&&(n.push(Tf(t,0,62,i)),jf(t,1572876)););Ff(t,1835019),s=1024&e?new Cp(o,n,s.ancestor,s===kf):2048&e?new Sp(s,o,n):new $p(s,n),e=0;break;case 540714:t.assignable=!1,r=[t.tokenValue],s=new Ip(r,r,s),Ef(t);break;case 540715:s=Af(t,e,i,s,!0)}}}if(448<n)return s;for(;(65536&t.currentToken)>0;){const o=t.currentToken;if((448&o)<=n)break;Ef(t),s=new Tp(Lf[63&o],s,Tf(t,e,448&o,i)),t.assignable=!1}if(63<n)return s;if(jf(t,1572880)){const n=Tf(t,e,62,i);Ff(t,1572879),s=new bp(s,n,Tf(t,e,62,i)),t.assignable=!1}if(62<n)return s;if(jf(t,1048616)){if(!t.assignable)throw new Error(`Left hand side of expression is not assignable: '${t.input}'`);s=new mp(s,Tf(t,e,62,i))}if(61<n)return s;for(;jf(t,1572884);){if(1572864===t.currentToken)throw new Error(`Expected identifier to come after ValueConverter operator: '${t.input}'`);const n=t.tokenValue;Ef(t);const o=new Array;for(;jf(t,1572879);)o.push(Tf(t,e,62,i));s=new vp(s,n,o)}for(;jf(t,1572883);){if(1572864===t.currentToken)throw new Error(`Expected identifier to come after BindingBehavior operator: '${t.input}'`);const n=t.tokenValue;Ef(t);const o=new Array;for(;jf(t,1572879);)o.push(Tf(t,e,62,i));s=new fp(s,n,o)}if(1572864!==t.currentToken){if(2048&i)return s;if("of"===t.tokenRaw)throw new Error(`Unexpected keyword "of": '${t.input}'`);throw new Error(`Unconsumed token: '${t.input}'`)}return s}function Af(t,e,n,i,s){const o=[t.tokenValue];Ff(t,540715);const r=[Tf(t,e,62,n)];for(;540714!==(t.currentToken=If(t));)o.push(t.tokenValue),Ff(t,540715),r.push(Tf(t,e,62,n));return o.push(t.tokenValue),t.assignable=!1,s?(Ef(t),new Ip(o,o,i,r)):(Ef(t),new Rp(o,r))}function Ef(t){for(;t.index<t.length;)if(t.startIndex=t.index,null!=(t.currentToken=Uf[t.currentChar](t)))return;t.currentToken=1572864}function Of(t){return t.currentChar=t.input.charCodeAt(++t.index)}function Pf(t,e){let n=t.currentChar;if(!1===e){do{n=Of(t)}while(n<=57&&n>=48);if(46!==n)return t.tokenValue=parseInt(t.tokenRaw,10),8192;if(n=Of(t),t.index>=t.length)return t.tokenValue=parseInt(t.tokenRaw.slice(0,-1),10),8192}if(n<=57&&n>=48)do{n=Of(t)}while(n<=57&&n>=48);else t.currentChar=t.input.charCodeAt(--t.index);return t.tokenValue=parseFloat(t.tokenRaw),8192}function Rf(t){let e=!0,n="";for(;96!==Of(t);)if(36===t.currentChar){if(t.index+1<t.length&&123===t.input.charCodeAt(t.index+1)){t.index++,e=!1;break}n+="$"}else if(92===t.currentChar)n+=String.fromCharCode(vf(Of(t)));else{if(t.index>=t.length)throw new Error(`Unterminated template string: '${t.input}'`);n+=String.fromCharCode(t.currentChar)}return Of(t),t.tokenValue=n,e?540714:540715}function If(t){if(t.index>=t.length)throw new Error(`Unterminated template string: '${t.input}'`);return t.index--,Rf(t)}function jf(t,e){return t.currentToken===e&&(Ef(t),!0)}function Ff(t,e){if(t.currentToken!==e)throw new Error(`Missing expected token: '${t.input}'`);Ef(t)}const Lf=[mf,bf,yf,wf,"$this","$host","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],Nf=Object.create(null);Nf.true=2049,Nf.null=2050,Nf.false=2048,Nf.undefined=2051,Nf.$this=3076,Nf.$host=3077,Nf.$parent=3078,Nf.in=1640799,Nf.instanceof=1640800,Nf.typeof=34851,Nf.void=34852,Nf.of=1051180;const Df=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Mf=[48,58];function Bf(t,e,n,i){const s=n.length;for(let o=0;o<s;o+=2){const s=n[o];let r=n[o+1];if(r=r>0?r:s+1,t&&t.fill(i,s,r),e)for(let t=s;t<r;t++)e.add(t)}}function Vf(t){return e=>(Of(e),t)}const Hf=t=>{throw new Error(`Unexpected character: '${t.input}'`)};Hf.notMapped=!0,Bf(null,new Set,[36,0,48,58,65,91,95,0,97,123],!0);const qf=new Uint8Array(65535);Bf(qf,null,Df,1),Bf(qf,null,Mf,1);const Uf=new Array(65535);Uf.fill(Hf,0,65535),Bf(Uf,null,[0,33,127,161],(t=>(Of(t),null))),Bf(Uf,null,Df,(function(t){for(;qf[Of(t)];);const e=Nf[t.tokenValue=t.tokenRaw];return void 0===e?1024:e})),Bf(Uf,null,Mf,(t=>Pf(t,!1))),Uf[34]=Uf[39]=t=>function(t){const e=t.currentChar;Of(t);let n=0;const i=new Array;let s=t.index;for(;t.currentChar!==e;)if(92===t.currentChar)i.push(t.input.slice(s,t.index)),Of(t),n=vf(t.currentChar),Of(t),i.push(String.fromCharCode(n)),s=t.index;else{if(t.index>=t.length)throw new Error(`Unterminated quote in string literal: '${t.input}'`);Of(t)}const o=t.input.slice(s,t.index);Of(t),i.push(o);const r=i.join("");return t.tokenValue=r,4096}(t),Uf[96]=t=>Rf(t),Uf[33]=t=>61!==Of(t)?32809:61!==Of(t)?1638680:(Of(t),1638682),Uf[61]=t=>61!==Of(t)?1048616:61!==Of(t)?1638679:(Of(t),1638681),Uf[38]=t=>38!==Of(t)?1572883:(Of(t),1638614),Uf[124]=t=>124!==Of(t)?1572884:(Of(t),1638549),Uf[46]=t=>Of(t)<=57&&t.currentChar>=48?Pf(t,!0):16393,Uf[60]=t=>61!==Of(t)?1638747:(Of(t),1638749),Uf[62]=t=>61!==Of(t)?1638748:(Of(t),1638750),Uf[37]=Vf(1638886),Uf[40]=Vf(671751),Uf[41]=Vf(1835019),Uf[42]=Vf(1638885),Uf[43]=Vf(623009),Uf[44]=Vf(1572876),Uf[45]=Vf(623010),Uf[47]=Vf(1638887),Uf[58]=Vf(1572879),Uf[63]=Vf(1572880),Uf[91]=Vf(671757),Uf[93]=Vf(1835022),Uf[123]=Vf(131080),Uf[125]=Vf(1835018);let zf=null;const _f=[];let Wf=!1;function Kf(){return zf}function Gf(t){if(null==t)throw new Error("Connectable cannot be null/undefined");if(null==zf)return zf=t,_f[0]=zf,void(Wf=!0);if(zf===t)throw new Error("Trying to enter an active connectable");_f.push(zf),zf=t,Wf=!0}function Qf(t){if(null==t)throw new Error("Connectable cannot be null/undefined");if(zf!==t)throw new Error("Trying to exit an unactive connectable");_f.pop(),zf=_f.length>0?_f[_f.length-1]:null,Wf=null!=zf}const Yf=Object.freeze({get current(){return zf},get connecting(){return Wf},enter:Gf,exit:Qf,pause:function(){Wf=!1},resume:function(){Wf=!0}}),Xf=Reflect.get,Zf=Object.prototype.toString,Jf=new WeakMap;function tv(t){switch(Zf.call(t)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const ev="__raw__";function nv(t){return tv(t)?iv(t):t}function iv(t){var e;return null!==(e=Jf.get(t))&&void 0!==e?e:function(t){const e=t instanceof Array?lv:t instanceof Map||t instanceof Set?Pv:av,n=new Proxy(t,e);return Jf.set(t,n),n}(t)}function sv(t){var e;return null!==(e=t.__raw__)&&void 0!==e?e:t}function ov(t){return tv(t)&&t.__raw__||t}function rv(t){return"constructor"===t||"__proto__"===t||"$observers"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag}const av={get(t,e,n){if(e===ev)return t;const i=Kf();return!Wf||rv(e)||null==i?Xf(t,e,n):(i.observeProperty(t,e),nv(Xf(t,e,n)))}},lv={get(t,e,n){if(e===ev)return t;const i=Kf();if(!Wf||rv(e)||null==i)return Xf(t,e,n);switch(e){case"length":return i.observeProperty(t,"length"),t.length;case"map":return cv;case"includes":return dv;case"indexOf":return pv;case"lastIndexOf":return gv;case"every":return hv;case"filter":return uv;case"findIndex":return fv;case"flat":return vv;case"flatMap":return mv;case"join":return bv;case"push":return wv;case"pop":return yv;case"reduce":return Ev;case"reduceRight":return Ov;case"reverse":return Sv;case"shift":return xv;case"unshift":return kv;case"slice":return Av;case"splice":return Cv;case"some":return $v;case"sort":return Tv;case"keys":return Mv;case"values":case Symbol.iterator:return Bv;case"entries":return Vv}return i.observeProperty(t,e),nv(Xf(t,e,n))},ownKeys(t){var e;return null===(e=Kf())||void 0===e||e.observeProperty(t,"length"),Reflect.ownKeys(t)}};function cv(t,e){var n;const i=sv(this),s=i.map(((n,i)=>ov(t.call(e,nv(n),i,this))));return null===(n=Kf())||void 0===n||n.observeCollection(i),nv(s)}function hv(t,e){var n;const i=sv(this),s=i.every(((n,i)=>t.call(e,nv(n),i,this)));return null===(n=Kf())||void 0===n||n.observeCollection(i),s}function uv(t,e){var n;const i=sv(this),s=i.filter(((n,i)=>ov(t.call(e,nv(n),i,this))));return null===(n=Kf())||void 0===n||n.observeCollection(i),nv(s)}function dv(t){var e;const n=sv(this),i=n.includes(ov(t));return null===(e=Kf())||void 0===e||e.observeCollection(n),i}function pv(t){var e;const n=sv(this),i=n.indexOf(ov(t));return null===(e=Kf())||void 0===e||e.observeCollection(n),i}function gv(t){var e;const n=sv(this),i=n.lastIndexOf(ov(t));return null===(e=Kf())||void 0===e||e.observeCollection(n),i}function fv(t,e){var n;const i=sv(this),s=i.findIndex(((n,i)=>ov(t.call(e,nv(n),i,this))));return null===(n=Kf())||void 0===n||n.observeCollection(i),s}function vv(){var t;const e=sv(this);return null===(t=Kf())||void 0===t||t.observeCollection(e),nv(e.flat())}function mv(t,e){var n;const i=sv(this);return null===(n=Kf())||void 0===n||n.observeCollection(i),iv(i.flatMap(((n,i)=>nv(t.call(e,nv(n),i,this)))))}function bv(t){var e;const n=sv(this);return null===(e=Kf())||void 0===e||e.observeCollection(n),n.join(t)}function yv(){return nv(sv(this).pop())}function wv(...t){return sv(this).push(...t)}function xv(){return nv(sv(this).shift())}function kv(...t){return sv(this).unshift(...t)}function Cv(...t){return nv(sv(this).splice(...t))}function Sv(...t){var e;const n=sv(this),i=n.reverse();return null===(e=Kf())||void 0===e||e.observeCollection(n),nv(i)}function $v(t,e){var n;const i=sv(this),s=i.some(((n,i)=>ov(t.call(e,nv(n),i,this))));return null===(n=Kf())||void 0===n||n.observeCollection(i),s}function Tv(t){var e;const n=sv(this),i=n.sort(t);return null===(e=Kf())||void 0===e||e.observeCollection(n),nv(i)}function Av(t,e){var n;const i=sv(this);return null===(n=Kf())||void 0===n||n.observeCollection(i),iv(i.slice(t,e))}function Ev(t,e){var n;const i=sv(this),s=i.reduce(((e,n,i)=>t(e,nv(n),i,this)),e);return null===(n=Kf())||void 0===n||n.observeCollection(i),nv(s)}function Ov(t,e){var n;const i=sv(this),s=i.reduceRight(((e,n,i)=>t(e,nv(n),i,this)),e);return null===(n=Kf())||void 0===n||n.observeCollection(i),nv(s)}const Pv={get(t,e,n){if(e===ev)return t;const i=Kf();if(!Wf||rv(e)||null==i)return Xf(t,e,n);switch(e){case"size":return i.observeProperty(t,"size"),t.size;case"clear":return Nv;case"delete":return Dv;case"forEach":return Rv;case"add":if(t instanceof Set)return Lv;break;case"get":if(t instanceof Map)return jv;break;case"set":if(t instanceof Map)return Fv;break;case"has":return Iv;case"keys":return Mv;case"values":return Bv;case"entries":return Vv;case Symbol.iterator:return t instanceof Map?Vv:Bv}return nv(Xf(t,e,n))}};function Rv(t,e){var n;const i=sv(this);return null===(n=Kf())||void 0===n||n.observeCollection(i),i.forEach(((n,i)=>{t.call(e,nv(n),nv(i),this)}))}function Iv(t){var e;const n=sv(this);return null===(e=Kf())||void 0===e||e.observeCollection(n),n.has(ov(t))}function jv(t){var e;const n=sv(this);return null===(e=Kf())||void 0===e||e.observeCollection(n),nv(n.get(ov(t)))}function Fv(t,e){return nv(sv(this).set(ov(t),ov(e)))}function Lv(t){return nv(sv(this).add(ov(t)))}function Nv(){return nv(sv(this).clear())}function Dv(t){return nv(sv(this).delete(ov(t)))}function Mv(){var t;const e=sv(this);null===(t=Kf())||void 0===t||t.observeCollection(e);const n=e.keys();return{next(){const t=n.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:nv(e),done:i}},[Symbol.iterator](){return this}}}function Bv(){var t;const e=sv(this);null===(t=Kf())||void 0===t||t.observeCollection(e);const n=e.values();return{next(){const t=n.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:nv(e),done:i}},[Symbol.iterator](){return this}}}function Vv(){var t;const e=sv(this);null===(t=Kf())||void 0===t||t.observeCollection(e);const n=e.entries();return{next(){const t=n.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[nv(e[0]),nv(e[1])],done:i}},[Symbol.iterator](){return this}}}const Hv=Object.freeze({getProxy:iv,getRaw:sv,wrap:nv,unwrap:ov,rawKey:ev});class qv{constructor(t,e,n,i,s){this.obj=t,this.get=e,this.set=n,this.useProxy=i,this.observerLocator=s,this.interceptor=this,this.type=1,this.value=void 0,this.running=!1,this.isDirty=!1}static create(t,e,n,i,s){const o=n.get,r=n.set,a=new qv(t,o,r,s,i),l=()=>a.getValue();return l.getObserver=()=>a,Hp(t,e,{enumerable:n.enumerable,configurable:!0,get:l,set:t=>{a.setValue(t,0)}}),a}getValue(){return 0===this.subs.count?this.get.call(this.obj,this):(this.isDirty&&(this.compute(),this.isDirty=!1),this.value)}setValue(t,e){if("function"!=typeof this.set)throw new Error("Property is readonly");t!==this.value&&(this.running=!0,this.set.call(this.obj,t),this.running=!1,this.run())}handleChange(){this.isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.isDirty=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.isDirty=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.isDirty=!0,this.obs.clear(!0))}run(){if(this.running)return;const t=this.value,e=this.compute();this.isDirty=!1,Object.is(e,t)||this.subs.notify(e,t,0)}compute(){this.running=!0,this.obs.version++;try{return Gf(this),this.value=ov(this.get.call(this.useProxy?nv(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,Qf(this)}}}cf(qv),Zp(qv);const Uv=xu.createInterface("IDirtyChecker",(t=>t.singleton(Wv))),zv={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},_v={persistent:!0};class Wv{constructor(t){this.platform=t,this.tracked=[],this.task=null,this.elapsedFrames=0,this.check=()=>{if(zv.disabled)return;if(++this.elapsedFrames<zv.timeoutsPerCheck)return;this.elapsedFrames=0;const t=this.tracked,e=t.length;let n,i=0;for(;i<e;++i)n=t[i],n.isDirty()&&n.flush(0)}}createProperty(t,e){if(zv.throw)throw new Error(`Property '${e}' is being dirty-checked.`);return new Kv(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.task=this.platform.taskQueue.queueTask(this.check,_v))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.task.cancel(),this.task=null)}}Wv.inject=[td];class Kv{constructor(t,e,n){this.dirtyChecker=t,this.obj=e,this.propertyKey=n,this.type=0}getValue(){return this.obj[this.propertyKey]}setValue(t,e){throw new Error(`Trying to set value for property ${this.propertyKey} in dirty checker`)}isDirty(){return this.oldValue!==this.obj[this.propertyKey]}flush(t){const e=this.oldValue,n=this.getValue();this.subs.notify(n,e,t),this.oldValue=n}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.oldValue=this.obj[this.propertyKey],this.dirtyChecker.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.dirtyChecker.removeProperty(this)}}Zp(Kv);class Gv{constructor(t,e){this.obj=t,this.propertyKey=e,this.type=0}get doNotCache(){return!0}getValue(){return this.obj[this.propertyKey]}setValue(){}subscribe(){}unsubscribe(){}}class Qv{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,n,i){n[i]=t}}class Yv{constructor(t,e){this.obj=t,this.propertyKey=e,this.currentValue=void 0,this.oldValue=void 0,this.inBatch=!1,this.observing=!1,this.type=1}getValue(){return this.currentValue}setValue(t,e){if(this.observing){const n=this.currentValue;if(Object.is(t,n))return;this.currentValue=t,this.subs.notify(t,n,e)}else this.obj[this.propertyKey]=t}subscribe(t){!1===this.observing&&this.start(),this.subs.add(t)}start(){return!1===this.observing&&(this.observing=!0,this.currentValue=this.obj[this.propertyKey],Hp(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:t=>{this.setValue(t,0)}})),this}stop(){return this.observing&&(Hp(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,writable:!0,value:this.currentValue}),this.observing=!1),this}}Zp(Yv),Zp(class{constructor(t,e,n,i){this.type=1,this.v=void 0,this.obj=t,this.s=n;const s=t[e];this.cb="function"==typeof s?s:void 0,this.v=i}getValue(){return this.v}setValue(t,e){var n;"function"==typeof this.s&&(t=this.s(t));const i=this.v;Object.is(t,i)||(this.v=t,null===(n=this.cb)||void 0===n||n.call(this.obj,t,i,e),this.subs.notify(this.v,i,e))}});const Xv=new Qv,Zv=xu.createInterface("IObserverLocator",(t=>t.singleton(em))),Jv=xu.createInterface("INodeObserverLocator",(t=>t.cachedCallback((t=>(t.getAll(Sd).forEach((t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")})),new tm)))));class tm{handles(){return!1}getObserver(){return Xv}getAccessor(){return Xv}}class em{constructor(t,e){this.dirtyChecker=t,this.nodeObserverLocator=e,this.adapters=[]}addAdapter(t){this.adapters.push(t)}getObserver(t,e){var n,i;return null!==(i=null===(n=t.$observers)||void 0===n?void 0:n[e])&&void 0!==i?i:this.cache(t,e,this.createObserver(t,e))}getAccessor(t,e){var n;const i=null===(n=t.$observers)||void 0===n?void 0:n[e];return void 0!==i?i:this.nodeObserverLocator.handles(t,e,this)?this.nodeObserverLocator.getAccessor(t,e,this):Xv}getArrayObserver(t){return Ag(t)}getMapObserver(t){return Qg(t)}getSetObserver(t){return Mg(t)}createObserver(t,e){var n,i,s,o;if(!(t instanceof Object))return new Gv(t,e);if(this.nodeObserverLocator.handles(t,e,this))return this.nodeObserverLocator.getObserver(t,e,this);switch(e){case"length":if(t instanceof Array)return Ag(t).getLengthObserver();break;case"size":if(t instanceof Map)return Qg(t).getLengthObserver();if(t instanceof Set)return Mg(t).getLengthObserver();break;default:if(t instanceof Array&&_h(e))return Ag(t).getIndexObserver(Number(e))}let r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){let n=Object.getPrototypeOf(t);for(;null!==n&&(r=Object.getOwnPropertyDescriptor(n,e),void 0===r);)n=Object.getPrototypeOf(n)}if(void 0!==r&&!Object.prototype.hasOwnProperty.call(r,"value")){let a=this.getAdapterObserver(t,e,r);return null==a&&(a=null===(o=null!==(i=null===(n=r.get)||void 0===n?void 0:n.getObserver)&&void 0!==i?i:null===(s=r.set)||void 0===s?void 0:s.getObserver)||void 0===o?void 0:o(t,this)),null==a?r.configurable?qv.create(t,e,r,this,!0):this.dirtyChecker.createProperty(t,e):a}return new Yv(t,e)}getAdapterObserver(t,e,n){if(this.adapters.length>0)for(const i of this.adapters){const s=i.getObserver(t,e,n,this);if(null!=s)return s}return null}cache(t,e,n){return!0===n.doNotCache?n:void 0===t.$observers?(Hp(t,"$observers",{value:{[e]:n}}),n):t.$observers[e]=n}}em.inject=[Uv,Jv],xu.createInterface("IObservation",(t=>t.singleton(nm)));class nm{constructor(t){this.observerLocator=t}static get inject(){return[Zv]}run(t){const e=new im(this.observerLocator,t);return e.run(),e}}class im{constructor(t,e){this.observerLocator=t,this.fn=e,this.interceptor=this,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw new Error("Effect has already been stopped");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{Gf(this),this.fn(this)}finally{this.obs.clear(!1),this.running=!1,Qf(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,new Error("Maximum number of recursive effect run reached. Consider handle effect dependencies differently.");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clear(!0)}}function sm(t,e){let n;function i(t,e){arguments.length>1&&(n.property=e),Vh.define(rm.name,am.create(e,n),t.constructor,e),du.annotation.appendTo(t.constructor,rm.keyFrom(e))}return arguments.length>1?(n={},void i(t,e)):"string"==typeof t?(n={},i):(n=void 0===t?{}:t,i)}function om(t){return t.startsWith(rm.name)}cf(im);const rm={name:du.annotation.keyFor("bindable"),keyFrom:t=>`${rm.name}:${t}`,from(...t){const e={},n=Array.isArray;function i(t){e[t]=am.create(t)}return t.forEach((function(t){n(t)?t.forEach(i):t instanceof am?e[t.property]=t:void 0!==t&&Object.keys(t).forEach((n=>function(t,n){e[t]=n instanceof am?n:am.create(t,n)}(n,t[n])))})),e},for(t){let e;const n={add(i){let s,o;return"string"==typeof i?(s=i,o={property:s}):(s=i.property,o=i),e=am.create(s,o),Vh.hasOwn(rm.name,t,s)||du.annotation.appendTo(t,rm.keyFrom(s)),Vh.define(rm.name,e,t,s),n},mode:t=>(e.mode=t,n),callback:t=>(e.callback=t,n),attribute:t=>(e.attribute=t,n),primary:()=>(e.primary=!0,n),set:t=>(e.set=t,n)};return n},getAll(t){const e=rm.name.length+1,n=[],i=ou(t);let s,o,r,a=i.length,l=0;for(;--a>=0;){r=i[a],s=du.annotation.getKeys(r).filter(om),o=s.length;for(let t=0;t<o;++t)n[l++]=Vh.getOwn(rm.name,r,s[t].slice(e))}return n}};class am{constructor(t,e,n,i,s,o){this.attribute=t,this.callback=e,this.mode=n,this.primary=i,this.property=s,this.set=o}static create(t,e={}){return new am(su(e.attribute,Xh(t)),su(e.callback,`${t}Changed`),su(e.mode,zp.toView),su(e.primary,!1),su(e.property,t),su(e.set,Ju))}}class lm{constructor(t,e,n,i,s){this.obj=t,this.propertyKey=e,this.set=i,this.$controller=s,this.currentValue=void 0,this.oldValue=void 0;const o=t[n],r=t.propertyChanged,a=this.hasCb="function"==typeof o,l=this.hasCbAll="function"==typeof r,c=this.hasSetter=i!==Ju;if(this.cb=a?o:Ju,this.cbAll=l?r:Ju,void 0!==this.cb||l||c){this.observing=!0;const n=t[e];this.currentValue=c&&void 0!==n?i(n):n,this.createGetterSetter()}else this.observing=!1}get type(){return 1}getValue(){return this.currentValue}setValue(t,e){if(this.hasSetter&&(t=this.set(t)),this.observing){const n=this.currentValue;if(Object.is(t,n))return;this.currentValue=t,(null==this.$controller||this.$controller.isBound)&&(this.hasCb&&this.cb.call(this.obj,t,n,e),this.hasCbAll&&this.cbAll.call(this.obj,this.propertyKey,t,n,e)),this.subs.notify(t,n,e)}else this.obj[this.propertyKey]=t}subscribe(t){if(0==!this.observing){this.observing=!0;const t=this.obj[this.propertyKey];this.currentValue=this.hasSetter?this.set(t):t,this.createGetterSetter()}this.subs.add(t)}createGetterSetter(){Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.currentValue,set:t=>{this.setValue(t,0)}})}}Zp(lm);var cm=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},hm=function(t,e){return function(n,i){e(n,i,t)}};class um{constructor(t,e,n,i){if(this.chars=t,this.repeat=e,this.isSymbol=n,this.isInverted=i,i)switch(t.length){case 0:this.has=this.hasOfNoneInverse;break;case 1:this.has=this.hasOfSingleInverse;break;default:this.has=this.hasOfMultipleInverse}else switch(t.length){case 0:this.has=this.hasOfNone;break;case 1:this.has=this.hasOfSingle;break;default:this.has=this.hasOfMultiple}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}hasOfMultiple(t){return this.chars.includes(t)}hasOfSingle(t){return this.chars===t}hasOfNone(t){return!1}hasOfMultipleInverse(t){return!this.chars.includes(t)}hasOfSingleInverse(t){return this.chars!==t}hasOfNoneInverse(t){return!0}}class dm{constructor(){this.parts=Xu,this._pattern="",this.currentRecord={},this.partsRecord={}}get pattern(){const t=this._pattern;return""===t?null:t}set pattern(t){null==t?(this._pattern="",this.parts=Xu):(this._pattern=t,this.parts=this.partsRecord[t])}append(t,e){const{currentRecord:n}=this;void 0===n[t]?n[t]=e:n[t]+=e}next(t){const{currentRecord:e}=this;if(void 0!==e[t]){const{partsRecord:n}=this;void 0===n[t]?n[t]=[e[t]]:n[t].push(e[t]),e[t]=void 0}}}class pm{constructor(t,...e){this.charSpec=t,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=e}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(t){const e=this.nextStates,n=e.length;let i=null;for(let s=0;s<n;++s)if(i=e[s],t.equals(i.charSpec))return i;return null}append(t,e){const{patterns:n}=this;n.includes(e)||n.push(e);let i=this.findChild(t);return null==i&&(i=new pm(t,e),this.nextStates.push(i),t.repeat&&i.nextStates.push(i)),i}findMatches(t,e){const n=[],i=this.nextStates,s=i.length;let o=0,r=null,a=0,l=0;for(;a<s;++a)if(r=i[a],r.charSpec.has(t))if(n.push(r),o=r.patterns.length,l=0,r.charSpec.isSymbol)for(;l<o;++l)e.next(r.patterns[l]);else for(;l<o;++l)e.append(r.patterns[l],t);return n}}class gm{constructor(t){this.text=t;const e=this.len=t.length,n=this.specs=[];for(let i=0;i<e;++i)n.push(new um(t[i],!1,!1,!1))}eachChar(t){const{len:e,specs:n}=this;for(let i=0;i<e;++i)t(n[i])}}class fm{constructor(t){this.text="PART",this.spec=new um(t,!0,!1,!0)}eachChar(t){t(this.spec)}}class vm{constructor(t){this.text=t,this.spec=new um(t,!1,!0,!1)}eachChar(t){t(this.spec)}}class mm{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const bm=xu.createInterface("ISyntaxInterpreter",(t=>t.singleton(ym)));class ym{constructor(){this.rootState=new pm(null),this.initialStates=[this.rootState]}add(t){let e=0;if(Array.isArray(t)){const n=t.length;for(;e<n;++e)this.add(t[e]);return}let n=this.rootState;const i=t,s=i.pattern,o=new mm,r=this.parse(i,o),a=r.length,l=t=>{n=n.append(t,s)};for(e=0;e<a;++e)r[e].eachChar(l);n.types=o,n.isEndpoint=!0}interpret(t){const e=new dm;let n=this.initialStates;const i=t.length;for(let s=0;s<i&&(n=this.getNextStates(n,t.charAt(s),e),0!==n.length);++s);if(n.sort(((t,e)=>{if(!t.isEndpoint)return e.isEndpoint?1:0;if(!e.isEndpoint)return-1;const n=t.types,i=e.types;return n.statics!==i.statics?i.statics-n.statics:n.dynamics!==i.dynamics?i.dynamics-n.dynamics:n.symbols!==i.symbols?i.symbols-n.symbols:0})),n.length>0){const t=n[0];t.charSpec.isSymbol||e.next(t.pattern),e.pattern=t.pattern}return e}getNextStates(t,e,n){const i=[];let s=null;const o=t.length;for(let r=0;r<o;++r)s=t[r],i.push(...s.findMatches(e,n));return i}parse(t,e){const n=[],i=t.pattern,s=i.length;let o=0,r=0,a="";for(;o<s;)a=i.charAt(o),t.symbols.includes(a)?o!==r?(n.push(new gm(i.slice(r,o))),++e.statics,r=o):(n.push(new vm(i.slice(r,o+1))),++e.symbols,r=++o):o===r&&"P"===a&&"PART"===i.slice(o,o+4)?(r=o+=4,n.push(new fm(t.symbols)),++e.dynamics):++o;return r!==o&&(n.push(new gm(i.slice(r,o))),++e.statics),n}}class wm{constructor(t,e,n,i){this.rawName=t,this.rawValue=e,this.target=n,this.command=i}}const xm=xu.createInterface("IAttributePattern"),km=xu.createInterface("IAttributeParser",(t=>t.singleton(Cm)));let Cm=class{constructor(t,e){this.interpreter=t,this.cache={};const n=this.patterns={};e.forEach((e=>{const i=Tm.getPatternDefinitions(e.constructor);t.add(i),i.forEach((t=>{n[t.pattern]=e}))}))}parse(t,e){let n=this.cache[t];null==n&&(n=this.cache[t]=this.interpreter.interpret(t));const i=n.pattern;return null==i?new wm(t,e,t,null):this.patterns[i][i](t,e,n.parts)}};function Sm(...t){return function(e){return Tm.define(t,e)}}Cm=cm([hm(0,bm),hm(1,Au(xm))],Cm);class $m{constructor(t){this.Type=t,this.name=void 0}register(t){Wu.singleton(xm,this.Type).register(t)}}const Tm=Object.freeze({name:du.resource.keyFor("attribute-pattern"),definitionAnnotationKey:"attribute-pattern-definitions",define(t,e){const n=new $m(e),{name:i,definitionAnnotationKey:s}=Tm;return Vh.define(i,n,e),du.resource.appendTo(e,i),du.annotation.set(e,s,t),du.annotation.appendTo(e,s),e},getPatternDefinitions:t=>du.annotation.get(t,Tm.definitionAnnotationKey)});let Am=class{"PART.PART"(t,e,n){return new wm(t,e,n[0],n[1])}"PART.PART.PART"(t,e,n){return new wm(t,e,n[0],n[2])}};Am=cm([Sm({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],Am);let Em=class{ref(t,e,n){return new wm(t,e,"element","ref")}"PART.ref"(t,e,n){return new wm(t,e,n[0],"ref")}};Em=cm([Sm({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],Em);let Om=class{":PART"(t,e,n){return new wm(t,e,n[0],"bind")}};Om=cm([Sm({pattern:":PART",symbols:":"})],Om);let Pm=class{"@PART"(t,e,n){return new wm(t,e,n[0],"trigger")}};Pm=cm([Sm({pattern:"@PART",symbols:"@"})],Pm);class Rm{constructor(t,e,n,i,s){this.sourceExpression=t,this.target=e,this.targetProperty=n,this.locator=s,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.targetObserver=i.getObserver(e,n)}callSource(t){const e=this.$scope.overrideContext;Object.assign(e,t);const n=this.sourceExpression.evaluate(8,this.$scope,this.$hostScope,this.locator,null);for(const n in t)Reflect.deleteProperty(e,n);return n}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this.interceptor),this.targetObserver.setValue((t=>this.interceptor.callSource(t)),t,this.target,this.targetProperty),this.isBound=!0}$unbind(t){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,t,this.target,this.targetProperty),this.isBound=!1)}observeProperty(t,e){}handleChange(t,e,n){}}class Im{constructor(t,e,n,i,s){this.platform=t,this.observerLocator=e,this.obj=n,this.propertyKey=i,this.targetAttribute=s,this.currentValue=null,this.oldValue=null,this.hasChanges=!1,this.type=7}getValue(){return this.currentValue}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,0==(256&e)&&this.flushChanges(e)}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue;switch(this.oldValue=t,this.targetAttribute){case"class":t?this.obj.classList.add(this.propertyKey):this.obj.classList.remove(this.propertyKey);break;case"style":{let e="",n=t;"string"==typeof n&&n.includes("!important")&&(e="important",n=n.replace("!important","")),this.obj.style.setProperty(this.propertyKey,n,e)}}}}handleMutation(t){let e=!1;for(let n=0,i=t.length;i>n;++n){const i=t[n];if("attributes"===i.type&&i.attributeName===this.propertyKey){e=!0;break}}if(e){let t;switch(this.targetAttribute){case"class":t=this.obj.classList.contains(this.propertyKey);break;case"style":t=this.obj.style.getPropertyValue(this.propertyKey);break;default:throw new Error(`Unsupported targetAttribute: ${this.targetAttribute}`)}if(t!==this.currentValue){const{currentValue:e}=this;this.currentValue=this.oldValue=t,this.hasChanges=!1,this.subs.notify(t,e,0)}}}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.currentValue=this.oldValue=this.obj.getAttribute(this.propertyKey),jm(this.obj.ownerDocument.defaultView.MutationObserver,this.obj,this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&Fm(this.obj,this)}}Zp(Im);const jm=(t,e,n)=>{void 0===e.$eMObservers&&(e.$eMObservers=new Set),void 0===e.$mObserver&&(e.$mObserver=new t(Lm)).observe(e,{attributes:!0}),e.$eMObservers.add(n)},Fm=(t,e)=>{const n=t.$eMObservers;return!(!n||!n.delete(e)||(0===n.size&&(t.$mObserver.disconnect(),t.$mObserver=void 0),0))},Lm=t=>{t[0].target.$eMObservers.forEach(Nm,t)};function Nm(t){t.handleMutation(this)}const Dm=td;class Mm{constructor(t){this.b=t}handleChange(t,e,n){const i=this.b;t!==i.sourceExpression.evaluate(n,i.$scope,i.$hostScope,i.locator,null)&&i.updateSource(t,n)}}const{oneTime:Bm,toView:Vm,fromView:Hm}=zp,qm=Vm|Bm,Um={reusable:!1,preempt:!0};class zm{constructor(t,e,n,i,s,o,r){this.sourceExpression=t,this.targetAttribute=n,this.targetProperty=i,this.mode=s,this.observerLocator=o,this.locator=r,this.interceptor=this,this.isBound=!1,this.$scope=null,this.$hostScope=null,this.task=null,this.targetSubscriber=null,this.persistentFlags=0,this.value=void 0,this.target=e,this.$platform=r.get(Dm)}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.$hostScope,this.locator,t)}handleChange(t,e,n){if(!this.isBound)return;n|=this.persistentFlags;const i=this.mode,s=this.interceptor,o=this.sourceExpression,r=this.$scope,a=this.locator,l=this.targetObserver,c=0==(2&n)&&(4&l.type)>0;if(10082!==o.$kind||this.obs.count>1){const e=0==(i&Bm);e&&this.obs.version++,t=o.evaluate(n,r,this.$hostScope,a,s),e&&this.obs.clear(!1)}let h;t!==this.value&&(this.value=t,c?(h=this.task,this.task=this.$platform.domWriteQueue.queueTask((()=>{this.task=null,s.updateTarget(t,n)}),Um),null==h||h.cancel()):s.updateTarget(t,n))}$bind(t,e,n,i){var s;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.persistentFlags=961&t,this.$scope=e,this.$hostScope=n,this.projection=i;let o=this.sourceExpression;o.hasBind&&o.bind(t,e,n,this.interceptor);let r=this.targetObserver;r||(r=this.targetObserver=new Im(this.$platform,this.observerLocator,this.target,this.targetProperty,this.targetAttribute)),o=this.sourceExpression;const a=this.mode,l=this.interceptor;if(a&qm){const n=(a&Vm)>0;l.updateTarget(this.value=o.evaluate(t,e,this.$hostScope,this.locator,n?l:null),t)}a&Hm&&r.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new Mm(l)),this.isBound=!0}$unbind(t){var e;this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=this.$hostScope=null,this.value=void 0,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.obs.clear(!0),this.isBound=!1)}}cf(zm);const{toView:_m}=zp,Wm={reusable:!1,preempt:!0};class Km{constructor(t,e,n,i,s,o,r){this.observerLocator=t,this.interpolation=e,this.target=n,this.targetProperty=i,this.mode=s,this.locator=o,this.taskQueue=r,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.targetObserver=t.getAccessor(n,i);const a=e.expressions,l=this.partBindings=Array(a.length);for(let e=0,s=a.length;e<s;++e)l[e]=new Gm(a[e],n,i,o,t,this)}updateTarget(t,e){const n=this.partBindings,i=this.interpolation.parts,s=n.length;let o="";if(1===s)o=i[0]+n[0].value+i[1];else{o=i[0];for(let t=0;s>t;++t)o+=n[t].value+i[t+1]}const r=this.targetObserver;if(0==(2&e)&&(4&r.type)>0){const t=this.task;this.task=this.taskQueue.queueTask((()=>{this.task=null,r.setValue(o,e,this.target,this.targetProperty)}),Wm),null==t||t.cancel()}else r.setValue(o,e,this.target,this.targetProperty)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e;const i=this.partBindings;for(let s=0,o=i.length;o>s;++s)i[s].$bind(t,e,n);this.updateTarget(void 0,t)}$unbind(t){var e;if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const n=this.partBindings;for(let e=0,i=n.length;e<i;++e)n[e].interceptor.$unbind(t);null===(e=this.task)||void 0===e||e.cancel(),this.task=null}}class Gm{constructor(t,e,n,i,s,o){this.sourceExpression=t,this.target=e,this.targetProperty=n,this.locator=i,this.observerLocator=s,this.owner=o,this.interceptor=this,this.mode=zp.toView,this.value="",this.$hostScope=null,this.task=null,this.isBound=!1}handleChange(t,e,n){if(!this.isBound)return;const i=this.sourceExpression,s=this.obs;if(10082!==i.$kind||1!==s.count){const e=(this.mode&_m)>0;e&&s.version++,t=i.evaluate(n,this.$scope,this.$hostScope,this.locator,e?this.interceptor:null),e&&s.clear(!1)}t!=this.value&&(this.value=t,t instanceof Array&&this.observeCollection(t),this.owner.updateTarget(t,n))}handleCollectionChange(t,e){this.owner.updateTarget(void 0,e)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this.interceptor);const i=this.value=this.sourceExpression.evaluate(t,e,n,this.locator,(this.mode&_m)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i)}$unbind(t){this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0))}}cf(Gm);class Qm{constructor(t,e,n,i,s){this.sourceExpression=t,this.target=e,this.locator=n,this.observerLocator=i,this.p=s,this.interceptor=this,this.mode=zp.toView,this.value="",this.$hostScope=null,this.task=null,this.isBound=!1}updateTarget(t,e){var n,i;const s=this.target,o=this.p.Node,r=this.value;this.value=t,r instanceof o&&(null===(n=r.parentNode)||void 0===n||n.removeChild(r)),t instanceof o?(s.textContent="",null===(i=s.parentNode)||void 0===i||i.insertBefore(t,s)):s.textContent=String(t)}handleChange(t,e,n){var i;if(!this.isBound)return;const s=this.sourceExpression,o=this.obs;if(10082!==s.$kind||1!==o.count){const e=(this.mode&_m)>0;e&&o.version++,t=s.evaluate(n,this.$scope,this.$hostScope,this.locator,e?this.interceptor:null),e&&o.clear(!1)}if(t===this.value)return null===(i=this.task)||void 0===i||i.cancel(),void(this.task=null);0==(2&n)?this.queueUpdate(t,n):this.updateTarget(t,n)}handleCollectionChange(){this.queueUpdate(String(this.value),0)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this.interceptor);const i=this.value=this.sourceExpression.evaluate(t,e,n,this.locator,(this.mode&_m)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i),this.updateTarget(i,t)}$unbind(t){var e;this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0),null===(e=this.task)||void 0===e||e.cancel(),this.task=null)}queueUpdate(t,e){const n=this.task;this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,this.updateTarget(t,e)}),Wm),null==n||n.cancel()}}cf(Qm);class Ym{constructor(t,e,n,i,s=!1){this.sourceExpression=t,this.targetProperty=e,this.observerLocator=n,this.locator=i,this.toBindingContext=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.target=null}handleChange(t,e,n){if(!this.isBound)return;const i=this.target,s=this.targetProperty,o=i[s];this.obs.version++,t=this.sourceExpression.evaluate(n,this.$scope,this.$hostScope,this.locator,this.interceptor),this.obs.clear(!1),t!==o&&(i[s]=t)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n,this.target=this.toBindingContext?(null!=n?n:e).bindingContext:(null!=n?n:e).overrideContext;const i=this.sourceExpression;i.hasBind&&i.bind(t,e,n,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(2|t,e,n,this.locator,this.interceptor),this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0),this.isBound=!1}}cf(Ym);const{oneTime:Xm,toView:Zm,fromView:Jm}=zp,tb=Zm|Xm,eb={reusable:!1,preempt:!0};class nb{constructor(t,e,n,i,s,o,r){this.sourceExpression=t,this.target=e,this.targetProperty=n,this.mode=i,this.observerLocator=s,this.locator=o,this.taskQueue=r,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,this.targetSubscriber=null}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.$hostScope,this.locator,t)}handleChange(t,e,n){if(!this.isBound)return;n|=this.persistentFlags;const i=this.targetObserver,s=this.interceptor,o=this.sourceExpression,r=this.$scope,a=this.locator,l=0==(2&n)&&(4&i.type)>0,c=this.obs;if(10082!==o.$kind||c.count>1){const e=this.mode>Xm;e&&c.version++,t=o.evaluate(n,r,this.$hostScope,a,s),e&&c.clear(!1)}if(l){const e=this.task;this.task=this.taskQueue.queueTask((()=>{s.updateTarget(t,n),this.task=null}),eb),null==e||e.cancel()}else s.updateTarget(t,n)}$bind(t,e,n){var i;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}t|=1,this.persistentFlags=961&t,this.$scope=e,this.$hostScope=n;let s=this.sourceExpression;s.hasBind&&s.bind(t,e,n,this.interceptor);const o=this.mode;let r=this.targetObserver;if(!r){const t=this.observerLocator;r=o&Jm?t.getObserver(this.target,this.targetProperty):t.getAccessor(this.target,this.targetProperty),this.targetObserver=r}s=this.sourceExpression;const a=this.interceptor,l=(o&Zm)>0;o&tb&&a.updateTarget(s.evaluate(t,e,this.$hostScope,this.locator,l?a:null),t),o&Jm&&(r.subscribe(null!==(i=this.targetSubscriber)&&void 0!==i?i:this.targetSubscriber=new Mm(a)),l||a.updateSource(r.getValue(this.target,this.targetProperty),t)),this.isBound=!0}$unbind(t){if(!this.isBound)return;this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null;const e=this.task;this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null!=e&&(e.cancel(),this.task=null),this.obs.clear(!0),this.isBound=!1}}cf(nb);class ib{constructor(t,e,n){this.sourceExpression=t,this.target=e,this.locator=n,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this),this.sourceExpression.assign(t,this.$scope,n,this.locator,this.target),this.isBound=!0}$unbind(t){if(!this.isBound)return;let e=this.sourceExpression;e.evaluate(t,this.$scope,this.$hostScope,this.locator,null)===this.target&&e.assign(t,this.$scope,this.$hostScope,this.locator,null),e=this.sourceExpression,e.hasUnbind&&e.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.isBound=!1}observeProperty(t,e){}handleChange(t,e,n){}}const sb=xu.createInterface("IAppTask");class ob{constructor(t){this.key=t,this.slot=void 0,this.callback=void 0,this.container=void 0}static with(t){return new ob(t)}beforeCreate(){return this.at("beforeCreate")}hydrating(){return this.at("hydrating")}hydrated(){return this.at("hydrated")}beforeActivate(){return this.at("beforeActivate")}afterActivate(){return this.at("afterActivate")}beforeDeactivate(){return this.at("beforeDeactivate")}afterDeactivate(){return this.at("afterDeactivate")}at(t){return this.slot=t,this}call(t){return this.callback=t,this}register(t){return this.container=t.register(Wu.instance(sb,this))}run(){return(0,this.callback)(this.container.get(this.key))}}const rb=ob;function ab(t){return t.startsWith(lb.name)}const lb={name:du.annotation.keyFor("children-observer"),keyFrom:t=>`${lb.name}:${t}`,from(...t){const e={},n=Array.isArray;function i(t){e[t]=hb.create(t)}return t.forEach((function(t){n(t)?t.forEach(i):t instanceof hb?e[t.property]=t:void 0!==t&&Object.keys(t).forEach((n=>function(t,n){e[t]=hb.create(t,n)}(n,t)))})),e},getAll(t){const e=lb.name.length+1,n=[],i=ou(t);let s,o,r,a=i.length,l=0;for(;--a>=0;){r=i[a],s=du.annotation.getKeys(r).filter(ab),o=s.length;for(let t=0;t<o;++t)n[l++]=Vh.getOwn(lb.name,r,s[t].slice(e))}return n}},cb={childList:!0};class hb{constructor(t,e,n,i,s,o){this.callback=t,this.property=e,this.options=n,this.query=i,this.filter=s,this.map=o}static create(t,e={}){var n;return new hb(su(e.callback,`${t}Changed`),su(e.property,t),null!==(n=e.options)&&void 0!==n?n:cb,e.query,e.filter,e.map)}}let ub=class{constructor(t,e,n,i,s=db,o=pb,r=gb,a){this.controller=t,this.obj=e,this.propertyKey=n,this.query=s,this.filter=o,this.map=r,this.options=a,this.observing=!1,this.children=void 0,this.callback=e[i],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.tryStartObserving(),this.children}setValue(t){}subscribe(t){this.tryStartObserving(),this.subs.add(t)}tryStartObserving(){this.observing||(this.observing=!0,this.children=vb(this.controller,this.query,this.filter,this.map),new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.onChildrenChanged()})).observe(this.controller.host,this.options))}onChildrenChanged(){this.children=vb(this.controller,this.query,this.filter,this.map),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0,0)}};function db(t){return t.host.childNodes}function pb(t,e,n){return!!n}function gb(t,e,n){return n}ub=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([Zp()],ub);const fb={optional:!0};function vb(t,e,n,i){var s;const o=e(t),r=[];for(let t=0,e=o.length;t<e;++t){const e=o[t],a=Cb.for(e,fb),l=null!==(s=null==a?void 0:a.viewModel)&&void 0!==s?s:null;n(e,a,l)&&r.push(i(e,a,l))}return r}const mb=Xu,bb={name:du.annotation.keyFor("watch"),add(t,e){let n=Vh.getOwn(bb.name,t);null==n&&Vh.define(bb.name,n=[],t),n.push(e)},getAnnotation(t){var e;return null!==(e=Vh.getOwn(bb.name,t))&&void 0!==e?e:mb}};function yb(t){return function(e){return Cb.define(t,e)}}const wb=new WeakMap;class xb{constructor(t,e,n,i,s,o,r,a,l,c,h,u,d,p,g,f,v,m,b,y,w){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.cache=s,this.template=o,this.instructions=r,this.dependencies=a,this.injectable=l,this.needsCompile=c,this.surrogates=h,this.bindables=u,this.childrenObservers=d,this.containerless=p,this.isStrictBinding=g,this.shadowOptions=f,this.hasSlots=v,this.enhance=m,this.projectionsMap=b,this.watches=y,this.processContent=w}static create(t,e=null){if(null===e){const n=t;if("string"==typeof n)throw new Error(`Cannot create a custom element definition with only a name and no type: ${t}`);const i=vu("name",n,Cb.generateName);return e="function"==typeof n.Type?n.Type:Cb.generateType(Yh(i)),new xb(e,i,iu(n.aliases),vu("key",n,(()=>Cb.keyFrom(i))),vu("cache",n,(()=>0)),vu("template",n,(()=>null)),iu(n.instructions),iu(n.dependencies),vu("injectable",n,(()=>null)),vu("needsCompile",n,(()=>!0)),iu(n.surrogates),rm.from(n.bindables),lb.from(n.childrenObservers),vu("containerless",n,(()=>!1)),vu("isStrictBinding",n,(()=>!1)),vu("shadowOptions",n,(()=>null)),vu("hasSlots",n,(()=>!1)),vu("enhance",n,(()=>!1)),vu("projectionsMap",n,(()=>new Map)),vu("watches",n,(()=>Xu)),fu("processContent",e,(()=>null)))}if("string"==typeof t)return new xb(e,t,iu(Cb.getAnnotation(e,"aliases"),e.aliases),Cb.keyFrom(t),fu("cache",e,(()=>0)),fu("template",e,(()=>null)),iu(Cb.getAnnotation(e,"instructions"),e.instructions),iu(Cb.getAnnotation(e,"dependencies"),e.dependencies),fu("injectable",e,(()=>null)),fu("needsCompile",e,(()=>!0)),iu(Cb.getAnnotation(e,"surrogates"),e.surrogates),rm.from(...rm.getAll(e),Cb.getAnnotation(e,"bindables"),e.bindables),lb.from(...lb.getAll(e),Cb.getAnnotation(e,"childrenObservers"),e.childrenObservers),fu("containerless",e,(()=>!1)),fu("isStrictBinding",e,(()=>!1)),fu("shadowOptions",e,(()=>null)),fu("hasSlots",e,(()=>!1)),fu("enhance",e,(()=>!1)),fu("projectionsMap",e,(()=>new Map)),iu(bb.getAnnotation(e),e.watches),fu("processContent",e,(()=>null)));const n=vu("name",t,Cb.generateName);return new xb(e,n,iu(Cb.getAnnotation(e,"aliases"),t.aliases,e.aliases),Cb.keyFrom(n),gu("cache",t,e,(()=>0)),gu("template",t,e,(()=>null)),iu(Cb.getAnnotation(e,"instructions"),t.instructions,e.instructions),iu(Cb.getAnnotation(e,"dependencies"),t.dependencies,e.dependencies),gu("injectable",t,e,(()=>null)),gu("needsCompile",t,e,(()=>!0)),iu(Cb.getAnnotation(e,"surrogates"),t.surrogates,e.surrogates),rm.from(...rm.getAll(e),Cb.getAnnotation(e,"bindables"),e.bindables,t.bindables),lb.from(...lb.getAll(e),Cb.getAnnotation(e,"childrenObservers"),e.childrenObservers,t.childrenObservers),gu("containerless",t,e,(()=>!1)),gu("isStrictBinding",t,e,(()=>!1)),gu("shadowOptions",t,e,(()=>null)),gu("hasSlots",t,e,(()=>!1)),gu("enhance",t,e,(()=>!1)),gu("projectionsMap",t,e,(()=>new Map)),iu(t.watches,bb.getAnnotation(e),e.watches),gu("processContent",t,e,(()=>null)))}static getOrCreate(t){if(t instanceof xb)return t;if(wb.has(t))return wb.get(t);const e=xb.create(t);return wb.set(t,e),Vh.define(Cb.name,e,e.Type),e}register(t){const{Type:e,key:n,aliases:i}=this;Wu.transient(n,e).register(t),Wu.aliasTo(n,e).register(t),Gd(i,Cb,n,t)}}const kb={name:void 0,searchParents:!1,optional:!1},Cb={name:du.resource.keyFor("custom-element"),keyFrom:t=>`${Cb.name}:${t}`,isType:t=>"function"==typeof t&&Vh.hasOwn(Cb.name,t),for(t,e=kb){if(void 0===e.name&&!0!==e.searchParents){const n=Qy(t,Cb.name);if(null===n){if(!0===e.optional)return null;throw new Error("The provided node is not a custom element or containerless host.")}return n}if(void 0!==e.name){if(!0!==e.searchParents){const n=Qy(t,Cb.name);if(null===n)throw new Error("The provided node is not a custom element or containerless host.");return n.is(e.name)?n:void 0}let n=t,i=!1;for(;null!==n;){const t=Qy(n,Cb.name);if(null!==t&&(i=!0,t.is(e.name)))return t;n=nw(n)}if(i)return;throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")}let n=t;for(;null!==n;){const t=Qy(n,Cb.name);if(null!==t)return t;n=nw(n)}throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")},define(t,e){const n=xb.create(t,e);return Vh.define(Cb.name,n,n.Type),Vh.define(Cb.name,n,n),du.resource.appendTo(n.Type,Cb.name),n.Type},getDefinition(t){const e=Vh.getOwn(Cb.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){Vh.define(du.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>Vh.getOwn(du.annotation.keyFor(e),t),generateName:function(){let t=0;return function(){return"unnamed-"+ ++t}}(),createInjectable(){const t=function(e,n,i){return xu.getOrCreateAnnotationParamTypes(e)[i]=t,e};return t.register=function(e){return{resolve:(e,n)=>n.has(t,!0)?n.get(t):null}},t},generateType:function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(n,i=e){const s=class{};return t.value=n,Reflect.defineProperty(s,"name",t),i!==e&&Object.assign(s.prototype,i),s}}()},Sb=du.annotation.keyFor("processContent");function $b(t,e){"string"==typeof e&&(e=t[e]);const n=typeof e;if("function"!==n)throw new Error(`Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a ${n}.`);return e}function Tb(t){return function(e){return Ob.define(t,e)}}function Ab(t){return function(e){return Ob.define("string"==typeof t?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},e)}}class Eb{constructor(t,e,n,i,s,o,r,a,l){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.defaultBindingMode=s,this.isTemplateController=o,this.bindables=r,this.noMultiBindings=a,this.watches=l}static create(t,e){let n,i;return"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t),new Eb(e,su(Ob.getAnnotation(e,"name"),n),iu(Ob.getAnnotation(e,"aliases"),i.aliases,e.aliases),Ob.keyFrom(n),su(Ob.getAnnotation(e,"defaultBindingMode"),i.defaultBindingMode,e.defaultBindingMode,zp.toView),su(Ob.getAnnotation(e,"isTemplateController"),i.isTemplateController,e.isTemplateController,!1),rm.from(...rm.getAll(e),Ob.getAnnotation(e,"bindables"),e.bindables,i.bindables),su(Ob.getAnnotation(e,"noMultiBindings"),i.noMultiBindings,e.noMultiBindings,!1),iu(bb.getAnnotation(e),e.watches))}register(t){const{Type:e,key:n,aliases:i}=this;Wu.transient(n,e).register(t),Wu.aliasTo(n,e).register(t),Gd(i,Ob,n,t)}}const Ob={name:du.resource.keyFor("custom-attribute"),keyFrom:t=>`${Ob.name}:${t}`,isType:t=>"function"==typeof t&&Vh.hasOwn(Ob.name,t),for(t,e){var n;return null!==(n=Qy(t,Ob.keyFrom(e)))&&void 0!==n?n:void 0},define(t,e){const n=Eb.create(t,e);return Vh.define(Ob.name,n,n.Type),Vh.define(Ob.name,n,n),du.resource.appendTo(e,Ob.name),n.Type},getDefinition(t){const e=Vh.getOwn(Ob.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){Vh.define(du.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>Vh.getOwn(du.annotation.keyFor(e),t)},Pb=xu.createInterface("IViewFactory");class Rb{constructor(t,e,n,i=null){this.name=t,this.context=e,this.contentType=n,this.projectionScope=i,this.isCaching=!1,this.cache=null,this.cacheSize=-1}setCacheSize(t,e){t&&("*"===t?t=Rb.maxCacheSize:"string"==typeof t&&(t=parseInt(t,10)),-1!==this.cacheSize&&e||(this.cacheSize=t)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}canReturnToCache(t){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.cache.push(t),!0)}create(t,e){const n=this.cache;let i;return null!=n&&n.length>0?(i=n.pop(),i):(i=Oy.forSyntheticView(null,this.context,this,t,e),i)}}Rb.maxCacheSize=65535;const Ib=new WeakSet;function jb(t){return!Ib.has(t)}function Fb(t){return Ib.add(t),xb.create(t)}const Lb={name:du.resource.keyFor("views"),has:t=>"function"==typeof t&&(Vh.hasOwn(Lb.name,t)||"$views"in t),get(t){if("function"==typeof t&&"$views"in t){const e=t.$views.filter(jb).map(Fb);for(const n of e)Lb.add(t,n)}let e=Vh.getOwn(Lb.name,t);return void 0===e&&Vh.define(Lb.name,e=[],t),e},add(t,e){const n=xb.create(e);let i=Vh.getOwn(Lb.name,t);return void 0===i?Vh.define(Lb.name,i=[n],t):i.push(n),i}},Nb=xu.createInterface("IViewLocator",(t=>t.singleton(Db)));class Db{constructor(){this.modelInstanceToBoundComponent=new WeakMap,this.modelTypeToUnboundComponent=new Map}getViewComponentForObject(t,e){if(t){const n=Lb.has(t.constructor)?Lb.get(t.constructor):[],i="function"==typeof e?e(t,n):this.getViewName(n,e);return this.getOrCreateBoundComponent(t,n,i)}return null}getOrCreateBoundComponent(t,e,n){let i,s=this.modelInstanceToBoundComponent.get(t);if(void 0===s?(s={},this.modelInstanceToBoundComponent.set(t,s)):i=s[n],void 0===i){const o=this.getOrCreateUnboundComponent(t,e,n);i=Cb.define(Cb.getDefinition(o),class extends o{constructor(){super(t)}}),s[n]=i}return i}getOrCreateUnboundComponent(t,e,n){let i,s=this.modelTypeToUnboundComponent.get(t.constructor);if(void 0===s?(s={},this.modelTypeToUnboundComponent.set(t.constructor,s)):i=s[n],void 0===i){i=Cb.define(this.getView(e,n),class{constructor(t){this.viewModel=t}define(t,e,n){const i=this.viewModel;if(t.scope=Zd.fromParent(t.scope,i),void 0!==i.define)return i.define(t,e,n)}});const o=i.prototype;"hydrating"in t&&(o.hydrating=function(t){this.viewModel.hydrating(t)}),"hydrated"in t&&(o.hydrated=function(t){this.viewModel.hydrated(t)}),"created"in t&&(o.created=function(t){this.viewModel.created(t)}),"binding"in t&&(o.binding=function(t,e,n){return this.viewModel.binding(t,e,n)}),"bound"in t&&(o.bound=function(t,e,n){return this.viewModel.bound(t,e,n)}),"attaching"in t&&(o.attaching=function(t,e,n){return this.viewModel.attaching(t,e,n)}),"attached"in t&&(o.attached=function(t,e){return this.viewModel.attached(t,e)}),"detaching"in t&&(o.detaching=function(t,e,n){return this.viewModel.detaching(t,e,n)}),"unbinding"in t&&(o.unbinding=function(t,e,n){return this.viewModel.unbinding(t,e,n)}),"dispose"in t&&(o.dispose=function(){this.viewModel.dispose()}),s[n]=i}return i}getViewName(t,e){return e||(1===t.length?t[0].name:"default-view")}getView(t,e){const n=t.find((t=>t.name===e));if(void 0===n)throw new Error(`Could not find view: ${e}`);return n}}var Mb;xu.createInterface("IProjections"),function(t){t[t.Projection=0]="Projection",t[t.Fallback=1]="Fallback"}(Mb||(Mb={}));class Bb{constructor(t,e,n){this.name=t,this.type=e,this.projectionContext=n}}class Vb{constructor(t,e=null){this.content=t,this.scope=e}}class Hb{constructor(t,e){this.scope=t,this.projections=e}}const qb=xu.createInterface("IProjectionProvider",(t=>t.singleton(zb))),Ub=new WeakMap;class zb{registerProjections(t,e){for(const[n,i]of t)Ub.set(n,new Hb(e,i))}getProjectionFor(t){var e;return null!==(e=Ub.get(t))&&void 0!==e?e:null}}class _b{constructor(t,e){this.hostScope=null,this.view=t.create().setLocation(e),this.isProjection=t.contentType===Mb.Projection,this.outerScope=t.projectionScope}static get inject(){return[Pb,Jy]}binding(t,e,n){this.hostScope=this.$controller.scope.parentScope}attaching(t,e,n){var i;const{$controller:s}=this;return this.view.activate(t,s,n,null!==(i=this.outerScope)&&void 0!==i?i:this.hostScope,this.hostScope)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}yb({name:"au-slot",template:null,containerless:!0})(_b);const Wb=xu.createInterface("AuSlotsInfo");class Kb{constructor(t){this.projectedSlots=t}}const Gb=new WeakMap,Qb=new WeakMap,Yb=new WeakMap;function Xb(t,e,n){const i=xb.getOrCreate(t);if(null!==i.injectable)return new Jb(i,e);if(null==n){let t=Gb.get(i);void 0===t&&Gb.set(i,t=new WeakMap);let n=t.get(e);return void 0===n&&t.set(e,n=new Jb(i,e)),n}let s=Qb.get(i);void 0===s&&Qb.set(i,s=new WeakMap);let o=s.get(e);void 0===o&&s.set(e,o=new WeakMap);let r=o.get(n);return void 0===r&&o.set(n,r=new Jb(i,e)),r}const Zb=new WeakMap;class Jb{constructor(t,e){this.definition=t,this.parentContainer=e,this.viewModelProvider=void 0,this.fragment=null,this.factory=void 0,this.isCompiled=!1,this.renderers=Object.create(null),this.compiledDefinition=void 0,this.root=e.root;const n=this.container=e.createChild(),i=n.getAll(Vw);for(let t=0;t<i.length;++t){const e=i[t];this.renderers[e.instructionType]=e}this.projectionProvider=n.get(qb);const s=this.platform=n.get(Dm);n.registerResolver(Pb,this.factoryProvider=new ty,!0),n.registerResolver(Hy,this.parentControllerProvider=new Ku("IController"),!0),n.registerResolver(ww,this.instructionProvider=new Ku("IInstruction"),!0),n.registerResolver(Jy,this.renderLocationProvider=new Ku("IRenderLocation"),!0),n.registerResolver(Wb,this.auSlotsInfoProvider=new Ku("IAuSlotsInfo"),!0);const o=this.elementProvider=new Ku("ElementResolver");n.registerResolver(Xy,o),n.registerResolver(s.Node,o),n.registerResolver(s.Element,o),n.registerResolver(s.HTMLElement,o),n.register(...t.dependencies)}get id(){return this.container.id}has(t,e){return this.container.has(t,e)}get(t){return this.container.get(t)}getAll(t){return this.container.getAll(t)}register(...t){return this.container.register(...t)}registerResolver(t,e){return this.container.registerResolver(t,e)}registerTransformer(t,e){return this.container.registerTransformer(t,e)}getResolver(t,e){return this.container.getResolver(t,e)}invoke(t,e){return this.container.invoke(t,e)}getFactory(t){return this.container.getFactory(t)}registerFactory(t,e){this.container.registerFactory(t,e)}createChild(){return this.container.createChild()}find(t,e){return this.container.find(t,e)}create(t,e){return this.container.create(t,e)}disposeResolvers(){this.container.disposeResolvers()}compile(t){let e;if(this.isCompiled)return this;this.isCompiled=!0;const n=this.definition;if(n.needsCompile){const i=this.container,s=i.get(Bw);e=this.compiledDefinition=s.compile(n,i,t)}else e=this.compiledDefinition=n;if(e.register(this),Yb.has(e))this.fragment=Yb.get(e);else{const t=this.platform.document,n=e.template;if(null===n||!0===this.definition.enhance)this.fragment=null;else if(n instanceof this.platform.Node)"TEMPLATE"===n.nodeName?this.fragment=t.adoptNode(n.content):(this.fragment=t.adoptNode(t.createDocumentFragment())).appendChild(n);else{const e=t.createElement("template");t.adoptNode(e.content),"string"==typeof n&&(e.innerHTML=n),this.fragment=e.content}Yb.set(e,this.fragment)}return this}getViewFactory(t,e,n){let i=this.factory;return void 0===i&&(void 0===t&&(t=this.definition.name),i=this.factory=new Rb(t,this,e,n)),i}beginChildComponentOperation(t){const e=this.definition;return null!==e.injectable&&(void 0===this.viewModelProvider&&this.container.registerResolver(e.injectable,this.viewModelProvider=new Ku("definition.injectable")),this.viewModelProvider.prepare(t)),this}createNodes(){if(!0===this.compiledDefinition.enhance)return new ow(this.platform,this.compiledDefinition.template);if(null===this.fragment){let t=Zb.get(this.platform);return void 0===t&&Zb.set(this.platform,t=new ow(this.platform,this.platform.document.createDocumentFragment())),t}return new ow(this.platform,this.fragment.cloneNode(!0))}getComponentFactory(t,e,n,i,s,o){return void 0!==t&&this.parentControllerProvider.prepare(t),void 0!==e&&this.elementProvider.prepare(e),void 0!==n&&this.instructionProvider.prepare(n),void 0!==s&&this.renderLocationProvider.prepare(s),void 0!==i&&this.factoryProvider.prepare(i),void 0!==o&&this.auSlotsInfoProvider.prepare(o),this}createComponent(t){return this.container.get(t)}render(t,e,n,i,s){if(n.length!==i.instructions.length)throw new Error(`The compiled template is not aligned with the render instructions. There are ${n.length} targets and ${i.instructions.length} instructions.`);for(let s=0;s<n.length;++s)this.renderChildren(t,i.instructions[s],e,n[s]);null!=s&&this.renderChildren(t,i.surrogates,e,s)}renderChildren(t,e,n,i){for(let s=0;s<e.length;++s){const o=e[s];this.renderers[o.type].render(t,this,n,i,o)}}dispose(){this.elementProvider.dispose()}registerProjections(t,e){this.projectionProvider.registerProjections(t,e)}getProjectionFor(t){return this.projectionProvider.getProjectionFor(t)}}class ty{constructor(){this.factory=null}prepare(t){this.factory=t}get $isResolver(){return!0}resolve(t,e){const n=this.factory;if(null===n)throw new Error("Cannot resolve ViewFactory before the provider was prepared.");if("string"!=typeof n.name||0===n.name.length)throw new Error("Cannot resolve ViewFactory without a (valid) name.");return n}dispose(){this.factory=null}}class ey{constructor(t){this.obj=t,this.currentValue="",this.oldValue="",this.doNotCache=!0,this.nameIndex={},this.version=0,this.hasChanges=!1,this.isActive=!1,this.type=6}getValue(){return this.currentValue}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,0==(256&e)&&this.flushChanges(e)}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue,e=this.nameIndex;let n=this.version;this.oldValue=t;const i=ny(t);if(i.length>0&&this.addClassesAndUpdateIndex(i),this.version+=1,0===n)return;n-=1;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t]===n&&this.obj.classList.remove(t)}}addClassesAndUpdateIndex(t){const e=this.obj;for(let n=0,i=t.length;n<i;n++){const i=t[n];0!==i.length&&(this.nameIndex[i]=this.version,e.classList.add(i))}}}function ny(t){if("string"==typeof t)return iy(t);if("object"!=typeof t)return Xu;if(t instanceof Array){const e=t.length;if(e>0){const n=[];for(let i=0;i<e;++i)n.push(...ny(t[i]));return n}return Xu}const e=[];for(const n in t)Boolean(t[n])&&(n.includes(" ")?e.push(...iy(n)):e.push(n));return e}function iy(t){const e=t.match(/\S+/g);return null===e?Xu:e}var sy=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},oy=function(t,e){return function(n,i){e(n,i,t)}};const ry=xu.createInterface("IShadowDOMStyleFactory",(t=>t.cachedCallback((t=>dy.supported(t.get(Dm))?t.get(ly):t.get(cy)))));class ay{constructor(t){this.css=t}register(t){const e=t.get(uy),n=t.get(ry);t.register(Wu.instance(hy,n.createStyles(this.css,e)))}}let ly=class{constructor(t){this.p=t,this.cache=new Map}createStyles(t,e){return new dy(this.p,t,this.cache,e)}};ly=sy([oy(0,Dm)],ly);let cy=class{constructor(t){this.p=t}createStyles(t,e){return new py(this.p,t,e)}};cy=sy([oy(0,Dm)],cy);const hy=xu.createInterface("IShadowDOMStyles"),uy=xu.createInterface("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:Ju})));class dy{constructor(t,e,n,i=null){this.sharedStyles=i,this.styleSheets=e.map((e=>{let i;return e instanceof t.CSSStyleSheet?i=e:(i=n.get(e),void 0===i&&(i=new t.CSSStyleSheet,i.replaceSync(e),n.set(e,i))),i}))}static supported(t){return"adoptedStyleSheets"in t.ShadowRoot.prototype}applyTo(t){null!==this.sharedStyles&&this.sharedStyles.applyTo(t),t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets]}}class py{constructor(t,e,n=null){this.p=t,this.localStyles=e,this.sharedStyles=n}applyTo(t){const e=this.localStyles,n=this.p;for(let i=e.length-1;i>-1;--i){const s=n.document.createElement("style");s.innerHTML=e[i],t.prepend(s)}null!==this.sharedStyles&&this.sharedStyles.applyTo(t)}}const{enter:gy,exit:fy}=Yf,{wrap:vy,unwrap:my}=Hv;class by{constructor(t,e,n,i,s){this.obj=t,this.observerLocator=e,this.get=n,this.cb=i,this.useProxy=s,this.interceptor=this,this.value=void 0,this.isBound=!1,this.running=!1}handleChange(){this.run()}handleCollectionChange(){this.run()}$bind(){this.isBound||(this.isBound=!0,this.compute())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0))}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.value,n=this.compute();Object.is(n,e)||this.cb.call(t,n,e,t)}compute(){this.running=!0,this.obs.version++;try{return gy(this),this.value=my(this.get.call(void 0,this.useProxy?vy(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,fy(this)}}}class yy{constructor(t,e,n,i,s){this.scope=t,this.locator=e,this.observerLocator=n,this.expression=i,this.callback=s,this.interceptor=this,this.isBound=!1,this.obj=t.bindingContext}handleChange(t){const e=this.expression,n=this.obj,i=this.value;10082===e.$kind&&1===this.obs.count||(this.obs.version++,t=e.evaluate(0,this.scope,null,this.locator,this),this.obs.clear(!1)),Object.is(t,i)||(this.value=t,this.callback.call(n,t,i,n))}$bind(){this.isBound||(this.isBound=!0,this.obs.version++,this.value=this.expression.evaluate(0,this.scope,null,this.locator,this),this.obs.clear(!1))}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0),this.value=void 0)}}cf(by),cf(yy);const wy=xu.createInterface("ILifecycleHooks");class xy{constructor(t,e){this.definition=t,this.instance=e}}class ky{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const n=new Set;let i=e.prototype;for(;i!==Object.prototype;){for(const t of Object.getOwnPropertyNames(i))"constructor"!==t&&n.add(t);i=Object.getPrototypeOf(i)}return new ky(e,n)}register(t){Wu.singleton(wy,this.Type).register(t)}}const Cy=new WeakMap,Sy={name:du.annotation.keyFor("lifecycle-hooks"),define(t,e){const n=ky.create(t,e);return Vh.define(Sy.name,n,e),du.resource.appendTo(e,Sy.name),n.Type},resolve(t){let e=Cy.get(t);if(void 0===e){e={};const n=t.root.id===t.id?t.getAll(wy,!1):[...t.root.getAll(wy,!1),...t.getAll(wy,!1)];for(const t of n){const n=Vh.getOwn(Sy.name,t.constructor),i=new xy(n,t);for(const t of n.propertyNames){const n=e[t];void 0===n?e[t]=[i]:n.push(i)}}}return e}};function $y(t){t.dispose()}var Ty;!function(t){t[t.none=0]="none",t[t.host=1]="host",t[t.shadowRoot=2]="shadowRoot",t[t.location=3]="location"}(Ty||(Ty={}));const Ay={optional:!0},Ey=new WeakMap;class Oy{constructor(t,e,n,i,s,o,r,a){switch(this.root=t,this.container=e,this.vmKind=n,this.flags=i,this.definition=s,this.viewFactory=o,this.viewModel=r,this.host=a,this.id=tu("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.hostScope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.context=null,this.location=null,this.lifecycleHooks=null,this.state=0,this.logger=null,this.debug=!1,this.fullyNamed=!1,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.activatingStack=0,this.detachingStack=0,this.unbindingStack=0,null===t&&e.has(qy,!0)&&(this.root=e.get(qy)),this.platform=e.get(Dm),n){case 1:case 0:this.hooks=new Ny(r);break;case 2:this.hooks=Ny.none}}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){var t;if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===(null===(t=this.parent.definition)||void 0===t?void 0:t.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}static getCached(t){return Ey.get(t)}static getCachedOrThrow(t){const e=Oy.getCached(t);if(void 0===e)throw new Error(`There is no cached controller for the provided ViewModel: ${String(t)}`);return e}static forCustomElement(t,e,n,i,s,o=0,r=!0,a){if(Ey.has(n))return Ey.get(n);a=null!=a?a:Cb.getDefinition(n.constructor);const l=new Oy(t,e,0,o,a,null,n,i);return Ey.set(n,l),r&&l.hydrateCustomElement(e,s),l}static forCustomAttribute(t,e,n,i,s=0){if(Ey.has(n))return Ey.get(n);const o=Ob.getDefinition(n.constructor),r=new Oy(t,e,1,s,o,null,n,i);return Ey.set(n,r),r.hydrateCustomAttribute(),r}static forSyntheticView(t,e,n,i=0,s){const o=new Oy(t,e,2,i,null,n,null,null);return o.parent=null!=s?s:null,o.hydrateSynthetic(e),o}hydrateCustomElement(t,e){var n;this.logger=t.get(Sd).root,this.debug=this.logger.config.level<=1,this.debug&&(this.logger=this.logger.scopeTo(this.name));let i=this.definition;this.flags;const s=this.viewModel;if(this.scope=Zd.create(s,null,!0),i.watches.length>0&&jy(this,this.container,i,s),Ry(this,i,0,s),function(t,e,n,i){const s=e.childrenObservers,o=Object.getOwnPropertyNames(s),r=o.length;if(r>0){const e=Py(i);let n;for(let a=0;a<r;++a)if(n=o[a],null==e[n]){const o=s[n];e[n]=new ub(t,i,n,o.callback,o.query,o.filter,o.map,o.options)}}}(this,i,0,s),this.hooks.hasDefine){this.debug&&this.logger.trace("invoking define() hook");const e=s.define(this,t,i);void 0!==e&&e!==i&&(i=xb.getOrCreate(e))}const o=this.context=Xb(i,t,null==e?void 0:e.projections);this.lifecycleHooks=Sy.resolve(o),i.register(o),null!==i.injectable&&o.beginChildComponentOperation(s),(null===(n=this.root)||void 0===n?void 0:n.controller)!==this&&(this.hydrate(e),this.hydrateChildren())}hydrate(t){this.hooks.hasHydrating&&(this.debug&&this.logger.trace("invoking hasHydrating() hook"),this.viewModel.hydrating(this));const e=this.context.compile(t),{projectionsMap:n,shadowOptions:i,isStrictBinding:s,hasSlots:o,containerless:r}=e.compiledDefinition;if(e.registerProjections(n,this.scope),n.clear(),this.isStrictBinding=s,null!==(this.hostController=Cb.for(this.host,Ay))&&(this.host=this.platform.document.createElement(this.context.definition.name)),Yy(this.host,Cb.name,this),Yy(this.host,this.definition.key,this),null!==i||o){if(r)throw new Error("You cannot combine the containerless custom element option with Shadow DOM.");Yy(this.shadowRoot=this.host.attachShadow(null!=i?i:Dy),Cb.name,this),Yy(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else r?(Yy(this.location=iw(this.host),Cb.name,this),Yy(this.location,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.viewModel.$controller=this,this.nodes=e.createNodes(),this.hooks.hasHydrated&&(this.debug&&this.logger.trace("invoking hasHydrated() hook"),this.viewModel.hydrated(this))}hydrateChildren(){const t=this.nodes.findTargets();this.context.render(this.flags,this,t,this.context.compiledDefinition,this.host),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateCustomAttribute(){const t=this.definition,e=this.viewModel;t.watches.length>0&&jy(this,this.container,t,e),Ry(this,t,this.flags,e),e.$controller=this,this.lifecycleHooks=Sy.resolve(this.container),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateSynthetic(t){this.context=t;const e=t.compile(null),n=e.compiledDefinition;this.isStrictBinding=n.isStrictBinding;const i=(this.nodes=e.createNodes()).findTargets();e.render(this.flags,this,i,n,void 0)}activate(t,e,n,i,s){switch(this.state){case 0:case 8:if(null!==e&&!e.isActive)return;this.state=1;break;case 2:return;case 32:throw new Error(`${this.name} trying to activate a controller that is disposed.`);default:throw new Error(`${this.name} unexpected state: ${Vy(this.state)}.`)}switch(this.parent=e,this.debug&&!this.fullyNamed&&(this.fullyNamed=!0,this.logger=this.context.get(Sd).root.scopeTo(this.name),this.logger.trace("activate()")),this.hostScope=null!=s?s:null,n|=2,this.vmKind){case 0:this.scope.parentScope=null!=i?i:null;break;case 1:this.scope=null!=i?i:null;break;case 2:if(null==i)throw new Error("Scope is null or undefined");this.hasLockedScope||(this.scope=i)}if(this.isStrictBinding&&(n|=1),this.$initiator=t,this.$flags=n,this.enterActivating(),this.hooks.hasBinding){this.debug&&this.logger.trace("binding()");const t=this.viewModel.binding(this.$initiator,this.parent,this.$flags);if(t instanceof Promise)return this.ensurePromise(),t.then((()=>{this.bind()})).catch((t=>{this.reject(t)})),this.$promise}return this.bind(),this.$promise}bind(){if(this.debug&&this.logger.trace("bind()"),null!==this.bindings)for(let t=0;t<this.bindings.length;++t)this.bindings[t].$bind(this.$flags,this.scope,this.hostScope);if(this.hooks.hasBound){this.debug&&this.logger.trace("bound()");const t=this.viewModel.bound(this.$initiator,this.parent,this.$flags);if(t instanceof Promise)return this.ensurePromise(),void t.then((()=>{this.isBound=!0,this.attach()})).catch((t=>{this.reject(t)}))}this.isBound=!0,this.attach()}append(...t){switch(this.mountTarget){case 1:this.host.append(...t);break;case 2:this.shadowRoot.append(...t);break;case 3:for(let e=0;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location)}}attach(){var t;if(this.debug&&this.logger.trace("attach()"),null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.append(this.host);break;case 3:this.hostController.append(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null===(t=this.definition)||void 0===t?void 0:t.enhance);break;case 2:(this.context.has(hy,!1)?this.context.get(hy):this.context.get(uy)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break;case 3:this.nodes.insertBefore(this.location)}if(this.hooks.hasAttaching){this.debug&&this.logger.trace("attaching()");const t=this.viewModel.attaching(this.$initiator,this.parent,this.$flags);t instanceof Promise&&(this.ensurePromise(),this.enterActivating(),t.then((()=>{this.leaveActivating()})).catch((t=>{this.reject(t)})))}if(null!==this.children)for(let t=0;t<this.children.length;++t)this.children[t].activate(this.$initiator,this,this.$flags,this.scope,this.hostScope);this.leaveActivating()}deactivate(t,e,n){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw new Error(`${this.name} unexpected state: ${Vy(this.state)}.`)}if(this.debug&&this.logger.trace("deactivate()"),this.$initiator=t,this.$flags=n,t===this&&this.enterDetaching(),null!==this.children)for(let e=0;e<this.children.length;++e)this.children[e].deactivate(t,this,n);if(this.hooks.hasDetaching){this.debug&&this.logger.trace("detaching()");const e=this.viewModel.detaching(this.$initiator,this.parent,this.$flags);e instanceof Promise&&(this.ensurePromise(),t.enterDetaching(),e.then((()=>{t.leaveDetaching()})).catch((e=>{t.reject(e)})))}if(null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.leaveDetaching(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){this.debug&&this.logger.trace("unbind()");const t=4|this.$flags;if(null!==this.bindings)for(let e=0;e<this.bindings.length;++e)this.bindings[e].$unbind(t);switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parentScope=null}32==(32&t)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.resolve()}ensurePromise(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.ensurePromise())}resolve(){if(void 0!==this.$promise){const t=this.$resolve;this.$resolve=this.$reject=this.$promise=void 0,t()}}reject(t){if(void 0!==this.$promise){const e=this.$reject;this.$resolve=this.$reject=this.$promise=void 0,e(t)}this.$initiator!==this&&this.parent.reject(t)}enterActivating(){++this.activatingStack,this.$initiator!==this&&this.parent.enterActivating()}leaveActivating(){if(0==--this.activatingStack){if(this.hooks.hasAttached){this.debug&&this.logger.trace("attached()");const t=this.viewModel.attached(this.$initiator,this.$flags);if(t instanceof Promise)return this.ensurePromise(),void t.then((()=>{this.state=2,this.resolve(),this.$initiator!==this&&this.parent.leaveActivating()})).catch((t=>{this.reject(t)}))}this.state=2,this.resolve()}this.$initiator!==this&&this.parent.leaveActivating()}enterDetaching(){++this.detachingStack}leaveDetaching(){if(0==--this.detachingStack){this.debug&&this.logger.trace("detach()"),this.enterUnbinding(),this.removeNodes();let t=this.$initiator.head;for(;null!==t;){if(t!==this&&(t.debug&&t.logger.trace("detach()"),t.removeNodes()),t.hooks.hasUnbinding){t.debug&&t.logger.trace("unbinding()");const e=t.viewModel.unbinding(t.$initiator,t.parent,t.$flags);e instanceof Promise&&(this.ensurePromise(),this.enterUnbinding(),e.then((()=>{this.leaveUnbinding()})).catch((t=>{this.reject(t)})))}t=t.next}this.leaveUnbinding()}}enterUnbinding(){++this.unbindingStack}leaveUnbinding(){if(0==--this.unbindingStack){this.debug&&this.logger.trace("unbind()");let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addController(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case 1:return Ob.getDefinition(this.viewModel.constructor).name===t;case 0:return Cb.getDefinition(this.viewModel.constructor).name===t;case 2:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return 0===this.vmKind&&(Yy(t,Cb.name,this),Yy(t,this.definition.key,this)),this.host=t,this.mountTarget=1,this}setShadowRoot(t){return 0===this.vmKind&&(Yy(t,Cb.name,this),Yy(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=2,this}setLocation(t){return 0===this.vmKind&&(Yy(t,Cb.name,this),Yy(t,this.definition.key,this)),this.location=t,this.mountTarget=3,this}release(){this.state|=16}dispose(){this.debug&&this.logger.trace("dispose()"),32!=(32&this.state)&&(this.state|=32,this.hooks.hasDispose&&this.viewModel.dispose(),null!==this.children&&(this.children.forEach($y),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.context=null,this.location=null,this.viewFactory=null,null!==this.viewModel&&(Ey.delete(this.viewModel),this.viewModel=null),this.viewModel=null,this.host=null,this.shadowRoot=null,this.root=null)}accept(t){if(!0===t(this))return!0;if(this.hooks.hasAccept&&!0===this.viewModel.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let n=0,i=e.length;n<i;++n)if(!0===e[n].accept(t))return!0}}getTargetAccessor(t){const{bindings:e}=this;if(null!==e){const n=e.find((e=>e.targetProperty===t));if(void 0!==n)return n.targetObserver}}}function Py(t){let e=t.$observers;return void 0===e&&Reflect.defineProperty(t,"$observers",{enumerable:!1,value:e={}}),e}function Ry(t,e,n,i){const s=e.bindables,o=Object.getOwnPropertyNames(s),r=o.length;if(r>0){let e,n;const a=Py(i);for(let l=0;l<r;++l)e=o[l],void 0===a[e]&&(n=s[e],a[e]=new lm(i,e,n.callback,n.set,t))}}const Iy={map:new Map,for(t){let e=Iy.map.get(t);return null==e&&(e=new wp(t,0),Iy.map.set(t,e)),e}};function jy(t,e,n,i){const s=e.get(Zv),o=e.get(hf),r=n.watches;let a,l;for(let n=0,c=r.length;c>n;++n){if(({expression:a,callback:l}=r[n]),l="function"==typeof l?l:Reflect.get(i,l),"function"!=typeof l)throw new Error(`Invalid callback for @watch decorator: ${String(l)}`);if("function"==typeof a)t.addBinding(new by(i,s,a,l,!0));else{const n="string"==typeof a?o.parse(a,53):Iy.for(a);t.addBinding(new yy(t.scope,e,s,n,l))}}}function Fy(t){return t instanceof Oy&&0===t.vmKind}function Ly(t){return mh(t)&&Cb.isType(t.constructor)}class Ny{constructor(t){this.hasDefine="define"in t,this.hasHydrating="hydrating"in t,this.hasHydrated="hydrated"in t,this.hasCreated="created"in t,this.hasBinding="binding"in t,this.hasBound="bound"in t,this.hasAttaching="attaching"in t,this.hasAttached="attached"in t,this.hasDetaching="detaching"in t,this.hasUnbinding="unbinding"in t,this.hasDispose="dispose"in t,this.hasAccept="accept"in t}}Ny.none=new Ny({});const Dy={mode:"open"};var My,By;function Vy(t){const e=[];return 1==(1&t)&&e.push("activating"),2==(2&t)&&e.push("activated"),4==(4&t)&&e.push("deactivating"),8==(8&t)&&e.push("deactivated"),16==(16&t)&&e.push("released"),32==(32&t)&&e.push("disposed"),0===e.length?"none":e.join("|")}!function(t){t[t.customElement=0]="customElement",t[t.customAttribute=1]="customAttribute",t[t.synthetic=2]="synthetic"}(My||(My={})),function(t){t[t.none=0]="none",t[t.activating=1]="activating",t[t.activated=2]="activated",t[t.deactivating=4]="deactivating",t[t.deactivated=8]="deactivated",t[t.released=16]="released",t[t.disposed=32]="disposed"}(By||(By={}));const Hy=xu.createInterface("IController");const qy=xu.createInterface("IAppRoot"),Uy=xu.createInterface("IWorkTracker",(t=>t.singleton(zy)));let zy=class{constructor(t){this.logger=t,this.stack=0,this.promise=null,this.resolve=null,this.logger=t.scopeTo("WorkTracker")}start(){this.logger.trace(`start(stack:${this.stack})`),++this.stack}finish(){if(this.logger.trace(`finish(stack:${this.stack})`),0==--this.stack){const t=this.resolve;null!==t&&(this.resolve=this.promise=null,t())}}wait(){if(this.logger.trace(`wait(stack:${this.stack})`),null===this.promise){if(0===this.stack)return Promise.resolve();this.promise=new Promise((t=>{this.resolve=t}))}return this.promise}};var _y,Wy;zy=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([(_y=0,Wy=Sd,function(t,e){Wy(t,e,_y)})],zy);class Ky{constructor(t,e,n,i,s=!1){if(this.config=t,this.platform=e,this.container=n,this.controller=void 0,this.hydratePromise=void 0,this.host=t.host,this.work=n.get(Uy),i.prepare(this),n.has(Xy,!1)&&n.get(Xy)!==t.host&&(this.container=n.createChild()),this.container.register(Wu.instance(Xy,t.host)),s){const e=t.component;this.enhanceDefinition=Cb.getDefinition(Cb.isType(e)?Cb.define({...Cb.getDefinition(e),template:this.host,enhance:!0},e):Cb.define({name:void 0,template:this.host,enhance:!0}))}this.hydratePromise=lu(this.runAppTasks("beforeCreate"),(()=>{const e=Cb.isType(t.component)?this.container.get(t.component):t.component,i=this.controller=Oy.forCustomElement(this,n,e,this.host,null,0,!1,this.enhanceDefinition);return i.hydrateCustomElement(n,null),lu(this.runAppTasks("hydrating"),(()=>(i.hydrate(null),lu(this.runAppTasks("hydrated"),(()=>{i.hydrateChildren(),this.hydratePromise=void 0})))))}))}activate(){return lu(this.hydratePromise,(()=>lu(this.runAppTasks("beforeActivate"),(()=>lu(this.controller.activate(this.controller,null,2,void 0),(()=>this.runAppTasks("afterActivate")))))))}deactivate(){return lu(this.runAppTasks("beforeDeactivate"),(()=>lu(this.controller.deactivate(this.controller,null,0),(()=>this.runAppTasks("afterDeactivate")))))}runAppTasks(t){return cu(...this.container.getAll(sb).reduce(((e,n)=>(n.slot===t&&e.push(n.run()),e)),[]))}dispose(){var t;null===(t=this.controller)||void 0===t||t.dispose()}}class Gy{}function Qy(t,e){var n,i;return null!==(i=null===(n=t.$au)||void 0===n?void 0:n[e])&&void 0!==i?i:null}function Yy(t,e,n){var i,s;(null!==(i=(s=t).$au)&&void 0!==i?i:s.$au=new Gy)[e]=n}const Xy=xu.createInterface("INode"),Zy=xu.createInterface("IEventTarget",(t=>t.cachedCallback((t=>t.has(qy,!0)?t.get(qy).host:t.get(Dm).document)))),Jy=xu.createInterface("IRenderLocation");var tw;!function(t){t[t.Element=1]="Element",t[t.Attr=2]="Attr",t[t.Text=3]="Text",t[t.CDATASection=4]="CDATASection",t[t.EntityReference=5]="EntityReference",t[t.Entity=6]="Entity",t[t.ProcessingInstruction=7]="ProcessingInstruction",t[t.Comment=8]="Comment",t[t.Document=9]="Document",t[t.DocumentType=10]="DocumentType",t[t.DocumentFragment=11]="DocumentFragment",t[t.Notation=12]="Notation"}(tw||(tw={}));const ew=new WeakMap;function nw(t){if(ew.has(t))return ew.get(t);let e=0,n=t.nextSibling;for(;null!==n;){if(8===n.nodeType)switch(n.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return n}n=n.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=Cb.for(t);if(void 0===e)return null;if(2===e.mountTarget)return nw(e.host)}return t.parentNode}function iw(t){if(sw(t))return t;const e=t.ownerDocument.createComment("au-end"),n=t.ownerDocument.createComment("au-start");return null!==t.parentNode&&(t.parentNode.replaceChild(e,t),e.parentNode.insertBefore(n,e)),e.$start=n,e}function sw(t){return"au-end"===t.textContent}class ow{constructor(t,e){this.platform=t,this.fragment=e,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const n=e.querySelectorAll(".au");let i=0,s=n.length;const o=this.targets=Array(s);for(;i<s;){const t=n[i];"AU-M"===t.nodeName?o[i]=iw(t):o[i]=t,++i}const r=e.childNodes;i=0,s=r.length;const a=this.childNodes=Array(s);for(;i<s;)a[i]=r[i],++i;this.firstChild=e.firstChild,this.lastChild=e.lastChild}findTargets(){return this.targets}insertBefore(t){if(this.isLinked&&this.refNode)this.addToLinked();else{const e=t.parentNode;if(this.isMounted){let n=this.firstChild;const i=this.lastChild;let s;for(;null!=n&&(s=n.nextSibling,e.insertBefore(n,t),n!==i);)n=s}else this.isMounted=!0,t.parentNode.insertBefore(this.fragment,t)}}appendTo(t,e=!1){if(this.isMounted){let e=this.firstChild;const n=this.lastChild;let i;for(;null!=e&&(i=e.nextSibling,t.appendChild(e),e!==n);)e=i}else this.isMounted=!0,e||t.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;null!==i&&(n=i.nextSibling,t.appendChild(i),i!==e);)i=n}}addToLinked(){const t=this.refNode,e=t.parentNode;if(this.isMounted){let n=this.firstChild;const i=this.lastChild;let s;for(;null!=n&&(s=n.nextSibling,e.insertBefore(n,t),n!==i);)n=s}else this.isMounted=!0,e.insertBefore(this.fragment,t)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(t){this.isLinked=!0,sw(t)?this.refNode=t:(this.next=t,this.obtainRefNode())}obtainRefNode(){void 0!==this.next?this.refNode=this.next.firstChild:this.refNode=void 0}}const rw=xu.createInterface("IWindow",(t=>t.callback((t=>t.get(Dm).window)))),aw=xu.createInterface("ILocation",(t=>t.callback((t=>t.get(rw).location)))),lw=xu.createInterface("IHistory",(t=>t.callback((t=>t.get(rw).history)))),cw={[Kp.capturing]:{capture:!0},[Kp.bubbling]:{capture:!1}};class hw{constructor(t,e,n,i,s,o,r,a){this.platform=t,this.targetEvent=e,this.delegationStrategy=n,this.sourceExpression=i,this.target=s,this.preventDefault=o,this.eventDelegator=r,this.locator=a,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.handler=null}callSource(t){const e=this.$scope.overrideContext;e.$event=t;const n=this.sourceExpression.evaluate(8,this.$scope,this.$hostScope,this.locator,null);return Reflect.deleteProperty(e,"$event"),!0!==n&&this.preventDefault&&t.preventDefault(),n}handleEvent(t){this.interceptor.callSource(t)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n;const i=this.sourceExpression;if(i.hasBind&&i.bind(t,e,n,this.interceptor),this.delegationStrategy===Kp.none)this.target.addEventListener(this.targetEvent,this);else{const t=this.locator.get(Zy);this.handler=this.eventDelegator.addEventListener(t,this.target,this.targetEvent,this,cw[this.delegationStrategy])}this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=null,this.delegationStrategy===Kp.none?this.target.removeEventListener(this.targetEvent,this):(this.handler.dispose(),this.handler=null),this.isBound=!1}observeProperty(t,e){}handleChange(t,e,n){}}const uw={capture:!1};class dw{constructor(t,e,n=uw){this.publisher=t,this.eventName=e,this.options=n,this.count=0,this.captureLookups=new Map,this.bubbleLookups=new Map}increment(){1==++this.count&&this.publisher.addEventListener(this.eventName,this,this.options)}decrement(){0==--this.count&&this.publisher.removeEventListener(this.eventName,this,this.options)}dispose(){this.count>0&&(this.count=0,this.publisher.removeEventListener(this.eventName,this,this.options)),this.captureLookups.clear(),this.bubbleLookups.clear()}getLookup(t){const e=!0===this.options.capture?this.captureLookups:this.bubbleLookups;let n=e.get(t);return void 0===n&&e.set(t,n=Object.create(null)),n}handleEvent(t){const e=!0===this.options.capture?this.captureLookups:this.bubbleLookups,n=t.composedPath();!0===this.options.capture&&n.reverse();for(const i of n){const n=e.get(i);if(void 0===n)continue;const s=n[this.eventName];if(void 0!==s&&("function"==typeof s?s(t):s.handleEvent(t),!0===t.cancelBubble))return}}}class pw{constructor(t,e,n,i){this.tracker=t,this.lookup=e,this.eventName=n,t.increment(),e[n]=i}dispose(){this.tracker.decrement(),this.lookup[this.eventName]=void 0}}class gw{constructor(t){this.config=t,this.target=null,this.handler=null}subscribe(t,e){this.target=t,this.handler=e;for(const n of this.config.events)t.addEventListener(n,e)}dispose(){const{target:t,handler:e}=this;if(null!==t&&null!==e)for(const n of this.config.events)t.removeEventListener(n,e);this.target=this.handler=null}}const fw=xu.createInterface("IEventDelegator",(t=>t.singleton(vw)));class vw{constructor(){this.trackerMaps=Object.create(null)}addEventListener(t,e,n,i,s){var o,r;const a=null!==(o=(r=this.trackerMaps)[n])&&void 0!==o?o:r[n]=new Map;let l=a.get(t);return void 0===l&&a.set(t,l=new dw(t,n,s)),new pw(l,l.getLookup(e),n,i)}dispose(){for(const t in this.trackerMaps){const e=this.trackerMaps[t];for(const t of e.values())t.dispose();e.clear()}}}var mw,bw=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},yw=function(t,e){return function(n,i){e(n,i,t)}};!function(t){t.hydrateElement="ra",t.hydrateAttribute="rb",t.hydrateTemplateController="rc",t.hydrateLetElement="rd",t.setProperty="re",t.interpolation="rf",t.propertyBinding="rg",t.callBinding="rh",t.letBinding="ri",t.refBinding="rj",t.iteratorBinding="rk",t.textBinding="ha",t.listenerBinding="hb",t.attributeBinding="hc",t.stylePropertyBinding="hd",t.setAttribute="he",t.setClassAttribute="hf",t.setStyleAttribute="hg"}(mw||(mw={}));const ww=xu.createInterface("Instruction");function xw(t){const e=t.type;return"string"==typeof e&&2===e.length}class kw{constructor(t,e){this.from=t,this.to=e}get type(){return"rf"}}class Cw{constructor(t,e,n){this.from=t,this.to=e,this.mode=n}get type(){return"rg"}}class Sw{constructor(t,e){this.from=t,this.to=e}get type(){return"rk"}}class $w{constructor(t,e){this.from=t,this.to=e}get type(){return"rh"}}class Tw{constructor(t,e){this.from=t,this.to=e}get type(){return"rj"}}class Aw{constructor(t,e){this.value=t,this.to=e}get type(){return"re"}}class Ew{constructor(t,e,n,i){this.res=t,this.alias=e,this.instructions=n,this.slotInfo=i}get type(){return"ra"}}class Ow{constructor(t,e,n){this.res=t,this.alias=e,this.instructions=n}get type(){return"rb"}}class Pw{constructor(t,e,n,i){this.def=t,this.res=e,this.alias=n,this.instructions=i}get type(){return"rc"}}class Rw{constructor(t,e){this.instructions=t,this.toBindingContext=e}get type(){return"rd"}}class Iw{constructor(t,e){this.from=t,this.to=e}get type(){return"ri"}}class jw{constructor(t){this.from=t}get type(){return"ha"}}class Fw{constructor(t,e,n,i){this.from=t,this.to=e,this.preventDefault=n,this.strategy=i}get type(){return"hb"}}class Lw{constructor(t,e){this.value=t,this.to=e}get type(){return"he"}}class Nw{constructor(t){this.value=t,this.type="hf"}}class Dw{constructor(t){this.value=t,this.type="hg"}}class Mw{constructor(t,e,n){this.attr=t,this.from=e,this.to=n}get type(){return"hc"}}const Bw=xu.createInterface("ITemplateCompiler"),Vw=xu.createInterface("IRenderer");function Hw(t){return function(e){const n=function(...n){const i=new e(...n);return i.instructionType=t,i};n.register=function(t){Wu.singleton(Vw,n).register(t)};const i=Vh.getOwnKeys(e);for(const t of i)Vh.define(t,Vh.getOwn(t,e),n);const s=Object.getOwnPropertyDescriptors(e);return Object.keys(s).filter((t=>"prototype"!==t)).forEach((t=>{Reflect.defineProperty(n,t,s[t])})),n}}function qw(t,e,n){return"string"==typeof e?t.parse(e,n):e}function Uw(t){return null!=t.viewModel?t.viewModel:t}let zw=class{render(t,e,n,i,s){const o=Uw(i);void 0!==o.$observers&&void 0!==o.$observers[s.to]?o.$observers[s.to].setValue(s.value,2):o[s.to]=s.value}};zw=bw([Hw("re")],zw);let _w=class{render(t,e,n,i,s){var o;let r;const a=s.slotInfo;if(null!==a){const t=a.projectionContext;r=Xb(t.content,e).getViewFactory(void 0,a.type,t.scope)}const l=e.getProjectionFor(s),c=e.getComponentFactory(n,i,s,r,i,new Kb(Object.keys(null!==(o=null==l?void 0:l.projections)&&void 0!==o?o:{}))),h=Cb.keyFrom(s.res),u=c.createComponent(h),d=Oy.forCustomElement(n.root,e,u,i,l,t);t=d.flags,Yy(i,h,d),e.renderChildren(t,s.instructions,n,d),n.addController(d),c.dispose()}};_w=bw([Hw("ra")],_w);let Ww=class{render(t,e,n,i,s){const o=e.getComponentFactory(n,i,s,void 0,void 0),r=Ob.keyFrom(s.res),a=o.createComponent(r),l=Oy.forCustomAttribute(n.root,e,a,i,t);Yy(i,r,l),e.renderChildren(t,s.instructions,n,l),n.addController(l),o.dispose()}};Ww=bw([Hw("rb")],Ww);let Kw=class{render(t,e,n,i,s){var o;const r=Xb(s.def,e).getViewFactory(),a=iw(i),l=e.getComponentFactory(n,i,s,r,a),c=Ob.keyFrom(s.res),h=l.createComponent(c),u=Oy.forCustomAttribute(n.root,e,h,i,t);Yy(a,c,u),null===(o=h.link)||void 0===o||o.call(h,t,e,n,u,i,s),e.renderChildren(t,s.instructions,n,u),n.addController(u),l.dispose()}};Kw=bw([Hw("rc")],Kw);let Gw=class{constructor(t,e){this.parser=t,this.observerLocator=e}render(t,e,n,i,s){i.remove();const o=s.instructions,r=s.toBindingContext;let a,l,c;for(let t=0,i=o.length;t<i;++t)a=o[t],l=qw(this.parser,a.from,48),c=nx(new Ym(l,a.to,this.observerLocator,e,r),l,e),n.addBinding(c)}};Gw=bw([Hw("rd"),yw(0,hf),yw(1,Zv)],Gw);let Qw=class{constructor(t,e){this.parser=t,this.observerLocator=e}render(t,e,n,i,s){const o=qw(this.parser,s.from,153),r=nx(new Rm(o,Uw(i),s.to,this.observerLocator,e),o,e);n.addBinding(r)}};Qw=bw([Hw("rh"),yw(0,hf),yw(1,Zv)],Qw);let Yw=class{constructor(t){this.parser=t}render(t,e,n,i,s){const o=qw(this.parser,s.from,5376),r=nx(new ib(o,function(t,e){if("element"===e)return t;switch(e){case"controller":return Cb.for(t);case"view":throw new Error("Not supported API");case"view-model":return Cb.for(t).viewModel;default:{const n=Ob.for(t,e);if(void 0!==n)return n.viewModel;const i=Cb.for(t,{name:e});if(void 0===i)throw new Error(`Attempted to reference "${e}", but it was not found amongst the target's API.`);return i.viewModel}}}(i,s.to),e),o,e);n.addBinding(r)}};Yw=bw([Hw("rj"),yw(0,hf)],Yw);let Xw=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const o=qw(this.parser,s.from,2048),r=new Km(this.observerLocator,o,Uw(i),s.to,zp.toView,e,this.platform.domWriteQueue),a=r.partBindings,l=a.length;let c,h=0;for(;l>h;++h)c=a[h],a[h]=nx(c,c.sourceExpression,e);n.addBinding(r)}};Xw=bw([Hw("rf"),yw(0,hf),yw(1,Zv),yw(2,Dm)],Xw);let Zw=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const o=qw(this.parser,s.from,48|s.mode),r=nx(new nb(o,Uw(i),s.to,s.mode,this.observerLocator,e,this.platform.domWriteQueue),o,e);n.addBinding(r)}};Zw=bw([Hw("rg"),yw(0,hf),yw(1,Zv),yw(2,Dm)],Zw);let Jw=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const o=qw(this.parser,s.from,539),r=nx(new nb(o,Uw(i),s.to,zp.toView,this.observerLocator,e,this.platform.domWriteQueue),o,e);n.addBinding(r)}};Jw=bw([Hw("rk"),yw(0,hf),yw(1,Zv),yw(2,Dm)],Jw);let tx=0;const ex=[];function nx(t,e,n){for(;e instanceof fp;)ex[tx++]=e,e=e.expression;for(;tx>0;){const e=ex[--tx],i=n.get(e.behaviorKey);i instanceof op&&(t=i.construct(t,e))}return ex.length=0,t}let ix=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const o=i.nextSibling,r=i.parentNode,a=this.platform.document,l=qw(this.parser,s.from,2048),c=l.parts,h=l.expressions,u=h.length;let d=0,p=c[0];for(""!==p&&r.insertBefore(a.createTextNode(p),o);u>d;++d)n.addBinding(nx(new Qm(h[d],r.insertBefore(a.createTextNode(""),o),e,this.observerLocator,this.platform),h[d],e)),p=c[d+1],""!==p&&r.insertBefore(a.createTextNode(p),o);"AU-M"===i.nodeName&&i.remove()}};ix=bw([Hw("ha"),yw(0,hf),yw(1,Zv),yw(2,Dm)],ix);let sx=class{constructor(t,e){this.parser=t,this.eventDelegator=e}render(t,e,n,i,s){const o=qw(this.parser,s.from,80|s.strategy+6),r=nx(new hw(e.platform,s.to,s.strategy,o,i,s.preventDefault,this.eventDelegator,e),o,e);n.addBinding(r)}};sx=bw([Hw("hb"),yw(0,hf),yw(1,fw)],sx);let ox=class{render(t,e,n,i,s){i.setAttribute(s.to,s.value)}};ox=bw([Hw("he")],ox);let rx=class{render(t,e,n,i,s){!function(t,e){const n=e.length;let i=0;for(let s=0;s<n;++s)32===e.charCodeAt(s)?(s!==i&&t.add(e.slice(i,s)),i=s+1):s+1===n&&t.add(e.slice(i))}(i.classList,s.value)}};rx=bw([Hw("hf")],rx);let ax=class{render(t,e,n,i,s){i.style.cssText+=s.value}};ax=bw([Hw("hg")],ax);let lx=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const o=qw(this.parser,s.from,48|zp.toView),r=nx(new nb(o,i.style,s.to,zp.toView,this.observerLocator,e,this.platform.domWriteQueue),o,e);n.addBinding(r)}};lx=bw([Hw("hd"),yw(0,hf),yw(1,Zv),yw(2,Dm)],lx);let cx=class{constructor(t,e){this.parser=t,this.observerLocator=e}render(t,e,n,i,s){const o=qw(this.parser,s.from,48|zp.toView),r=nx(new zm(o,i,s.attr,s.to,zp.toView,this.observerLocator,e),o,e);n.addBinding(r)}};var hx;function ux(t){const e=t.document.createElement("au-m");return e.className="au",e}cx=bw([Hw("hc"),yw(0,hf),yw(1,Zv)],cx),function(t){t[t.type=1023]="type",t[t.isTemplateController=1]="isTemplateController",t[t.isProjection=2]="isProjection",t[t.isCustomAttribute=4]="isCustomAttribute",t[t.isPlainAttribute=8]="isPlainAttribute",t[t.isCustomElement=16]="isCustomElement",t[t.isLetElement=32]="isLetElement",t[t.isPlainElement=64]="isPlainElement",t[t.isText=128]="isText",t[t.isBinding=256]="isBinding",t[t.isAuSlot=512]="isAuSlot",t[t.hasMarker=1024]="hasMarker",t[t.hasTemplate=2048]="hasTemplate",t[t.hasAttributes=4096]="hasAttributes",t[t.hasBindings=8192]="hasBindings",t[t.hasChildNodes=16384]="hasChildNodes",t[t.hasProjections=32768]="hasProjections"}(hx||(hx={}));class dx{constructor(t,e,n,i=n.name){this.syntax=e,this.info=n,this.res=i,this.flags=1025,this.physicalNode=null,this.template=null,this.templateController=null,this._bindings=null,this.marker=ux(t)}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class px{constructor(t,e){this.name=t,this.template=e,this.flags=2}}class gx{constructor(t,e,n=e.name){this.syntax=t,this.info=e,this.res=n,this.flags=4,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class fx{constructor(t,e,n){this.syntax=t,this.command=e,this.expression=n,this.flags=8}}class vx{constructor(t,e,n,i,s){this.command=t,this.bindable=e,this.expression=n,this.rawValue=i,this.target=s,this.flags=256}}class mx{constructor(t,e,n,i=n.name,s=n.bindables){this.physicalNode=e,this.info=n,this.res=i,this.bindables=s,this.flags=16,this.isTarget=!0,this.templateController=null,this._customAttributes=null,this._plainAttributes=null,this._bindings=null,this._childNodes=null,this._projections=null,n.containerless?(this.isContainerless=!0,this.marker=ux(t),this.flags|=1024):(this.isContainerless=!1,this.marker=null)}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}get projections(){return null===this._projections&&(this._projections=[],this.flags|=32768),this._projections}}class bx{constructor(t,e,n=ux(t)){this.physicalNode=e,this.marker=n,this.flags=1056,this.toBindingContext=!1,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class yx{constructor(t){this.physicalNode=t,this.flags=64,this.isTarget=!1,this.templateController=null,this.hasSlots=!1,this._customAttributes=null,this._plainAttributes=null,this._childNodes=null}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}}class wx{constructor(t,e,n,i=ux(t)){this.physicalNode=e,this.interpolation=n,this.marker=i,this.flags=1152}}class xx{constructor(t,e){this.propName=t,this.mode=e}}const kx=new WeakMap;class Cx{constructor(t,e,n){this.name=t,this.alias=e,this.containerless=n,this.bindables=Object.create(null)}static from(t,e){if(null===t)return null;let n=kx.get(t);void 0===n&&kx.set(t,n=Object.create(null));let i=n[e];if(void 0===i){i=n[e]=new Cx(t.name,e===t.name?void 0:e,t.containerless);const s=t.bindables,o=zp.toView;let r,a,l,c;for(a in s)r=s[a],void 0!==r.property&&(a=r.property),l=void 0!==r.attribute?r.attribute:Xh(a),c=void 0!==r.mode&&r.mode!==zp.default?r.mode:o,i.bindables[l]=new xx(a,c)}return i}}const Sx=new WeakMap;class $x{constructor(t,e,n,i){this.name=t,this.alias=e,this.isTemplateController=n,this.noMultiBindings=i,this.bindables=Object.create(null),this.bindable=null}static from(t,e){if(null===t)return null;let n=Sx.get(t);void 0===n&&Sx.set(t,n=Object.create(null));let i=n[e];if(void 0===i){i=n[e]=new $x(t.name,e===t.name?void 0:e,t.isTemplateController,t.noMultiBindings);const s=t.bindables,o=void 0!==t.defaultBindingMode&&t.defaultBindingMode!==zp.default?t.defaultBindingMode:zp.toView;let r,a,l,c,h=!1,u=!1;for(a in s){if(r=s[a],void 0!==r.property&&(a=r.property),l=void 0!==r.mode&&r.mode!==zp.default?r.mode:o,u=!0===r.primary,c=i.bindables[a]=new xx(a,l),u){if(h)throw new Error("primary already exists");h=!0,i.bindable=c}null===i.bindable&&(i.bindable=c)}null===i.bindable&&(i.bindable=new xx("value",o))}return i}}var Tx=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};function Ax(t){return function(e){return Ox.define(t,e)}}class Ex{constructor(t,e,n,i,s){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.type=s}static create(t,e){let n,i;return"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t),new Ex(e,su(Ox.getAnnotation(e,"name"),n),iu(Ox.getAnnotation(e,"aliases"),i.aliases,e.aliases),Ox.keyFrom(n),su(Ox.getAnnotation(e,"type"),i.type,e.type,null))}register(t){const{Type:e,key:n,aliases:i}=this;Wu.singleton(n,e).register(t),Wu.aliasTo(n,e).register(t),Gd(i,Ox,n,t)}}const Ox={name:du.resource.keyFor("binding-command"),keyFrom:t=>`${Ox.name}:${t}`,isType:t=>"function"==typeof t&&Vh.hasOwn(Ox.name,t),define(t,e){const n=Ex.create(t,e);return Vh.define(Ox.name,n,n.Type),Vh.define(Ox.name,n,n),du.resource.appendTo(e,Ox.name),n.Type},getDefinition(t){const e=Vh.getOwn(Ox.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){Vh.define(du.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>Vh.getOwn(du.annotation.keyFor(e),t)};function Px(t,e){return 256&t.flags?t.bindable.propName:e?Qh(t.syntax.target):t.syntax.target}let Rx=class{constructor(){this.bindingType=49}compile(t){return new Cw(t.expression,Px(t,!1),zp.oneTime)}};Rx=Tx([Ax("one-time")],Rx);let Ix=class{constructor(){this.bindingType=50}compile(t){return new Cw(t.expression,Px(t,!1),zp.toView)}};Ix=Tx([Ax("to-view")],Ix);let jx=class{constructor(){this.bindingType=51}compile(t){return new Cw(t.expression,Px(t,!1),zp.fromView)}};jx=Tx([Ax("from-view")],jx);let Fx=class{constructor(){this.bindingType=52}compile(t){return new Cw(t.expression,Px(t,!1),zp.twoWay)}};Fx=Tx([Ax("two-way")],Fx);let Lx=class{constructor(){this.bindingType=53}compile(t){let e=zp.default;if(t instanceof vx)e=t.bindable.mode;else switch(t.syntax.command){case"bind":case"to-view":e=zp.toView;break;case"one-time":e=zp.oneTime;break;case"from-view":e=zp.fromView;break;case"two-way":e=zp.twoWay}return new Cw(t.expression,Px(t,!1),e===zp.default?zp.toView:e)}};Lx=Tx([Ax("bind")],Lx);let Nx=class{constructor(){this.bindingType=153}compile(t){return new $w(t.expression,Px(t,!0))}};Nx=Tx([Ax("call")],Nx);let Dx=class{constructor(){this.bindingType=539}compile(t){return new Sw(t.expression,Px(t,!1))}};Dx=Tx([Ax("for")],Dx);let Mx=class{constructor(){this.bindingType=4182}compile(t){return new Fw(t.expression,Px(t,!1),!0,Kp.none)}};Mx=Tx([Ax("trigger")],Mx);let Bx=class{constructor(){this.bindingType=4184}compile(t){return new Fw(t.expression,Px(t,!1),!1,Kp.bubbling)}};Bx=Tx([Ax("delegate")],Bx);let Vx=class{constructor(){this.bindingType=4183}compile(t){return new Fw(t.expression,Px(t,!1),!1,Kp.capturing)}};Vx=Tx([Ax("capture")],Vx);let Hx=class{constructor(){this.bindingType=32}compile(t){const e=Px(t,!1);return new Mw(e,t.expression,e)}};Hx=Tx([Ax("attr")],Hx);let qx=class{constructor(){this.bindingType=4128}compile(t){return new Mw("style",t.expression,Px(t,!1))}};qx=Tx([Ax("style")],qx);let Ux=class{constructor(){this.bindingType=4128}compile(t){return new Mw("class",t.expression,Px(t,!1))}};Ux=Tx([Ax("class")],Ux);let zx=class{constructor(){this.bindingType=4128}compile(t){return new Tw(t.expression,Px(t,!1))}};zx=Tx([Ax("ref")],zx);const _x=Kx();function Wx(t,e,n){if(!0===_x[e])return!0;if("string"!=typeof e)return!1;const i=e.slice(0,5);return _x[e]="aria-"===i||"data-"===i||n.isStandardSvgAttribute(t,e)}function Kx(){return Object.create(null)}const Gx=xu.createInterface("ISVGAnalyzer",(t=>t.singleton(Qx)));class Qx{isStandardSvgAttribute(t,e){return!1}}function Yx(t){const e=Object.create(null);for(const n of t)e[n]=!0;return e}class Xx{constructor(t){this.svgElements=Object.assign(Object.create(null),{a:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),altGlyph:Yx(["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),altglyph:Object.create(null),altGlyphDef:Yx(["id","xml:base","xml:lang","xml:space"]),altglyphdef:Object.create(null),altGlyphItem:Yx(["id","xml:base","xml:lang","xml:space"]),altglyphitem:Object.create(null),animate:Yx(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateColor:Yx(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateMotion:Yx(["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateTransform:Yx(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),circle:Yx(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),clipPath:Yx(["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),"color-profile":Yx(["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),cursor:Yx(["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),defs:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),desc:Yx(["class","id","style","xml:base","xml:lang","xml:space"]),ellipse:Yx(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),feBlend:Yx(["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feColorMatrix:Yx(["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"]),feComponentTransfer:Yx(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feComposite:Yx(["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feConvolveMatrix:Yx(["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"]),feDiffuseLighting:Yx(["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feDisplacementMap:Yx(["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"]),feDistantLight:Yx(["azimuth","elevation","id","xml:base","xml:lang","xml:space"]),feFlood:Yx(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feFuncA:Yx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncB:Yx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncG:Yx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncR:Yx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feGaussianBlur:Yx(["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"]),feImage:Yx(["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),feMerge:Yx(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feMergeNode:Yx(["id","xml:base","xml:lang","xml:space"]),feMorphology:Yx(["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feOffset:Yx(["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),fePointLight:Yx(["id","x","xml:base","xml:lang","xml:space","y","z"]),feSpecularLighting:Yx(["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feSpotLight:Yx(["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"]),feTile:Yx(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feTurbulence:Yx(["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"]),filter:Yx(["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),font:Yx(["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),"font-face":Yx(["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"]),"font-face-format":Yx(["id","string","xml:base","xml:lang","xml:space"]),"font-face-name":Yx(["id","name","xml:base","xml:lang","xml:space"]),"font-face-src":Yx(["id","xml:base","xml:lang","xml:space"]),"font-face-uri":Yx(["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),foreignObject:Yx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),g:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),glyph:Yx(["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),glyphRef:Yx(["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),glyphref:Object.create(null),hkern:Yx(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]),image:Yx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),line:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"]),linearGradient:Yx(["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"]),marker:Yx(["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"]),mask:Yx(["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"]),metadata:Yx(["id","xml:base","xml:lang","xml:space"]),"missing-glyph":Yx(["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),mpath:Yx(["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),path:Yx(["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),pattern:Yx(["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),polygon:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),polyline:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),radialGradient:Yx(["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),rect:Yx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),script:Yx(["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),set:Yx(["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),stop:Yx(["class","id","offset","style","xml:base","xml:lang","xml:space"]),style:Yx(["id","media","title","type","xml:base","xml:lang","xml:space"]),svg:Yx(["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"]),switch:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),symbol:Yx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"]),text:Yx(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"]),textPath:Yx(["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),title:Yx(["class","id","style","xml:base","xml:lang","xml:space"]),tref:Yx(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),tspan:Yx(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"]),use:Yx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),view:Yx(["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"]),vkern:Yx(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"])}),this.svgPresentationElements=Yx(["a","altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"]),this.svgPresentationAttributes=Yx(["alignment-baseline","baseline-shift","clip-path","clip-rule","clip","color-interpolation-filters","color-interpolation","color-profile","color-rendering","color","cursor","direction","display","dominant-baseline","enable-background","fill-opacity","fill-rule","fill","filter","flood-color","flood-opacity","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","text-rendering","unicode-bidi","visibility","word-spacing","writing-mode"]),this.SVGElement=t.globalThis.SVGElement;const e=t.document.createElement("div");if(e.innerHTML="<svg><altGlyph /></svg>","altglyph"===e.firstElementChild.nodeName){const t=this.svgElements;let e=t.altGlyph;t.altGlyph=t.altglyph,t.altglyph=e,e=t.altGlyphDef,t.altGlyphDef=t.altglyphdef,t.altglyphdef=e,e=t.altGlyphItem,t.altGlyphItem=t.altglyphitem,t.altglyphitem=e,e=t.glyphRef,t.glyphRef=t.glyphref,t.glyphref=e}}static register(t){return Wu.singleton(Gx,this).register(t)}isStandardSvgAttribute(t,e){var n;return t instanceof this.SVGElement&&(!0===this.svgPresentationElements[t.nodeName]&&!0===this.svgPresentationAttributes[e]||!0===(null===(n=this.svgElements[t.nodeName])||void 0===n?void 0:n[e]))}}Xx.inject=[Dm];const Zx=xu.createInterface("IAttrSyntaxTransformer",(t=>t.singleton(Jx)));class Jx{constructor(t){this.svg=t,this.fns=[],this.tagAttrMap=Kx(),this.globalAttrMap=Kx(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[Gx]}useMapping(t){var e,n;let i,s,o,r;for(o in t)for(r in i=t[o],s=null!==(e=(n=this.tagAttrMap)[o])&&void 0!==e?e:n[o]=Kx(),i){if(void 0!==s[r])throw tk(r,o);s[r]=i[r]}}useGlobalMapping(t){const e=this.globalAttrMap;for(const n in t){if(void 0!==e[n])throw tk(n,"*");e[n]=t[n]}}useTwoWay(t){this.fns.push(t)}transform(t,e){var n,i,s;"bind"===e.command&&(function(t,e){switch(t.tagName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e.target)||this.fns.length>0&&this.fns.some((n=>n(t,e.target))))&&(e.command="two-way");const o=e.target;e.target=null!==(s=null!==(i=null===(n=this.tagAttrMap[t.tagName])||void 0===n?void 0:n[o])&&void 0!==i?i:this.globalAttrMap[o])&&void 0!==s?s:Wx(t,o,this.svg)?o:Qh(o)}}function tk(t,e){return new Error(`Attribute ${t} has been already registered for ${"*"===e?"all elements":`<${e}/>`}`)}const ek=Object.assign(Object.create(null),{id:!0,"au-slot":!0}),nk=Object.assign(Object.create(null),{"as-element":!0});function ik(t){const e=t.length;let n=0;for(let i=0;i<e;++i)if(n=t.charCodeAt(i),92===n)++i;else{if(58===n)return!0;if(36===n&&123===t.charCodeAt(i+1))return!1}return!1}function sk(t,e){return t!==e}var ok;!function(t){t[t.none=0]="none",t[t.remove=1]="remove"}(ok||(ok={}));class rk{constructor(t,e,n,i,s){this.platform=t,this.container=e,this.attrParser=n,this.exprParser=i,this.attrSyntaxTransformer=s,this.commandLookup=Object.create(null)}bind(t){const e=new yx(t),n=t.attributes;let i,s,o=0,r=null,a=null;for(;o<n.length;){if(i=n[o],s=this.attrParser.parse(i.name,i.value),!0===ek[s.target])throw new Error(`Invalid surrogate attribute: ${s.target}`);if(r=this.getBindingCommand(s,!0),null===r||0==(4096&r.bindingType))if(a=$x.from(this.container.find(Ob,s.target),s.target),null===a)this.bindPlainAttribute(t,s,i,e,e);else{if(a.isTemplateController)throw new Error("Cannot have template controller on surrogate element.");this.bindCustomAttribute(s,a,r,e)}else this.bindPlainAttribute(t,s,i,e,e);++o}return this.bindChildNodes(t,e,e,null,null),e}bindManifest(t,e,n,i,s,o){var r,a,l,c;switch(e.nodeName){case"LET":return void this.bindLetElement(t,e);case"SLOT":n.hasSlots=!0}let h=e.getAttribute("as-element");null===h&&(h=e.nodeName.toLowerCase());const u="au-slot"===h,d=this.container.find(Cb,h),p=Cx.from(d,h);let g=!0;if(null===p)i=new yx(e);else{g=null===(l=null===(a=null===(r=null==d?void 0:d.processContent)||void 0===r?void 0:r.bind(d.Type))||void 0===a?void 0:a(e,this.platform))||void 0===l||l,o=s;const t=new mx(this.platform,e,p);u&&(t.flags=512,t.slotName=null!==(c=e.getAttribute("name"))&&void 0!==c?c:"default"),s=i=t}g&&this.bindChildNodes(e,n,i,s,o),this.bindAttributes(e,t,n,i,s,o),s===i&&i.isContainerless?e.parentNode.replaceChild(i.marker,e):i.isTarget&&e.classList.add("au")}bindLetElement(t,e){const n=new bx(this.platform,e);t.childNodes.push(n);const i=e.attributes;let s=0;for(;s<i.length;){const t=i[s];if("to-binding-context"===t.name){e.removeAttribute("to-binding-context"),n.toBindingContext=!0;continue}const o=this.attrParser.parse(t.name,t.value),r=this.getBindingCommand(o,!1),a=null===r?2048:r.bindingType,l=this.exprParser.parse(o.rawValue,a),c=Qh(o.target),h=new xx(c,zp.toView);n.bindings.push(new vx(r,h,l,o.rawValue,c)),++s}e.parentNode.replaceChild(n.marker,e)}bindAttributes(t,e,n,i,s,o){var r,a,l;let c,h,u=i;const d=t.attributes;let p,g,f,v=0,m=null,b=null;for(;v<d.length;)p=d[v],++v,!0!==nk[p.name]&&(f=this.attrParser.parse(p.name,p.value),m=this.getBindingCommand(f,!0),null===m||0==(4096&m.bindingType)?(b=$x.from(this.container.find(Ob,f.target),f.target),null===b?(g=this.bindPlainAttribute(t,f,p,n,i),1===g&&(t.removeAttributeNode(p),--v)):b.isTemplateController?(h=i.templateController=this.declareTemplateController(f,b),u===i?(h.template=i,u=h):(h.templateController=c,h.template=c.template,c.template=h),c=h):this.bindCustomAttribute(f,b,m,i)):(g=this.bindPlainAttribute(t,f,p,n,i),1===g&&(t.removeAttributeNode(p),--v)));if("INPUT"===t.tagName){const e=t.type;"checkbox"!==e&&"radio"!==e||this.ensureAttributeOrder(i)}let y=t.getAttribute("au-slot");""===y&&(y="default");const w=null!==y;if(w&&sk(u,i))throw new Error(`Unsupported usage of [au-slot="${y}"] along with a template controller (if, else, repeat.for etc.) found (example: <some-el au-slot if.bind="true"></some-el>).`);const x=null!==(a=null===(r=t.parentElement)||void 0===r?void 0:r.getAttribute("as-element"))&&void 0!==a?a:null===(l=t.parentNode)||void 0===l?void 0:l.nodeName.toLowerCase();if(w&&(null===s||void 0===x||null===this.container.find(Cb,x)))throw new Error(`Unsupported usage of [au-slot="${y}"]. It seems that projection is attempted, but not for a custom element.`);!function(t,e,n){const i=n.physicalNode;let s,o=e;for(;sk(o,n);)o.template===n?(i.parentNode.replaceChild(o.marker,i),"TEMPLATE"===i.nodeName?(o.physicalNode=i,i.remove()):(s=o.physicalNode=t.document.createElement("template"),s.content.appendChild(i))):(s=o.physicalNode=t.document.createElement("template"),s.content.appendChild(o.marker)),i.removeAttribute(o.syntax.rawName),o=o.template}(this.platform,u,i);const k=i===s?o:s;w&&null!==k?w&&(k.projections.push(new px(y,u)),t.removeAttribute("au-slot"),t.remove()):e.childNodes.push(u)}ensureAttributeOrder(t){const e=t.plainAttributes;let n,i,s=0;for(let t=0;t<e.length&&s<3;t++)switch(e[t].syntax.target){case"model":case"value":case"matcher":n=t,s++;break;case"checked":i=t,s++}void 0!==i&&void 0!==n&&i<n&&([e[n],e[i]]=[e[i],e[n]])}bindChildNodes(t,e,n,i,s){let o,r;for(o="TEMPLATE"===t.nodeName?t.content.firstChild:t.firstChild;null!==o;)switch(o.nodeType){case 1:r=o.nextSibling,this.bindManifest(n,o,e,n,i,s),o=r;break;case 3:o=this.bindText(o,n).nextSibling;break;case 4:case 7:case 8:case 10:o=o.nextSibling;break;case 9:case 11:o=o.firstChild}}bindText(t,e){const n=this.exprParser.parse(t.wholeText,2048);if(null!==n){const i=new wx(this.platform,t,n);e.childNodes.push(i),function(t){const e=t.physicalNode,n=e.parentNode;for(;null!==e.nextSibling&&3===e.nextSibling.nodeType;)n.removeChild(e.nextSibling);e.textContent="",n.insertBefore(t.marker,e)}(i)}let i=t;for(;null!==i.nextSibling&&3===i.nextSibling.nodeType;)i=i.nextSibling;return i}declareTemplateController(t,e){let n;const i=t.rawValue,s=this.getBindingCommand(t,!1);if(!1===e.noMultiBindings&&null===s&&ik(i))n=new dx(this.platform,t,e),this.bindMultiAttribute(n,e,i);else{n=new dx(this.platform,t,e);const o=null===s?2048:s.bindingType,r=this.exprParser.parse(i,o);n.bindings.push(new vx(s,e.bindable,r,i,t.target))}return n}bindCustomAttribute(t,e,n,i){let s;const o=t.rawValue;if(!1===e.noMultiBindings&&null===n&&ik(o))s=new gx(t,e),this.bindMultiAttribute(s,e,o);else{s=new gx(t,e);const i=null===n?2048:n.bindingType,r=this.exprParser.parse(o,i);s.bindings.push(new vx(n,e.bindable,r,o,t.target))}i.customAttributes.push(s),i.isTarget=!0}bindMultiAttribute(t,e,n){const i=e.bindables,s=n.length;let o,r,a=0,l=0;for(let e=0;e<s;++e)if(l=n.charCodeAt(e),92===l)++e;else if(58===l){for(o=n.slice(a,e);n.charCodeAt(++e)<=32;);for(a=e;e<s;++e)if(l=n.charCodeAt(e),92===l)++e;else if(59===l){r=n.slice(a,e);break}void 0===r&&(r=n.slice(a));const c=this.attrParser.parse(o,r),h=Qh(c.target),u=this.getBindingCommand(c,!1),d=null===u?2048:u.bindingType,p=this.exprParser.parse(r,d);let g=i[h];for(void 0===g&&(g=i[h]=new xx(h,zp.toView)),t.bindings.push(new vx(u,g,p,r,h));e<s&&n.charCodeAt(++e)<=32;);a=e,o=void 0,r=void 0}}bindPlainAttribute(t,e,n,i,s){const o=e.target,r=e.rawValue,a=this.getBindingCommand(e,!1),l=null===a?2048:a.bindingType;let c,h=!1;if((16&s.flags)>0){const t=s.bindables[o];if(null!=t){const e=0===r.length&&(55&l)>0?Qh(o):r;return c=this.exprParser.parse(e,l),s.bindings.push(new vx(a,t,c,r,o)),h=2048===l&&null!=c,s.isTarget=!0,h?1:0}}return c=this.exprParser.parse(r,l),h=2048===l&&null!=c,0==(4096&l)&&this.attrSyntaxTransformer.transform(t,e),null!=c?(s.plainAttributes.push(new fx(e,a,c)),s.isTarget=!0):s===i&&s.plainAttributes.push(new fx(e,a,c)),h?1:0}getBindingCommand(t,e){const n=t.command;if(null===n)return null;let i=this.commandLookup[n];if(void 0===i){if(i=this.container.create(Ox,n),null===i){if(e)return null;throw new Error(`Unknown binding command: ${n}`)}this.commandLookup[n]=i}return i}}const ak=xu.createInterface("ITemplateElementFactory",(t=>t.singleton(ck))),lk={};let ck=class{constructor(t){this.p=t,this.template=t.document.createElement("template")}createTemplate(t){var e;if("string"==typeof t){let e=lk[t];if(void 0===e){const n=this.template;n.innerHTML=t;const i=n.content.firstElementChild;null==i||"TEMPLATE"!==i.nodeName||null!=i.nextElementSibling?(this.template=this.p.document.createElement("template"),e=n):(n.content.removeChild(i),e=i),lk[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.p.document.createElement("template");return e.content.appendChild(t),e}return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.cloneNode(!0)}};ck=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([function(t,e){return function(n,i){e(n,i,t)}}(0,Dm)],ck);var hk,uk=function(t,e){return function(n,i){e(n,i,t)}};class dk{constructor(t,e,n){this.partialDefinition=t,this.surrogate=e,this.template=n,this.instructions=[],this.surrogates=[],this.projectionsMap=new Map}toDefinition(){const t=this.partialDefinition;return xb.create({...t,instructions:iu(t.instructions,this.instructions),surrogates:iu(t.surrogates,this.surrogates),template:this.template,needsCompile:!1,hasSlots:this.surrogate.hasSlots,projectionsMap:this.projectionsMap})}}!function(t){t.property="property",t.attribute="attribute",t.mode="mode"}(hk||(hk={}));const pk=Object.freeze(["property","attribute","mode"]),gk="as-custom-element";let fk=class{constructor(t,e,n,i,s,o){this.factory=t,this.attrParser=e,this.exprParser=n,this.attrSyntaxModifier=i,this.p=o,this.logger=s.scopeTo("TemplateCompiler")}get name(){return"default"}static register(t){return Wu.singleton(Bw,this).register(t)}compile(t,e,n){const i=xb.getOrCreate(t);if(null===i.template||void 0===i.template)return i;const{attrParser:s,exprParser:o,attrSyntaxModifier:r,factory:a}=this,l=e.get(Dm),c=new rk(l,e,s,o,r),h=!0===i.enhance?i.template:a.createTemplate(i.template);!function(t,e,n,i,s){let o;if("TEMPLATE"===t.nodeName){if(t.hasAttribute(gk))throw new Error("The root cannot be a local template itself.");o=t.content}else o=t;const r=Zh(o.querySelectorAll("template[as-custom-element]")),a=r.length;if(0===a)return;if(a===o.childElementCount)throw new Error("The custom element does not have any content other than local template(s).");const l=new Set;for(const t of r){if(t.parentNode!==o)throw new Error("Local templates needs to be defined directly under root.");const i=vk(t,l),r=class{},a=t.content,c=Zh(a.querySelectorAll("bindable")),h=rm.for(r),u=new Set,d=new Set;for(const t of c){if(t.parentNode!==a)throw new Error("Bindable properties of local templates needs to be defined directly under root.");const e=t.getAttribute("property");if(null===e)throw new Error(`The attribute 'property' is missing in ${t.outerHTML}`);const n=t.getAttribute("attribute");if(null!==n&&d.has(n)||u.has(e))throw new Error(`Bindable property and attribute needs to be unique; found property: ${e}, attribute: ${n}`);null!==n&&d.add(n),u.add(e),h.add({property:e,attribute:null!=n?n:void 0,mode:mk(t)});const i=t.getAttributeNames().filter((t=>!pk.includes(t)));i.length>0&&s.warn(`The attribute(s) ${i.join(", ")} will be ignored for ${t.outerHTML}. Only ${pk.join(", ")} are processed.`),a.removeChild(t)}const p=Cb.define({name:i,template:t},r);e.dependencies.push(p),n.register(p),o.removeChild(t)}}(h,i,e,0,this.logger);const u=c.bind(h),d=this.compilation=new dk(i,u,h),p=u.customAttributes,g=u.plainAttributes,f=p.length,v=g.length;if(f+v>0){let t=0;for(let e=0;f>e;++e)d.surrogates[t]=this.compileCustomAttribute(p[e]),t++;for(let e=0;e<v;++e)d.surrogates[t]=this.compilePlainAttribute(g[e],!0),t++}this.compileChildNodes(u,d.instructions,d.projectionsMap,n);const m=d.toDefinition();return this.compilation=null,m}compileChildNodes(t,e,n,i){if((16384&t.flags)>0){const s=t.childNodes,o=s.length;let r;for(let t=0;t<o;++t)if(r=s[t],(128&r.flags)>0)e.push([new jw(r.interpolation)]);else if((32&r.flags)>0){const t=r.bindings,n=[];let i;const s=t.length;for(let e=0;e<s;++e)i=t[e],n[e]=new Iw(i.expression,i.target);e.push([new Rw(n,r.toBindingContext)])}else this.compileParentNode(r,e,n,i)}}compileCustomElement(t,e,n,i){var s;const o=(512&t.flags)>0,r=this.compileAttributes(t,1),a=t.slotName;let l=null;if(o){const e=null===(s=null==i?void 0:i.projections)||void 0===s?void 0:s[a];l=void 0!==e?new Bb(a,Mb.Projection,new Vb(e,null==i?void 0:i.scope)):new Bb(a,Mb.Fallback,new Vb(this.compileProjectionFallback(t,n,i)))}const c=r[0]=new Ew(t.res,t.info.alias,this.compileBindings(t),l),h=this.compileProjections(t,n,i);null!==h&&n.set(c,h),e.push(r),o||this.compileChildNodes(t,e,n,i)}compilePlainElement(t,e,n,i){const s=this.compileAttributes(t,0);s.length>0&&e.push(s),this.compileChildNodes(t,e,n,i)}compileParentNode(t,e,n,i){switch(1023&t.flags){case 16:case 512:this.compileCustomElement(t,e,n,i);break;case 64:this.compilePlainElement(t,e,n,i);break;case 1:this.compileTemplateController(t,e,n,i)}}compileTemplateController(t,e,n,i){var s;const o=this.compileBindings(t),r=[];this.compileParentNode(t.template,r,n,i);const a=xb.create({name:null!==(s=t.info.alias)&&void 0!==s?s:t.info.name,template:t.physicalNode,instructions:r,needsCompile:!1});e.push([new Pw(a,t.res,t.info.alias,o)])}compileBindings(t){let e;if((8192&t.flags)>0){const{bindings:n}=t,i=n.length;e=Array(i);let s=0;for(;s<i;++s)e[s]=this.compileBinding(n[s])}else e=Xu;return e}compileBinding(t){return null===t.command?null===t.expression?new Aw(t.rawValue,t.bindable.propName):new kw(t.expression,t.bindable.propName):t.command.compile(t)}compileAttributes(t,e){let n;if((4096&t.flags)>0){const i=t.customAttributes,s=t.plainAttributes,o=i.length,r=s.length;n=Array(e+o+r);for(let t=0;o>t;++t)n[e]=this.compileCustomAttribute(i[t]),e++;for(let t=0;r>t;++t)n[e]=this.compilePlainAttribute(s[t],!1),e++}else n=e>0?Array(e):Xu;return n}compileCustomAttribute(t){const e=this.compileBindings(t);return new Ow(t.res,t.info.alias,e)}compilePlainAttribute(t,e){if(null===t.command){const n=t.syntax;if(null===t.expression){const t=n.rawValue;if(e)switch(n.target){case"class":return new Nw(t);case"style":return new Dw(t)}return new Lw(t,n.target)}return new kw(t.expression,n.target)}return t.command.compile(t)}compileProjections(t,e,n){if(0==(32768&t.flags))return null;const i=this.p,s=Object.create(null),o=t.projections,r=o.length;for(let t=0;t<r;++t){const r=o[t],a=r.name,l=[];this.compileParentNode(r.template,l,e,n);const c=s[a];if(void 0===c){let t=r.template.physicalNode;if("TEMPLATE"!==t.tagName){const e=i.document.createElement("template");e.content.appendChild(t),t=e}s[a]=xb.create({name:a,template:t,instructions:l,needsCompile:!1})}else c.template.content.appendChild(r.template.physicalNode),c.instructions.push(...l)}return s}compileProjectionFallback(t,e,n){const i=[];this.compileChildNodes(t,i,e,n);const s=this.p.document.createElement("template");return s.content.append(...Zh(t.physicalNode.childNodes)),xb.create({name:Cb.generateName(),template:s,instructions:i,needsCompile:!1})}};function vk(t,e){const n=t.getAttribute(gk);if(null===n||""===n)throw new Error('The value of "as-custom-element" attribute cannot be empty for local template');if(e.has(n))throw new Error(`Duplicate definition of the local template named ${n}`);return e.add(n),t.removeAttribute(gk),n}function mk(t){switch(t.getAttribute("mode")){case"oneTime":return zp.oneTime;case"toView":return zp.toView;case"fromView":return zp.fromView;case"twoWay":return zp.twoWay;case"default":default:return zp.default}}fk=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([uk(0,ak),uk(1,km),uk(2,hf),uk(3,Zx),uk(4,Sd),uk(5,Dm)],fk);class bk{constructor(t){this.mode=t,this.originalModes=new Map}bind(t,e,n,i){this.originalModes.set(i,i.mode),i.mode=this.mode}unbind(t,e,n,i){i.mode=this.originalModes.get(i),this.originalModes.delete(i)}}class yk extends bk{constructor(){super(zp.oneTime)}}class wk extends bk{constructor(){super(zp.toView)}}class xk extends bk{constructor(){super(zp.fromView)}}class kk extends bk{constructor(){super(zp.twoWay)}}ip("oneTime")(yk),ip("toView")(wk),ip("fromView")(xk),ip("twoWay")(kk);class Ck extends rp{constructor(t,e){super(t,e),this.opts={delay:0},this.firstArg=null,this.task=null,this.taskQueue=t.locator.get(td).taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.queueTask((()=>this.binding.callSource(t)))}handleChange(t,e,n){null!==this.task&&(this.task.cancel(),this.task=null),this.binding.handleChange(t,e,n)}updateSource(t,e){this.queueTask((()=>this.binding.updateSource(t,e)))}queueTask(t){const e=this.task;this.task=this.taskQueue.queueTask((()=>(this.task=null,t())),this.opts),null==e||e.cancel()}$bind(t,e,n){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(t,e,n,this.locator,null));this.opts.delay=isNaN(i)?200:i}this.binding.$bind(t,e,n)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.binding.$unbind(t)}}ip("debounce")(Ck);let Sk=class{constructor(t){this.signaler=t,this.lookup=new Map}bind(t,e,n,i,...s){if(!("handleChange"in i))throw new Error("The signal behavior can only be used with bindings that have a 'handleChange' method");if(0===s.length)throw new Error("At least one signal name must be passed to the signal behavior, e.g. `expr & signal:'my-signal'`");this.lookup.set(i,s);for(const t of s)this.signaler.addSignalListener(t,i)}unbind(t,e,n,i){const s=this.lookup.get(i);this.lookup.delete(i);for(const t of s)this.signaler.removeSignalListener(t,i)}};Sk=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([function(t,e){return function(n,i){e(n,i,t)}}(0,tp)],Sk),ip("signal")(Sk);class $k extends rp{constructor(t,e){super(t,e),this.opts={delay:0},this.firstArg=null,this.task=null,this.lastCall=0,this.delay=0,this.platform=t.locator.get(td),this.taskQueue=this.platform.taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.queueTask((()=>this.binding.callSource(t)))}handleChange(t,e,n){null!==this.task&&(this.task.cancel(),this.task=null,this.lastCall=this.platform.performanceNow()),this.binding.handleChange(t,e,n)}updateSource(t,e){this.queueTask((()=>this.binding.updateSource(t,e)))}queueTask(t){const e=this.opts,n=this.platform,i=this.lastCall+e.delay-n.performanceNow();if(i>0){const s=this.task;e.delay=i,this.task=this.taskQueue.queueTask((()=>{this.lastCall=n.performanceNow(),this.task=null,e.delay=this.delay,t()}),e),null==s||s.cancel()}else this.lastCall=n.performanceNow(),t()}$bind(t,e,n){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(t,e,n,this.locator,null));this.opts.delay=this.delay=isNaN(i)?200:i}this.binding.$bind(t,e,n)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,super.$unbind(t)}}ip("throttle")($k);const Tk=new class{constructor(){this.propertyKey="",this.currentValue=null,this.type=6}getValue(t,e){return t.getAttribute(e)}setValue(t,e,n,i){null==t?n.removeAttribute(i):n.setAttribute(i,t)}};let Ak=class{bind(t,e,n,i){i.targetObserver=Tk}unbind(t,e,n,i){}};Ak=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([ip("attr")],Ak);function Ek(t){const e=t.composedPath()[0];if(this.target===e)return this.selfEventCallSource(t)}let Ok=class{bind(t,e,n,i){if(!i.callSource||!i.targetEvent)throw new Error("Self binding behavior only supports events.");i.selfEventCallSource=i.callSource,i.callSource=Ek}unbind(t,e,n,i){i.callSource=i.selfEventCallSource,i.selfEventCallSource=null}};Ok=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([ip("self")],Ok);const Pk=Object.create(null);class Rk{constructor(t){this.namespace=t,this.currentValue=null,this.type=6}static forNs(t){var e;return null!==(e=Pk[t])&&void 0!==e?e:Pk[t]=new Rk(t)}getValue(t,e){return t.getAttributeNS(this.namespace,e)}setValue(t,e,n,i){null==t?n.removeAttributeNS(this.namespace,i):n.setAttributeNS(this.namespace,i,t)}}function Ik(t,e){return t===e}class jk{constructor(t,e,n,i){this.handler=n,this.observerLocator=i,this.value=void 0,this.oldValue=void 0,this.type=7,this.collectionObserver=void 0,this.valueObserver=void 0,this.obj=t}getValue(){return this.value}setValue(t,e){const n=this.value;t!==n&&(this.value=t,this.oldValue=n,this.observe(),this.synchronizeElement(),this.subs.notify(t,n,e))}handleCollectionChange(t,e){this.synchronizeElement()}handleChange(t,e,n){this.synchronizeElement()}synchronizeElement(){const t=this.value,e=this.obj,n=Object.prototype.hasOwnProperty.call(e,"model")?e.model:e.value,i="radio"===e.type,s=void 0!==e.matcher?e.matcher:Ik;if(i)e.checked=!!s(t,n);else if(!0===t)e.checked=!0;else{let i=!1;if(t instanceof Array)i=-1!==t.findIndex((t=>!!s(t,n)));else if(t instanceof Set){for(const e of t)if(s(e,n)){i=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],o=e[1];if(s(t,n)&&!0===o){i=!0;break}}e.checked=i}}handleEvent(){let t=this.oldValue=this.value;const e=this.obj,n=Object.prototype.hasOwnProperty.call(e,"model")?e.model:e.value,i=e.checked,s=void 0!==e.matcher?e.matcher:Ik;if("checkbox"===e.type){if(t instanceof Array){const e=t.findIndex((t=>!!s(t,n)));return void(i&&-1===e?t.push(n):i||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let o=e;for(const e of t)if(!0===s(e,n)){o=e;break}return void(i&&o===e?t.add(n):i||o===e||t.delete(o))}if(t instanceof Map){let e;for(const i of t){const t=i[0];if(!0===s(t,n)){e=t;break}}return void t.set(e,i)}t=i}else{if(!i)return;t=n}this.value=t,this.subs.notify(this.value,this.oldValue,0)}start(){this.handler.subscribe(this.obj,this),this.observe()}stop(){var t,e;this.handler.dispose(),null===(t=this.collectionObserver)||void 0===t||t.unsubscribe(this),this.collectionObserver=void 0,null===(e=this.valueObserver)||void 0===e||e.unsubscribe(this)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.start()}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.stop()}observe(){var t,e,n,i,s,o,r;const a=this.obj;var l,c;null===(s=null!==(t=this.valueObserver)&&void 0!==t?t:this.valueObserver=null!==(n=null===(e=a.$observers)||void 0===e?void 0:e.model)&&void 0!==n?n:null===(i=a.$observers)||void 0===i?void 0:i.value)||void 0===s||s.subscribe(this),null===(o=this.collectionObserver)||void 0===o||o.unsubscribe(this),this.collectionObserver=void 0,"checkbox"===a.type&&(null===(r=this.collectionObserver=(l=this.value,c=this.observerLocator,l instanceof Array?c.getArrayObserver(l):l instanceof Map?c.getMapObserver(l):l instanceof Set?c.getSetObserver(l):void 0))||void 0===r||r.subscribe(this))}}Zp(jk);const Fk=Object.prototype.hasOwnProperty,Lk={childList:!0,subtree:!0,characterData:!0};function Nk(t,e){return t===e}class Dk{constructor(t,e,n,i){this.handler=n,this.observerLocator=i,this.currentValue=void 0,this.oldValue=void 0,this.hasChanges=!1,this.type=7,this.arrayObserver=void 0,this.nodeObserver=void 0,this.observing=!1,this.obj=t}getValue(){return this.observing?this.currentValue:this.obj.multiple?Array.from(this.obj.options).map((t=>t.value)):this.obj.value}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,this.observeArray(t instanceof Array?t:null),0==(256&e)&&this.flushChanges(e)}flushChanges(t){this.hasChanges&&(this.hasChanges=!1,this.synchronizeOptions())}handleCollectionChange(){this.synchronizeOptions()}notify(t){if((2&t)>0)return;const e=this.oldValue,n=this.currentValue;n!==e&&this.subs.notify(n,e,t)}handleEvent(){this.synchronizeValue()&&this.subs.notify(this.currentValue,this.oldValue,0)}synchronizeOptions(t){const{currentValue:e,obj:n}=this,i=Array.isArray(e),s=void 0!==n.matcher?n.matcher:Nk,o=n.options;let r=o.length;for(;r-- >0;){const t=o[r],n=Fk.call(t,"model")?t.model:t.value;t.selected=i?-1!==e.findIndex((t=>!!s(n,t))):!!s(n,e)}}synchronizeValue(){const t=this.obj,e=t.options,n=e.length,i=this.currentValue;let s=0;if(t.multiple){if(!(i instanceof Array))return!0;let o;const r=t.matcher||Nk,a=[];for(;s<n;)o=e[s],o.selected&&a.push(Fk.call(o,"model")?o.model:o.value),++s;for(s=0;s<i.length;){const t=i[s];-1===a.findIndex((e=>!!r(t,e)))?i.splice(s,1):++s}for(s=0;s<a.length;){const t=a[s];-1===i.findIndex((e=>!!r(t,e)))&&i.push(t),++s}return!1}let o=null;for(;s<n;){const t=e[s];if(t.selected){o=Fk.call(t,"model")?t.model:t.value;break}++s}return this.oldValue=this.currentValue,this.currentValue=o,!0}start(){(this.nodeObserver=new this.obj.ownerDocument.defaultView.MutationObserver(this.handleNodeChange.bind(this))).observe(this.obj,Lk),this.observeArray(this.currentValue instanceof Array?this.currentValue:null),this.observing=!0}stop(){var t;this.nodeObserver.disconnect(),null===(t=this.arrayObserver)||void 0===t||t.unsubscribe(this),this.nodeObserver=this.arrayObserver=void 0,this.observing=!1}observeArray(t){var e;if(null===(e=this.arrayObserver)||void 0===e||e.unsubscribe(this),this.arrayObserver=void 0,null!=t){if(!this.obj.multiple)throw new Error("Only null or Array instances can be bound to a multi-select.");(this.arrayObserver=this.observerLocator.getArrayObserver(t)).subscribe(this)}}handleNodeChange(){this.synchronizeOptions(),this.synchronizeValue()&&this.notify(0)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.start())}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.handler.dispose(),this.stop())}}Zp(Dk);class Mk{constructor(t){this.obj=t,this.currentValue="",this.oldValue="",this.styles={},this.version=0,this.hasChanges=!1,this.type=6}getValue(){return this.obj.style.cssText}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,0==(256&e)&&this.flushChanges(e)}getStyleTuplesFromString(t){const e=[],n=/url\([^)]+$/;let i,s,o,r,a=0,l="";for(;a<t.length;)i=t.indexOf(";",a),-1===i&&(i=t.length),l+=t.substring(a,i),a=i+1,n.test(l)?l+=";":(s=l.indexOf(":"),o=l.substring(0,s).trim(),r=l.substring(s+1).trim(),e.push([o,r]),l="");return e}getStyleTuplesFromObject(t){let e;const n=[];for(const i in t)if(e=t[i],null!=e)if("string"!=typeof e)n.push(...this.getStyleTuples(e));else{if(i.startsWith("--")){n.push([i,e]);continue}n.push([Xh(i),e])}return n}getStyleTuplesFromArray(t){const e=t.length;if(e>0){const n=[];for(let i=0;i<e;++i)n.push(...this.getStyleTuples(t[i]));return n}return Xu}getStyleTuples(t){return"string"==typeof t?this.getStyleTuplesFromString(t):t instanceof Array?this.getStyleTuplesFromArray(t):t instanceof Object?this.getStyleTuplesFromObject(t):Xu}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue,e=this.styles,n=this.getStyleTuples(t);let i,s,o,r,a=this.version;this.oldValue=t;const l=n.length;for(let t=0;t<l;++t)s=n[t],o=s[0],r=s[1],this.setProperty(o,r),e[o]=a;if(this.styles=e,this.version+=1,0===a)return;for(i in a-=1,e)Object.prototype.hasOwnProperty.call(e,i)&&e[i]===a&&this.obj.style.removeProperty(i)}}setProperty(t,e){let n="";null!=e&&"function"==typeof e.indexOf&&e.includes("!important")&&(n="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,n)}bind(t){this.currentValue=this.oldValue=this.obj.style.cssText}}class Bk{constructor(t,e,n){this.propertyKey=e,this.handler=n,this.currentValue="",this.oldValue="",this.hasChanges=!1,this.type=7,this.obj=t}getValue(){return this.currentValue}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,this.handler.config.readonly||0!=(256&e)||this.flushChanges(e)}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue,n=this.oldValue;this.oldValue=e,this.obj[this.propertyKey]=null!=e?e:this.handler.config.default,0==(2&t)&&this.subs.notify(e,n,t)}}handleEvent(){const t=this.oldValue=this.currentValue,e=this.currentValue=this.obj[this.propertyKey];t!==e&&(this.oldValue=e,this.subs.notify(e,t,0))}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.currentValue=this.oldValue=this.obj[this.propertyKey])}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.handler.dispose()}}Zp(Bk);const Vk="http://www.w3.org/1999/xlink",Hk="http://www.w3.org/XML/1998/namespace",qk="http://www.w3.org/2000/xmlns/",Uk=Object.assign(Kx(),{"xlink:actuate":["actuate",Vk],"xlink:arcrole":["arcrole",Vk],"xlink:href":["href",Vk],"xlink:role":["role",Vk],"xlink:show":["show",Vk],"xlink:title":["title",Vk],"xlink:type":["type",Vk],"xml:lang":["lang",Hk],"xml:space":["space",Hk],xmlns:["xmlns",qk],"xmlns:xlink":["xlink",qk]}),zk=new Qv;zk.type=6;class _k{constructor(t){var e;this.type=null!==(e=t.type)&&void 0!==e?e:Bk,this.events=t.events,this.readonly=t.readonly,this.default=t.default}}class Wk{constructor(t,e,n,i){this.locator=t,this.platform=e,this.dirtyChecker=n,this.svgAnalyzer=i,this.allowDirtyCheck=!0,this.events=Kx(),this.globalEvents=Kx(),this.overrides=Kx(),this.globalOverrides=Kx();const s=["change","input"],o={events:s,default:""};this.useConfig({INPUT:{value:o,valueAsNumber:{events:s,default:0},checked:{type:jk,events:s},files:{events:s,readonly:!0}},SELECT:{value:{type:Dk,events:["change"],default:""}},TEXTAREA:{value:o}});const r={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:r,innerHTML:r}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(t){Wu.aliasTo(Jv,Wk).register(t),Wu.singleton(Jv,Wk).register(t)}handles(t,e){return t instanceof this.platform.Node}useConfig(t,e,n){var i,s;const o=this.events;let r;if("string"==typeof t)r=null!==(i=o[t])&&void 0!==i?i:o[t]=Kx(),null==r[e]?r[e]=new _k(n):Kk(t,e);else for(const n in t){r=null!==(s=o[n])&&void 0!==s?s:o[n]=Kx();const i=t[n];for(e in i)null==r[e]?r[e]=new _k(i[e]):Kk(n,e)}}useConfigGlobal(t,e){const n=this.globalEvents;if("object"==typeof t)for(const e in t)null==n[e]?n[e]=new _k(t[e]):Kk("*",e);else null==n[t]?n[t]=new _k(e):Kk("*",t)}getAccessor(t,e,n){var i;if(e in this.globalOverrides||e in(null!==(i=this.overrides[t.tagName])&&void 0!==i?i:Zu))return this.getObserver(t,e,n);switch(e){case"src":case"href":case"role":return Tk;default:{const n=Uk[e];return void 0!==n?Rk.forNs(n[1]):Wx(t,e,this.svgAnalyzer)?Tk:zk}}}overrideAccessor(t,e){var n,i,s,o;let r;if("string"==typeof t)r=null!==(n=(s=this.overrides)[t])&&void 0!==n?n:s[t]=Kx(),r[e]=!0;else for(const e in t)for(const n of t[e])r=null!==(i=(o=this.overrides)[e])&&void 0!==i?i:o[e]=Kx(),r[n]=!0}overrideAccessorGlobal(...t){for(const e of t)this.globalOverrides[e]=!0}getObserver(t,e,n){var i,s;switch(e){case"role":return Tk;case"class":return new ey(t);case"css":case"style":return new Mk(t)}const o=null!==(s=null===(i=this.events[t.tagName])||void 0===i?void 0:i[e])&&void 0!==s?s:this.globalEvents[e];if(null!=o)return new o.type(t,e,new gw(o),n,this.locator);const r=Uk[e];if(void 0!==r)return Rk.forNs(r[1]);if(Wx(t,e,this.svgAnalyzer))return Tk;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(t,e);throw new Error(`Unable to observe property ${String(e)}. Register observation mapping with .useConfig().`)}return new Yv(t,e)}}function Kk(t,e){throw new Error(`Mapping for property ${String(e)} of <${t} /> already exists`)}Wk.inject=[Cu,Dm,Uv,Gx];let Gk=class{constructor(t){this.observerLocator=t}bind(t,e,n,i,...s){if(0===s.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(i.mode!==zp.twoWay&&i.mode!==zp.fromView)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");const o=this.observerLocator.getObserver(i.target,i.targetProperty);if(!o.handler)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");i.targetObserver=o;const r=o.handler;o.originalHandler=r,o.handler=new gw(new _k({default:r.config.default,events:s,readonly:r.config.readonly}))}unbind(t,e,n,i){i.targetObserver.handler.dispose(),i.targetObserver.handler=i.targetObserver.originalHandler,i.targetObserver.originalHandler=null}};Gk=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([ip("updateTrigger"),function(t,e){return function(n,i){e(n,i,t)}}(0,Zv)],Gk);var Qk=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},Yk=function(t,e){return function(n,i){e(n,i,t)}};const Xk=Symbol(),Zk={passive:!0,capture:!0},Jk={passive:!0},tC=new WeakMap;class eC{constructor(t){this.platform=t,this.blurs=[],tC.set(t.document,this),this.handler=sC(this,this.blurs)}static createFor(t){return tC.get(t.document)||new eC(t)}register(t){const e=this.blurs;e.includes(t)||1!==e.push(t)||this.addListeners()}unregister(t){const e=this.blurs,n=e.indexOf(t);n>-1&&e.splice(n,1),0===e.length&&this.removeListeners()}addListeners(){const t=this.platform,e=t.document,n=t.window,i=this.handler;n.navigator.pointerEnabled&&e.addEventListener("pointerdown",i,Zk),e.addEventListener("touchstart",i,Zk),e.addEventListener("mousedown",i,Zk),e.addEventListener("focus",i,Zk),n.addEventListener("blur",i,Jk)}removeListeners(){const t=this.platform,e=t.document,n=t.window,i=this.handler;n.navigator.pointerEnabled&&e.removeEventListener("pointerdown",i,Zk),e.removeEventListener("touchstart",i,Zk),e.removeEventListener("mousedown",i,Zk),e.removeEventListener("focus",i,Zk),n.removeEventListener("blur",i,Jk)}}let nC=class{constructor(t,e){this.element=t,this.p=e,this.linkedMultiple=!0,this.searchSubTree=!0,this.linkingContext=null,this.value=Xk,this.manager=eC.createFor(e)}attached(){this.manager.register(this)}detaching(){this.manager.unregister(this)}handleEventTarget(t){if(!1===this.value)return;const e=this.p;t!==e.window&&t!==e.document&&this.contains(t)||this.triggerBlur()}contains(t){if(!this.value)return!1;let e,n,i,s,o;const r=this.element;if(iC(r,t))return!0;if(!this.linkedWith)return!1;const a=this.p.document,l=this.linkedWith,c=this.linkingContext,h=this.searchSubTree,u=this.linkedMultiple,d=Array.isArray(l)?l:[l],p=("string"==typeof c?a.querySelector(c):c)||a.body,g=d.length;for(n=0;g>n;++n)if(o=d[n],"string"==typeof o){if(h){if(u)e=p.querySelectorAll(o);else{const t=p.querySelector(o);e=null!==t?[t]:Xu}for(s=e.length,i=0;s>i;++i)if(e[i].contains(t))return!0}else for(e=p.children,s=e.length,i=0;s>i;++i)if(e[i].matches(o))return!0}else if(o&&o.contains(t))return!0;return!1}triggerBlur(){this.value=!1,"function"==typeof this.onBlur&&this.onBlur.call(null)}};Qk([sm()],nC.prototype,"value",void 0),Qk([sm()],nC.prototype,"onBlur",void 0),Qk([sm()],nC.prototype,"linkedWith",void 0),Qk([sm()],nC.prototype,"linkedMultiple",void 0),Qk([sm()],nC.prototype,"searchSubTree",void 0),Qk([sm()],nC.prototype,"linkingContext",void 0),nC=Qk([Tb("blur"),Yk(0,Xy),Yk(1,Dm)],nC);const iC=(t,e)=>{if(t.contains(e))return!0;let n=null;for(;null!=e;){if(e===t)return!0;n=e.parentNode,e=null!==n||11!==e.nodeType?n:e.host}return!1},sC=(t,e)=>{let n=!1;const i=()=>{n=!1},s=()=>{n=!0,t.platform.domWriteQueue.queueTask(i,{preempt:!0})},o=t=>{n||(r(t),s())},r=t=>{const n=t.composed?t.composedPath()[0]:t.target;if(null!==n)for(let t=0,i=e.length;t<i;++t)e[t].handleEventTarget(n)};return{onpointerdown:o,ontouchstart:o,onmousedown:o,onfocus:i=>{if(!n){if(i.target===t.platform.window)for(let t=0,n=e.length;n>t;++t)e[t].triggerBlur();else r(i);s()}},onblur:()=>{n=!1;for(let t=0,n=e.length;t<n;++t)e[t].triggerBlur()},handleEvent(t){this[`on${t.type}`](t)}}};var oC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},rC=function(t,e){return function(n,i){e(n,i,t)}};let aC=class{constructor(t,e){this.element=t,this.p=e,this.needsApply=!1}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.apply():this.needsApply=!0}attached(){this.needsApply&&(this.needsApply=!1,this.apply());const t=this.element;t.addEventListener("focus",this),t.addEventListener("blur",this)}afterDetachChildren(){const t=this.element;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.isElFocused||(this.value=!1)}apply(){const t=this.element,e=this.isElFocused,n=this.value;n&&!e?t.focus():!n&&e&&t.blur()}get isElFocused(){return this.element===this.p.document.activeElement}};oC([sm({mode:zp.twoWay})],aC.prototype,"value",void 0),aC=oC([Tb("focus"),rC(0,Xy),rC(1,Dm)],aC);var lC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},cC=function(t,e){return function(n,i){e(n,i,t)}};let hC=class{constructor(t,e,n){this.el=t,this.p=e,this.isActive=!1,this.task=null,this.$val="",this.$prio="",this.update=()=>{this.task=null,Boolean(this.value)!==this.isToggled&&(this.isToggled===this.base?(this.isToggled=!this.base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.isToggled=this.base,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.isToggled=this.base="hide"!==n.alias}binding(){this.isActive=!0,this.update()}detaching(){var t;this.isActive=!1,null===(t=this.task)||void 0===t||t.cancel(),this.task=null}valueChanged(){this.isActive&&null===this.task&&(this.task=this.p.domWriteQueue.queueTask(this.update))}};lC([sm],hC.prototype,"value",void 0),hC=lC([Tb("show"),function(...t){return function(e){const n=du.annotation.keyFor("aliases"),i=Vh.getOwn(n,e);void 0===i?Vh.define(n,t,e):i.push(...t)}}("hide"),cC(0,Xy),cC(1,Dm),cC(2,ww)],hC);var uC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},dC=function(t,e){return function(n,i){e(n,i,t)}};let pC=class{constructor(t,e,n){this.factory=t,this.originalLoc=e,this.p=n,this.id=tu("au$component"),this.strict=!1,this.currentTarget=n.document.createElement("div"),this.view=this.factory.create(),function(t,e){if(void 0===t.platform||t instanceof t.platform.Node)ew.set(t,e);else{const n=t.childNodes;for(let t=0,i=n.length;t<i;++t)ew.set(n[t],e)}}(this.view.nodes,e)}attaching(t,e,n){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const i=this.currentTarget=this.resolveTarget();return this.view.setHost(i),this.$activating(t,i,n)}detaching(t,e,n){return this.$deactivating(t,this.currentTarget,n)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.currentTarget,n=this.currentTarget=this.resolveTarget();if(e===n)return;this.view.setHost(n);const i=lu(this.$deactivating(null,n,t.flags),(()=>this.$activating(null,n,t.flags)));i instanceof Promise&&i.catch((t=>{throw t}))}$activating(t,e,n){const{activating:i,callbackContext:s,view:o}=this;return o.setHost(e),lu(null==i?void 0:i.call(s,e,o),(()=>this.activate(t,e,n)))}activate(t,e,n){const{$controller:i,view:s}=this;return null!==t?lu(s.activate(null!=t?t:s,i,n,i.scope),(()=>this.$activated(e))):(s.nodes.appendTo(e),this.$activated(e))}$activated(t){const{activated:e,callbackContext:n,view:i}=this;return null==e?void 0:e.call(n,t,i)}$deactivating(t,e,n){const{deactivating:i,callbackContext:s,view:o}=this;return lu(null==i?void 0:i.call(s,e,o),(()=>this.deactivate(t,e,n)))}deactivate(t,e,n){const{$controller:i,view:s}=this;return null!==t?lu(s.deactivate(t,i,n),(()=>this.$deactivated(e))):(s.nodes.remove(),this.$deactivated(e))}$deactivated(t){const{deactivated:e,callbackContext:n,view:i}=this;return null==e?void 0:e.call(n,t,i)}resolveTarget(){const t=this.p,e=t.document;let n=this.target,i=this.renderContext;if(""===n){if(this.strict)throw new Error("Empty querySelector");return e.body}if("string"==typeof n){let s=e;"string"==typeof i&&(i=e.querySelector(i)),i instanceof t.Node&&(s=i),n=s.querySelector(n)}if(n instanceof t.Node)return n;if(null==n){if(this.strict)throw new Error("Portal target not found");return e.body}return n}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};uC([sm({primary:!0})],pC.prototype,"target",void 0),uC([sm({callback:"targetChanged"})],pC.prototype,"renderContext",void 0),uC([sm()],pC.prototype,"strict",void 0),uC([sm()],pC.prototype,"deactivating",void 0),uC([sm()],pC.prototype,"activating",void 0),uC([sm()],pC.prototype,"deactivated",void 0),uC([sm()],pC.prototype,"activated",void 0),uC([sm()],pC.prototype,"callbackContext",void 0),pC=uC([Ab("portal"),dC(0,Pb),dC(1,Jy),dC(2,Dm)],pC);class gC{constructor(t,e,n){this.factory=t,this.flags=n,this.id=tu("au$component"),this.view=this.factory.create().setLocation(e)}attaching(t,e,n){const{$controller:i}=this;return this.view.activate(t,i,n|this.flags,i.scope,i.hostScope)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}class fC extends gC{constructor(t,e){super(t,e,512)}}fC.inject=[Pb,Jy];class vC extends gC{constructor(t,e){super(t,e,128)}}vC.inject=[Pb,Jy],Ab("frequent-mutations")(fC),Ab("observe-shallow")(vC);var mC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},bC=function(t,e){return function(n,i){e(n,i,t)}};let yC=class{constructor(t,e,n){this.ifFactory=t,this.location=e,this.work=n,this.id=tu("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.pending=void 0,this.wantsDeactivate=!1}attaching(t,e,n){return lu(this.pending,(()=>{var e;this.pending=void 0,null===(e=this.view=this.updateView(this.value,n))||void 0===e||e.activate(t,this.$controller,n,this.$controller.scope,this.$controller.hostScope)}))}detaching(t,e,n){return this.wantsDeactivate=!0,lu(this.pending,(()=>{var e;this.wantsDeactivate=!1,this.pending=void 0,null===(e=this.view)||void 0===e||e.deactivate(t,this.$controller,n)}))}valueChanged(t,e,n){this.$controller.isActive&&(this.pending=lu(this.pending,(()=>this.swap(n))))}swap(t){var e;if(this.view===this.updateView(this.value,t))return;this.work.start();const n=this.$controller;return lu(null===(e=this.view)||void 0===e?void 0:e.deactivate(this.view,n,t),(()=>{if(this.wantsDeactivate)return;const e=this.view=this.updateView(this.value,t);return lu(null==e?void 0:e.activate(e,n,t,n.scope,n.hostScope),(()=>{this.work.finish(),this.view===this.updateView(this.value,t)&&(this.pending=void 0)}))}))}updateView(t,e){return t?this.ifView=this.ensureView(this.ifView,this.ifFactory,e):void 0!==this.elseFactory?this.elseView=this.ensureView(this.elseView,this.elseFactory,e):void 0}ensureView(t,e,n){return void 0===t&&(t=e.create(n)).setLocation(this.location),t}dispose(){var t,e;null===(t=this.ifView)||void 0===t||t.dispose(),this.ifView=void 0,null===(e=this.elseView)||void 0===e||e.dispose(),this.elseView=void 0,this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};mC([sm],yC.prototype,"value",void 0),yC=mC([Ab("if"),bC(0,Pb),bC(1,Jy),bC(2,Uy)],yC);let wC=class{constructor(t){this.factory=t,this.id=tu("au$component")}link(t,e,n,i,s,o){const r=n.children,a=r[r.length-1];if(a instanceof yC)a.elseFactory=this.factory;else{if(!(a.viewModel instanceof yC))throw new Error("Unsupported IfBehavior");a.viewModel.elseFactory=this.factory}}};wC=mC([Ab({name:"else"}),bC(0,Pb)],wC);var xC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},kC=function(t,e){return function(n,i){e(n,i,t)}};function CC(t){t.dispose()}let SC=class{constructor(t,e,n){this.location=t,this.parent=e,this.factory=n,this.id=tu("au$component"),this.hasPendingInstanceMutation=!1,this.observer=void 0,this.views=[],this.key=void 0,this.normalizedItems=void 0}binding(t,e,n){this.checkCollectionObserver(n);const i=this.parent.bindings;let s;for(let t=0,e=i.length;t<e;++t)if(s=i[t],s.target===this&&"items"===s.targetProperty){this.forOf=s.sourceExpression;break}this.local=this.forOf.declaration.evaluate(n,this.$controller.scope,null,s.locator,null)}attaching(t,e,n){return this.normalizeToArray(n),this.activateAllViews(t,n)}detaching(t,e,n){return this.checkCollectionObserver(n),this.deactivateAllViews(t,n)}itemsChanged(t){const{$controller:e}=this;if(!e.isActive)return;t|=e.flags,this.checkCollectionObserver(t),this.normalizeToArray(t);const n=lu(this.deactivateAllViews(null,t),(()=>this.activateAllViews(null,t)));n instanceof Promise&&n.catch((t=>{throw t}))}handleCollectionChange(t,e){const{$controller:n}=this;if(n.isActive)if(e|=n.flags,this.normalizeToArray(e),void 0===t){const t=lu(this.deactivateAllViews(null,e),(()=>this.activateAllViews(null,e)));t instanceof Promise&&t.catch((t=>{throw t}))}else{const n=this.views.length;if(function(t){let e=0,n=0;const i=t.length;for(let s=0;s<i;++s){for(;t.deletedItems[n]<=s-e;)++n,--e;-2===t[s]?++e:t[s]+=e}}(t),t.deletedItems.length>0){t.deletedItems.sort(eu);const i=lu(this.deactivateAndRemoveViewsByKey(t,e),(()=>this.createAndActivateAndSortViewsByKey(n,t,e)));i instanceof Promise&&i.catch((t=>{throw t}))}else this.createAndActivateAndSortViewsByKey(n,t,e)}}checkCollectionObserver(t){const e=this.observer;if(4&t)void 0!==e&&e.unsubscribe(this);else if(this.$controller.isActive){const t=this.observer=function(t){let e;return t instanceof Array?e=Ag(t):t instanceof Map?e=Qg(t):t instanceof Set&&(e=Mg(t)),e}(this.items);e!==t&&e&&e.unsubscribe(this),t&&t.subscribe(this)}}normalizeToArray(t){const e=this.items;if(e instanceof Array)return void(this.normalizedItems=e);if(void 0===this.forOf)return;const n=[];this.forOf.iterate(t,e,((t,e,i)=>{n[e]=i})),this.normalizedItems=n}activateAllViews(t,e){let n,i,s,o;const{$controller:r,factory:a,local:l,location:c,items:h}=this,u=r.scope,d=r.hostScope,p=this.forOf.count(e,h),g=this.views=Array(p);if(this.forOf.iterate(e,h,((h,f,v)=>{s=g[f]=a.create(e).setLocation(c),s.nodes.unlink(),o=Zd.fromParent(u,Yd.create(l,v)),EC(o.overrideContext,f,p),i=s.activate(null!=t?t:s,r,e,o,d),i instanceof Promise&&(null!=n?n:n=[]).push(i)})),void 0!==n)return 1===n.length?n[0]:Promise.all(n)}deactivateAllViews(t,e){let n,i,s;const{views:o,$controller:r}=this;for(let a=0,l=o.length;a<l;++a)s=o[a],s.release(),i=s.deactivate(null!=t?t:s,r,e),i instanceof Promise&&(null!=n?n:n=[]).push(i);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}deactivateAndRemoveViewsByKey(t,e){let n,i,s;const{$controller:o,views:r}=this,a=t.deletedItems,l=a.length;let c=0;for(;c<l;++c)s=r[a[c]],s.release(),i=s.deactivate(s,o,e),i instanceof Promise&&(null!=n?n:n=[]).push(i);c=0;let h=0;for(;c<l;++c)h=a[c]-c,r.splice(h,1);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}createAndActivateAndSortViewsByKey(t,e,n){var i;let s,o,r,a;const{$controller:l,factory:c,local:h,normalizedItems:u,location:d,views:p}=this,g=e.length;for(let t=0;t<g;++t)-2===e[t]&&(r=c.create(n),p.splice(t,0,r));if(p.length!==g)throw new Error(`viewsLen=${p.length}, mapLen=${g}`);const f=l.scope,v=l.hostScope,m=e.length;!function(t,e){const n=t.slice(),i=e.length;let s=0,o=0;for(;s<i;)o=e[s],-2!==o&&(t[s]=n[o]),++s}(p,e);const b=function(t){const e=t.length;e>$C&&($C=e,TC=new Int32Array(e),AC=new Int32Array(e));let n=0,i=0,s=0,o=0,r=0,a=0,l=0,c=0;for(;o<e;o++)if(i=t[o],-2!==i){if(r=TC[n],s=t[r],-2!==s&&s<i){AC[o]=r,TC[++n]=o;continue}for(a=0,l=n;a<l;)c=a+l>>1,s=t[TC[c]],-2!==s&&s<i?a=c+1:l=c;s=t[TC[a]],(i<s||-2===s)&&(a>0&&(AC[o]=TC[a-1]),TC[a]=o)}o=++n;const h=new Int32Array(o);for(i=TC[n-1];n-- >0;)h[n]=i,i=AC[i];for(;o-- >0;)TC[o]=0;return h}(e),y=b.length;let w,x=y-1,k=m-1;for(;k>=0;--k)r=p[k],w=p[k+1],r.nodes.link(null!==(i=null==w?void 0:w.nodes)&&void 0!==i?i:d),-2===e[k]?(a=Zd.fromParent(f,Yd.create(h,u[k])),EC(a.overrideContext,k,m),r.setLocation(d),o=r.activate(r,l,n,a,v),o instanceof Promise&&(null!=s?s:s=[]).push(o)):x<0||1===y||k!==b[x]?(EC(r.scope.overrideContext,k,m),r.nodes.insertBefore(r.location)):(t!==m&&EC(r.scope.overrideContext,k,m),--x);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}dispose(){this.views.forEach(CC),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let n=0,i=e.length;n<i;++n)if(!0===e[n].accept(t))return!0}};xC([sm],SC.prototype,"items",void 0),SC=xC([Ab("repeat"),kC(0,Jy),kC(1,Hy),kC(2,Pb)],SC);let $C=16,TC=new Int32Array($C),AC=new Int32Array($C);function EC(t,e,n){const i=0===e,s=e===n-1,o=e%2==0;t.$index=e,t.$first=i,t.$last=s,t.$middle=!i&&!s,t.$even=o,t.$odd=!o,t.$length=n}var OC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},PC=function(t,e){return function(n,i){e(n,i,t)}};let RC=class{constructor(t,e){this.factory=t,this.location=e,this.id=tu("au$component"),this.id=tu("au$component"),this.view=this.factory.create().setLocation(e)}valueChanged(t,e,n){this.$controller.isActive&&this.activateView(this.view,2)}attaching(t,e,n){return this.activateView(t,n)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}activateView(t,e){const{$controller:n,value:i}=this,s=Zd.fromParent(n.scope,void 0===i?{}:i);return this.view.activate(t,n,e,s,n.hostScope)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};OC([sm],RC.prototype,"value",void 0),RC=OC([Ab("with"),PC(0,Pb),PC(1,Jy)],RC);var IC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},jC=function(t,e){return function(n,i){e(n,i,t)}};let FC=class{constructor(t,e){this.factory=t,this.location=e,this.id=tu("au$component"),this.cases=[],this.activeCases=[],this.promise=void 0}link(t,e,n,i,s,o){this.view=this.factory.create(t,this.$controller).setLocation(this.location)}attaching(t,e,n){const i=this.view,s=this.$controller;return this.queue((()=>i.activate(t,s,n,s.scope,s.hostScope))),this.queue((()=>this.swap(t,n,this.value))),this.promise}detaching(t,e,n){return this.queue((()=>this.view.deactivate(t,this.$controller,n))),this.promise}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}valueChanged(t,e,n){this.$controller.isActive&&this.queue((()=>this.swap(null,n,this.value)))}caseChanged(t,e){this.queue((()=>this.handleCaseChange(t,e)))}handleCaseChange(t,e){const n=t.isMatch(this.value,e),i=this.activeCases,s=i.length;if(!n)return s>0&&i[0].id===t.id?this.clearActiveCases(null,e):void 0;if(s>0&&i[0].id<t.id)return;const o=[];let r=t.fallThrough;if(r){const e=this.cases;for(let n=e.indexOf(t),i=e.length;n<i&&r;n++){const t=e[n];o.push(t),r=t.fallThrough}}else o.push(t);return lu(this.clearActiveCases(null,e,o),(()=>(this.activeCases=o,this.activateCases(null,e))))}swap(t,e,n){const i=[];let s=!1;for(const t of this.cases)if((s||t.isMatch(n,e))&&(i.push(t),s=t.fallThrough),i.length>0&&!s)break;const o=this.defaultCase;return 0===i.length&&void 0!==o&&i.push(o),lu(this.activeCases.length>0?this.clearActiveCases(t,e,i):void 0,(()=>{if(this.activeCases=i,0!==i.length)return this.activateCases(t,e)}))}activateCases(t,e){const n=this.$controller;if(!n.isActive)return;const i=this.activeCases,s=i.length;if(0===s)return;const o=n.scope,r=n.hostScope;return 1===s?i[0].activate(t,e,o,r):cu(...i.map((n=>n.activate(t,e,o,r))))}clearActiveCases(t,e,n=[]){const i=this.activeCases,s=i.length;if(0!==s){if(1===s){const s=i[0];return n.includes(s)?void 0:(i.length=0,s.deactivate(t,e))}return lu(cu(...i.reduce(((i,s)=>(n.includes(s)||i.push(s.deactivate(t,e)),i)),[])),(()=>{i.length=0}))}}queue(t){const e=this.promise;let n;n=this.promise=lu(lu(e,t),(()=>{this.promise===n&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some((e=>e.accept(t)))||void 0}};IC([sm],FC.prototype,"value",void 0),FC=IC([Ab("switch"),jC(0,Pb),jC(1,Jy)],FC);let LC=class{constructor(t,e,n,i){this.factory=t,this.locator=e,this.id=tu("au$component"),this.fallThrough=!1,this.debug=i.config.level<=1,this.logger=i.scopeTo(`${this.constructor.name}-#${this.id}`),this.view=this.factory.create().setLocation(n)}link(t,e,n,i,s,o){const r=n.parent,a=null==r?void 0:r.viewModel;if(!(a instanceof FC))throw new Error("The parent switch not found; only `*[switch] > *[case|default-case]` relation is supported.");this.$switch=a,this.linkToSwitch(a)}detaching(t,e,n){return this.deactivate(t,n)}isMatch(t,e){this.debug&&this.logger.debug("isMatch()");const n=this.value;return Array.isArray(n)?(void 0===this.observer&&(this.observer=this.observeCollection(e,n)),n.includes(t)):n===t}valueChanged(t,e,n){var i;Array.isArray(t)?(null===(i=this.observer)||void 0===i||i.unsubscribe(this),this.observer=this.observeCollection(n,t)):void 0!==this.observer&&this.observer.unsubscribe(this),this.$switch.caseChanged(this,n)}handleCollectionChange(t,e){this.$switch.caseChanged(this,e)}activate(t,e,n,i){const s=this.view;if(!s.isActive)return s.activate(null!=t?t:s,this.$controller,e,n,i)}deactivate(t,e){const n=this.view;if(n.isActive)return n.deactivate(null!=t?t:n,this.$controller,e)}dispose(){var t,e;null===(t=this.observer)||void 0===t||t.unsubscribe(this),null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}observeCollection(t,e){const n=this.locator.getArrayObserver(e);return n.subscribe(this),n}accept(t){var e;return!0===this.$controller.accept(t)||(null===(e=this.view)||void 0===e?void 0:e.accept(t))}};IC([sm],LC.prototype,"value",void 0),IC([sm({set:t=>{switch(t){case"true":return!0;case"false":return!1;default:return!!t}},mode:zp.oneTime})],LC.prototype,"fallThrough",void 0),LC=IC([Ab("case"),jC(0,Pb),jC(1,Zv),jC(2,Jy),jC(3,Sd)],LC);let NC=class extends LC{linkToSwitch(t){if(void 0!==t.defaultCase)throw new Error("Multiple 'default-case's are not allowed.");t.defaultCase=this}};NC=IC([Ab("default-case")],NC);class DC{constructor(t,e,n){this.node=t,this.instructions=e,this.dependencies=n,this.lazyDefinition=void 0}get definition(){return void 0===this.lazyDefinition&&(this.lazyDefinition=xb.create({name:Cb.generateName(),template:this.node,needsCompile:"string"==typeof this.node,instructions:this.instructions,dependencies:this.dependencies})),this.lazyDefinition}getContext(t){return Xb(this.definition,t)}createView(t){return this.getViewFactory(t).create()}getViewFactory(t){return this.getContext(t).getViewFactory()}mergeInto(t,e,n){t.appendChild(this.node),e.push(...this.instructions),n.push(...this.dependencies)}}function MC(t,e,n,i,s){for(let o=0,r=n.length;o<r;++o){const r=n[o];switch(typeof r){case"string":e.appendChild(t.document.createTextNode(r));break;case"object":r instanceof t.Node?e.appendChild(r):"mergeInto"in r&&r.mergeInto(e,i,s)}}}var BC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},VC=function(t,e){return function(n,i){e(n,i,t)}};function HC(t,e){const n=e.to;return void 0!==n&&"subject"!==n&&"composing"!==n&&(t[n]=e),t}let qC=class{constructor(t,e){this.p=t,this.id=tu("au$component"),this.subject=void 0,this.composing=!1,this.view=void 0,this.lastSubject=void 0,this.properties=e.instructions.reduce(HC,{})}attaching(t,e,n){const{subject:i,view:s}=this;return void 0===s||this.lastSubject!==i?(this.lastSubject=i,this.composing=!0,this.compose(void 0,i,t,n)):this.compose(s,i,t,n)}detaching(t,e,n){return this.deactivate(this.view,t,n)}subjectChanged(t,e,n){const{$controller:i}=this;if(!i.isActive)return;if(this.lastSubject===t)return;this.lastSubject=t,this.composing=!0,n|=i.flags;const s=lu(this.deactivate(this.view,null,n),(()=>this.compose(void 0,t,null,n)));s instanceof Promise&&s.catch((t=>{throw t}))}compose(t,e,n,i){return lu(void 0===t?lu(e,(t=>this.resolveView(t,i))):t,(t=>this.activate(t,n,i)))}deactivate(t,e,n){return null==t?void 0:t.deactivate(null!=e?e:t,this.$controller,n)}activate(t,e,n){const{$controller:i}=this;return lu(null==t?void 0:t.activate(null!=e?e:t,i,n,i.scope,i.hostScope),(()=>{this.composing=!1}))}resolveView(t,e){const n=this.provideViewFor(t,e);if(n)return n.setLocation(this.$controller.location),n.lockScope(this.$controller.scope),n}provideViewFor(t,e){if(t)return function(t){return"lockScope"in t}(t)?t:"createView"in t?t.createView(this.$controller.context):"create"in t?t.create(e):"template"in t?Xb(xb.getOrCreate(t),this.$controller.context).getViewFactory().create(e):function(t,e,n,i){if("string"==typeof e)return function(t,e,n,i){const s=[],o=[],r=[],a=t.document.createElement(e);let l=!1;return n&&Object.keys(n).forEach((t=>{const e=n[t];xw(e)?(l=!0,s.push(e)):a.setAttribute(t,e)})),l&&(a.className="au",o.push(s)),i&&MC(t,a,i,o,r),new DC(a,o,r)}(t,e,n,i);if(Cb.isType(e))return function(t,e,n,i){const s=Cb.getDefinition(e),o=s.name,r=[],a=[r],l=[],c=[],h=s.bindables,u=t.document.createElement(o);return u.className="au",l.includes(e)||l.push(e),r.push(new Ew(o,void 0,c,null)),n&&Object.keys(n).forEach((t=>{const e=n[t];xw(e)?c.push(e):void 0!==h[t]?c.push({type:"re",to:t,value:e}):c.push(new Lw(e,t))})),i&&MC(t,u,i,a,l),new DC(u,a,l)}(t,e,n,i);throw new Error("Invalid tagOrType.")}(this.p,t,this.properties,this.$controller.host.childNodes).createView(this.$controller.context)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};BC([sm],qC.prototype,"subject",void 0),BC([sm({mode:zp.fromView})],qC.prototype,"composing",void 0),qC=BC([yb({name:"au-compose",template:null,containerless:!0}),VC(0,Dm),VC(1,ww)],qC);const UC=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,zC=xu.createInterface("ISanitizer",(t=>t.singleton(class{sanitize(t){return t.replace(UC,"")}})));let _C=class{constructor(t){this.sanitizer=t}toView(t){return null==t?null:this.sanitizer.sanitize(t)}};_C=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([function(t,e){return function(n,i){e(n,i,t)}}(0,zC)],_C),lp("sanitize")(_C);let WC=class{constructor(t){this.viewLocator=t}toView(t,e){return this.viewLocator.getViewComponentForObject(t,e)}};WC=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([function(t,e){return function(n,i){e(n,i,t)}}(0,Nb)],WC),lp("view")(WC);const KC=[fk,Wk],GC=Xx,QC=[Em,Am],YC=[Lx,Rx,jx,Ix,Fx,Nx,Dx,zx,Mx,Bx,Vx,Ux,qx,Hx],XC=[Ck,yk,wk,xk,Sk,$k,kk,_C,WC,fC,vC,yC,wC,SC,RC,FC,LC,NC,Ak,Ok,Gk,qC,pC,aC,nC,hC,_b],ZC=[Zw,Jw,Qw,Yw,Xw,zw,_w,Ww,Kw,Gw,sx,cx,ox,rx,ax,lx,ix],JC={register:t=>t.register(...KC,...XC,...QC,...YC,...ZC),createContainer(){return this.register(xu.createContainer())}},tS=xu.createInterface("IAurelia"),eS={maxRetries:3,interval:1e3,strategy:0};class nS{constructor(t){if(this.retryConfig={...eS,...void 0!==t?t:{}},2===this.retryConfig.strategy&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(t){return t.retryConfig||(t.retryConfig={...this.retryConfig},t.retryConfig.counter=0),t.retryConfig.requestClone=t.clone(),t}response(t,e){return Reflect.deleteProperty(e,"retryConfig"),t}responseError(t,e,n){const{retryConfig:i}=e,{requestClone:s}=i;return Promise.resolve().then((()=>{if(i.counter<i.maxRetries){const o=void 0===i.doRetry||i.doRetry(t,e);return Promise.resolve(o).then((o=>{if(o){i.counter++;const t=function(t){const{interval:e,strategy:n,minRandomInterval:i,maxRandomInterval:s,counter:o}=t;if("function"==typeof n)return t.strategy(o);switch(n){case 0:return iS[0](e);case 1:return iS[1](o,e);case 2:return iS[2](o,e);case 3:return iS[3](o,e,i,s);default:throw new Error("Unrecognized retry strategy")}}(i);return new Promise((e=>setTimeout(e,isNaN(t)?0:t))).then((()=>{const t=s.clone();return"function"==typeof i.beforeRetry?i.beforeRetry(t,n):t})).then((t=>{const e={...t,retryConfig:i};return n.fetch(e)}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}}const iS=[t=>t,(t,e)=>e*t,(t,e)=>1===t?e:e**t/1e3,(t,e,n=0,i=6e4)=>Math.random()*(i-n)+n];class sS{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[],this.dispatcher=null}withBaseUrl(t){return this.baseUrl=t,this}withDefaults(t){return this.defaults=t,this}withInterceptor(t){return this.interceptors.push(t),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:oS})}withRetry(t){const e=new nS(t);return this.withInterceptor(e)}withDispatcher(t){return this.dispatcher=t,this}}function oS(t){if(!t.ok)throw t;return t}const rS=/^([a-z][a-z0-9+\-.]*:)?\/\//i;xu.createInterface("IHttpClient",(t=>t.singleton(aS)));class aS{constructor(){this.dispatcher=null,this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[]}configure(t){let e;if("object"==typeof t)e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");{e=new sS,e.baseUrl=this.baseUrl,e.defaults={...this.defaults},e.interceptors=this.interceptors,e.dispatcher=this.dispatcher;const n=t(e);Object.prototype.isPrototypeOf.call(sS.prototype,n)&&(e=n)}}const n=e.defaults;if(void 0!==n&&Object.prototype.isPrototypeOf.call(Headers.prototype,n.headers))throw new Error("Default headers must be a plain object.");const i=e.interceptors;if(void 0!==i&&i.length){if(i.filter((t=>Object.prototype.isPrototypeOf.call(nS.prototype,t))).length>1)throw new Error("Only one RetryInterceptor is allowed.");const t=i.findIndex((t=>Object.prototype.isPrototypeOf.call(nS.prototype,t)));if(t>=0&&t!==i.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=void 0!==e.interceptors?e.interceptors:[],this.dispatcher=e.dispatcher,this.isConfigured=!0,this}fetch(t,e){this.trackRequestStart();let n=this.buildRequest(t,e);return this.processRequest(n,this.interceptors).then((t=>{let e;if(Object.prototype.isPrototypeOf.call(Response.prototype,t))e=Promise.resolve(t);else{if(!Object.prototype.isPrototypeOf.call(Request.prototype,t))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${t}]`);n=t,e=fetch(n)}return this.processResponse(e,this.interceptors,n)})).then((t=>Object.prototype.isPrototypeOf.call(Request.prototype,t)?this.fetch(t):t)).then((t=>(this.trackRequestEnd(),t)),(t=>{throw this.trackRequestEnd(),t}))}buildRequest(t,e){const n=null!==this.defaults?this.defaults:{};let i,s,o;const r=function(t){const e={},n=void 0!==t?t:{};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]="function"==typeof n[t]?n[t]():n[t]);return e}(n.headers);if(Object.prototype.isPrototypeOf.call(Request.prototype,t))i=t,o=new Headers(i.headers).get("Content-Type");else{e||(e={}),s=e.body;const r=void 0!==s?{body:s}:null,c={...n,headers:{},...e,...r};o=new Headers(c.headers).get("Content-Type"),i=new Request((a=this.baseUrl,l=t,rS.test(l)?l:(void 0!==a?a:"")+l),c)}var a,l;return o||(new Headers(r).has("content-type")?i.headers.set("Content-Type",new Headers(r).get("content-type")):void 0!==s&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(s)&&i.headers.set("Content-Type","application/json")),function(t,e){const n=void 0!==e?e:{};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&!t.has(e)&&t.set(e,n[e])}(i.headers,r),void 0!==s&&Object.prototype.isPrototypeOf.call(Blob.prototype,s)&&s.type&&i.headers.set("Content-Type",s.type),i}get(t,e){return this.fetch(t,e)}post(t,e,n){return this.callFetch(t,e,n,"POST")}put(t,e,n){return this.callFetch(t,e,n,"PUT")}patch(t,e,n){return this.callFetch(t,e,n,"PATCH")}delete(t,e,n){return this.callFetch(t,e,n,"DELETE")}trackRequestStart(){if(this.isRequesting=!!++this.activeRequestCount,this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}trackRequestEnd(){if(this.isRequesting=!!--this.activeRequestCount,!this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}processRequest(t,e){return this.applyInterceptors(t,e,"request","requestError",this)}processResponse(t,e,n){return this.applyInterceptors(t,e,"response","responseError",n,this)}applyInterceptors(t,e,n,i,...s){return(void 0!==e?e:[]).reduce(((t,e)=>{const o=e[n],r=e[i];return t.then(o?t=>o.call(e,t,...s):lS,r?t=>r.call(e,t,...s):cS)}),Promise.resolve(t))}callFetch(t,e,n,i){return n||(n={}),n.method=i,e&&(n.body=e),this.fetch(t,n)}}function lS(t){return t}function cS(t){throw t}class hS{constructor(t,e,n){this.path=t,this.caseSensitive=e,this.handler=n}}class uS{constructor(t,e){this.route=t,this.paramNames=e}}class dS{constructor(t,e){this.endpoint=t,this.params=e}}class pS{constructor(t,e,n,i){var s;this.chars=t,this.states=e,this.skippedStates=n,this.result=i,this.head=e[e.length-1],this.endpoint=null===(s=this.head)||void 0===s?void 0:s.endpoint}advance(t){const{chars:e,states:n,skippedStates:i,result:s}=this;let o=null,r=0;const a=n[n.length-1];function l(c,h){if(c.isMatch(t)&&(1==++r?o=c:s.add(new pS(e.concat(t),n.concat(c),null===h?i:i.concat(h),s))),null===a.segment&&c.isOptional&&null!==c.nextStates){if(c.nextStates.length>1)throw new Error(`${c.nextStates.length} nextStates`);const t=c.nextStates[0];if(!t.isSeparator)throw new Error("Not a separator");if(null!==t.nextStates)for(const e of t.nextStates)l(e,c)}}if(a.isDynamic&&l(a,null),null!==a.nextStates)for(const t of a.nextStates)l(t,null);null!==o&&(n.push(this.head=o),e.push(t),null!==o.endpoint&&(this.endpoint=o.endpoint)),0===r&&s.remove(this)}finalize(){!function t(e,n){const i=n.nextStates;if(null!==i)if(1===i.length&&null===i[0].segment)t(e,i[0]);else for(const n of i)if(n.isOptional&&null!==n.endpoint){if(e.push(n),null!==n.nextStates)for(const i of n.nextStates)t(e,i);break}}(this.skippedStates,this.head)}getParams(){const{states:t,chars:e,endpoint:n}=this,i={};for(const t of n.paramNames)i[t]=void 0;for(let n=0,s=t.length;n<s;++n){const s=t[n];if(s.isDynamic){const t=s.segment.name;void 0===i[t]?i[t]=e[n]:i[t]+=e[n]}}return i}compareTo(t){const e=this.states,n=t.states;for(let t=0,i=0,s=Math.max(e.length,n.length);t<s;++t){let s=e[t];if(void 0===s)return 1;let o=n[i];if(void 0===o)return-1;let r=s.segment,a=o.segment;if(null===r){if(null===a){++i;continue}if(void 0===(s=e[++t]))return 1;r=s.segment}else if(null===a){if(void 0===(o=n[++i]))return-1;a=o.segment}if(r.kind<a.kind)return 1;if(r.kind>a.kind)return-1;++i}const i=this.skippedStates,s=t.skippedStates,o=i.length,r=s.length;if(o<r)return 1;if(o>r)return-1;for(let t=0;t<o;++t){const e=i[t],n=s[t];if(e.length<n.length)return 1;if(e.length>n.length)return-1}return 0}}function gS(t){return null!==t.head.endpoint}function fS(t,e){return t.compareTo(e)}class vS{constructor(t){this.candidates=[],this.candidates=[new pS([""],[t],[],this)]}get isEmpty(){return 0===this.candidates.length}getSolution(){const t=this.candidates.filter(gS);if(0===t.length)return null;for(const e of t)e.finalize();return t.sort(fS),t[0]}add(t){this.candidates.push(t)}remove(t){this.candidates.splice(this.candidates.indexOf(t),1)}advance(t){const e=this.candidates.slice();for(const n of e)n.advance(t)}}class mS{constructor(){this.rootState=new bS(null,null,""),this.cache=new Map}add(t){if(t instanceof Array)for(const e of t)this.$add(e);else this.$add(t);this.cache.clear()}$add(t){const e=t.path,n=new hS(t.path,!0===t.caseSensitive,t.handler),i=""===e?[""]:e.split("/").filter(yS),s=[];let o=this.rootState;for(const t of i)switch(o=o.append(null,"/"),t.charAt(0)){case":":{const e=t.endsWith("?"),n=e?t.slice(1,-1):t.slice(1);s.push(n),o=new kS(n,e).appendTo(o);break}case"*":{const e=t.slice(1);s.push(e),o=new CS(e).appendTo(o);break}default:o=new xS(t,n.caseSensitive).appendTo(o)}const r=new uS(n,s);o.setEndpoint(r)}recognize(t){let e=this.cache.get(t);return void 0===e&&this.cache.set(t,e=this.$recognize(t)),e}$recognize(t){(t=decodeURI(t)).startsWith("/")||(t=`/${t}`),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1));const e=new vS(this.rootState);for(let n=0,i=t.length;n<i;++n){const i=t.charAt(n);if(e.advance(i),e.isEmpty)return null}const n=e.getSolution();if(null===n)return null;const{endpoint:i}=n,s=n.getParams();return new dS(i,s)}}class bS{constructor(t,e,n){switch(this.prevState=t,this.segment=e,this.value=n,this.nextStates=null,this.endpoint=null,null==e?void 0:e.kind){case 2:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=e.optional;break;case 1:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 3:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=null===t?0:t.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1}}append(t,e){let n,i=this.nextStates;return null===i?(n=void 0,i=this.nextStates=[]):n=null===t?i.find((t=>t.value===e)):i.find((e=>{var n;return null===(n=e.segment)||void 0===n?void 0:n.equals(t)})),void 0===n&&i.push(n=new bS(this,t,e)),n}setEndpoint(t){if(null!==this.endpoint)throw new Error(`Cannot add ambiguous route. The pattern '${t.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=t,this.isOptional&&(this.prevState.setEndpoint(t),this.prevState.isSeparator&&null!==this.prevState.prevState&&this.prevState.prevState.setEndpoint(t))}isMatch(t){const e=this.segment;switch(null==e?void 0:e.kind){case 2:return!this.value.includes(t);case 1:return!0;case 3:case void 0:return this.value.includes(t)}}}function yS(t){return t.length>0}var wS;!function(t){t[t.star=1]="star",t[t.dynamic=2]="dynamic",t[t.static=3]="static"}(wS||(wS={}));class xS{constructor(t,e){this.value=t,this.caseSensitive=e}get kind(){return 3}appendTo(t){const{value:e,value:{length:n}}=this;if(this.caseSensitive)for(let i=0;i<n;++i)t=t.append(this,e.charAt(i));else for(let i=0;i<n;++i){const n=e.charAt(i);t=t.append(this,n.toUpperCase()+n.toLowerCase())}return t}equals(t){return 3===t.kind&&t.caseSensitive===this.caseSensitive&&t.value===this.value}}class kS{constructor(t,e){this.name=t,this.optional=e}get kind(){return 2}appendTo(t){return t.append(this,"/")}equals(t){return 2===t.kind&&t.optional===this.optional&&t.name===this.name}}class CS{constructor(t){this.name=t}get kind(){return 1}appendTo(t){return t.append(this,"")}equals(t){return 1===t.kind&&t.name===this.name}}class SS{constructor(t,e,n){this.stack=t,this.cb=e,this.done=!1,this.next=null,this.head=null!=n?n:this}static start(t){return new SS(0,t,null)}push(){let t=this;do{++t.stack,t=t.next}while(null!==t)}pop(){let t=this;do{0==--t.stack&&t.invoke(),t=t.next}while(null!==t)}invoke(){const t=this.cb;null!==t&&(this.cb=null,t(this),this.done=!0)}continueWith(t){return null===this.next?this.next=new SS(this.stack,t,this.head):this.next.continueWith(t)}start(){return this.head.push(),this.head.pop(),this}}function $S(t,e){t=t.slice(),e=e.slice();const n=[];for(;t.length>0;){const i=t.shift();if(n.every((t=>t.context.vpa!==i.context.vpa))){const t=e.findIndex((t=>t.context.vpa===i.context.vpa));t>=0?n.push(...e.splice(0,t+1)):n.push(i)}}return n.push(...e),n}function TS(t){try{return JSON.stringify(t)}catch(e){return Object.prototype.toString.call(t)}}function AS(t){return"string"==typeof t?[t]:t}function ES(t){return"object"==typeof t&&null!==t&&!Ly(t)}function OS(t){return ES(t)&&!0===Object.prototype.hasOwnProperty.call(t,"name")}function PS(t){return ES(t)&&!0===Object.prototype.hasOwnProperty.call(t,"component")}function RS(t){return ES(t)&&!0===Object.prototype.hasOwnProperty.call(t,"redirectTo")}function IS(t){return ES(t)&&!0===Object.prototype.hasOwnProperty.call(t,"component")}function jS(t,e,n){throw new Error(`Invalid route config property: "${e}". Expected ${t}, but got ${TS(n)}.`)}function FS(t,e){if(null==t)throw new Error(`Invalid route config: expected an object or string, but got: ${String(t)}.`);const n=Object.keys(t);for(const i of n){const n=t[i],s=[e,i].join(".");switch(i){case"id":case"viewport":case"redirectTo":"string"!=typeof n&&jS("string",s,n);break;case"caseSensitive":"boolean"!=typeof n&&jS("boolean",s,n);break;case"data":"object"==typeof n&&null!==n||jS("object",s,n);break;case"title":switch(typeof n){case"string":case"function":break;default:jS("string or function",s,n)}break;case"path":if(n instanceof Array)for(let t=0;t<n.length;++t)"string"!=typeof n[t]&&jS("string",`${s}[${t}]`,n[t]);else"string"!=typeof n&&jS("string or Array of strings",s,n);break;case"component":LS(n,s);break;case"routes":n instanceof Array||jS("Array",s,n);for(const t of n)LS(t,`${s}[${n.indexOf(t)}]`);break;case"transitionPlan":switch(typeof n){case"string":switch(n){case"none":case"replace":case"invoke-lifecycles":break;default:jS("string('none'|'replace'|'invoke-lifecycles') or function",s,n)}break;case"function":break;default:jS("string('none'|'replace'|'invoke-lifecycles') or function",s,n)}break;default:throw new Error(`Unknown route config property: "${e}.${i}". Please specify known properties only.`)}}}function LS(t,e){switch(typeof t){case"function":break;case"object":if(t instanceof Promise)break;if(RS(t)){!function(t,e){if(null==t)throw new Error(`Invalid route config: expected an object or string, but got: ${String(t)}.`);const n=Object.keys(t);for(const i of n){const n=t[i],s=[e,i].join(".");switch(i){case"path":case"redirectTo":"string"!=typeof n&&jS("string",s,n);break;default:throw new Error(`Unknown redirect config property: "${e}.${i}". Only 'path' and 'redirectTo' should be specified for redirects.`)}}}(t,e);break}if(PS(t)){FS(t,e);break}Ly(t)||OS(t)||jS("an object with at least a 'component' property (see Routeable)",e,t);break;case"string":break;default:jS("function, object or string (see Routeable)",e,t)}}function NS(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let s=0,o=n.length;s<o;++s){const o=n[s];if(o!==i[s])return!1;if(t[o]!==e[o])return!1}return!0}var DS=function(t,e){return function(n,i){e(n,i,t)}};class MS{constructor(t,e,n){this.events=t,this.serial=e,this.inner=n,this.disposed=!1}dispose(){if(!this.disposed){this.disposed=!0,this.inner.dispose();const t=this.events.subscriptions;t.splice(t.indexOf(this),1)}}}const BS=xu.createInterface("IRouterEvents",(t=>t.singleton(VS)));let VS=class{constructor(t,e){this.ea=t,this.logger=e,this.subscriptionSerial=0,this.subscriptions=[],this.logger=e.scopeTo("RouterEvents")}publish(t){this.logger.trace("publishing %s",t),this.ea.publish(t.name,t)}subscribe(t,e){const n=new MS(this,++this.subscriptionSerial,this.ea.subscribe(t,(i=>{this.logger.trace(`handling %s for subscription #${n.serial}`,t),e(i)})));return this.subscriptions.push(n),n}};VS=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([DS(0,Ud),DS(1,Sd)],VS);class HS{constructor(t,e,n,i){this.id=t,this.url=e,this.trigger=n,this.state=i}get name(){return"au:router:location-change"}toString(){return`LocationChangeEvent(id:${this.id},url:'${this.url}',trigger:'${this.trigger}')`}}class qS{constructor(t,e,n,i){this.id=t,this.instructions=e,this.trigger=n,this.managedState=i}get name(){return"au:router:navigation-start"}toString(){return`NavigationStartEvent(id:${this.id},instructions:'${this.instructions}',trigger:'${this.trigger}')`}}class US{constructor(t,e,n){this.id=t,this.instructions=e,this.finalInstructions=n}get name(){return"au:router:navigation-end"}toString(){return`NavigationEndEvent(id:${this.id},instructions:'${this.instructions}',finalInstructions:'${this.finalInstructions}')`}}class zS{constructor(t,e,n){this.id=t,this.instructions=e,this.reason=n}get name(){return"au:router:navigation-cancel"}toString(){return`NavigationCancelEvent(id:${this.id},instructions:'${this.instructions}',reason:${String(this.reason)})`}}var _S=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},WS=function(t,e){return function(n,i){e(n,i,t)}};const KS=xu.createInterface("IBaseHrefProvider",(t=>t.singleton(GS)));let GS=class{constructor(t){this.window=t}getBaseHref(){const t=this.window.document.head.querySelector("base");return null===t?null:XS(t.href)}};GS=_S([WS(0,rw)],GS);const QS=xu.createInterface("ILocationManager",(t=>t.singleton(YS)));let YS=class{constructor(t,e,n,i,s,o){var r;this.logger=t,this.events=e,this.history=n,this.location=i,this.window=s,this.baseHrefProvider=o,this.eventId=0,this.logger=t.root.scopeTo("LocationManager");const a=o.getBaseHref();if(null===a){const t=null!==(r=i.origin)&&void 0!==r?r:"",e=this.baseHref=XS(t);this.logger.warn(`no baseHref provided, defaulting to origin '${e}' (normalized from '${t}')`)}else{const t=this.baseHref=XS(a);this.logger.debug(`baseHref set to '${t}' (normalized from '${a}')`)}}startListening(){this.logger.trace("startListening()"),this.window.addEventListener("popstate",this.onPopState,!1),this.window.addEventListener("hashchange",this.onHashChange,!1)}stopListening(){this.logger.trace("stopListening()"),this.window.removeEventListener("popstate",this.onPopState,!1),this.window.removeEventListener("hashchange",this.onHashChange,!1)}onPopState(t){this.logger.trace("onPopState()"),this.events.publish(new HS(++this.eventId,this.getPath(),"popstate",t.state))}onHashChange(t){this.logger.trace("onHashChange()"),this.events.publish(new HS(++this.eventId,this.getPath(),"hashchange",null))}pushState(t,e,n){try{const i=JSON.stringify(t);this.logger.trace(`pushState(state:${i},title:'${e}',url:'${n}')`)}catch(t){this.logger.warn(`pushState(state:NOT_SERIALIZABLE,title:'${e}',url:'${n}')`)}this.history.pushState(t,e,n)}replaceState(t,e,n){try{const i=JSON.stringify(t);this.logger.trace(`replaceState(state:${i},title:'${e}',url:'${n}')`)}catch(t){this.logger.warn(`replaceState(state:NOT_SERIALIZABLE,title:'${e}',url:'${n}')`)}this.history.replaceState(t,e,n)}getPath(){const{pathname:t,search:e,hash:n}=this.location,i=this.normalize(`${t}${s=e,s.length>0&&!s.startsWith("?")?`?${s}`:s}${n}`);var s;return this.logger.trace(`getPath() -> '${i}'`),i}currentPathEquals(t){const e=this.getPath()===this.normalize(t);return this.logger.trace(`currentPathEquals(path:'${t}') -> ${e}`),e}getExternalURL(t){const e=t;let n=this.baseHref;n.endsWith("/")&&(n=n.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1));const i=`${n}/${t}`;return this.logger.trace(`getExternalURL(path:'${e}') -> '${i}'`),i}normalize(t){const e=t;return t.startsWith(this.baseHref)&&(t=t.slice(this.baseHref.length)),t=XS(t),this.logger.trace(`normalize(path:'${e}') -> '${t}'`),t}};function XS(t){let e,n,i;return(i=t.indexOf("?"))>=0||(i=t.indexOf("#"))>=0?(e=t.slice(0,i),n=t.slice(i)):(e=t,n=""),e.endsWith("/")?e=e.slice(0,-1):e.endsWith("/index.html")&&(e=e.slice(0,-11)),`${e}${n}`}_S([nu],YS.prototype,"onPopState",null),_S([nu],YS.prototype,"onHashChange",null),YS=_S([WS(0,Sd),WS(1,BS),WS(2,lw),WS(3,aw),WS(4,rw),WS(5,KS)],YS);class ZS{constructor(t,e,n,i){this.viewportName=t,this.componentName=e,this.resolution=n,this.append=i}static create(t){return new ZS(t.viewportName,t.componentName,t.resolution,t.append)}toString(){return`VR(viewport:'${this.viewportName}',component:'${this.componentName}',resolution:'${this.resolution}',append:${this.append})`}}const JS=new WeakMap;class t${constructor(t,e,n){this.viewport=t,this.hostController=e,this.ctx=n,this.isActive=!1,this.curCA=null,this.nextCA=null,this.state=8256,this.$resolution="dynamic",this.$plan="replace",this.currNode=null,this.nextNode=null,this.currTransition=null,this.prevTransition=null,this.logger=n.get(Sd).scopeTo(`ViewportAgent<${n.friendlyPath}>`),this.logger.trace("constructor()")}get $state(){return function(t){let e=s$.get(t);return void 0===e&&s$.set(t,e=function(t){const e=[];return 8192==(8192&t)&&e.push("currIsEmpty"),4096==(4096&t)&&e.push("currIsActive"),2048==(2048&t)&&e.push("currCanUnload"),1024==(1024&t)&&e.push("currCanUnloadDone"),512==(512&t)&&e.push("currUnload"),256==(256&t)&&e.push("currUnloadDone"),128==(128&t)&&e.push("currDeactivate"),64==(64&t)&&e.push("nextIsEmpty"),32==(32&t)&&e.push("nextIsScheduled"),16==(16&t)&&e.push("nextCanLoad"),8==(8&t)&&e.push("nextCanLoadDone"),4==(4&t)&&e.push("nextLoad"),2==(2&t)&&e.push("nextLoadDone"),1==(1&t)&&e.push("nextActivate"),e.join("|")}(t)),e}(this.state)}get currState(){return 16256&this.state}set currState(t){this.state=127&this.state|t}get nextState(){return 127&this.state}set nextState(t){this.state=16256&this.state|t}static for(t,e){let n=JS.get(t);if(void 0===n){const i=Oy.getCachedOrThrow(t);JS.set(t,n=new t$(t,i,e))}return n}activateFromViewport(t,e,n){const i=this.currTransition;switch(null!==i&&n$(i),this.isActive=!0,this.nextState){case 64:switch(this.currState){case 8192:return void this.logger.trace("activateFromViewport() - nothing to activate at %s",this);case 4096:return this.logger.trace("activateFromViewport() - activating existing componentAgent at %s",this),this.curCA.activate(t,e,n);default:this.unexpectedState("activateFromViewport 1")}case 2:{if(null===this.currTransition)throw new Error(`Unexpected viewport activation outside of a transition context at ${this}`);if("static"!==this.$resolution)throw new Error(`Unexpected viewport activation at ${this}`);this.logger.trace("activateFromViewport() - running ordinary activate at %s",this);const e=SS.start((e=>{this.activate(t,this.currTransition,e)})),n=new Promise((t=>{e.continueWith((()=>{t()}))}));return e.start().done?void 0:n}default:this.unexpectedState("activateFromViewport 2")}}deactivateFromViewport(t,e,n){const i=this.currTransition;switch(null!==i&&n$(i),this.isActive=!1,this.currState){case 8192:return void this.logger.trace("deactivateFromViewport() - nothing to deactivate at %s",this);case 4096:return this.logger.trace("deactivateFromViewport() - deactivating existing componentAgent at %s",this),this.curCA.deactivate(t,e,n);case 128:return void this.logger.trace("deactivateFromViewport() - already deactivating at %s",this);default:{if(null===this.currTransition)throw new Error(`Unexpected viewport deactivation outside of a transition context at ${this}`);this.logger.trace("deactivateFromViewport() - running ordinary deactivate at %s",this);const e=SS.start((e=>{this.deactivate(t,this.currTransition,e)})),n=new Promise((t=>{e.continueWith((()=>{t()}))}));return e.start().done?void 0:n}}}handles(t){return!(!this.isAvailable(t.resolution)||(t.append&&4096===this.currState?(this.logger.trace("handles(req:%s) -> false (append mode, viewport already has content %s)",t,this.curCA),1):t.viewportName.length>0&&this.viewport.name!==t.viewportName?(this.logger.trace("handles(req:%s) -> false (names don't match)",t),1):this.viewport.usedBy.length>0&&!this.viewport.usedBy.split(",").includes(t.componentName)?(this.logger.trace("handles(req:%s) -> false (componentName not included in usedBy)",t),1):(this.logger.trace("handles(req:%s) -> true",t),0)))}isAvailable(t){return"dynamic"!==t||this.isActive?64===this.nextState||(this.logger.trace("isAvailable(resolution:%s) -> false (update already scheduled for %s)",t,this.nextNode),!1):(this.logger.trace("isAvailable(resolution:%s) -> false (viewport is not active and we're in dynamic resolution resolution)",t),!1)}canUnload(t,e){null===this.currTransition&&(this.currTransition=t),n$(t),!0===t.guardsResult&&(e.push(),SS.start((e=>{this.logger.trace("canUnload() - invoking on children at %s",this);for(const n of this.currNode.children)n.context.vpa.canUnload(t,e)})).continueWith((e=>{switch(this.currState){case 4096:switch(this.logger.trace("canUnload() - invoking on existing component at %s",this),this.$plan){case"none":return void(this.currState=1024);case"invoke-lifecycles":case"replace":return this.currState=2048,e.push(),void SS.start((e=>{this.logger.trace("canUnload() - finished invoking on children, now invoking on own component at %s",this),this.curCA.canUnload(t,this.nextNode,e)})).continueWith((()=>{this.logger.trace("canUnload() - finished at %s",this),this.currState=1024,e.pop()})).start()}case 8192:return void this.logger.trace("canUnload() - nothing to unload at %s",this);default:t.handleError(new Error(`Unexpected state at canUnload of ${this}`))}})).continueWith((()=>{e.pop()})).start())}canLoad(t,e){null===this.currTransition&&(this.currTransition=t),n$(t),!0===t.guardsResult&&(e.push(),SS.start((e=>{switch(this.nextState){case 32:switch(this.logger.trace("canLoad() - invoking on new component at %s",this),this.nextState=16,this.$plan){case"none":return;case"invoke-lifecycles":return this.curCA.canLoad(t,this.nextNode,e);case"replace":return this.nextCA=this.nextNode.context.createComponentAgent(this.hostController,this.nextNode),this.nextCA.canLoad(t,this.nextNode,e)}case 64:return void this.logger.trace("canLoad() - nothing to load at %s",this);default:this.unexpectedState("canLoad")}})).continueWith((t=>{const e=this.nextNode;switch(this.$plan){case"none":case"invoke-lifecycles":return this.logger.trace("canLoad(next:%s) - plan set to '%s', compiling residue",e,this.$plan),t.push(),void lu($$(e),(()=>{t.pop()}));case"replace":switch(this.$resolution){case"dynamic":return void this.logger.trace("canLoad(next:%s) - (resolution: 'dynamic'), delaying residue compilation until activate",e,this.$plan);case"static":return this.logger.trace(`canLoad(next:%s) - (resolution: '${this.$resolution}'), creating nextCA and compiling residue`,e,this.$plan),t.push(),void lu($$(e),(()=>{t.pop()}))}}})).continueWith((e=>{switch(this.nextState){case 16:this.logger.trace("canLoad() - finished own component, now invoking on children at %s",this),this.nextState=8;for(const n of this.nextNode.children)n.context.vpa.canLoad(t,e);return;case 64:return;default:this.unexpectedState("canLoad")}})).continueWith((()=>{this.logger.trace("canLoad() - finished at %s",this),e.pop()})).start())}unload(t,e){n$(t),e$(this,t),e.push(),SS.start((e=>{this.logger.trace("unload() - invoking on children at %s",this);for(const n of this.currNode.children)n.context.vpa.unload(t,e)})).continueWith((n=>{switch(this.currState){case 1024:switch(this.logger.trace("unload() - invoking on existing component at %s",this),this.$plan){case"none":return void(this.currState=256);case"invoke-lifecycles":case"replace":return this.currState=512,n.push(),void SS.start((e=>{this.logger.trace("unload() - finished invoking on children, now invoking on own component at %s",this),this.curCA.unload(t,this.nextNode,e)})).continueWith((()=>{this.logger.trace("unload() - finished at %s",this),this.currState=256,n.pop()})).start()}case 8192:this.logger.trace("unload() - nothing to unload at %s",this);for(const n of this.currNode.children)n.context.vpa.unload(t,e);return;default:this.unexpectedState("unload")}})).continueWith((()=>{e.pop()})).start()}load(t,e){n$(t),e$(this,t),e.push(),SS.start((e=>{switch(this.nextState){case 8:switch(this.logger.trace("load() - invoking on new component at %s",this),this.nextState=4,this.$plan){case"none":return;case"invoke-lifecycles":return this.curCA.load(t,this.nextNode,e);case"replace":return this.nextCA.load(t,this.nextNode,e)}case 64:return void this.logger.trace("load() - nothing to load at %s",this);default:this.unexpectedState("load")}})).continueWith((e=>{switch(this.nextState){case 4:this.logger.trace("load() - finished own component, now invoking on children at %s",this),this.nextState=2;for(const n of this.nextNode.children)n.context.vpa.load(t,e);return;case 64:return;default:this.unexpectedState("load")}})).continueWith((()=>{this.logger.trace("load() - finished at %s",this),e.pop()})).start()}deactivate(t,e,n){switch(n$(e),e$(this,e),n.push(),this.currState){case 256:switch(this.logger.trace("deactivate() - invoking on existing component at %s",this),this.currState=128,this.$plan){case"none":case"invoke-lifecycles":return void n.pop();case"replace":{const i=this.hostController,s=this.viewport.stateful?0:32;e.run((()=>this.curCA.deactivate(t,i,s)),(()=>{n.pop()}))}}return;case 8192:return this.logger.trace("deactivate() - nothing to deactivate at %s",this),void n.pop();case 128:return this.logger.trace("deactivate() - already deactivating at %s",this),void n.pop();default:this.unexpectedState("deactivate")}}activate(t,e,n){if(n$(e),e$(this,e),n.push(),32===this.nextState&&"dynamic"===this.$resolution)return this.logger.trace("activate() - invoking canLoad(), load() and activate() on new component due to resolution 'dynamic' at %s",this),void SS.start((t=>{this.canLoad(e,t)})).continueWith((t=>{this.load(e,t)})).continueWith((n=>{this.activate(t,e,n)})).continueWith((()=>{n.pop()})).start();switch(this.nextState){case 2:return this.logger.trace("activate() - invoking on existing component at %s",this),this.nextState=1,void SS.start((n=>{switch(this.$plan){case"none":case"invoke-lifecycles":return;case"replace":{const i=this.hostController,s=0;e.run((()=>(n.push(),this.nextCA.activate(t,i,s))),(()=>{n.pop()}))}}})).continueWith((t=>{this.processDynamicChildren(e,t)})).continueWith((()=>{n.pop()})).start();case 64:return this.logger.trace("activate() - nothing to activate at %s",this),void n.pop();default:this.unexpectedState("activate")}}swap(t,e){if(8192===this.currState)return this.logger.trace("swap() - running activate on next instead, because there is nothing to deactivate at %s",this),void this.activate(null,t,e);if(64===this.nextState)return this.logger.trace("swap() - running deactivate on current instead, because there is nothing to activate at %s",this),void this.deactivate(null,t,e);switch(n$(t),e$(this,t),256===this.currState&&2===this.nextState||this.unexpectedState("swap"),this.currState=128,this.nextState=1,this.$plan){case"none":case"invoke-lifecycles":{this.logger.trace("swap() - skipping this level and swapping children instead at %s",this);const n=$S(this.nextNode.children,this.currNode.children);for(const i of n)i.context.vpa.swap(t,e);return}case"replace":{this.logger.trace("swap() - running normally at %s",this);const n=this.hostController,i=this.curCA,s=this.nextCA,o=this.viewport.stateful?0:32,r=0;switch(e.push(),t.options.swapStrategy){case"sequential-add-first":return void SS.start((e=>{t.run((()=>(e.push(),s.activate(null,n,r))),(()=>{e.pop()}))})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{t.run((()=>i.deactivate(null,n,o)),(()=>{e.pop()}))})).start();case"sequential-remove-first":return void SS.start((e=>{t.run((()=>(e.push(),i.deactivate(null,n,o))),(()=>{e.pop()}))})).continueWith((e=>{t.run((()=>(e.push(),s.activate(null,n,r))),(()=>{e.pop()}))})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{e.pop()})).start();case"parallel-remove-first":return t.run((()=>(e.push(),i.deactivate(null,n,o))),(()=>{e.pop()})),void SS.start((e=>{t.run((()=>(e.push(),s.activate(null,n,r))),(()=>{e.pop()}))})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{e.pop()})).start()}}}}processDynamicChildren(t,e){this.logger.trace("processDynamicChildren() - %s",this);const n=this.nextNode;t.run((()=>(e.push(),function(t){const e=t.context,n=e.get(Sd).scopeTo("RouteTree"),i=e.resolved instanceof Promise?" - awaiting promise":"";return n.trace(`getDynamicChildren(node:%s)${i}`,t),lu(e.resolved,(()=>{const i=t.children.slice();return lu(cu(...t.residue.splice(0).map((e=>T$(n,t,e,t.append))),...e.getAvailableViewportAgents("dynamic").map((e=>{const i=V$.create({component:e.viewport.default,viewport:e.viewport.name});return T$(n,t,i,t.append)}))),(()=>t.children.filter((t=>!i.includes(t)))))}))}(n))),(n=>{SS.start((e=>{for(const i of n)t.run((()=>(e.push(),i.context.vpa.canLoad(t,e))),(()=>{e.pop()}))})).continueWith((e=>{for(const i of n)t.run((()=>(e.push(),i.context.vpa.load(t,e))),(()=>{e.pop()}))})).continueWith((e=>{for(const i of n)t.run((()=>(e.push(),i.context.vpa.activate(null,t,e))),(()=>{e.pop()}))})).continueWith((()=>{e.pop()})).start()}))}scheduleUpdate(t,e){var n,i;switch(this.nextState){case 64:this.nextNode=e,this.nextState=32,this.$resolution=t.resolutionMode;break;default:this.unexpectedState("scheduleUpdate 1")}switch(this.currState){case 8192:case 4096:case 1024:break;default:this.unexpectedState("scheduleUpdate 2")}const s=null!==(i=null===(n=this.curCA)||void 0===n?void 0:n.routeNode)&&void 0!==i?i:null;if(null===s||s.component!==e.component)this.$plan="replace";else{const t=e.context.definition.config.transitionPlan;this.$plan="function"==typeof t?t(s,e):t}this.logger.trace("scheduleUpdate(next:%s) - plan set to '%s'",e,this.$plan)}cancelUpdate(){switch(null!==this.currNode&&this.currNode.children.forEach((function(t){t.context.vpa.cancelUpdate()})),null!==this.nextNode&&this.nextNode.children.forEach((function(t){t.context.vpa.cancelUpdate()})),this.logger.trace("cancelUpdate(nextNode:%s)",this.nextNode),this.currState){case 8192:case 4096:break;case 2048:case 1024:this.currState=4096}switch(this.nextState){case 64:case 32:case 16:case 8:this.nextNode=null,this.nextState=64}}endTransition(){if(null!==this.currNode&&this.currNode.children.forEach((function(t){t.context.vpa.endTransition()})),null!==this.nextNode&&this.nextNode.children.forEach((function(t){t.context.vpa.endTransition()})),null!==this.currTransition){switch(n$(this.currTransition),this.nextState){case 64:switch(this.currState){case 128:this.logger.trace("endTransition() - setting currState to State.nextIsEmpty at %s",this),this.currState=8192,this.curCA=null;break;default:this.unexpectedState("endTransition 1")}break;case 1:switch(this.currState){case 8192:case 128:switch(this.$plan){case"none":case"invoke-lifecycles":this.logger.trace("endTransition() - setting currState to State.currIsActive at %s",this),this.currState=4096;break;case"replace":this.logger.trace("endTransition() - setting currState to State.currIsActive and reassigning curCA at %s",this),this.currState=4096,this.curCA=this.nextCA}this.currNode=this.nextNode;break;default:this.unexpectedState("endTransition 2")}break;default:this.unexpectedState("endTransition 3")}this.$plan="replace",this.nextState=64,this.nextNode=null,this.nextCA=null,this.prevTransition=this.currTransition,this.currTransition=null}}toString(){return`VPA(state:${this.$state},plan:'${this.$plan}',resolution:'${this.$resolution}',n:${this.nextNode},c:${this.currNode},viewport:${this.viewport})`}dispose(){var t;this.viewport.stateful?this.logger.trace("dispose() - not disposing stateful viewport at %s",this):(this.logger.trace("dispose() - disposing %s",this),null===(t=this.curCA)||void 0===t||t.dispose())}unexpectedState(t){throw new Error(`Unexpected state at ${t} of ${this}`)}}function e$(t,e){if(!0!==e.guardsResult)throw new Error(`Unexpected guardsResult ${e.guardsResult} at ${t}`)}function n$(t){if(void 0!==t.error)throw t.error}var i$;!function(t){t[t.curr=16256]="curr",t[t.currIsEmpty=8192]="currIsEmpty",t[t.currIsActive=4096]="currIsActive",t[t.currCanUnload=2048]="currCanUnload",t[t.currCanUnloadDone=1024]="currCanUnloadDone",t[t.currUnload=512]="currUnload",t[t.currUnloadDone=256]="currUnloadDone",t[t.currDeactivate=128]="currDeactivate",t[t.next=127]="next",t[t.nextIsEmpty=64]="nextIsEmpty",t[t.nextIsScheduled=32]="nextIsScheduled",t[t.nextCanLoad=16]="nextCanLoad",t[t.nextCanLoadDone=8]="nextCanLoadDone",t[t.nextLoad=4]="nextLoad",t[t.nextLoadDone=2]="nextLoadDone",t[t.nextActivate=1]="nextActivate",t[t.bothAreEmpty=8256]="bothAreEmpty"}(i$||(i$={}));const s$=new Map,o$=["?","#","/","+","(",")",".","@","!","=",",","&","'","~",";"];class r${constructor(t){this.input=t,this.buffers=[],this.bufferIndex=0,this.index=0,this.rest=t}get done(){return 0===this.rest.length}startsWith(...t){const e=this.rest;return t.some((function(t){return e.startsWith(t)}))}consumeOptional(t){return!!this.startsWith(t)&&(this.rest=this.rest.slice(t.length),this.index+=t.length,this.append(t),!0)}consume(t){this.consumeOptional(t)||this.expect(`'${t}'`)}expect(t){throw new Error(`Expected ${t} at index ${this.index} of '${this.input}', but got: '${this.rest}' (rest='${this.rest}')`)}ensureDone(){if(!this.done)throw new Error(`Unexpected '${this.rest}' at index ${this.index} of '${this.input}'`)}advance(){const t=this.rest[0];this.rest=this.rest.slice(1),++this.index,this.append(t)}record(){this.buffers[this.bufferIndex++]=""}playback(){const t=--this.bufferIndex,e=this.buffers,n=e[t];return e[t]="",n}discard(){this.buffers[--this.bufferIndex]=""}append(t){const e=this.bufferIndex,n=this.buffers;for(let i=0;i<e;++i)n[i]+=t}}var a$;!function(t){t[t.Route=0]="Route",t[t.CompositeSegment=1]="CompositeSegment",t[t.ScopedSegment=2]="ScopedSegment",t[t.SegmentGroup=3]="SegmentGroup",t[t.Segment=4]="Segment",t[t.Component=5]="Component",t[t.Action=6]="Action",t[t.Viewport=7]="Viewport",t[t.ParameterList=8]="ParameterList",t[t.Parameter=9]="Parameter"}(a$||(a$={}));const l$=new Map,c$=new Map;class h${constructor(t,e,n,i,s,o){this.raw=t,this.isAbsolute=e,this.root=n,this.queryParams=i,this.fragment=s,this.fragmentIsRoute=o}get kind(){return 0}static parse(t,e){const n=e?l$:c$;let i=n.get(t);return void 0===i&&n.set(t,i=h$.$parse(t,e)),i}static $parse(t,e){let n;const i=t.indexOf("#");if(i>=0){const s=t.slice(i+1);n=decodeURIComponent(s),t=e?n:t.slice(0,i)}else e&&(t=""),n=null;let s=null;const o=t.indexOf("?");if(o>=0){const e=t.slice(o+1);t=t.slice(0,o),s=new URLSearchParams(e)}if(""===t)return new h$("",!1,g$.EMPTY,Object.freeze(null!=s?s:new URLSearchParams),n,e);const r=new r$(t);r.record();const a=r.consumeOptional("/"),l=u$.parse(r);r.ensureDone();const c=r.playback();return new h$(c,a,l,Object.freeze(null!=s?s:new URLSearchParams),n,e)}toInstructionTree(t){return new q$(t,this.isAbsolute,this.root.toInstructions(t.append,0,0),this.queryParams,this.fragment)}toString(){return this.raw}}class u${constructor(t,e,n){this.raw=t,this.siblings=e,this.append=n}get kind(){return 1}static parse(t){t.record();const e=t.consumeOptional("+"),n=[];do{n.push(d$.parse(t))}while(t.consumeOptional("+"));if(!e&&1===n.length)return t.discard(),n[0];const i=t.playback();return new u$(i,n,e)}toInstructions(t,e,n){switch(this.siblings.length){case 0:return[];case 1:return this.siblings[0].toInstructions(t,e,n);case 2:return[...this.siblings[0].toInstructions(t,e,0),...this.siblings[1].toInstructions(t,0,n)];default:return[...this.siblings[0].toInstructions(t,e,0),...this.siblings.slice(1,-1).flatMap((function(e){return e.toInstructions(t,0,0)})),...this.siblings[this.siblings.length-1].toInstructions(t,0,n)]}}toString(){return this.raw}}class d${constructor(t,e,n){this.raw=t,this.left=e,this.right=n}get kind(){return 2}static parse(t){t.record();const e=p$.parse(t);if(t.consumeOptional("/")){const n=d$.parse(t),i=t.playback();return new d$(i,e,n)}return t.discard(),e}toInstructions(t,e,n){const i=this.left.toInstructions(t,e,0),s=this.right.toInstructions(!1,0,n);let o=i[i.length-1];for(;o.children.length>0;)o=o.children[o.children.length-1];return o.children.push(...s),i}toString(){return this.raw}}class p${constructor(t,e){this.raw=t,this.expression=e}get kind(){return 3}static parse(t){if(t.record(),t.consumeOptional("(")){const e=u$.parse(t);t.consume(")");const n=t.playback();return new p$(n,e)}return t.discard(),g$.parse(t)}toInstructions(t,e,n){return this.expression.toInstructions(t,e+1,n+1)}toString(){return this.raw}}class g${constructor(t,e,n,i,s){this.raw=t,this.component=e,this.action=n,this.viewport=i,this.scoped=s}get kind(){return 4}static get EMPTY(){return new g$("",f$.EMPTY,v$.EMPTY,m$.EMPTY,!0)}static parse(t){t.record();const e=f$.parse(t),n=v$.parse(t),i=m$.parse(t),s=!t.consumeOptional("!"),o=t.playback();return new g$(o,e,n,i,s)}toInstructions(t,e,n){return[V$.create({component:this.component.name,params:this.component.parameterList.toObject(),viewport:this.viewport.name,append:t,open:e,close:n})]}toString(){return this.raw}}class f${constructor(t,e,n){switch(this.raw=t,this.name=e,this.parameterList=n,e.charAt(0)){case":":this.isParameter=!0,this.isStar=!1,this.isDynamic=!0,this.parameterName=e.slice(1);break;case"*":this.isParameter=!1,this.isStar=!0,this.isDynamic=!0,this.parameterName=e.slice(1);break;default:this.isParameter=!1,this.isStar=!1,this.isDynamic=!1,this.parameterName=e}}get kind(){return 5}static get EMPTY(){return new f$("","",b$.EMPTY)}static parse(t){if(t.record(),t.record(),!t.done)if(t.startsWith("./"))t.advance();else if(t.startsWith("../"))t.advance(),t.advance();else for(;!t.done&&!t.startsWith(...o$);)t.advance();const e=decodeURIComponent(t.playback());0===e.length&&t.expect("component name");const n=b$.parse(t),i=t.playback();return new f$(i,e,n)}toString(){return this.raw}}class v${constructor(t,e,n){this.raw=t,this.name=e,this.parameterList=n}get kind(){return 6}static get EMPTY(){return new v$("","",b$.EMPTY)}static parse(t){t.record();let e="";if(t.consumeOptional(".")){for(t.record();!t.done&&!t.startsWith(...o$);)t.advance();e=decodeURIComponent(t.playback()),0===e.length&&t.expect("method name")}const n=b$.parse(t),i=t.playback();return new v$(i,e,n)}toString(){return this.raw}}class m${constructor(t,e){this.raw=t,this.name=e}get kind(){return 7}static get EMPTY(){return new m$("","")}static parse(t){t.record();let e="";if(t.consumeOptional("@")){for(t.record();!t.done&&!t.startsWith(...o$);)t.advance();e=decodeURIComponent(t.playback()),0===e.length&&t.expect("viewport name")}const n=t.playback();return new m$(n,e)}toString(){return this.raw}}class b${constructor(t,e){this.raw=t,this.expressions=e}get kind(){return 8}static get EMPTY(){return new b$("",[])}static parse(t){t.record();const e=[];if(t.consumeOptional("(")){do{if(e.push(y$.parse(t,e.length)),!t.consumeOptional(","))break}while(!t.done&&!t.startsWith(")"));t.consume(")")}const n=t.playback();return new b$(n,e)}toObject(){const t={};for(const e of this.expressions)t[e.key]=e.value;return t}toString(){return this.raw}}class y${constructor(t,e,n){this.raw=t,this.key=e,this.value=n}get kind(){return 9}static get EMPTY(){return new y$("","","")}static parse(t,e){for(t.record(),t.record();!t.done&&!t.startsWith(...o$);)t.advance();let n,i=decodeURIComponent(t.playback());if(0===i.length&&t.expect("parameter key"),t.consumeOptional("=")){for(t.record();!t.done&&!t.startsWith(...o$);)t.advance();n=decodeURIComponent(t.playback()),0===n.length&&t.expect("parameter value")}else n=i,i=e.toString();const s=t.playback();return new y$(s,i,n)}toString(){return this.raw}}Object.freeze({RouteExpression:h$,CompositeSegmentExpression:u$,ScopedSegmentExpression:d$,SegmentGroupExpression:p$,SegmentExpression:g$,ComponentExpression:f$,ActionExpression:v$,ViewportExpression:m$,ParameterListExpression:b$,ParameterExpression:y$});let w$=0;class x${constructor(t,e,n,i,s,o,r,a,l,c,h,u,d,p,g,f){this.id=t,this.path=e,this.finalPath=n,this.context=i,this.originalInstruction=s,this.instruction=o,this.params=r,this.queryParams=a,this.fragment=l,this.data=c,this.viewport=h,this.title=u,this.component=d,this.append=p,this.children=g,this.residue=f,this.version=1,this.originalInstruction=o}get root(){return this.tree.root}static create(t){var e,n,i,s,o,r,a,l;return new x$(++w$,t.path,t.finalPath,t.context,t.instruction,t.instruction,null!==(e=t.params)&&void 0!==e?e:{},null!==(n=t.queryParams)&&void 0!==n?n:Object.freeze(new URLSearchParams),null!==(i=t.fragment)&&void 0!==i?i:null,null!==(s=t.data)&&void 0!==s?s:{},null!==(o=t.viewport)&&void 0!==o?o:null,null!==(r=t.title)&&void 0!==r?r:null,t.component,t.append,null!==(a=t.children)&&void 0!==a?a:[],null!==(l=t.residue)&&void 0!==l?l:[])}contains(t){var e,n;if(this.context===t.options.context){const i=this.children,s=t.children;for(let t=0,o=i.length;t<o;++t)for(let r=0,a=s.length;r<a&&t+r<o&&null!==(n=null===(e=i[t+r].instruction)||void 0===e?void 0:e.contains(s[r]))&&void 0!==n&&n;++r)if(r+1===a)return!0}return this.children.some((function(e){return e.contains(t)}))}appendChild(t){this.children.push(t),t.setTree(this.tree)}appendChildren(...t){for(const e of t)this.appendChild(e)}clearChildren(){for(const t of this.children)t.clearChildren(),t.context.vpa.cancelUpdate();this.children.length=0}getTitle(t){const e=[...this.children.map((e=>e.getTitle(t))),this.getTitlePart()].filter((t=>null!==t));return 0===e.length?null:e.join(t)}getTitlePart(){return"function"==typeof this.title?this.title.call(void 0,this):this.title}computeAbsolutePath(){if(this.context.isRoot)return"";const t=this.context.parent.node.computeAbsolutePath(),e=this.instruction.toUrlComponent(!1);return t.length>0?e.length>0?[t,e].join("/"):t:e}setTree(t){this.tree=t;for(const e of this.children)e.setTree(t)}finalizeInstruction(){const t=this.children.map((t=>t.finalizeInstruction())),e=this.instruction.clone();return e.children.splice(0,e.children.length,...t),this.instruction=e}clone(){const t=new x$(this.id,this.path,this.finalPath,this.context,this.originalInstruction,this.instruction,{...this.params},{...this.queryParams},this.fragment,{...this.data},this.viewport,this.title,this.component,this.append,this.children.map((t=>t.clone())),[...this.residue]);return t.version=this.version+1,t.context.node===this&&(t.context.node=t),t}toString(){var t,e,n,i,s;const o=[],r=null!==(n=null===(e=null===(t=this.context)||void 0===t?void 0:t.definition.component)||void 0===e?void 0:e.name)&&void 0!==n?n:"";r.length>0&&o.push(`c:'${r}'`);const a=null!==(s=null===(i=this.context)||void 0===i?void 0:i.definition.config.path)&&void 0!==s?s:"";return a.length>0&&o.push(`path:'${a}'`),this.children.length>0&&o.push(`children:[${this.children.map(String).join(",")}]`),this.residue.length>0&&o.push(`residue:${this.residue.map((function(t){return"string"==typeof t?`'${t}'`:String(t)})).join(",")}`),`RN(ctx:'${this.context.friendlyPath}',${o.join(",")})`}}class k${constructor(t,e,n,i){this.options=t,this.queryParams=e,this.fragment=n,this.root=i}contains(t){return this.root.contains(t)}clone(){const t=new k$(this.options.clone(),{...this.queryParams},this.fragment,this.root.clone());return t.root.setTree(this),t}finalizeInstructions(){return new q$(this.options,!0,this.root.children.map((t=>t.finalizeInstruction())),this.queryParams,this.fragment)}toString(){return this.root.toString()}}function C$(t,e,n){const i=n.get(Sd).scopeTo("RouteTree"),s=n.root;t.options=e.options,t.queryParams=e.queryParams,t.fragment=e.fragment,e.isAbsolute&&(n=s),n===s&&(t.root.setTree(t),s.node=t.root);const o=n.resolved instanceof Promise?" - awaiting promise":"";return i.trace(`updateRouteTree(rootCtx:%s,rt:%s,vit:%s)${o}`,s,t,e),lu(n.resolved,(()=>S$(i,e,n,s.node)))}function S$(t,e,n,i){let s;return t.trace("updateNode(ctx:%s,node:%s)",n,i),i.queryParams=e.queryParams,i.fragment=e.fragment,s=i.context.isRoot?void 0:i.context.vpa.scheduleUpdate(i.tree.options,i),lu(s,(()=>i.context===n?(i.clearChildren(),lu(cu(...e.children.map((e=>T$(t,i,e,i.tree.options.append||e.append)))),(()=>cu(...n.getAvailableViewportAgents("dynamic").map((e=>{const n=V$.create({component:e.viewport.default,viewport:e.viewport.name});return T$(t,i,n,i.append)})))))):cu(...i.children.map((i=>S$(t,e,n,i))))))}function $$(t){const e=t.context,n=e.get(Sd).scopeTo("RouteTree"),i=e.resolved instanceof Promise?" - awaiting promise":"";return n.trace(`processResidue(node:%s)${i}`,t),lu(e.resolved,(()=>cu(...t.residue.splice(0).map((e=>T$(n,t,e,t.append))),...e.getAvailableViewportAgents("static").map((e=>{const i=V$.create({component:e.viewport.default,viewport:e.viewport.name});return T$(n,t,i,t.append)})))))}function T$(t,e,n,i){var s,o;switch(t.trace(`createAndAppendNodes(node:%s,vi:%s,append:${i})`,e,n),n.component.type){case 0:switch(n.component.value){case"..":e.clearChildren(),e=null!==(o=null===(s=e.context.parent)||void 0===s?void 0:s.node)&&void 0!==o?o:e;case".":return cu(...n.children.map((n=>T$(t,e,n,n.append))));default:{const s=function(t,e,n,i){const s=e.context;let o=0,r=n.component.value,a=n;for(;1===a.children.length&&(a=a.children[0],0===a.component.type);)++o,r=`${r}/${a.component.value}`;const l=s.recognize(r);if(null===l){const o=n.component.value;let r=s.find(Cb,o);switch(e.tree.options.routingMode){case"configured-only":if(null===r){if(""===o)return null;throw new Error(`'${o}' did not match any configured route or registered component name at '${s.friendlyPath}' - did you forget to add '${o}' to the routes list of the route decorator of '${s.component.name}'?`)}throw new Error(`'${o}' did not match any configured route, but it does match a registered component name at '${s.friendlyPath}' - did you forget to add a @route({ path: '${o}' }) decorator to '${o}' or unintentionally set routingMode to 'configured-only'?`);case"configured-first":if(null===r){if(""===o)return null;const t=null===n.viewport||0===n.viewport.length?"default":n.viewport,e=s.getFallbackViewportAgent("dynamic",t);if(null===e)throw new Error(`'${o}' did not match any configured route or registered component name at '${s.friendlyPath}' and no fallback was provided for viewport '${t}' - did you forget to add the component '${o}' to the dependencies of '${s.component.name}' or to register it as a global dependency?`);const i=e.viewport.fallback;if(r=s.find(Cb,i),null===r)throw new Error(`the requested component '${o}' and the fallback '${i}' at viewport '${t}' did not match any configured route or registered component name at '${s.friendlyPath}' - did you forget to add the component '${o}' to the dependencies of '${s.component.name}' or to register it as a global dependency?`)}return E$(t,e,n,i,r)}}const c=null===l.residue?r:r.slice(0,-(l.residue.length+1));n.component.value=c;for(let t=0;t<o;++t)n.children=n.children[0].children;return A$(t,e,n,i,l)}(t,e,n,i);if(null===s)return;return O$(t,e,s)}}case 4:case 2:{const s=Q$.resolve(n.component.value),o=E$(t,e,n,i,s.component);return O$(t,e,o)}}}function A$(t,e,n,i,s,o=s.route.endpoint.route){const r=e.context,a=e.tree;return lu(o.handler,(l=>{if(o.handler=l,null===l.redirectTo){const c=l.viewport,h=l.component,u=r.resolveViewportAgent(ZS.create({viewportName:c,componentName:h.name,append:i,resolution:a.options.resolutionMode})),d=r.get(M$).getRouteContext(u,h,u.hostController.context);return d.node=x$.create({path:s.route.endpoint.route.path,finalPath:o.path,context:d,instruction:n,params:{...e.params,...s.route.params},queryParams:a.queryParams,fragment:a.fragment,data:l.data,viewport:c,component:h,append:i,title:l.config.title,residue:null===s.residue?[]:[V$.create(s.residue)]}),d.node.setTree(e.tree),t.trace("createConfiguredNode(vi:%s) -> %s",n,d.node),d.node}const c=h$.parse(o.path,!1),h=h$.parse(l.redirectTo,!1);let u,d;const p=[];switch(c.root.kind){case 2:case 4:u=c.root;break;default:throw new Error(`Unexpected expression kind ${c.root.kind}`)}switch(h.root.kind){case 2:case 4:d=h.root;break;default:throw new Error(`Unexpected expression kind ${h.root.kind}`)}let g,f,v=!1,m=!1;for(;!v||!m;){if(v)g=null;else if(4===u.kind)g=u,v=!0;else{if(4!==u.left.kind)throw new Error(`Unexpected expression kind ${u.left.kind}`);switch(g=u.left,u.right.kind){case 2:case 4:u=u.right;break;default:throw new Error(`Unexpected expression kind ${u.right.kind}`)}}if(m)f=null;else if(4===d.kind)f=d,m=!0;else{if(4!==d.left.kind)throw new Error(`Unexpected expression kind ${d.left.kind}`);switch(f=d.left,d.right.kind){case 2:case 4:d=d.right;break;default:throw new Error(`Unexpected expression kind ${d.right.kind}`)}}null!==f&&(f.component.isDynamic&&(null==g?void 0:g.component.isDynamic)?p.push(s.route.params[g.component.name]):p.push(f.raw))}const b=p.filter(Boolean).join("/"),y=r.recognize(b);if(null===y){const s=b,o=r.find(Cb,b);switch(a.options.routingMode){case"configured-only":if(null===o)throw new Error(`'${s}' did not match any configured route or registered component name at '${r.friendlyPath}' - did you forget to add '${s}' to the routes list of the route decorator of '${r.component.name}'?`);throw new Error(`'${s}' did not match any configured route, but it does match a registered component name at '${r.friendlyPath}' - did you forget to add a @route({ path: '${s}' }) decorator to '${s}' or unintentionally set routingMode to 'configured-only'?`);case"configured-first":if(null===o)throw new Error(`'${s}' did not match any configured route or registered component name at '${r.friendlyPath}' - did you forget to add the component '${s}' to the dependencies of '${r.component.name}' or to register it as a global dependency?`);return E$(t,e,n,i,o)}}return A$(t,e,n,i,s,y.route.endpoint.route)}))}function E$(t,e,n,i,s){var o;const r=e.context,a=e.tree,l=null!==(o=n.viewport)&&void 0!==o?o:"default",c=r.resolveViewportAgent(ZS.create({viewportName:l,componentName:s.name,append:i,resolution:a.options.resolutionMode})),h=r.get(M$).getRouteContext(c,s,c.hostController.context),u=Q$.resolve(s);return h.node=x$.create({path:s.name,finalPath:s.name,context:h,instruction:n,params:{...r.node.params,...n.params},queryParams:a.queryParams,fragment:a.fragment,data:u.data,viewport:l,component:s,append:i,title:u.config.title,residue:[...n.children]}),h.node.setTree(r.node.tree),t.trace("createDirectNode(vi:%s) -> %s",n,h.node),h.node}function O$(t,e,n){return lu(n,(n=>(t.trace("appendNode($childNode:%s)",n),e.appendChild(n),n.context.vpa.scheduleUpdate(e.tree.options,n))))}var P$=function(t,e){return function(n,i){e(n,i,t)}};const R$="au-nav-id";function I$(t,e){return{...t,[R$]:e}}function j$(t,e){return"function"==typeof e?e(t):e}class F${constructor(t,e,n,i,s,o,r,a,l,c){this.useUrlFragmentHash=t,this.useHref=e,this.statefulHistoryLength=n,this.routingMode=i,this.swapStrategy=s,this.resolutionMode=o,this.queryParamsStrategy=r,this.fragmentStrategy=a,this.historyStrategy=l,this.sameUrlStrategy=c}static get DEFAULT(){return F$.create({})}static create(t){var e,n,i,s,o,r,a,l,c,h;return new F$(null!==(e=t.useUrlFragmentHash)&&void 0!==e&&e,null===(n=t.useHref)||void 0===n||n,null!==(i=t.statefulHistoryLength)&&void 0!==i?i:0,null!==(s=t.routingMode)&&void 0!==s?s:"configured-first",null!==(o=t.swapStrategy)&&void 0!==o?o:"sequential-remove-first",null!==(r=t.resolutionMode)&&void 0!==r?r:"dynamic",null!==(a=t.queryParamsStrategy)&&void 0!==a?a:"overwrite",null!==(l=t.fragmentStrategy)&&void 0!==l?l:"overwrite",null!==(c=t.historyStrategy)&&void 0!==c?c:"push",null!==(h=t.sameUrlStrategy)&&void 0!==h?h:"ignore")}getQueryParamsStrategy(t){return j$(t,this.queryParamsStrategy)}getFragmentStrategy(t){return j$(t,this.fragmentStrategy)}getHistoryStrategy(t){return j$(t,this.historyStrategy)}getSameUrlStrategy(t){return j$(t,this.sameUrlStrategy)}stringifyProperties(){return[["routingMode","mode"],["swapStrategy","swap"],["resolutionMode","resolution"],["queryParamsStrategy","queryParams"],["fragmentStrategy","fragment"],["historyStrategy","history"],["sameUrlStrategy","sameUrl"]].map((([t,e])=>{const n=this[t];return`${e}:${"function"==typeof n?n:`'${n}'`}`})).join(",")}clone(){return new F$(this.useUrlFragmentHash,this.useHref,this.statefulHistoryLength,this.routingMode,this.swapStrategy,this.resolutionMode,this.queryParamsStrategy,this.fragmentStrategy,this.historyStrategy,this.sameUrlStrategy)}toString(){return`RO(${this.stringifyProperties()})`}}class L$ extends F${constructor(t,e,n,i,s,o,r,a){super(t.useUrlFragmentHash,t.useHref,t.statefulHistoryLength,t.routingMode,t.swapStrategy,t.resolutionMode,t.queryParamsStrategy,t.fragmentStrategy,t.historyStrategy,t.sameUrlStrategy),this.title=e,this.titleSeparator=n,this.append=i,this.context=s,this.queryParams=o,this.fragment=r,this.state=a}static get DEFAULT(){return L$.create({})}static create(t){var e,n,i,s,o,r,a;return new L$(F$.create(t),null!==(e=t.title)&&void 0!==e?e:null,null!==(n=t.titleSeparator)&&void 0!==n?n:" | ",null!==(i=t.append)&&void 0!==i&&i,null!==(s=t.context)&&void 0!==s?s:null,null!==(o=t.queryParams)&&void 0!==o?o:null,null!==(r=t.fragment)&&void 0!==r?r:"",null!==(a=t.state)&&void 0!==a?a:null)}clone(){return new L$(super.clone(),this.title,this.titleSeparator,this.append,this.context,{...this.queryParams},this.fragment,null===this.state?null:{...this.state})}toString(){return`NO(${super.stringifyProperties()})`}}class N${constructor(t,e,n,i,s,o){this.id=t,this.instructions=e,this.trigger=n,this.options=i,this.prevNavigation=s,this.finalInstructions=o}static create(t){return new N$(t.id,t.instructions,t.trigger,t.options,t.prevNavigation,t.finalInstructions)}toString(){return`N(id:${this.id},instructions:${this.instructions},trigger:'${this.trigger}')`}}class D${constructor(t,e,n,i,s,o,r,a,l,c,h,u,d,p,g){this.id=t,this.prevInstructions=e,this.instructions=n,this.finalInstructions=i,this.instructionsChanged=s,this.trigger=o,this.options=r,this.managedState=a,this.previousRouteTree=l,this.routeTree=c,this.promise=h,this.resolve=u,this.reject=d,this.guardsResult=p,this.error=g}static create(t){return new D$(t.id,t.prevInstructions,t.instructions,t.finalInstructions,t.instructionsChanged,t.trigger,t.options,t.managedState,t.previousRouteTree,t.routeTree,t.promise,t.resolve,t.reject,t.guardsResult,void 0)}run(t,e){if(!0===this.guardsResult)try{const n=t();n instanceof Promise?n.then(e).catch((t=>{this.handleError(t)})):e(n)}catch(t){this.handleError(t)}}handleError(t){this.reject(this.error=t)}toString(){return`T(id:${this.id},trigger:'${this.trigger}',instructions:${this.instructions},options:${this.options})`}}const M$=xu.createInterface("IRouter",(t=>t.singleton(B$)));let B$=class{constructor(t,e,n,i,s){this.container=t,this.p=e,this.logger=n,this.events=i,this.locationMgr=s,this._ctx=null,this._routeTree=null,this._currentTr=null,this.options=F$.DEFAULT,this.navigated=!1,this.navigationId=0,this.lastSuccessfulNavigation=null,this.activeNavigation=null,this.instructions=q$.create(""),this.nextTr=null,this.locationChangeSubscription=null,this.vpaLookup=new Map,this.logger=n.root.scopeTo("Router")}get ctx(){let t=this._ctx;if(null===t){if(!this.container.has(Z$,!0))throw new Error("Root RouteContext is not set. Did you forget to register RouteConfiguration, or try to navigate before calling Aurelia.start()?");t=this._ctx=this.container.get(Z$)}return t}get routeTree(){let t=this._routeTree;if(null===t){const e=this.ctx;t=this._routeTree=new k$(L$.create({...this.options}),Object.freeze(new URLSearchParams),null,x$.create({path:"",finalPath:"",context:e,instruction:null,component:e.definition.component,append:!1}))}return t}get currentTr(){let t=this._currentTr;return null===t&&(t=this._currentTr=D$.create({id:0,prevInstructions:this.instructions,instructions:this.instructions,finalInstructions:this.instructions,instructionsChanged:!0,trigger:"api",options:L$.DEFAULT,managedState:null,previousRouteTree:this.routeTree.clone(),routeTree:this.routeTree,resolve:null,reject:null,promise:null,guardsResult:!0,error:void 0})),t}set currentTr(t){this._currentTr=t}resolveContext(t){return tT.resolve(this.ctx,t)}start(t,e){if(this.options=F$.create(t),this.locationMgr.startListening(),this.locationChangeSubscription=this.events.subscribe("au:router:location-change",(t=>{this.p.taskQueue.queueTask((()=>{const e=function(t){return mh(t)&&!0===Object.prototype.hasOwnProperty.call(t,R$)}(t.state)?t.state:null,n=L$.create({...this.options,historyStrategy:"replace"}),i=q$.create(t.url,n);this.enqueue(i,t.trigger,e,null)}))})),!this.navigated&&e)return this.load(this.locationMgr.getPath(),{historyStrategy:"replace"})}stop(){var t;this.locationMgr.stopListening(),null===(t=this.locationChangeSubscription)||void 0===t||t.dispose()}load(t,e){const n=this.createViewportInstructions(t,e);return this.logger.trace("load(instructions:%s)",n),this.enqueue(n,"api",null,null)}isActive(t,e){const n=this.resolveContext(e),i=this.createViewportInstructions(t,{context:n});return this.logger.trace("isActive(instructions:%s,ctx:%s)",i,n),this.routeTree.contains(i)}getRouteContext(t,e,n){const i=n.get(Sd).scopeTo("RouteContext"),s=Q$.resolve(e.Type);let o=this.vpaLookup.get(t);void 0===o&&this.vpaLookup.set(t,o=new WeakMap);let r=o.get(s);if(void 0===r){i.trace("creating new RouteContext for %s",s);const a=n.has(Z$,!0)?n.get(Z$):null;o.set(s,r=new tT(t,a,e,s,n))}else i.trace("returning existing RouteContext for %s",s),null!==t&&(r.vpa=t);return r}createViewportInstructions(t,e){return q$.create(t,this.getNavigationOptions(e))}enqueue(t,e,n,i){const s=this.currentTr;if("api"!==e&&"api"===s.trigger&&s.instructions.equals(t))return this.logger.debug("Ignoring navigation triggered by '%s' because it is the same URL as the previous navigation which was triggered by 'api'.",e),!0;let o,r,a;null===i?a=new Promise((function(t,e){o=t,r=e})):(this.logger.debug("Reusing promise/resolve/reject from the previously failed transition %s",i),a=i.promise,o=i.resolve,r=i.reject);const l=this.nextTr=D$.create({id:++this.navigationId,trigger:e,managedState:n,prevInstructions:s.finalInstructions,finalInstructions:t,instructionsChanged:!s.finalInstructions.equals(t),instructions:t,options:t.options,promise:a,resolve:o,reject:r,previousRouteTree:this.routeTree,routeTree:this._routeTree=this.routeTree.clone(),guardsResult:!0,error:void 0});if(this.logger.debug("Scheduling transition: %s",l),null===this.activeNavigation)try{this.run(l)}catch(t){l.handleError(t)}return l.promise.then((t=>(this.logger.debug("Transition succeeded: %s",l),t))).catch((t=>{throw this.logger.error("Navigation failed: %s",l,t),t}))}run(t){this.currentTr=t,this.nextTr=null;const e=null===this.lastSuccessfulNavigation?null:N$.create({...this.lastSuccessfulNavigation,prevNavigation:null});this.activeNavigation=N$.create({id:t.id,instructions:t.instructions,trigger:t.trigger,options:t.options,prevNavigation:e,finalInstructions:t.finalInstructions});const n=this.resolveContext(t.options.context);return!this.navigated||t.instructions.children.length!==n.node.children.length||t.instructions.children.some(((t,e)=>{var i,s;return!(null!==(s=null===(i=n.node.children[e])||void 0===i?void 0:i.originalInstruction.equals(t))&&void 0!==s&&s)}))||"reload"===t.options.getSameUrlStrategy(this.instructions)?(this.logger.trace("run(tr:%s) - processing route",t),this.events.publish(new qS(t.id,t.instructions,t.trigger,t.managedState)),null!==this.nextTr?(this.logger.debug("run(tr:%s) - aborting because a new transition was queued in response to the NavigationStartEvent",t),this.run(this.nextTr)):(this.activeNavigation=N$.create({...this.activeNavigation,finalInstructions:t.finalInstructions}),void t.run((()=>(this.logger.trace("run() - compiling route tree: %s",t.finalInstructions),C$(t.routeTree,t.finalInstructions,n))),(()=>{const e=t.previousRouteTree.root.children,n=t.routeTree.root.children,i=$S(e,n);SS.start((n=>{this.logger.trace(`run() - invoking canUnload on ${e.length} nodes`);for(const i of e)i.context.vpa.canUnload(t,n)})).continueWith((e=>{!0!==t.guardsResult&&(e.push(),this.cancelNavigation(t))})).continueWith((e=>{this.logger.trace(`run() - invoking canLoad on ${n.length} nodes`);for(const i of n)i.context.vpa.canLoad(t,e)})).continueWith((e=>{!0!==t.guardsResult&&(e.push(),this.cancelNavigation(t))})).continueWith((n=>{this.logger.trace(`run() - invoking unload on ${e.length} nodes`);for(const i of e)i.context.vpa.unload(t,n)})).continueWith((e=>{this.logger.trace(`run() - invoking load on ${n.length} nodes`);for(const i of n)i.context.vpa.load(t,e)})).continueWith((e=>{this.logger.trace(`run() - invoking swap on ${i.length} nodes`);for(const n of i)n.context.vpa.swap(t,e)})).continueWith((()=>{this.logger.trace("run() - finalizing transition"),i.forEach((function(t){t.context.vpa.endTransition()})),this.navigated=!0,this.instructions=t.finalInstructions=t.routeTree.finalizeInstructions(),this.events.publish(new US(t.id,t.instructions,this.instructions)),this.lastSuccessfulNavigation=this.activeNavigation,this.activeNavigation=null,this.applyHistoryState(t),t.resolve(!0),this.runNextTransition(t)})).start()})))):(this.logger.trace("run(tr:%s) - NOT processing route",t),this.navigated=!0,this.activeNavigation=null,t.resolve(!1),void this.runNextTransition(t))}applyHistoryState(t){switch(t.options.getHistoryStrategy(this.instructions)){case"none":break;case"push":this.locationMgr.pushState(I$(t.options.state,t.id),this.updateTitle(t),t.finalInstructions.toUrl());break;case"replace":this.locationMgr.replaceState(I$(t.options.state,t.id),this.updateTitle(t),t.finalInstructions.toUrl())}}getTitle(t){var e,n;switch(typeof t.options.title){case"function":return null!==(e=t.options.title.call(void 0,t.routeTree.root))&&void 0!==e?e:"";case"string":return t.options.title;default:return null!==(n=t.routeTree.root.getTitle(t.options.titleSeparator))&&void 0!==n?n:""}}updateTitle(t){const e=this.getTitle(t);return e.length>0&&(this.p.document.title=e),this.p.document.title}cancelNavigation(t){this.logger.trace("cancelNavigation(tr:%s)",t),$S(t.previousRouteTree.root.children,t.routeTree.root.children).forEach((function(t){t.context.vpa.cancelUpdate()})),this.activeNavigation=null,this.instructions=t.prevInstructions,this._routeTree=t.previousRouteTree,this.events.publish(new zS(t.id,t.instructions,`guardsResult is ${t.guardsResult}`)),!1===t.guardsResult?(t.resolve(!1),this.runNextTransition(t)):lu(this.enqueue(t.guardsResult,"api",t.managedState,t),(()=>{this.logger.trace("cancelNavigation(tr:%s) - finished redirect",t)}))}runNextTransition(t){null!==this.nextTr&&(this.logger.trace("runNextTransition(tr:%s) -> scheduling nextTransition: %s",t,this.nextTr),this.p.taskQueue.queueTask((()=>{const t=this.nextTr;if(null!==t)try{this.run(t)}catch(e){t.handleError(e)}})))}getNavigationOptions(t){return L$.create({...this.options,...t})}};B$=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([P$(0,ku),P$(1,Dm),P$(2,Sd),P$(3,BS),P$(4,QS)],B$),xu.createInterface("IViewportInstruction");class V${constructor(t,e,n,i,s,o,r,a){this.context=t,this.append=e,this.open=n,this.close=i,this.component=s,this.viewport=o,this.params=r,this.children=a}static create(t,e){var n,i,s,o,r,a,l,c,h;if(t instanceof V$)return t;if(IS(t)){const u=z$.create(t.component),d=null!==(i=null===(n=t.children)||void 0===n?void 0:n.map(V$.create))&&void 0!==i?i:[];return new V$(null!==(o=null!==(s=t.context)&&void 0!==s?s:e)&&void 0!==o?o:null,null!==(r=t.append)&&void 0!==r&&r,null!==(a=t.open)&&void 0!==a?a:0,null!==(l=t.close)&&void 0!==l?l:0,u,null!==(c=t.viewport)&&void 0!==c?c:null,null!==(h=t.params)&&void 0!==h?h:null,d)}const u=z$.create(t);return new V$(null!=e?e:null,!1,0,0,u,null,null,[])}contains(t){const e=this.children,n=t.children;if(e.length<n.length)return!1;if(!this.component.equals(t.component))return!1;for(let t=0,i=n.length;t<i;++t)if(!e[t].contains(n[t]))return!1;return!0}equals(t){const e=this.children,n=t.children;if(e.length!==n.length)return!1;if(!this.component.equals(t.component)||this.viewport!==t.viewport||!NS(this.params,t.params))return!1;for(let t=0,i=e.length;t<i;++t)if(!e[t].equals(n[t]))return!1;return!0}clone(){return new V$(this.context,this.append,this.open,this.close,this.component.clone(),this.viewport,null===this.params?null:{...this.params},[...this.children])}toUrlComponent(t=!0){const e=this.component.toUrlComponent(),n=null===this.params||0===Object.keys(this.params).length?"":`(${function(t){const e=Object.keys(t),n=Array(e.length),i=[],s=[];for(const t of e)_h(t)?i.push(Number(t)):s.push(t);for(let o=0;o<e.length;++o){const e=i.indexOf(o);if(e>-1)n[o]=t[o],i.splice(e,1);else{const e=s.shift();n[o]=`${e}=${t[e]}`}}return n.join(",")}(this.params)})`,i=null===this.viewport||0===this.viewport.length?"":`@${this.viewport}`,s=`${"(".repeat(this.open)}${e}${n}${i}${")".repeat(this.close)}`,o=t?this.children.map((t=>t.toUrlComponent())).join("+"):"";return s.length>0?o.length>0?[s,o].join("/"):s:o}toString(){return`VPI(${[`c:${this.component}`,null===this.viewport||0===this.viewport.length?"":`viewport:${this.viewport}`,0===this.children.length?"":`children:[${this.children.map(String).join(",")}]`].filter(Boolean).join(",")})`}}const H$=function(){let t=0;const e=new Map;return function(n){let i=e.get(n);return void 0===i&&e.set(n,i=++t),i}}();class q${constructor(t,e,n,i,s){this.options=t,this.isAbsolute=e,this.children=n,this.queryParams=i,this.fragment=s}static create(t,e){const n=L$.create({...e});return t instanceof q$?new q$(n,t.isAbsolute,t.children.map((t=>V$.create(t,n.context))),t.queryParams,t.fragment):t instanceof Array?new q$(n,!1,t.map((t=>V$.create(t,n.context))),Object.freeze(new URLSearchParams),null):"string"==typeof t?h$.parse(t,n.useUrlFragmentHash).toInstructionTree(n):new q$(n,!1,[V$.create(t,n.context)],Object.freeze(new URLSearchParams),null)}equals(t){const e=this.children,n=t.children;if(e.length!==n.length)return!1;for(let t=0,i=e.length;t<i;++t)if(!e[t].equals(n[t]))return!1;return!0}toUrl(){const t=this.children.map((t=>t.toUrlComponent())).join("+"),e=this.queryParams.toString();return""!==e?`${t}?${e}`:t}toString(){return`[${this.children.map(String).join(",")}]`}}var U$;!function(t){t[t.string=0]="string",t[t.ViewportInstruction=1]="ViewportInstruction",t[t.CustomElementDefinition=2]="CustomElementDefinition",t[t.Promise=3]="Promise",t[t.IRouteViewModel=4]="IRouteViewModel"}(U$||(U$={}));class z${constructor(t,e){this.type=t,this.value=e}static create(t){if(t instanceof z$)return t;if("string"==typeof t)return new z$(0,t);if(mh(t)){if("function"==typeof t){const e=Cb.getDefinition(t);return new z$(2,e)}if(t instanceof Promise)return new z$(3,t);if(IS(t)){const e=V$.create(t);return new z$(1,e)}if(Ly(t))return new z$(4,t);if(t instanceof xb)return new z$(2,t);if(OS(t)){const e=Cb.define(t),n=Cb.getDefinition(e);return new z$(2,n)}throw new Error(`Invalid component ${TS(t)}: must be either a class, a custom element ViewModel, or a (partial) custom element definition`)}jS("function/class or object","",t)}equals(t){switch(this.type){case 2:case 4:case 3:case 0:return this.type===t.type&&this.value===t.value;case 1:return this.type===t.type&&this.value.equals(t.value)}}clone(){return new z$(this.type,this.value)}toUrlComponent(){switch(this.type){case 2:return this.value.name;case 4:case 3:return`au$obj${H$(this.value)}`;case 1:return this.value.toUrlComponent();case 0:return this.value}}toString(){switch(this.type){case 2:return`CEDef(name:'${this.value.name}')`;case 3:return"Promise";case 4:return`VM(name:'${Cb.getDefinition(this.value.constructor).name}')`;case 1:return this.value.toString();case 0:return`'${this.value}'`}}}const _$=Xu;function W$(t,e){return NS(t.params,e.params)?"none":"invoke-lifecycles"}class K${constructor(t,e,n,i,s,o,r,a,l){this.id=t,this.path=e,this.title=n,this.redirectTo=i,this.caseSensitive=s,this.transitionPlan=o,this.viewport=r,this.data=a,this.routes=l}static create(t,e){var n,i,s,o,r,a,l,c,h,u,d,p,g,f,v,m,b,y,w,x,k,C,S,$;if("string"==typeof t||t instanceof Array){const h=t,u=null!==(n=null==e?void 0:e.redirectTo)&&void 0!==n?n:null,d=null!==(i=null==e?void 0:e.caseSensitive)&&void 0!==i&&i,p=null!==(s=null==e?void 0:e.id)&&void 0!==s?s:h instanceof Array?h[0]:h,g=null!==(o=null==e?void 0:e.title)&&void 0!==o?o:null,f=null!==(r=null==e?void 0:e.transitionPlan)&&void 0!==r?r:W$,v=null!==(a=null==e?void 0:e.viewport)&&void 0!==a?a:null,m=null!==(l=null==e?void 0:e.data)&&void 0!==l?l:{},b=null!==(c=null==e?void 0:e.routes)&&void 0!==c?c:_$;return new K$(p,h,g,u,d,f,v,m,b)}if("object"==typeof t){const n=t;FS(n,"");const i=null!==(u=null!==(h=n.path)&&void 0!==h?h:null==e?void 0:e.path)&&void 0!==u?u:null,s=null!==(p=null!==(d=n.title)&&void 0!==d?d:null==e?void 0:e.title)&&void 0!==p?p:null,o=null!==(f=null!==(g=n.redirectTo)&&void 0!==g?g:null==e?void 0:e.redirectTo)&&void 0!==f?f:null,r=null!==(m=null!==(v=n.caseSensitive)&&void 0!==v?v:null==e?void 0:e.caseSensitive)&&void 0!==m&&m,a=null!==(y=null!==(b=n.id)&&void 0!==b?b:null==e?void 0:e.id)&&void 0!==y?y:i instanceof Array?i[0]:i,l=null!==(x=null!==(w=n.transitionPlan)&&void 0!==w?w:null==e?void 0:e.transitionPlan)&&void 0!==x?x:W$,c=null!==(C=null!==(k=n.viewport)&&void 0!==k?k:null==e?void 0:e.viewport)&&void 0!==C?C:null,T={...null==e?void 0:e.data,...n.data},A=[...null!==(S=n.routes)&&void 0!==S?S:_$,...null!==($=null==e?void 0:e.routes)&&void 0!==$?$:_$];return new K$(a,i,s,o,r,l,c,T,A)}jS("string, function/class or object","",t)}static configure(t,e){const n=K$.create(t,e);return Vh.define(G$.name,n,e),e}static getConfig(t){return Vh.hasOwn(G$.name,t)||G$.configure({},t),Vh.getOwn(G$.name,t)}saveTo(t){Vh.define(G$.name,this,t)}}const G$={name:du.resource.keyFor("route"),isConfigured:t=>Vh.hasOwn(G$.name,t),configure(t,e){const n=K$.create(t,e);return Vh.define(G$.name,n,e),e},getConfig:t=>(G$.isConfigured(t)||G$.configure({},t),Vh.getOwn(G$.name,t))};class Q${constructor(t,e){var n,i,s,o,r,a;this.config=t,this.component=e,this.hasExplicitPath=null!==t.path,this.caseSensitive=t.caseSensitive,this.path=AS(null!==(n=t.path)&&void 0!==n?n:e.name),this.redirectTo=null!==(i=t.redirectTo)&&void 0!==i?i:null,this.viewport=null!==(s=t.viewport)&&void 0!==s?s:"default",this.id="string"==typeof(a=null!==(o=t.id)&&void 0!==o?o:this.path)?a:a[0],this.data=null!==(r=t.data)&&void 0!==r?r:{}}static resolve(t,e){return RS(t)?new Q$(t,null):lu(this.resolveCustomElementDefinition(t,e),(e=>{const n=PS(t)?{...G$.getConfig(e.Type),...t}:G$.getConfig(e.Type);if(Vh.hasOwn(G$.name,e)){let t=Vh.getOwn(G$.name,e);t.config!==n&&(t=new Q$(n,e),Vh.define(G$.name,t,e))}else{const t=new Q$(n,e);Vh.define(G$.name,t,e)}return Vh.getOwn(G$.name,e)}))}static resolveCustomElementDefinition(t,e){if(PS(t))return this.resolveCustomElementDefinition(t.component,e);const n=z$.create(t);switch(n.type){case 0:{if(void 0===e)throw new Error("When retrieving the RouteDefinition for a component name, a RouteContext (that can resolve it) must be provided");const t=e.find(Cb,n.value);if(null===t)throw new Error(`Could not find a CustomElement named '${n.value}' in the current container scope of ${e}. This means the component is neither registered at Aurelia startup nor via the 'dependencies' decorator or static property.`);return t}case 2:return n.value;case 4:return Cb.getDefinition(n.value.constructor);case 3:if(void 0===e)throw new Error("RouteContext must be provided when resolving an imported module");return e.resolveLazy(n.value)}}register(t){var e;null===(e=this.component)||void 0===e||e.register(t)}toUrlComponent(){return"not-implemented"}toString(){const t=null===this.config.path?"null":`'${this.config.path}'`;return null!==this.component?`RD(config.path:${t},c.name:'${this.component.name}')`:`RD(config.path:${t},redirectTo:'${this.redirectTo}')`}}const Y$=new WeakMap;class X${constructor(t,e,n,i,s){var o,r,a,l;this.instance=t,this.controller=e,this.definition=n,this.routeNode=i,this.ctx=s,this.logger=s.get(Sd).scopeTo(`ComponentAgent<${s.friendlyPath}>`),this.logger.trace("constructor()");const c=e.lifecycleHooks;this.canLoadHooks=(null!==(o=c.canLoad)&&void 0!==o?o:[]).map((t=>t.instance)),this.loadHooks=(null!==(r=c.load)&&void 0!==r?r:[]).map((t=>t.instance)),this.canUnloadHooks=(null!==(a=c.canUnload)&&void 0!==a?a:[]).map((t=>t.instance)),this.unloadHooks=(null!==(l=c.unload)&&void 0!==l?l:[]).map((t=>t.instance)),this.hasCanLoad="canLoad"in t,this.hasLoad="load"in t,this.hasCanUnload="canUnload"in t,this.hasUnload="unload"in t}static for(t,e,n,i){let s=Y$.get(t);if(void 0===s){const o=Q$.resolve(t.constructor),r=Oy.forCustomElement(i.get(qy),i,t,e.host,null);Y$.set(t,s=new X$(t,r,o,n,i))}return s}activate(t,e,n){if(null===t)return this.logger.trace("activate() - initial"),this.controller.activate(this.controller,e,n);this.logger.trace("activate()"),this.controller.activate(t,e,n)}deactivate(t,e,n){if(null===t)return this.logger.trace("deactivate() - initial"),this.controller.deactivate(this.controller,e,n);this.logger.trace("deactivate()"),this.controller.deactivate(t,e,n)}dispose(){this.logger.trace("dispose()"),this.controller.dispose()}canUnload(t,e,n){this.logger.trace(`canUnload(next:%s) - invoking ${this.canUnloadHooks.length} hooks`,e),n.push();for(const i of this.canUnloadHooks)t.run((()=>(n.push(),i.canUnload(this.instance,e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1),n.pop()}));this.hasCanUnload&&t.run((()=>(n.push(),this.instance.canUnload(e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1),n.pop()})),n.pop()}canLoad(t,e,n){this.logger.trace(`canLoad(next:%s) - invoking ${this.canLoadHooks.length} hooks`,e),n.push();for(const i of this.canLoadHooks)t.run((()=>(n.push(),i.canLoad(this.instance,e.params,e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1!==e&&q$.create(e)),n.pop()}));this.hasCanLoad&&t.run((()=>(n.push(),this.instance.canLoad(e.params,e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1!==e&&q$.create(e)),n.pop()})),n.pop()}unload(t,e,n){this.logger.trace(`unload(next:%s) - invoking ${this.unloadHooks.length} hooks`,e),n.push();for(const i of this.unloadHooks)t.run((()=>(n.push(),i.unload(this.instance,e,this.routeNode))),(()=>{n.pop()}));this.hasUnload&&t.run((()=>(n.push(),this.instance.unload(e,this.routeNode))),(()=>{n.pop()})),n.pop()}load(t,e,n){this.logger.trace(`load(next:%s) - invoking ${this.loadHooks.length} hooks`,e),n.push();for(const i of this.loadHooks)t.run((()=>(n.push(),i.load(this.instance,e.params,e,this.routeNode))),(()=>{n.pop()}));this.hasLoad&&t.run((()=>(n.push(),this.instance.load(e.params,e,this.routeNode))),(()=>{n.pop()})),n.pop()}toString(){return`CA(ctx:'${this.ctx.friendlyPath}',c:'${this.definition.component.name}')`}}const Z$=xu.createInterface("IRouteContext"),J$="au$residue";class tT{constructor(t,e,n,i,s){var o;this.parent=e,this.component=n,this.definition=i,this.parentContainer=s,this.childViewportAgents=[],this.childRoutes=[],this._resolved=null,this._allResolved=null,this.prevNode=null,this._node=null,this._vpa=null,this._vpa=t,null===e?(this.root=this,this.path=[this],this.friendlyPath=n.name):(this.root=e.root,this.path=[...e.path,this],this.friendlyPath=`${e.friendlyPath}/${n.name}`),this.logger=s.get(Sd).scopeTo(`RouteContext<${this.friendlyPath}>`),this.logger.trace("constructor()"),this.moduleLoader=s.get(Nd);const r=this.container=s.createChild({inheritParentResources:!0});r.registerResolver(Hy,this.hostControllerProvider=new Ku,!0);const a=new Ku;r.registerResolver(Z$,a,!0),a.prepare(this),r.register(i),r.register(...n.dependencies),this.recognizer=new mS;const l=[],c=[];for(const t of i.config.routes)if(t instanceof Promise){const e=this.addRoute(t);l.push(e),c.push(e)}else{const e=Q$.resolve(t,this);if(e instanceof Promise){if(!PS(t)||null==t.path)throw new Error("Invalid route config. When the component property is a lazy import, the path must be specified. To use lazy loading without specifying the path (e.g. in direct routing), pass the import promise as a direct value to the routes array instead of providing it as the component property on an object literal.");{for(const n of AS(t.path))this.$addRoute(n,null!==(o=t.caseSensitive)&&void 0!==o&&o,e);const n=this.childRoutes.length,i=e.then((t=>this.childRoutes[n]=t));this.childRoutes.push(i),c.push(i.then(Ju))}}else{for(const t of e.path)this.$addRoute(t,e.caseSensitive,e);this.childRoutes.push(e)}}l.length>0&&(this._resolved=Promise.all(l).then((()=>{this._resolved=null}))),c.length>0&&(this._allResolved=Promise.all(c).then((()=>{this._allResolved=null})))}get id(){return this.container.id}get isRoot(){return null===this.parent}get depth(){return this.path.length-1}get resolved(){return this._resolved}get allResolved(){return this._allResolved}get node(){const t=this._node;if(null===t)throw new Error(`Invariant violation: RouteNode should be set immediately after the RouteContext is created. Context: ${this}`);return t}set node(t){(this.prevNode=this._node)!==t&&(this._node=t,this.logger.trace("Node changed from %s to %s",this.prevNode,t))}get vpa(){const t=this._vpa;if(null===t)throw new Error(`RouteContext has no ViewportAgent: ${this}`);return t}set vpa(t){if(null==t)throw new Error(`Cannot set ViewportAgent to ${t} for RouteContext: ${this}`);const e=this._vpa;e!==t&&(this._vpa=t,this.logger.trace("ViewportAgent changed from %s to %s",e,t))}static setRoot(t){const e=t.get(Sd).scopeTo("RouteContext");t.has(qy,!0)||eT(new Error("The provided container has no registered IAppRoot. RouteContext.setRoot can only be used after Aurelia.app was called, on a container that is within that app's component tree."),e),t.has(Z$,!0)&&eT(new Error('A root RouteContext is already registered. A possible cause is the RouterConfiguration being registered more than once in the same container tree. If you have a multi-rooted app, make sure you register RouterConfiguration only in the "forked" containers and not in the common root.'),e);const{controller:n}=t.get(qy);void 0===n&&eT(new Error("The provided IAppRoot does not (yet) have a controller. A possible cause is calling this API manually before Aurelia.start() is called"),e);const i=t.get(M$),s=i.getRouteContext(null,n.context.definition,n.context);t.register(Wu.instance(Z$,s)),s.node=i.routeTree.root}static resolve(t,e){const n=t.get(Sd).scopeTo("RouteContext");if(null==e)return n.trace("resolve(context:%s) - returning root RouteContext",e),t;if(e instanceof tT)return n.trace("resolve(context:%s) - returning provided RouteContext",e),e;if(e instanceof t.get(Dm).Node)try{const t=Cb.for(e,{searchParents:!0});return n.trace(`resolve(context:Node(nodeName:'${e.nodeName}'),controller:'${t.context.definition.name}') - resolving RouteContext from controller's RenderContext`),t.context.get(Z$)}catch(t){throw n.error(`Failed to resolve RouteContext from Node(nodeName:'${e.nodeName}')`,t),t}if(Ly(e)){const t=e.$controller;return n.trace(`resolve(context:CustomElementViewModel(name:'${t.context.definition.name}')) - resolving RouteContext from controller's RenderContext`),t.context.get(Z$)}if(Fy(e)){const t=e;return n.trace(`resolve(context:CustomElementController(name:'${t.context.definition.name}')) - resolving RouteContext from controller's RenderContext`),t.context.get(Z$)}eT(new Error(`Invalid context type: ${Object.prototype.toString.call(e)}`),n)}has(t,e){return this.container.has(t,e)}get(t){return this.container.get(t)}getAll(t){return this.container.getAll(t)}register(...t){return this.container.register(...t)}registerResolver(t,e){return this.container.registerResolver(t,e)}registerTransformer(t,e){return this.container.registerTransformer(t,e)}getResolver(t,e){return this.container.getResolver(t,e)}invoke(t,e){return this.container.invoke(t,e)}getFactory(t){return this.container.getFactory(t)}registerFactory(t,e){this.container.registerFactory(t,e)}createChild(){return this.container.createChild()}disposeResolvers(){this.container.disposeResolvers()}find(t,e){return this.container.find(t,e)}create(t,e){return this.container.create(t,e)}dispose(){this.container.dispose()}resolveViewportAgent(t){this.logger.trace("resolveViewportAgent(req:%s)",t);const e=this.childViewportAgents.find((e=>e.handles(t)));if(void 0===e)throw new Error(`Failed to resolve ${t} at:\n${this.printTree()}`);return e}getAvailableViewportAgents(t){return this.childViewportAgents.filter((e=>e.isAvailable(t)))}getFallbackViewportAgent(t,e){var n;return null!==(n=this.childViewportAgents.find((n=>n.isAvailable(t)&&n.viewport.name===e&&n.viewport.fallback.length>0)))&&void 0!==n?n:null}createComponentAgent(t,e){this.logger.trace("createComponentAgent(routeNode:%s)",e),this.hostControllerProvider.prepare(t);const n=Q$.resolve(e.component),i=this.container.get(n.component.key),s=X$.for(i,t,e,this);return this.hostControllerProvider.dispose(),s}registerViewport(t){const e=t$.for(t,this);return this.childViewportAgents.includes(e)?this.logger.trace("registerViewport(agent:%s) -> already registered, so skipping",e):(this.logger.trace("registerViewport(agent:%s) -> adding",e),this.childViewportAgents.push(e)),e}unregisterViewport(t){const e=t$.for(t,this);this.childViewportAgents.includes(e)?(this.logger.trace("unregisterViewport(agent:%s) -> unregistering",e),this.childViewportAgents.splice(this.childViewportAgents.indexOf(e),1)):this.logger.trace("unregisterViewport(agent:%s) -> not registered, so skipping",e)}recognize(t){var e;this.logger.trace(`recognize(path:'${t}')`);const n=this.recognizer.recognize(t);if(null===n)return null;let i;return Reflect.has(n.params,J$)?(i=null!==(e=n.params[J$])&&void 0!==e?e:null,Reflect.deleteProperty(n.params,J$)):i=null,new iT(n,i)}addRoute(t){return this.logger.trace(`addRoute(routeable:'${t}')`),lu(Q$.resolve(t,this),(t=>{for(const e of t.path)this.$addRoute(e,t.caseSensitive,t);this.childRoutes.push(t)}))}$addRoute(t,e,n){this.recognizer.add({path:t,caseSensitive:e,handler:n}),this.recognizer.add({path:`${t}/*au$residue`,caseSensitive:e,handler:n})}resolveLazy(t){return this.moduleLoader.load(t,(e=>{let n,i;for(const t of e.items)if(t.isConstructable){const e=t.definitions.find(nT);void 0!==e&&("default"===t.key?n=e:void 0===i&&(i=e))}if(void 0===n){if(void 0===i)throw new Error(`${t} does not appear to be a component or CustomElement recognizable by Aurelia`);return i}return n}))}toString(){const t=this.childViewportAgents.map(String).join(",");return`RC(path:'${this.friendlyPath}',viewports:[${t}])`}printTree(){const t=[];for(let e=0;e<this.path.length;++e)t.push(`${" ".repeat(e)}${this.path[e]}`);return t.join("\n")}}function eT(t,e){throw e.error(t),t}function nT(t){return Cb.isType(t.Type)}class iT{constructor(t,e){this.route=t,this.residue=e}}var sT=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},oT=function(t,e){return function(n,i){e(n,i,t)}};let rT=class{constructor(t,e){this.logger=t,this.ctx=e,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noHistory=!1,this.stateful=!1,this.agent=void 0,this.controller=void 0,this.logger=t.scopeTo(`au-viewport<${e.friendlyPath}>`),this.logger.trace("constructor()")}hydrated(t){this.logger.trace("hydrated()"),this.controller=t,this.agent=this.ctx.registerViewport(this)}attaching(t,e,n){return this.logger.trace("attaching()"),this.agent.activateFromViewport(t,this.controller,n)}detaching(t,e,n){return this.logger.trace("detaching()"),this.agent.deactivateFromViewport(t,this.controller,n)}dispose(){this.logger.trace("dispose()"),this.ctx.unregisterViewport(this),this.agent.dispose(),this.agent=void 0}toString(){const t=[];for(const e of aT){const n=this[e];switch(typeof n){case"string":""!==n&&t.push(`${e}:'${n}'`);break;case"boolean":n&&t.push(`${e}:${n}`);break;default:t.push(`${e}:${String(n)}`)}}return`VP(ctx:'${this.ctx.friendlyPath}',${t.join(",")})`}};sT([sm],rT.prototype,"name",void 0),sT([sm],rT.prototype,"usedBy",void 0),sT([sm],rT.prototype,"default",void 0),sT([sm],rT.prototype,"fallback",void 0),sT([sm],rT.prototype,"noScope",void 0),sT([sm],rT.prototype,"noLink",void 0),sT([sm],rT.prototype,"noHistory",void 0),sT([sm],rT.prototype,"stateful",void 0),rT=sT([yb({name:"au-viewport"}),oT(0,Sd),oT(1,Z$)],rT);const aT=["name","usedBy","default","fallback","noScope","noLink","noHistory","stateful"];var lT=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},cT=function(t,e){return function(n,i){e(n,i,t)}};let hT=class{constructor(t,e,n,i,s,o){this.target=t,this.el=e,this.router=n,this.events=i,this.delegator=s,this.ctx=o,this.attribute="href",this.active=!1,this.href=null,this.instructions=null,this.eventListener=null,this.navigationEndListener=null,this.onClick=t=>{null!==this.instructions&&(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey||0!==t.button||(t.preventDefault(),this.router.load(this.instructions,{context:this.ctx})))},this.isEnabled=!e.hasAttribute("external")&&!e.hasAttribute("data-external")}binding(){this.isEnabled&&(this.eventListener=this.delegator.addEventListener(this.target,this.el,"click",this.onClick)),this.valueChanged(),this.navigationEndListener=this.events.subscribe("au:router:navigation-end",(t=>{this.valueChanged(),this.active=null!==this.instructions&&this.router.isActive(this.instructions,this.ctx)}))}attaching(){if(null!==this.ctx.allResolved)return this.ctx.allResolved.then((()=>{this.valueChanged()}))}unbinding(){this.isEnabled&&this.eventListener.dispose(),this.navigationEndListener.dispose()}valueChanged(){if(null!==this.route&&void 0!==this.route&&null===this.ctx.allResolved){const t=this.ctx.childRoutes.find((t=>t.id===this.route));if(void 0!==t){const e=this.ctx.node.computeAbsolutePath();let n=t.path[0];if("object"==typeof this.params&&null!==this.params){const t=Object.keys(this.params);for(const e of t){const t=this.params[e];null!=t&&String(t).length>0&&(n=n.replace(new RegExp(`[*:]${e}[?]?`),t))}}n=n.replace(/\/[*:][^/]+[?]/g,"").replace(/[*:][^/]+[?]\//g,""),this.href=e?n?[e,n].join("/"):e:n,this.instructions=this.router.createViewportInstructions(n,{context:this.ctx})}else"object"==typeof this.params&&null!==this.params?this.instructions=this.router.createViewportInstructions({component:this.route,params:this.params},{context:this.ctx}):this.instructions=this.router.createViewportInstructions(this.route,{context:this.ctx}),this.href=this.instructions.toUrl()}else this.instructions=null,this.href=null;const t=Cb.for(this.el,{optional:!0});null!==t?t.viewModel[this.attribute]=this.instructions:null===this.href?this.el.removeAttribute(this.attribute):this.el.setAttribute(this.attribute,this.href)}};lT([sm({mode:zp.toView,primary:!0,callback:"valueChanged"})],hT.prototype,"route",void 0),lT([sm({mode:zp.toView,callback:"valueChanged"})],hT.prototype,"params",void 0),lT([sm({mode:zp.toView})],hT.prototype,"attribute",void 0),lT([sm({mode:zp.fromView})],hT.prototype,"active",void 0),hT=lT([Tb("load"),cT(0,Zy),cT(1,Xy),cT(2,M$),cT(3,BS),cT(4,fw),cT(5,Z$)],hT);var uT=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},dT=function(t,e){return function(n,i){e(n,i,t)}};let pT=class{constructor(t,e,n,i,s,o){if(this.target=t,this.el=e,this.router=n,this.delegator=i,this.ctx=s,this.eventListener=null,this.isInitialized=!1,this.onClick=t=>{if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey||0!==t.button)return;const e=this.el.getAttribute("href");null!==e&&(t.preventDefault(),this.router.load(e,{context:this.ctx}))},!n.options.useHref||"A"!==e.nodeName||e.hasAttribute("external")||e.hasAttribute("data-external"))this.isEnabled=!1;else switch(e.getAttribute("target")){case null:case o.name:case"_self":this.isEnabled=!0;break;default:this.isEnabled=!1}}binding(){this.isInitialized||(this.isInitialized=!0,this.isEnabled=this.isEnabled&&null===Qy(this.el,Ob.getDefinition(hT).key)),this.isEnabled&&(this.el.setAttribute("href",this.value),this.eventListener=this.delegator.addEventListener(this.target,this.el,"click",this.onClick))}unbinding(){this.isEnabled&&this.eventListener.dispose()}valueChanged(t){this.el.setAttribute("href",t)}};uT([sm({mode:zp.toView})],pT.prototype,"value",void 0),pT=uT([Tb({name:"href",noMultiBindings:!0}),dT(0,Zy),dT(1,Xy),dT(2,M$),dT(3,fw),dT(4,Z$),dT(5,rw)],pT);class gT{constructor(t){this.el=t,this.top=t.scrollTop,this.left=t.scrollLeft}static has(t){return t.scrollTop>0||t.scrollLeft>0}restore(){this.el.scrollTo(this.left,this.top),this.el=null}}function fT(t){t.restore()}class vT{constructor(t){this.scrollStates=[],this.save(t.children)}save(t){let e;for(let n=0,i=t.length;n<i;++n)e=t[n],gT.has(e)&&this.scrollStates.push(new gT(e)),this.save(e.children)}restore(){this.scrollStates.forEach(fT),this.scrollStates=null}}xu.createInterface("IStateManager",(t=>t.singleton(mT)));class mT{constructor(){this.cache=new WeakMap}saveState(t){this.cache.set(t.host,new vT(t.host))}restoreState(t){const e=this.cache.get(t.host);void 0!==e&&(e.restore(),this.cache.delete(t.host))}}const bT=Kd.getOrCreate(globalThis);class yT extends class{constructor(t=xu.createContainer()){if(this.container=t,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this.startPromise=void 0,this.stopPromise=void 0,t.has(tS,!0))throw new Error("An instance of Aurelia is already registered with the container or an ancestor of it.");t.register(Wu.instance(tS,this)),t.registerResolver(qy,this.rootProvider=new Ku("IAppRoot"))}get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(null==this._root){if(null==this.next)throw new Error("root is not defined");return this.next}return this._root}register(...t){return this.container.register(...t),this}app(t){return this.next=new Ky(t,this.initPlatform(t.host),this.container,this.rootProvider,!1),this}enhance(t){return this.next=new Ky(t,this.initPlatform(t.host),this.container,this.rootProvider,!0),this}async waitForIdle(){const t=this.root.platform;await t.domWriteQueue.yield(),await t.domReadQueue.yield(),await t.taskQueue.yield()}initPlatform(t){let e;if(this.container.has(Dm,!1))e=this.container.get(Dm);else{if(null===t.ownerDocument.defaultView)throw new Error("Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView");e=new Kd(t.ownerDocument.defaultView),this.container.register(Wu.instance(Dm,e))}return e}start(t=this.next){if(null==t)throw new Error("There is no composition root");return this.startPromise instanceof Promise?this.startPromise:this.startPromise=lu(this.stop(),(()=>(Reflect.set(t.host,"$aurelia",this),this.rootProvider.prepare(this._root=t),this._isStarting=!0,lu(t.activate(),(()=>{this._isRunning=!0,this._isStarting=!1,this.startPromise=void 0,this.dispatchEvent(t,"au-started",t.host)})))))}stop(t=!1){if(this.stopPromise instanceof Promise)return this.stopPromise;if(!0===this._isRunning){const e=this._root;return this._isRunning=!1,this._isStopping=!0,this.stopPromise=lu(e.deactivate(),(()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this._root=void 0,this.rootProvider.dispose(),this._isStopping=!1,this.dispatchEvent(e,"au-stopped",e.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw new Error("The aurelia instance must be fully stopped before it can be disposed");this.container.dispose()}dispatchEvent(t,e,n){const i=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});n.dispatchEvent(i)}}{constructor(t=function(){return xu.createContainer().register(Wu.instance(Dm,bT),JC)}()){super(t)}static start(t){return(new yT).start(t)}static app(t){return(new yT).app(t)}static enhance(t){return(new yT).enhance(t)}static register(...t){return(new yT).register(...t)}app(t){if(Cb.isType(t)){const e=Cb.getDefinition(t);let n=document.querySelector(e.name);return null===n&&(n=document.body),super.app({host:n,component:t})}return super.app(t)}}const wT=yT;class xT{static register(t){xT.extendTemplatingSyntax(t)}static extendTemplatingSyntax(t){rb.with(ku).beforeCreate().call((t=>{const e=t.get(Zx),n=t.get(Wk);e.useTwoWay(((t,e)=>{switch(t.tagName){case"ECOS-SELECT":case"ECOS-SLIDER":case"ECOS-TEXT-FIELD":case"ECOS-TEXT-AREA":return"value"===e;case"ECOS-CHECKBOX":case"ECOS-RADIO":case"ECOS-RADIO-GROUP":case"ECOS-SWITCH":return"checked"===e;case"ECOS-TABS":return"activeid"===e;default:return!1}}));const i={events:["input","change"]};n.useConfig({"ECOS-CHECKBOX":{value:i},"ECOS-RADIO":{value:i},"ECOS-RADIO-GROUP":{value:i},"ECOS-SELECT":{value:i},"ECOS-SLIDER":{value:i},"ECOS-SWITCH":{checked:i},"ECOS-TABS":{activeid:i},"ECOS-TEXT-FIELD":{value:i},"ECOS-TEXT-AREA":{value:i}})})).register(t)}}var kT=n(998);be()(kT.Z,{insert:"head",singleton:!1}),kT.Z.locals;var CT=n(208);be()(CT.Z,{insert:"head",singleton:!1}),CT.Z.locals;var ST=n(818);be()(ST.Z,{insert:"head",singleton:!1}),ST.Z.locals;const $T=document.createElement("style");$T.innerHTML=`.navbar-content {padding-top: calc((${nc}) * 1px)}`,document.head.appendChild($T);xu.createInterface("IEventManager",(t=>t.singleton(TT)));let TT=class{constructor(t){this.ea=t,this.subscriptions=new Map}publish(t,e){this.ea.publish(t,e)}subscribe(t,e,n){this.subscribes(t,e)&&this.unsubscribe(t,e);const i=this.ea.subscribe(e,n);let s=this.subscriptions.get(t);void 0===s&&(s=new Map),s.set(e,i),this.subscriptions.set(t,s)}unsubscribe(t,e){const n=this.subscriptions.get(t);if(void 0!==e)n.get(e).dispose(),n.delete(e),this.subscriptions.set(t,n);else for(const e of n.keys())this.unsubscribe(t,e)}subscribes(t,e){const n=this.subscriptions.get(t);return void 0!==n&&(void 0===e||n.has(e))}};TT=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([function(t,e){return function(n,i){e(n,i,t)}}(0,Ud)],TT);class AT{constructor(t,e,n,i={}){this.router=t,this.name=e,this.connectedCE=n,this.options=i,this.contents=[],this.transitionAction="",this.path=null}getContent(){return this.contents[0]}getNextContent(){return this.contents.length>1?this.contents[this.contents.length-1]:null}getTimeContent(t=1/0){return this.getContent()}get activeContent(){var t;return null!==(t=this.getNextContent())&&void 0!==t?t:this.getContent()}get connectedScope(){var t;return null===(t=this.activeContent)||void 0===t?void 0:t.connectedScope}get scope(){return this.connectedScope.scope}get owningScope(){return this.connectedScope.owningScope}get connectedController(){var t,e;return null!==(e=null===(t=this.connectedCE)||void 0===t?void 0:t.$controller)&&void 0!==e?e:null}get isViewport(){return this instanceof ZT}get isViewportScope(){return this instanceof _T}get isEmpty(){return!1}get pathname(){return this.connectedScope.pathname}toString(){throw new Error("Method 'toString' needs to be implemented in all endpoints!")}setNextContent(t,e){throw new Error("Method 'setNextContent' needs to be implemented in all endpoints!")}setConnectedCE(t,e){throw new Error("Method 'setConnectedCE' needs to be implemented in all endpoints!")}transition(t){throw new Error("Method 'transition' needs to be implemented in all endpoints!")}finalizeContentChange(t){throw new Error("Method 'finalizeContentChange' needs to be implemented in all endpoints!")}cancelContentChange(t,e){throw new Error("Method 'cancelContentChange' needs to be implemented in all endpoints!")}getRoutes(){throw new Error("Method 'getRoutes' needs to be implemented in all endpoints!")}getTitle(t){throw new Error("Method 'getTitle' needs to be implemented in all endpoints!")}removeEndpoint(t,e){var n;return this.getContent().delete(),null===(n=this.getNextContent())||void 0===n||n.delete(),!0}canUnload(t){return!0}canLoad(t){return!0}unload(t){}load(t){}}class ET{constructor(t,e,n,i,s=tA.create(""),o=KT.create({instruction:"",fullStateInstruction:""})){var r,a,l;this.router=t,this.endpoint=e,this.instruction=s,this.navigation=o,this.completed=!1,this.connectedScope=new aA(t,i,n,this),null!==this.router.rootScope&&(null!==(a=null===(r=this.endpoint.connectedScope)||void 0===r?void 0:r.parent)&&void 0!==a?a:null===(l=this.router.rootScope)||void 0===l?void 0:l.scope).addChild(this.connectedScope)}get isActive(){return this.endpoint.activeContent===this}delete(){var t;null===(t=this.connectedScope.parent)||void 0===t||t.removeChild(this.connectedScope)}}class OT{static parse(t,e,n,i){if(!e)return{instructions:[],remaining:""};if(e.startsWith(t.sibling)&&!OT.isAdd(t,e))throw new Error(`Instruction parser error: Unnecessary siblings separator ${t.sibling} in beginning of instruction part "${e}".`);const s=[];let o=1e3;for(;e.length&&o;)if(o--,e.startsWith(t.scope)){if(0===s.length)throw new Error(`Instruction parser error: Children without parent in instruction part "(${e}" is not allowed.`);i=!1;const o=(e=e.slice(t.scope.length)).startsWith(t.groupStart);o&&(e=e.slice(t.groupStart.length),n=!0);const{instructions:r,remaining:a}=OT.parse(t,e,o,!1);s[s.length-1].nextScopeInstructions=r,e=a}else if(e.startsWith(t.groupStart)){e=e.slice(t.groupStart.length);const{instructions:n,remaining:o}=OT.parse(t,e,!0,i);s.push(...n),e=o}else if(e.startsWith(t.groupEnd)){n&&(e=e.slice(t.groupEnd.length));let i=0;const o=e.length;for(;i<o;i++){if(e.slice(i,i+t.sibling.length)===t.sibling)return{instructions:s,remaining:e};if(e.slice(i,i+t.groupEnd.length)!==t.groupEnd){if(s.length>1)throw new Error(`Instruction parser error: Children below scope ${t.groupStart}${t.groupEnd} in instruction part "(${e}" is not allowed.`);e=e.slice(i);break}}if(i>=o)return{instructions:s,remaining:e}}else if(e.startsWith(t.sibling)&&!OT.isAdd(t,e)){if(!n)return{instructions:s,remaining:e};e=e.slice(t.sibling.length)}else{const{instruction:n,remaining:i}=OT.parseOne(t,e);s.push(n),e=i}return{instructions:s,remaining:e}}static isAdd(t,e){return e===t.add||e.startsWith(`${t.add}${t.viewport}`)}static parseOne(t,e){const n=[t.parameters,t.viewport,t.noScope,t.groupEnd,t.scope,t.sibling];let i,s,o,r,a,l=!0;const c=[t.add,t.clear];for(const s of c)if(e===s){i=e,e="",n.shift(),n.shift(),r=t.viewport;break}if(void 0===i)for(const s of c)if(e.startsWith(`${s}${t.viewport}`)){i=s,e=e.slice(`${s}${t.viewport}`.length),n.shift(),n.shift(),r=t.viewport;break}if(void 0===i&&(({token:r,pos:a}=OT.findNextToken(e,n)),i=-1!==a?e.slice(0,a):e,e=-1!==a?e.slice(a+r.length):"",n.shift(),r===t.parameters&&(({token:r,pos:a}=OT.findNextToken(e,[t.parametersEnd])),s=e.slice(0,a),e=e.slice(a+r.length),({token:r}=OT.findNextToken(e,n)),e=e.slice(r.length)),n.shift()),r===t.viewport&&(({token:r,pos:a}=OT.findNextToken(e,n)),o=-1!==a?e.slice(0,a):e,e=-1!==a?e.slice(a+r.length):""),n.shift(),r===t.noScope&&(l=!1),r!==t.groupEnd&&r!==t.scope&&r!==t.sibling||(e=`${r}${e}`),""===(null!=i?i:""))throw new Error(`Instruction parser error: No component specified in instruction part "${e}".`);return{instruction:tA.create(i,o,s,l),remaining:e}}static findNextToken(t,e){const n={};for(const i of e)t.indexOf(i)>-1&&(n[i]=t.indexOf(i));const i=Math.min(...Object.values(n));for(const t in n)if(n[t]===i)return{token:t,pos:i};return{token:"",pos:-1}}}class PT{constructor(t="${componentTitles}${appTitleSeparator}Aurelia",e=" | ",n="top-down",i=" > ",s=!0,o="app-",r){this.appTitle=t,this.appTitleSeparator=e,this.componentTitleOrder=n,this.componentTitleSeparator=i,this.useComponentNames=s,this.componentPrefix=o,this.transformTitle=r}static create(t={}){return new PT((t="string"==typeof t?{appTitle:t}:t).appTitle,t.appTitleSeparator,t.componentTitleOrder,t.componentTitleSeparator,t.useComponentNames,t.componentPrefix,t.transformTitle)}static for(t){return jT.for(t).title}apply(t={}){var e,n,i,s,o,r;t="string"==typeof t?{appTitle:t}:t,this.appTitle=null!==(e=t.appTitle)&&void 0!==e?e:this.appTitle,this.appTitleSeparator=null!==(n=t.appTitleSeparator)&&void 0!==n?n:this.appTitleSeparator,this.componentTitleOrder=null!==(i=t.componentTitleOrder)&&void 0!==i?i:this.componentTitleOrder,this.componentTitleSeparator=null!==(s=t.componentTitleSeparator)&&void 0!==s?s:this.componentTitleSeparator,this.useComponentNames=null!==(o=t.useComponentNames)&&void 0!==o?o:this.useComponentNames,this.componentPrefix=null!==(r=t.componentPrefix)&&void 0!==r?r:this.componentPrefix,this.transformTitle="transformTitle"in t?t.transformTitle:this.transformTitle}}class RT{constructor(t="@",e="+",n="/",i="(",s=")",o="!",r="(",a=")",l=",",c="=",h="+",u="-",d="."){this.viewport=t,this.sibling=e,this.scope=n,this.groupStart=i,this.groupEnd=s,this.noScope=o,this.parameters=r,this.parametersEnd=a,this.parameterSeparator=l,this.parameterKeySeparator=c,this.add=h,this.clear=u,this.action=d}static create(t={}){return new RT(t.viewport,t.sibling,t.scope,t.groupStart,t.groupEnd,t.noScope,t.parameters,t.parametersEnd,t.parameterSeparator,t.parameterKeySeparator,t.add,t.clear,t.action)}static for(t){return jT.for(t).separators}apply(t={}){var e,n,i,s,o,r,a,l,c,h,u,d,p;this.viewport=null!==(e=t.viewport)&&void 0!==e?e:this.viewport,this.sibling=null!==(n=t.sibling)&&void 0!==n?n:this.sibling,this.scope=null!==(i=t.scope)&&void 0!==i?i:this.scope,this.groupStart=null!==(s=t.groupStart)&&void 0!==s?s:this.groupStart,this.groupEnd=null!==(o=t.groupEnd)&&void 0!==o?o:this.groupEnd,this.noScope=null!==(r=t.noScope)&&void 0!==r?r:this.noScope,this.parameters=null!==(a=t.parameters)&&void 0!==a?a:this.parameters,this.parametersEnd=null!==(l=t.parametersEnd)&&void 0!==l?l:this.parametersEnd,this.parameterSeparator=null!==(c=t.parameterSeparator)&&void 0!==c?c:this.parameterSeparator,this.parameterKeySeparator=null!==(h=t.parameterKeySeparator)&&void 0!==h?h:this.parameterKeySeparator,this.add=null!==(u=t.add)&&void 0!==u?u:this.add,this.clear=null!==(d=t.clear)&&void 0!==d?d:this.clear,this.action=null!==(p=t.action)&&void 0!==p?p:this.action}}class IT{constructor(t="active",e="viewport-active"){this.loadActive=t,this.viewportActive=e}static create(t={}){return new IT(t.loadActive,t.viewportActive)}static for(t){return jT.for(t).indicators}apply(t={}){var e,n;this.loadActive=null!==(e=t.loadActive)&&void 0!==e?e:this.loadActive,this.viewportActive=null!==(n=t.viewportActive)&&void 0!==n?n:this.viewportActive}}class jT{constructor(t=RT.create(),e=IT.create(),n=!0,i=null,s=!0,o=0,r=!0,a=!0,l=!0,c=PT.create(),h=["guardedUnload","swapped","completed"],u="attach-next-detach-current"){this.separators=t,this.indicators=e,this.useUrlFragmentHash=n,this.basePath=i,this.useHref=s,this.statefulHistoryLength=o,this.useDirectRouting=r,this.useConfiguredRoutes=a,this.additiveInstructionDefault=l,this.title=c,this.navigationSyncStates=h,this.swapOrder=u,this.registrationHooks=[]}static create(t={}){return new jT(RT.create(t.separators),IT.create(t.indicators),t.useUrlFragmentHash,t.basePath,t.useHref,t.statefulHistoryLength,t.useDirectRouting,t.useConfiguredRoutes,t.additiveInstructionDefault,PT.create(t.title),t.navigationSyncStates,t.swapOrder)}static for(t){return t instanceof dE?t.options:(t=t instanceof wA?t.configuration:t.get(cE)).options}apply(t){var e,n,i,s,o,r,a,l;t=null!=t?t:{},this.separators.apply(t.separators),this.indicators.apply(t.indicators),this.useUrlFragmentHash=null!==(e=t.useUrlFragmentHash)&&void 0!==e?e:this.useUrlFragmentHash,this.useHref=null!==(n=t.useHref)&&void 0!==n?n:this.useHref,this.statefulHistoryLength=null!==(i=t.statefulHistoryLength)&&void 0!==i?i:this.statefulHistoryLength,this.useDirectRouting=null!==(s=t.useDirectRouting)&&void 0!==s?s:this.useDirectRouting,this.useConfiguredRoutes=null!==(o=t.useConfiguredRoutes)&&void 0!==o?o:this.useConfiguredRoutes,this.additiveInstructionDefault=null!==(r=t.additiveInstructionDefault)&&void 0!==r?r:this.additiveInstructionDefault,this.title.apply(t.title),this.navigationSyncStates=null!==(a=t.navigationSyncStates)&&void 0!==a?a:this.navigationSyncStates,this.swapOrder=null!==(l=t.swapOrder)&&void 0!==l?l:this.swapOrder,Array.isArray(t.hooks)&&(void 0!==this.routerConfiguration?t.hooks.forEach((t=>this.routerConfiguration.addHook(t.hook,t.options))):this.registrationHooks=t.hooks)}setRouterConfiguration(t){this.routerConfiguration=t,this.registrationHooks.forEach((t=>this.routerConfiguration.addHook(t.hook,t.options))),this.registrationHooks.length=0}}var FT;!function(t){t.none="none",t.string="string",t.array="array",t.object="object"}(FT||(FT={}));class LT{constructor(){this.parametersString=null,this.parametersRecord=null,this.parametersList=null,this.parametersType="none"}get none(){return"none"===this.parametersType}static create(t){const e=new LT;return e.set(t),e}static parse(t,e,n=!1){if(null==e||0===e.length)return[];const i=RT.for(t),s=i.parameterSeparator,o=i.parameterKeySeparator;if("string"==typeof e){const t=[],i=e.split(s);for(const e of i){let i,s;[i,s]=e.split(o),void 0===s?(s=n?decodeURIComponent(i):i,i=void 0):n&&(i=decodeURIComponent(i),s=decodeURIComponent(s)),t.push({key:i,value:s})}return t}if(Array.isArray(e))return e.map((t=>({key:void 0,value:t})));const r=Object.keys(e);return r.sort(),r.map((t=>({key:t,value:e[t]})))}static parseQuery(t){const e={};return null==t||0===t.length||new URLSearchParams(t).forEach(((t,n)=>{t=decodeURIComponent(t),n=decodeURIComponent(n),t in e?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n)):e[t]=n})),e}get typedParameters(){switch(this.parametersType){case"string":return this.parametersString;case"array":return this.parametersList;case"object":return this.parametersRecord;default:return null}}static stringify(t,e,n=!1){if(!Array.isArray(e)||0===e.length)return"";const i=RT.for(t);return e.map((t=>{const e=void 0!==t.key&&n?encodeURIComponent(t.key):t.key,s=n?encodeURIComponent(t.value):t.value;return void 0!==e&&e!==s?e+i.parameterKeySeparator+s:s})).join(i.parameterSeparator)}static contains(t,e){return Object.keys(e).every((n=>e[n]===t[n]))}parameters(t){return LT.parse(t,this.typedParameters)}set(t){this.parametersString=null,this.parametersList=null,this.parametersRecord=null,null==t||""===t?(this.parametersType="none",t=null):"string"==typeof t?(this.parametersType="string",this.parametersString=t):Array.isArray(t)?(this.parametersType="array",this.parametersList=t):(this.parametersType="object",this.parametersRecord=t)}get(t,e){if(void 0===e)return this.parameters(t);const n=this.parameters(t).filter((t=>t.key===e)).map((t=>t.value));return 0!==n.length?1===n.length?n[0]:n:void 0}addParameters(t){if("none"===this.parametersType)return this.set(t);if("object"!==this.parametersType)throw new Error("Can't add object parameters to existing non-object parameters!");this.set({...this.parametersRecord,...t})}toSpecifiedParameters(t,e){e=null!=e?e:[];const n=this.parameters(t),i={};for(const t of e){let e=n.findIndex((e=>e.key===t));if(e>=0){const[s]=n.splice(e,1);i[t]=s.value}else if(e=n.findIndex((t=>void 0===t.key)),e>=0){const[s]=n.splice(e,1);i[t]=s.value}}for(const t of n.filter((t=>void 0!==t.key)))i[t.key]=t.value;let s=e.length;for(const t of n.filter((t=>void 0===t.key)))i[s++]=t.value;return i}toSortedParameters(t,e){e=e||[];const n=this.parameters(t),i=[];for(const t of e){let e=n.findIndex((e=>e.key===t));if(e>=0){const t={...n.splice(e,1)[0]};t.key=void 0,i.push(t)}else if(e=n.findIndex((t=>void 0===t.key)),e>=0){const t={...n.splice(e,1)[0]};i.push(t)}else i.push({value:void 0})}const s=n.filter((t=>void 0!==t.key));return s.sort(((t,e)=>(t.key||"")<(e.key||"")?1:(e.key||"")<(t.key||"")?-1:0)),i.push(...s),i.push(...n.filter((t=>void 0===t.key))),i}same(t,e,n){const i=null!==n?n.parameters:[],s=this.toSpecifiedParameters(t,i),o=e.toSpecifiedParameters(t,i);return Object.keys(s).every((t=>s[t]===o[t]))&&Object.keys(o).every((t=>o[t]===s[t]))}}class NT{constructor(){this.name=null,this.type=null,this.instance=null,this.promise=null}static create(t){const e=new NT;return e.set(t),e}static isName(t){return"string"==typeof t}static isDefinition(t){return Cb.isType(t.Type)}static isType(t){return Cb.isType(t)}static isInstance(t){return Ly(t)}static isAppelation(t){return NT.isName(t)||NT.isType(t)||NT.isInstance(t)}static getName(t){return NT.isName(t)?t:NT.isType(t)?Cb.getDefinition(t).name:NT.getName(t.constructor)}static getType(t){return NT.isName(t)?null:NT.isType(t)?t:t.constructor}static getInstance(t){return NT.isName(t)||NT.isType(t)?null:t}set(t){let e=null,n=null,i=null,s=null;t instanceof Promise?s=t:NT.isName(t)?e=NT.getName(t):NT.isType(t)?(e=this.getNewName(t),n=NT.getType(t)):NT.isInstance(t)&&(e=this.getNewName(NT.getType(t)),n=NT.getType(t),i=NT.getInstance(t)),this.name=e,this.type=n,this.instance=i,this.promise=s}resolve(){if(this.promise instanceof Promise)return this.promise.then((t=>{if(NT.isAppelation(t))return void this.set(t);if(null!=t.default)return void this.set(t.default);if(0===Object.keys(t).length)throw new Error("Failed to load component Type from resolved Promise since no export was specified.");if(Object.keys(t).length>1)throw new Error("Failed to load component Type from resolved Promise since no 'default' export was specified when having multiple exports.");const e=Object.keys(t)[0];this.set(t[e])}))}get none(){return!this.isName()&&!this.isType()&&!this.isInstance()}isName(){return!!this.name&&!this.isType()&&!this.isInstance()}isType(){return null!==this.type&&!this.isInstance()}isInstance(){return null!==this.instance}isPromise(){return null!==this.promise}toType(t){if(null!==this.type)return this.type;if(null!==this.name&&"string"==typeof this.name){if(null===t)throw new Error(`No container available when trying to resolve component '${this.name}'!`);if(t.has(Cb.keyFrom(this.name),!0)){const e=t.getResolver(Cb.keyFrom(this.name));if(null!==e&&void 0!==e.getFactory){const n=e.getFactory(t);if(n)return n.Type}}}return null}toInstance(t){if(null!==this.instance)return this.instance;if(null!=t){const e=this.isType()?t.get(this.type):t.get(Cb.keyFrom(this.name));return!this.isType()||e instanceof this.type||console.warn("Failed to instantiate",this.type,e),null!=e?e:null}return null}same(t,e=!1){return e?this.type===t.type:this.name===t.name}getNewName(t){return null===this.name?NT.getName(t):this.name}}function DT(t,e){const n=[];let i=t.findIndex(e);for(;i>=0;)n.push(t.splice(i,1)[0]),i=t.findIndex(e);return n}function MT(t,e=!1){return t.filter(((t,n,i)=>(e||null!=t)&&i.indexOf(t)===n))}class BT{constructor(){this.isPending=!0,this.promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e}))}resolve(t){this._resolve(t),this.isPending=!1}reject(t){this._reject(t),this.isPending=!1}}class VT{constructor(){this.isDone=!1,this.isCancelled=!1,this.isResolved=!1,this.isRejected=!1,this.isAsync=!1}static run(t,...e){var n,i;if(0===(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0))return null==e?void 0:e[0];let s=!1;null===t&&(t=new HT,s=!0);const o=new HT(e.shift());return VT.connect(t,o,null!==(i=null==t?void 0:t.runParallel)&&void 0!==i&&i||s),e.length>0&&VT.add(o,!1,...e),s?(VT.process(t),t.result instanceof Promise&&this.runners.set(t.result,t),t.result):o}static runParallel(t,...e){var n,i;if(0===(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0))return[];let s=!1;return null===t?(t=new HT,s=!0):t=VT.connect(t,new HT,!0),VT.add(t,!0,...e),s&&VT.process(t),t.result instanceof Promise&&this.runners.set(t.result,t),s?null!==(i=t.result)&&void 0!==i?i:[]:t}static step(t){if(t instanceof Promise)return VT.runners.get(t)}static cancel(t){const e=VT.step(t);void 0!==e&&e.cancel()}static add(t,e,...n){let i=new HT(n.shift(),e);null!==t&&(i=VT.connect(t,i,e));const s=i;for(;n.length>0;)i=VT.connect(i,new HT(n.shift(),e),!1);return s}static connect(t,e,n){if(n){const n=t.child;t.child=e,e.parent=t,e.next=n,null!==n&&(n.parent=null,n.previous=e)}else{const n=t.next;t.next=e,e.previous=t,e.next=n,null!==n&&(n.previous=e,n.parent=null)}return e}static process(t){const e=t.root;for(;null!==t&&!t.isDoing&&!t.isDone;)if(t.isParallelParent){t.isDone=!0;let e=t.child;for(;null!==e;)VT.process(e),e=e.next}else{for(t.isDoing=!0,t.value=t.step;t.value instanceof Function&&!t.isCancelled&&!t.isDone;)t.value=t.value(t);if(!t.isCancelled)if(t.value instanceof Promise){const n=t.value;VT.ensurePromise(e),((t,e)=>{e.then((e=>{t.value=e,VT.settlePromise(t),t.isDone=!0,t.isDoing=!1;const n=t.nextToDo();null!==n?VT.process(n):t.root.doneAll&&VT.settlePromise(t.root)})).catch((t=>{throw t}))})(t,n)}else t.isDone=!0,t.isDoing=!1,t=t.nextToDo()}e.isCancelled?VT.settlePromise(e,"reject"):e.doneAll&&VT.settlePromise(e)}static ensurePromise(t){return null===t.finally&&(t.finally=new BT,t.promise=t.finally.promise,!0)}static settlePromise(t,e="resolve"){var n,i,s,o;if(null!==(i=null===(n=t.finally)||void 0===n?void 0:n.isPending)&&void 0!==i&&i)switch(t.promise=null,e){case"resolve":null===(s=t.finally)||void 0===s||s.resolve(t.result);break;case"reject":null===(o=t.finally)||void 0===o||o.reject(t.result)}}}VT.runners=new WeakMap,VT.roots={};class HT{constructor(t,e=!1){this.step=t,this.runParallel=e,this.promise=null,this.previous=null,this.next=null,this.parent=null,this.child=null,this.finally=null,this.isDoing=!1,this.isDone=!1,this.isCancelled=!1,this.id="-1",this.id=""+HT.id++}get isParallelParent(){var t,e;return null!==(e=null===(t=this.child)||void 0===t?void 0:t.runParallel)&&void 0!==e&&e}get result(){var t,e;if(null!==this.promise)return this.promise;if(null!==this.child){if(this.isParallelParent){const t=[];let e=this.child;for(;null!==e;)t.push(e.result),e=e.next;return t}return null===(e=null===(t=this.child)||void 0===t?void 0:t.tail)||void 0===e?void 0:e.result}let n=this.value;for(;n instanceof HT;)n=n.result;return n}get asValue(){return this.result}get previousValue(){var t,e,n,i;return this.runParallel?null===(n=null===(e=null===(t=this.head.parent)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.previous)||void 0===n?void 0:n.result:null===(i=this.previous)||void 0===i?void 0:i.result}get name(){let t=`${this.id}`;return this.runParallel&&(t=`:${t}`),(this.value instanceof Promise||this.promise instanceof Promise)&&(t=`${t}*`),null!==this.finally&&(t=`${t}*`),null!==this.child&&(t=`${t}>`),this.isDone&&(t=`(${t})`),t}get root(){let t=this.head;for(;null!==t.parent;)t=t.parent.head;return t}get head(){let t=this;for(;null!==t.previous;)t=t.previous;return t}get tail(){let t=this;for(;null!==t.next;)t=t.next;return t}get done(){if(!this.isDone)return!1;let t=this.child;for(;null!==t;){if(!t.done)return!1;t=t.next}return!0}get doneAll(){return!(!this.isDone||null!==this.child&&!this.child.doneAll||null!==this.next&&!this.next.doneAll)}cancel(t=!0){var e,n;return t?this.root.cancel(!1):!this.isCancelled&&(this.isCancelled=!0,null===(e=this.child)||void 0===e||e.cancel(!1),null===(n=this.next)||void 0===n||n.cancel(!1),!0)}nextToDo(){return null===this.child||this.child.isDoing||this.child.isDone?this.runParallel&&!this.head.parent.done?null:this.nextOrUp():this.child}nextOrUp(){var t;let e=this.next;for(;null!==e;){if(!e.isDoing&&!e.isDone)return e;e=e.next}const n=null!==(t=this.head.parent)&&void 0!==t?t:null;return null!==n&&n.done?n.nextOrUp():null}get path(){var t,e;return`${null!==(e=null===(t=this.head.parent)||void 0===t?void 0:t.path)&&void 0!==e?e:""}/${this.name}`}get tree(){let t="",e=this.head,n=e.parent,i="";for(;null!==n;)i=`${n.path}${i}`,n=n.head.parent;do{if(t+=`${i}/${e.name}\n`,e===this)break;e=e.next}while(null!==e);return t}get report(){var t,e,n,i;let s=`${this.path}\n`;return s+=null!==(e=null===(t=this.child)||void 0===t?void 0:t.report)&&void 0!==e?e:"",s+=null!==(i=null===(n=this.next)||void 0===n?void 0:n.report)&&void 0!==i?i:"",s}}HT.id=0;class qT{constructor(t,e,n,i,s,o,r,a){this.path=t,this.id=e,this.redirectTo=n,this.instructions=i,this.caseSensitive=s,this.title=o,this.reloadBehavior=r,this.data=a}static isConfigured(t){return Vh.hasOwn(qT.resourceKey,t)||"parameters"in t||"title"in t}static configure(t,e){const n=qT.create(t,e);return Vh.define(qT.resourceKey,n,e),e}static getConfiguration(t){var e;const n=null!==(e=Vh.getOwn(qT.resourceKey,t))&&void 0!==e?e:{};return Array.isArray(t.parameters)&&(n.parameters=t.parameters),"title"in t&&(n.title=t.title),n instanceof qT?n:qT.create(n,t)}static create(t,e=null){var n,i,s,o,r,a,l,c,h;null!==e&&(t=qT.transferTypeToComponent(t,e)),Cb.isType(t)?t=qT.getConfiguration(t):null===e&&(t={...t});const u=qT.transferIndividualIntoInstructions(t);qT.validateRouteConfiguration(u);let d=u.path;return Array.isArray(d)&&(d=d.join(",")),new qT(null!==(n=u.path)&&void 0!==n?n:"",null!==(s=null!==(i=u.id)&&void 0!==i?i:d)&&void 0!==s?s:null,null!==(o=u.redirectTo)&&void 0!==o?o:null,null!==(r=u.instructions)&&void 0!==r?r:null,null!==(a=u.caseSensitive)&&void 0!==a&&a,null!==(l=u.title)&&void 0!==l?l:null,null!==(c=u.reloadBehavior)&&void 0!==c?c:null,null!==(h=u.data)&&void 0!==h?h:null)}static transferTypeToComponent(t,e){var n;if(Cb.isType(t))throw new Error("Invalid route configuration: A component can't be specified in a component route configuration.");const i=null!==(n={...t})&&void 0!==n?n:{};if("component"in i||"instructions"in i)throw new Error("Invalid route configuration: The 'component' and 'instructions' properties can't be specified in a component route configuration.");return"redirectTo"in i||(i.component=e),"path"in i||"redirectTo"in i||(i.path=Cb.getDefinition(e).name),i}static transferIndividualIntoInstructions(t){var e,n,i,s;if(null==t)throw new Error("Invalid route configuration: expected an object.");if(null!==(null!==(e=t.component)&&void 0!==e?e:null)||null!==(null!==(n=t.viewport)&&void 0!==n?n:null)||null!==(null!==(i=t.parameters)&&void 0!==i?i:null)||null!==(null!==(s=t.children)&&void 0!==s?s:null)){if(null!=t.instructions)throw new Error("Invalid route configuration: The 'instructions' property can't be used together with the 'component', 'viewport', 'parameters' or 'children' properties.");t.instructions=[{component:t.component,viewport:t.viewport,parameters:t.parameters,children:t.children}]}return t}static validateRouteConfiguration(t){if(null===t.redirectTo&&null===t.instructions)throw new Error("Invalid route configuration: either 'redirectTo' or 'instructions' need to be specified.")}}qT.resourceKey=du.resource.keyFor("route");const UT={name:du.resource.keyFor("routes"),isConfigured:t=>Vh.hasOwn(UT.name,t)||"routes"in t,configure(t,e){const n=t.map((t=>qT.create(t)));return Vh.define(UT.name,n,e),e},getConfiguration(t){const e=t,n=[],i=Vh.getOwn(UT.name,t);return Array.isArray(i)&&n.push(...i),Array.isArray(e.routes)&&n.push(...e.routes),n.map((t=>t instanceof qT?t:qT.create(t)))}};class zT extends ET{}class _T extends AT{constructor(t,e,n,i,s,o=null,r={catches:[],source:null}){super(t,e,n),this.rootComponentType=o,this.options=r,this.instruction=null,this.available=!0,this.sourceItem=null,this.sourceItemIndex=-1,this.remove=!1,this.add=!1,this.contents.push(new zT(t,this,i,s)),this.catches.length>0&&(this.instruction=tA.create(this.catches[0],this.name))}get isEmpty(){return null===this.instruction}get passThroughScope(){return null===this.rootComponentType&&0===this.catches.length}get siblings(){const t=this.connectedScope.parent;return null===t?[this]:t.enabledChildren.filter((t=>t.isViewportScope&&t.endpoint.name===this.name)).map((t=>t.endpoint))}get source(){var t;return null!==(t=this.options.source)&&void 0!==t?t:null}get catches(){var t;let e=null!==(t=this.options.catches)&&void 0!==t?t:[];return"string"==typeof e&&(e=e.split(",")),e}get default(){if(this.catches.length>0)return this.catches[0]}toString(){var t,e,n,i;const s=null!==(e=null===(t=this.instruction)||void 0===t?void 0:t.component.name)&&void 0!==e?e:"",o=null!==(i=null===(n=this.getNextContent())||void 0===n?void 0:n.instruction.component.name)&&void 0!==i?i:"";return`vs:${this.name}[${s}->${o}]`}setNextContent(t,e){return t.endpoint.set(this),this.remove=t.isClear(this.router)||t.isClearAll(this.router),this.add=t.isAdd(this.router)&&Array.isArray(this.source),this.add&&(t.component.name=null),void 0!==this.default&&null===t.component.name&&(t.component.name=this.default),this.contents.push(new zT(this.router,this,this.owningScope,this.scope.hasScope,t,e)),"swap"}transition(t){VT.run(null,(()=>t.addEndpointState(this,"guardedUnload")),(()=>t.addEndpointState(this,"guardedLoad")),(()=>t.addEndpointState(this,"guarded")),(()=>t.addEndpointState(this,"loaded")),(()=>t.addEndpointState(this,"unloaded")),(()=>t.addEndpointState(this,"routed")),(()=>t.addEndpointState(this,"swapped")),(()=>{t.addEndpointState(this,"completed")}))}finalizeContentChange(t){var e;const n=this.contents.findIndex((e=>e.navigation===t.navigation));let i=this.contents[n];if(this.remove){const t=new zT(this.router,this,this.owningScope,this.scope.hasScope);this.contents.splice(n,1,t),i.delete(),i=t}i.completed=!0;let s=0;for(let t=0,i=n;t<i&&null!==(e=this.contents[0].navigation.completed)&&void 0!==e&&e;t++)s++;this.contents.splice(0,s),this.remove&&Array.isArray(this.source)&&this.removeSourceItem()}cancelContentChange(t,e){const n=this.contents.findIndex((e=>e.navigation===t.navigation));if(this.contents.splice(n,1),this.add){const t=this.source.indexOf(this.sourceItem);this.source.splice(t,1),this.sourceItem=null}}acceptSegment(t){return null===t&&void 0===t||0===t.length||t===tA.clear(this.router)||t===tA.add(this.router)||t===this.name||0===this.catches.length||!!this.catches.includes(t)||!!this.catches.filter((t=>t.includes("*"))).length}binding(){(this.source||[]).length>0&&null===this.sourceItem&&(this.sourceItem=this.getAvailableSourceItem())}unbinding(){null!==this.sourceItem&&null!==this.source&&DT(this.source,(t=>t===this.sourceItem)),this.sourceItem=null}getAvailableSourceItem(){if(null===this.source)return null;const t=this.siblings;for(const e of this.source)if(t.every((t=>t.sourceItem!==e)))return e;return null}addSourceItem(){const t={};return this.source.push(t),t}removeSourceItem(){this.sourceItemIndex=this.source.indexOf(this.sourceItem),this.sourceItemIndex>=0&&this.source.splice(this.sourceItemIndex,1)}getRoutes(){if(null!==this.rootComponentType){const t=this.rootComponentType.constructor===this.rootComponentType.constructor.constructor?this.rootComponentType:this.rootComponentType.constructor;return UT.getConfiguration(t)}return null}}class WT{constructor(){this.first=!1,this.new=!1,this.refresh=!1,this.forward=!1,this.back=!1,this.replace=!1}}class KT extends class{constructor(t={instruction:"",fullStateInstruction:""}){this.instruction=t.instruction,this.fullStateInstruction=t.fullStateInstruction,this.scope=t.scope,this.index=t.index,this.firstEntry=t.firstEntry,this.path=t.path,this.title=t.title,this.query=t.query,this.parameters=t.parameters,this.data=t.data}toStoredNavigation(){return{instruction:this.instruction,fullStateInstruction:this.fullStateInstruction,scope:this.scope,index:this.index,firstEntry:this.firstEntry,path:this.path,title:this.title,query:this.query,parameters:this.parameters,data:this.data}}}{constructor(t={instruction:"",fullStateInstruction:""}){var e,n,i,s,o,r;super(t),this.navigation=new WT,this.repeating=!1,this.previous=null,this.fromBrowser=!1,this.origin=null,this.replacing=!1,this.refreshing=!1,this.untracked=!1,this.process=null,this.completed=!0,this.fromBrowser=null!==(e=t.fromBrowser)&&void 0!==e?e:this.fromBrowser,this.origin=null!==(n=t.origin)&&void 0!==n?n:this.origin,this.replacing=null!==(i=t.replacing)&&void 0!==i?i:this.replacing,this.refreshing=null!==(s=t.refreshing)&&void 0!==s?s:this.refreshing,this.untracked=null!==(o=t.untracked)&&void 0!==o?o:this.untracked,this.historyMovement=null!==(r=t.historyMovement)&&void 0!==r?r:this.historyMovement,this.process=null,this.timestamp=Date.now()}get useFullStateInstruction(){var t,e,n;return null!==(t=this.navigation.back)&&void 0!==t&&t||null!==(e=this.navigation.forward)&&void 0!==e&&e||null!==(n=this.navigation.refresh)&&void 0!==n&&n}static create(t={instruction:"",fullStateInstruction:""}){return new KT(t)}}class GT{constructor(){this.map=new Map}set(t,e){const n=this.map.get(t);n instanceof BT&&n.resolve(e),this.map.set(t,e)}delete(t){const e=this.map.get(t);e instanceof BT&&e.reject(),this.map.delete(t)}await(t){if(!this.map.has(t)){const e=new BT;return this.map.set(t,e),e.promise}const e=this.map.get(t);return e instanceof BT?e.promise:e}has(t){return this.map.has(t)&&!(this.map.get(t)instanceof BT)}clone(){const t=new GT;return t.map=new Map(this.map),t}}class QT{constructor(t=null,e="",n=[],i="",s={}){this.match=t,this.matching=e,this.instructions=n,this.remaining=i,this.params=s}get foundConfiguration(){return null!==this.match}get foundInstructions(){return this.instructions.length>0}get hasRemaining(){return null!==this.remaining&&this.remaining.length>0}}class YT extends ET{constructor(t,e,n,i,s=tA.create(""),o=KT.create({instruction:"",fullStateInstruction:""}),r=null){super(t,e,n,i,s,o),this.router=t,this.instruction=s,this.navigation=o,this.contentStates=new GT,this.fromCache=!1,this.fromHistory=!1,this.reload=!1,this.activatedResolve=null,this.instruction.component.isType()||null==(null==r?void 0:r.container)||(this.instruction.component.type=this.toComponentType(r.container))}get componentInstance(){return this.instruction.component.instance}get reloadBehavior(){var t,e;return this.instruction.route instanceof QT&&null!==(null===(t=this.instruction.route.match)||void 0===t?void 0:t.reloadBehavior)?null===(e=this.instruction.route.match)||void 0===e?void 0:e.reloadBehavior:null!==this.instruction.component.instance&&"reloadBehavior"in this.instruction.component.instance&&void 0!==this.instruction.component.instance.reloadBehavior?this.instruction.component.instance.reloadBehavior:"default"}equalComponent(t){return this.instruction.sameComponent(this.router,t.instruction)}equalParameters(t){var e,n;return this.instruction.sameComponent(this.router,t.instruction,!0)&&(null!==(e=this.navigation.query)&&void 0!==e?e:"")===(null!==(n=t.navigation.query)&&void 0!==n?n:"")}isCacheEqual(t){return this.instruction.sameComponent(this.router,t.instruction,!0)}contentController(t){return Oy.forCustomElement(null,t.container,this.instruction.component.instance,t.element,null,void 0)}createComponent(t,e){if(!this.contentStates.has("created")){if(!this.fromCache&&!this.fromHistory)try{this.instruction.component.set(this.toComponentInstance(t.container))}catch(n){if(""===(null!=e?e:""))throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`);this.instruction.parameters.set({id:this.instruction.component.name}),this.instruction.component.set(e);try{this.instruction.component.set(this.toComponentInstance(t.container))}catch(t){throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`)}}this.contentStates.set("created",void 0),this.contentStates.has("loaded")||!this.instruction.component.instance||this.fromCache&&this.fromHistory||(this.contentController(t).parent=t.controller)}}canLoad(){var t,e,n;if(!this.contentStates.has("created")||this.contentStates.has("checkedLoad")&&!this.reload)return!0;if(this.contentStates.set("checkedLoad",void 0),null==this.instruction.component.instance.canLoad)return!0;const i=null===(n=null===(e=null===(t=this.endpoint.parentViewport)||void 0===t?void 0:t.getTimeContent(this.navigation.timestamp))||void 0===e?void 0:e.instruction)||void 0===n?void 0:n.typeParameters(this.router),s=this.instruction.typeParameters(this.router),o={...this.navigation.parameters,...i,...s},r=this.instruction.component.instance.canLoad(o,this.instruction,this.navigation);return"boolean"==typeof r?r:"string"==typeof r?[tA.create(r,this.endpoint)]:r}canUnload(t){if(this.contentStates.has("checkedUnload")&&!this.reload)return!0;if(this.contentStates.set("checkedUnload",void 0),!this.contentStates.has("loaded"))return!0;if(!this.instruction.component.instance.canUnload)return!0;null===t&&(t=KT.create({instruction:"",fullStateInstruction:"",previous:this.navigation}));const e=this.instruction.component.instance.canUnload(this.instruction,t);if("boolean"!=typeof e&&!(e instanceof Promise))throw new Error(`Method 'canUnload' in component "${this.instruction.component.name}" needs to return true or false or a Promise resolving to true or false.`);return e}load(t){return VT.run(t,(()=>this.contentStates.await("checkedLoad")),(()=>{var t,e,n,i;if(this.contentStates.has("created")&&(!this.contentStates.has("loaded")||this.reload)&&(this.reload=!1,this.contentStates.set("loaded",void 0),null!=(null===(t=this.instruction.component.instance)||void 0===t?void 0:t.load))){const t=null===(i=null===(n=null===(e=this.endpoint.parentViewport)||void 0===e?void 0:e.getTimeContent(this.navigation.timestamp))||void 0===n?void 0:n.instruction)||void 0===i?void 0:i.typeParameters(this.router),s=this.instruction.typeParameters(this.router),o={...this.navigation.parameters,...t,...s};return this.instruction.component.instance.load(o,this.instruction,this.navigation)}}))}unload(t){var e;if(this.contentStates.has("loaded"))return this.contentStates.delete("loaded"),null!=(null===(e=this.instruction.component.instance)||void 0===e?void 0:e.unload)?(null===t&&(t=KT.create({instruction:"",fullStateInstruction:"",previous:this.navigation})),this.instruction.component.instance.unload(this.instruction,t)):void 0}activateComponent(t,e,n,i,s,o,r){return VT.run(t,(()=>this.contentStates.await("loaded")),(()=>this.waitForParent(n)),(()=>{if(this.contentStates.has("activating")||this.contentStates.has("activated"))return;this.contentStates.set("activating",void 0);const t=this.contentController(s);return t.activate(null!=e?e:t,n,i,void 0,void 0)}),(()=>{this.contentStates.set("activated",void 0)}))}deactivateComponent(t,e,n,i,s,o=!1){if(this.contentStates.has("activated")||this.contentStates.has("activating"))return VT.run(t,(()=>{if(o&&null!==s.element){const t=Array.from(s.element.getElementsByTagName("*"));for(const e of t)(e.scrollTop>0||e.scrollLeft)&&e.setAttribute("au-element-scroll",`${e.scrollTop},${e.scrollLeft}`)}this.contentStates.delete("activated"),this.contentStates.delete("activating");const t=this.contentController(s);return t.deactivate(null!=e?e:t,n,i)}))}disposeComponent(t,e,n=!1){if(this.contentStates.has("created")&&null!=this.instruction.component.instance){if(!n)return this.contentStates.delete("created"),this.contentController(t).dispose();e.push(this)}}freeContent(t,e,n,i,s=!1){return VT.run(t,(()=>this.unload(n)),(t=>this.deactivateComponent(t,null,e.controller,0,e,s)),(()=>this.disposeComponent(e,i,s)))}toComponentName(){return this.instruction.component.name}toComponentType(t){return this.instruction.component.none?null:this.instruction.component.toType(t)}toComponentInstance(t){return this.instruction.component.none?null:this.instruction.component.toInstance(t)}waitForParent(t){if(null!==t)return t.isActive?void 0:new Promise((t=>{this.endpoint.activeResolve=t}))}}class XT{constructor(t=!0,e=[],n="",i="",s=!1,o=!1,r=!1,a=!1,l=!1){this.scope=t,this.usedBy=e,this.fallback=i,this.noLink=s,this.noTitle=o,this.stateful=r,this.forceDescription=a,this.noHistory=l,this.default=void 0,this.default=n}static create(t){const e=new XT;return void 0!==t&&e.apply(t),e}apply(t){var e,n,i,s,o,r,a,l,c;this.scope=null!==(e=t.scope)&&void 0!==e?e:this.scope,this.usedBy=null!==(n="string"==typeof t.usedBy?t.usedBy.split(",").filter((t=>t.length>0)):t.usedBy)&&void 0!==n?n:this.usedBy,this.default=null!==(i=t.default)&&void 0!==i?i:this.default,this.fallback=null!==(s=t.fallback)&&void 0!==s?s:this.fallback,this.noLink=null!==(o=t.noLink)&&void 0!==o?o:this.noLink,this.noTitle=null!==(r=t.noTitle)&&void 0!==r?r:this.noTitle,this.stateful=null!==(a=t.stateful)&&void 0!==a?a:this.stateful,this.forceDescription=null!==(l=t.forceDescription)&&void 0!==l?l:this.forceDescription,this.noHistory=null!==(c=t.noHistory)&&void 0!==c?c:this.noHistory}}class ZT extends AT{constructor(t,e,n,i,s,o){super(t,e,n),this.contents=[],this.forceRemove=!1,this.options=new XT,this.activeResolve=null,this.connectionResolve=null,this.clear=!1,this.coordinators=[],this.previousViewportState=null,this.cache=[],this.historyCache=[],this.contents.push(new YT(t,this,i,s)),this.contents[0].completed=!0,void 0!==o&&this.options.apply(o)}getContent(){var t;if(1===this.contents.length)return this.contents[0];let e;for(let n=0,i=this.contents.length;n<i&&null!==(t=this.contents[n].completed)&&void 0!==t&&t;n++)e=this.contents[n];return e}getNextContent(){if(1===this.contents.length)return null;const t=this.contents.indexOf(this.getContent());return this.contents.length>t?this.contents[t+1]:null}getTimeContent(t){let e=null;for(let n=0,i=this.contents.length;n<i&&!(this.contents[n].navigation.timestamp>t);n++)e=this.contents[n];return e}get parentViewport(){let t=this.connectedScope;for(;null!==t.parent;)if(t=t.parent,t.endpoint.isViewport)return t.endpoint;return null}get isEmpty(){return null===this.getContent().componentInstance}get doForceRemove(){let t=this.connectedScope;for(;null!==t;){if(t.isViewport&&t.endpoint.forceRemove)return!0;t=t.parent}return!1}isActiveNavigation(t){return this.coordinators[this.coordinators.length-1]===t}toString(){var t,e,n,i;const s=null!==(e=null===(t=this.getContent())||void 0===t?void 0:t.instruction.component.name)&&void 0!==e?e:"",o=null!==(i=null===(n=this.getNextContent())||void 0===n?void 0:n.instruction.component.name)&&void 0!==i?i:"";return`v:${this.name}[${s}->${o}]`}applyOptions(t){t instanceof XT?this.options=t:this.options.apply(t)}setNextContent(t,e){var n;t.endpoint.set(this),this.clear=t.isClear(this.router);const i=this.contents[this.contents.length-1],s=new YT(this.router,this,this.owningScope,this.scope.hasScope,this.clear?void 0:t,e,null!==(n=this.connectedCE)&&void 0!==n?n:null);if(this.contents.push(s),s.fromHistory=!(null===s.componentInstance||!e.navigation||!e.navigation.back&&!e.navigation.forward),this.options.stateful){const t=this.cache.find((t=>s.isCacheEqual(t)));void 0!==t?(this.contents.splice(this.contents.indexOf(s),1,t),s.fromCache=!0):this.cache.push(s)}return null!==s.componentInstance&&i.componentInstance===s.componentInstance?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):!i.equalComponent(s)||e.navigation.refresh||"refresh"===i.reloadBehavior?this.transitionAction="swap":"disallow"===i.reloadBehavior?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):"reload"===i.reloadBehavior?(i.reload=!0,s.instruction.component.set(i.componentInstance),s.contentStates=i.contentStates.clone(),s.reload=i.reload,this.transitionAction="reload"):this.options.stateful&&i.equalParameters(s)||i.equalParameters(s)?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):this.transitionAction="swap"}setConnectedCE(t,e){var n;if(e=null!=e?e:{},this.connectedCE!==t&&(this.previousViewportState={...this},this.clearState(),this.connectedCE=t,this.options.apply(e),null!=this.connectionResolve&&this.connectionResolve()),null===this.getContent().componentInstance&&null==(null===(n=this.getNextContent())||void 0===n?void 0:n.componentInstance)&&this.options.default){const t=tA.parse(this.router,this.options.default);for(const e of t)e.endpoint.set(this),e.scope=this.owningScope,e.default=!0;this.router.load(t,{append:!0}).catch((t=>{throw t}))}}remove(t,e){return this.connectedCE===e&&VT.run(t,(t=>{var e,n;if(null!==this.getContent().componentInstance)return this.getContent().freeContent(t,this.connectedCE,null!==(n=null===(e=this.getNextContent())||void 0===e?void 0:e.navigation)&&void 0!==n?n:null,this.historyCache,!this.doForceRemove&&(this.router.statefulHistory||this.options.stateful))}),(t=>{if(this.doForceRemove){const e=[];for(const t of this.historyCache)e.push((e=>t.freeContent(e,null,null,this.historyCache,!1)));return e.push((()=>{this.historyCache=[]})),VT.run(t,...e)}return!0}))}async transition(t){var e,n;for(this.coordinators.push(t);this.coordinators[0]!==t;)await this.coordinators[0].waitForSyncState("completed");let i=this.parentViewport;null!==i&&"reload"!==i.transitionAction&&"swap"!==i.transitionAction&&(i=null);const s=[e=>{if(this.isActiveNavigation(t))return this.canUnload(e)},e=>{this.isActiveNavigation(t)&&(e.previousValue?this.router.isRestrictedNavigation&&this.getNextContent().createComponent(this.connectedCE,this.options.fallback):(e.cancel(),t.cancel())),t.addEndpointState(this,"guardedUnload")},()=>t.waitForSyncState("guardedUnload",this),()=>null!==i?t.waitForEndpointState(i,"guardedLoad"):void 0,e=>{if(this.isActiveNavigation(t))return this.canLoad(e)},e=>{if(this.isActiveNavigation(t)){const n=e.previousValue;if("boolean"!=typeof n)return VT.run(e,(()=>this.router.load(n,{append:!0})),(e=>this.cancelContentChange(t,e)));if(!n)return e.cancel(),void t.cancel()}t.addEndpointState(this,"guardedLoad"),t.addEndpointState(this,"guarded")}],o=[()=>t.waitForSyncState("guarded",this),e=>{if(this.isActiveNavigation(t))return this.unload(e)},()=>t.addEndpointState(this,"unloaded"),()=>t.waitForSyncState("unloaded",this),()=>null!==i?t.waitForEndpointState(i,"loaded"):void 0,e=>{if(this.isActiveNavigation(t))return this.load(e)},()=>t.addEndpointState(this,"loaded"),()=>t.addEndpointState(this,"routed")],r=[()=>t.waitForSyncState("routed",this),()=>t.waitForEndpointState(this,"routed")];switch(this.router.configuration.options.swapOrder){case"detach-current-attach-next":r.push((e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}));break;case"attach-next-detach-current":r.push((e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}));break;case"detach-attach-simultaneously":r.push((e=>VT.runParallel(e,(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}))));break;case"attach-detach-simultaneously":r.push((e=>VT.runParallel(e,(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}))))}r.push((()=>t.addEndpointState(this,"swapped"))),null===(n=null===(e=this.connectedCE)||void 0===e?void 0:e.setActive)||void 0===n||n.call(e,!0);const a=VT.run(null,...s,...o,...r,(()=>t.addEndpointState(this,"completed")),(()=>t.waitForSyncState("bound")),(()=>{var t,e;return null===(e=null===(t=this.connectedCE)||void 0===t?void 0:t.setActive)||void 0===e?void 0:e.call(t,!1)}));a instanceof Promise&&a.catch((t=>{}))}canUnload(t){return VT.run(t,(t=>this.getContent().connectedScope.canUnload(t)),(t=>{var e,n;return!!t.previousValue&&this.getContent().canUnload(null!==(n=null===(e=this.getNextContent())||void 0===e?void 0:e.navigation)&&void 0!==n?n:null)}))}canLoad(t){return!!this.clear||VT.run(t,(()=>this.waitForConnected()),(()=>(this.getNextContent().createComponent(this.connectedCE,this.options.fallback),this.getNextContent().canLoad())))}load(t){if(!this.clear)return this.getNextContent().load(t)}addContent(t,e){return this.activate(t,null,this.connectedController,0,e)}removeContent(t,e){var n;if(this.isEmpty)return;const i=this.router.statefulHistory||null!==(n=this.options.stateful)&&void 0!==n&&n;return VT.run(t,(()=>e.addEndpointState(this,"bound")),(()=>e.waitForSyncState("bound")),(t=>this.deactivate(t,null,this.connectedController,i?0:32)),(()=>i?this.dispose():void 0))}activate(t,e,n,i,s){if(null!==this.activeContent.componentInstance)return VT.run(t,(()=>this.activeContent.canLoad()),(t=>this.activeContent.load(t)),(t=>this.activeContent.activateComponent(t,e,n,i,this.connectedCE,(()=>null==s?void 0:s.addEndpointState(this,"bound")),null==s?void 0:s.waitForSyncState("bound"))))}deactivate(t,e,n,i){var s,o;if(null!==this.getContent().componentInstance&&!this.getContent().reload&&this.getContent().componentInstance!==(null===(s=this.getNextContent())||void 0===s?void 0:s.componentInstance))return null===(o=this.getContent())||void 0===o?void 0:o.deactivateComponent(t,e,n,i,this.connectedCE,this.router.statefulHistory||this.options.stateful)}unload(t){return VT.run(t,(t=>this.getContent().connectedScope.unload(t)),(()=>{var t,e;return null!=this.getContent().componentInstance?this.getContent().unload(null!==(e=null===(t=this.getNextContent())||void 0===t?void 0:t.navigation)&&void 0!==e?e:null):void 0}))}dispose(){var t;null===this.getContent().componentInstance||this.getContent().reload||this.getContent().componentInstance===(null===(t=this.getNextContent())||void 0===t?void 0:t.componentInstance)||this.getContent().disposeComponent(this.connectedCE,this.historyCache,this.router.statefulHistory||this.options.stateful)}finalizeContentChange(t){var e,n,i;const s=this.contents.findIndex((e=>e.navigation===t.navigation));let o=this.contents[s];const r=this.contents[s-1];if(this.clear){const t=new YT(this.router,this,this.owningScope,this.scope.hasScope,void 0,o.navigation);this.contents.splice(s,1,t),o.delete(),o=t}else o.reload=!1;r.delete(),o.completed=!0,this.transitionAction="",o.contentStates.delete("checkedUnload"),o.contentStates.delete("checkedLoad"),this.previousViewportState=null,null===(n=null===(e=this.connectedCE)||void 0===e?void 0:e.setActive)||void 0===n||n.call(e,!1);let a=0;for(let t=0,e=s;t<e&&null!==(i=this.contents[0].navigation.completed)&&void 0!==i&&i;t++)a++;this.contents.splice(0,a),DT(this.coordinators,(e=>e===t))}cancelContentChange(t,e){const n=this.contents.findIndex((e=>e.navigation===t.navigation)),i=this.contents[n],s=this.contents[n-1];return VT.run(e,(t=>{if(null!==i)return i.freeContent(t,this.connectedCE,i.navigation,this.historyCache,this.router.statefulHistory||this.options.stateful)}),(()=>{var e,n;this.previousViewportState&&Object.assign(this,this.previousViewportState),null==i||i.delete(),null!==i&&this.contents.splice(this.contents.indexOf(i),1),this.transitionAction="",s.contentStates.delete("checkedUnload"),s.contentStates.delete("checkedLoad"),null===(n=null===(e=this.connectedCE)||void 0===e?void 0:e.setActive)||void 0===n||n.call(e,!1),DT(this.coordinators,(e=>e===t))}))}wantComponent(t){return this.options.usedBy.includes(t)}acceptComponent(t){if("-"===t||null===t)return!0;const e=this.options.usedBy;return 0===e.length||!!e.includes(t)||!!e.filter((t=>t.includes("*"))).length}freeContent(t,e){const n=this.historyCache.find((t=>t.componentInstance===e));if(void 0!==n)return VT.run(t,(t=>(this.forceRemove=!0,n.freeContent(t,null,null,this.historyCache,!1))),(()=>{this.forceRemove=!1,DT(this.historyCache,(t=>t===n))}))}getRoutes(){let t=this.getComponentType();if(null===t)return null;t=t.constructor===t.constructor.constructor?t:t.constructor;const e=UT.getConfiguration(t);return Array.isArray(e)?e:null}getTitle(t){var e,n;if(this.options.noTitle)return"";const i=this.getComponentType();if(null===i)return"";let s="";const o=i.title;if(void 0!==o)if("string"==typeof o)s=o;else{const e=this.getComponentInstance();s=o.call(e,e,t)}else if(this.router.configuration.options.title.useComponentNames){let t=null!==(e=this.getContentInstruction().component.name)&&void 0!==e?e:"";const i=null!==(n=this.router.configuration.options.title.componentPrefix)&&void 0!==n?n:"";t.startsWith(i)&&(t=t.slice(i.length)),t=t.replace("-"," "),s=t.slice(0,1).toLocaleUpperCase()+t.slice(1)}return s}getComponentType(){var t;let e=null!==(t=this.getContentInstruction().component.type)&&void 0!==t?t:null;return null===e&&(e=Cb.for(this.connectedCE.element).context.componentType),null!=e?e:null}getComponentInstance(){var t;return null!==(t=this.getContentInstruction().component.instance)&&void 0!==t?t:null}getContentInstruction(){var t,e,n;return null!==(n=null!==(e=null===(t=this.getNextContent())||void 0===t?void 0:t.instruction)&&void 0!==e?e:this.getContent().instruction)&&void 0!==n?n:null}clearState(){this.options=XT.create();const t=this.owningScope,e=this.scope.hasScope;if(this.getContent().delete(),this.contents.shift(),this.contents.length<1)throw new Error("no content!");this.contents.push(new YT(this.router,this,t,e)),this.cache=[]}waitForConnected(){if(null===this.connectedCE)return new Promise((t=>{this.connectionResolve=t}))}}class JT{constructor(){this.name=null,this.instance=null,this.scope=null}get none(){return null===this.name&&null===this.instance}get endpointType(){return this.instance instanceof ZT?"Viewport":this.instance instanceof _T?"ViewportScope":null}static create(t){const e=new JT;return e.set(t),e}static isName(t){return"string"==typeof t}static isInstance(t){return t instanceof AT}static getName(t){return JT.isName(t)?t:t?t.name:null}static getInstance(t){return JT.isName(t)?null:t}set(t){void 0!==t&&""!==t||(t=null),"string"==typeof t?(this.name=t,this.instance=null):(this.instance=t,null!==t&&(this.name=t.name,this.scope=t.owningScope))}toInstance(t){return null!==this.instance?this.instance:t.getEndpoint(this.endpointType,this.name)}same(t,e){return null!==this.instance&&null!==t.instance?this.instance===t.instance:!(null!==this.endpointType&&null!==t.endpointType&&this.endpointType!==t.endpointType||e&&this.scope!==t.scope||(null!==this.instance?this.instance.name:this.name)!==(null!==t.instance?t.instance.name:t.name))}}class tA{constructor(t,e,n){this.ownsScope=!0,this.nextScopeInstructions=null,this.scope=null,this.scopeModifier="",this.needsEndpointDescribed=!1,this.route=null,this.routeStart=!1,this.default=!1,this.topInstruction=!1,this.component=NT.create(t),this.endpoint=JT.create(e),this.parameters=LT.create(n)}static create(t,e,n,i=!0,s=null){const o=new tA(t,e,n);return o.ownsScope=i,o.nextScopeInstructions=s,o}static createClear(t,e){return tA.create(tA.clear(t),e)}static from(t,e){Array.isArray(e)||(e=[e]);const n=[];for(const i of e)if("string"==typeof i)n.push(...tA.parse(t,i));else if(i instanceof tA)n.push(i);else if(i instanceof Promise)n.push(tA.create(i));else if(NT.isAppelation(i))n.push(tA.create(i));else if(NT.isDefinition(i))n.push(tA.create(i.Type));else if("component"in i){const e=i,s=tA.create(e.component,e.viewport,e.parameters);void 0!==e.children&&null!==e.children&&(s.nextScopeInstructions=tA.from(t,e.children)),n.push(s)}else if("object"==typeof i&&null!==i){const t=Cb.define(i);n.push(tA.create(t))}else n.push(tA.create(i));return n}static clear(t){return RT.for(t).clear}static add(t){return RT.for(t).add}static parse(t,e){const n=RT.for(t);let i="";const s=/^[./]+/.exec(e);Array.isArray(s)&&s.length>0&&(i=s[0],e=e.slice(i.length));const o=OT.parse(n,e,!0,!0).instructions;for(const t of o)t.scopeModifier=i;return o}static stringify(t,e,n=!1,i=!1){return"string"==typeof e?e:e.map((e=>e.stringify(t,n,i))).filter((t=>t.length>0)).join(RT.for(t).sibling)}static containsSiblings(t){return null!==t&&(t.length>1||t.some((t=>tA.containsSiblings(t.nextScopeInstructions))))}static flat(t){const e=[];for(const n of t)e.push(n),n.hasNextScopeInstructions&&e.push(...tA.flat(n.nextScopeInstructions));return e}static clone(t,e=!1,n=!1){return t.map((t=>t.clone(e,n)))}static contains(t,e,n,i){return n.every((n=>n.isIn(t,e,i)))}get viewport(){return this.endpoint.instance instanceof ZT||null===this.endpoint.endpointType?this.endpoint:null}get viewportScope(){return this.endpoint.instance instanceof _T||null===this.endpoint.endpointType?this.endpoint:null}isAdd(t){return this.component.name===RT.for(t).add}isClear(t){return this.component.name===RT.for(t).clear}isAddAll(t){var e,n;return this.isAdd(t)&&0===(null!==(n=null===(e=this.endpoint.name)||void 0===e?void 0:e.length)&&void 0!==n?n:0)}isClearAll(t){var e,n;return this.isClear(t)&&0===(null!==(n=null===(e=this.endpoint.name)||void 0===e?void 0:e.length)&&void 0!==n?n:0)}get hasNextScopeInstructions(){var t,e;return(null!==(e=null===(t=this.nextScopeInstructions)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0}typeParameters(t){var e,n;return this.parameters.toSpecifiedParameters(t,null!==(n=null===(e=this.component.type)||void 0===e?void 0:e.parameters)&&void 0!==n?n:[])}sameComponent(t,e,n=!1,i=!1){return!(n&&!this.sameParameters(t,e,i))&&this.component.same(e.component,i)}sameEndpoint(t,e){return this.endpoint.same(t.endpoint,e)}sameParameters(t,e,n=!1){return!!this.component.same(e.component,n)&&this.parameters.same(t,e.parameters,this.component.type)}stringify(t,e=!1,n=!1){var i,s,o,r,a;const l=RT.for(t);let c=e,h=!1;if(n){const t=null!==(s=null===(i=this.viewport)||void 0===i?void 0:i.instance)&&void 0!==s?s:null;if(null!==(o=null==t?void 0:t.options.noLink)&&void 0!==o&&o)return"";this.needsEndpointDescribed||null!==(r=null==t?void 0:t.options.forceDescription)&&void 0!==r&&r&&null==(null===(a=this.viewportScope)||void 0===a?void 0:a.instance)||(c=!0),(null==t?void 0:t.options.fallback)===this.component.name&&(h=!0)}const u=this.nextScopeInstructions;let d=this.scopeModifier;if(null!==this.route){if(!this.routeStart)return Array.isArray(u)?tA.stringify(t,u,e,n):"";const i=this.route.matching;d+=i.endsWith(l.scope)?i.slice(0,-l.scope.length):i}else d+=this.stringifyShallow(t,c,h);if(Array.isArray(u)&&u.length>0){const i=tA.stringify(t,u,e,n);i.length>0&&(d+=l.scope,d+=1===u.length?i:`${l.groupStart}${i}${l.groupEnd}`)}return d}clone(t=!1,e=!1,n=!1){var i,s,o,r,a;const l=tA.create(null!==(s=null!==(i=this.component.promise)&&void 0!==i?i:this.component.type)&&void 0!==s?s:this.component.name,this.endpoint.name,null!==this.parameters.typedParameters?this.parameters.typedParameters:void 0);return t&&(l.component.set(null!==(r=null!==(o=this.component.instance)&&void 0!==o?o:this.component.type)&&void 0!==r?r:this.component.name),l.endpoint.set(null!==(a=this.endpoint.instance)&&void 0!==a?a:this.endpoint.name)),l.component.name=this.component.name,l.needsEndpointDescribed=this.needsEndpointDescribed,l.route=this.route,l.routeStart=this.routeStart,e&&(l.scopeModifier=this.scopeModifier),l.scope=t?this.scope:null,this.hasNextScopeInstructions&&!n&&(l.nextScopeInstructions=tA.clone(this.nextScopeInstructions,t,e)),l}isIn(t,e,n){const i=e.filter((e=>{var n,i;if(!e.sameComponent(t,this))return!1;const s=null!==(n=e.component.type)&&void 0!==n?n:this.component.type,o=null!==(i=this.component.type)&&void 0!==i?i:e.component.type,r=e.parameters.toSpecifiedParameters(t,null==s?void 0:s.parameters),a=this.parameters.toSpecifiedParameters(t,null==o?void 0:o.parameters);return!!LT.contains(r,a)&&(this.endpoint.none||e.sameEndpoint(this,!1))}));return!(0===i.length||n&&this.hasNextScopeInstructions&&!i.some((e=>{var i;return tA.contains(t,null!==(i=e.nextScopeInstructions)&&void 0!==i?i:[],this.nextScopeInstructions,n)})))}getTitle(t){var e;if(null!==this.route){const n=null===(e=this.route.match)||void 0===e?void 0:e.title;if(null!=n)return this.routeStart?"string"==typeof n?n:n(this,t):""}return this.endpoint.instance.getTitle(t)}toJSON(){var t,e,n;return{component:null!==(t=this.component.name)&&void 0!==t?t:void 0,viewport:null!==(e=this.endpoint.name)&&void 0!==e?e:void 0,parameters:null!==(n=this.parameters.parametersRecord)&&void 0!==n?n:void 0,children:this.hasNextScopeInstructions?this.nextScopeInstructions:void 0}}stringifyShallow(t,e=!1,n=!1){var i;const s=RT.for(t);let o=n?"":null!==(i=this.component.name)&&void 0!==i?i:"";const r=this.component.type?this.component.type.parameters:null,a=LT.stringify(t,this.parameters.toSortedParameters(t,r));return a.length>0&&(o+=n?a:`${s.parameters}${a}${s.parametersEnd}`),null==this.endpoint.name||e||(o+=`${s.viewport}${this.endpoint.name}`),this.ownsScope||(o+=s.noScope),o||""}}var eA=function(t,e){return function(n,i){e(n,i,t)}};class nA{constructor(t,e){this.eventName=t,this.navigation=e}static create(t){return new nA(nA.eventName,t)}}nA.eventName="au:router:navigation-navigate";let iA=class{constructor(t,e){this.ea=t,this.container=e,this.lastNavigationIndex=-1,this.navigations=[],this.options={statefulHistoryLength:0},this.isActive=!1,this.uninitializedNavigation=KT.create({instruction:"NAVIGATOR UNINITIALIZED",fullStateInstruction:"",index:0,completed:!0}),this.lastNavigationIndex=-1}start(t){if(this.isActive)throw new Error("Navigator has already been started");this.isActive=!0,this.options={...t}}stop(){if(!this.isActive)throw new Error("Navigator has not been started");this.isActive=!1}navigate(t){var e,n,i,s;t instanceof KT||(t=KT.create(t)),t.process=new BT;const o=new WT;return-1===this.lastNavigationIndex&&(this.loadState(),-1!==this.lastNavigationIndex?o.refresh=!0:(o.first=!0,o.new=!0,this.lastNavigationIndex=0,this.navigations=[KT.create({index:0,instruction:"",fullStateInstruction:""})])),void 0===t.index||null!==(e=t.replacing)&&void 0!==e&&e||null!==(n=t.refreshing)&&void 0!==n&&n?null!==(i=t.refreshing)&&void 0!==i&&i||o.refresh?t.index=this.lastNavigationIndex:null!==(s=t.replacing)&&void 0!==s&&s?(o.replace=!0,o.new=!0,t.index=this.lastNavigationIndex):(o.new=!0,t.index=this.lastNavigationIndex+1,this.navigations[t.index]=t):(t.historyMovement=t.index-Math.max(this.lastNavigationIndex,0),t.instruction=null!=this.navigations[t.index]?this.navigations[t.index].fullStateInstruction:t.fullStateInstruction,t.replacing=!0,t.historyMovement>0?o.forward=!0:t.historyMovement<0&&(o.back=!0)),t.navigation=o,t.previous=this.navigations[Math.max(this.lastNavigationIndex,0)],this.lastNavigationIndex=t.index,this.notifySubscribers(t),t.process.promise}async finalize(t,e){var n,i,s,o,r,a,l;if(null!==(n=t.untracked)&&void 0!==n&&n)null!==(i=t.fromBrowser)&&void 0!==i&&i&&null!=this.options.store&&await this.options.store.popNavigatorState();else if(null!==(s=t.replacing)&&void 0!==s&&s)0===(null!==(o=t.historyMovement)&&void 0!==o?o:0)&&(this.navigations[t.previous.index]=t),await this.saveState(t.index,!1);else{const n=t.index;if(e&&(this.navigations=this.navigations.slice(0,n)),this.navigations[n]=t,(null!==(r=this.options.statefulHistoryLength)&&void 0!==r?r:0)>0){const t=this.navigations.length-(null!==(a=this.options.statefulHistoryLength)&&void 0!==a?a:0);for(const e of this.navigations.slice(n))"string"==typeof e.instruction&&"string"==typeof e.fullStateInstruction||await this.serializeNavigation(e,this.navigations.slice(t,n))}await this.saveState(t.index,!(null!==(l=t.fromBrowser)&&void 0!==l&&l))}}async cancel(t){var e,n,i;null!=this.options.store&&((null===(e=t.navigation)||void 0===e?void 0:e.new)?null!==(n=t.fromBrowser)&&void 0!==n&&n&&await this.options.store.popNavigatorState():0!==(null!==(i=t.historyMovement)&&void 0!==i?i:0)&&await this.options.store.go(-t.historyMovement,!0))}async go(t){let e=this.lastNavigationIndex+t;e=Math.min(e,this.navigations.length-1),await this.options.store.go(t,!0);const n=this.navigations[e];return this.navigate(n)}getState(){var t,e;const n=null!=this.options.store?{...this.options.store.state}:{};return{navigations:null!==(t=null==n?void 0:n.navigations)&&void 0!==t?t:[],navigationIndex:null!==(e=null==n?void 0:n.navigationIndex)&&void 0!==e?e:-1}}loadState(){const{navigations:t,navigationIndex:e}=this.getState();this.navigations=t.map((t=>KT.create(t))),this.lastNavigationIndex=e}async saveState(t,e){var n,i,s,o,r;for(let t=0;t<this.navigations.length;t++)this.navigations[t]=KT.create(this.navigations[t].toStoredNavigation());if((null!==(n=this.options.statefulHistoryLength)&&void 0!==n?n:0)>0){const t=this.navigations.length-(null!==(i=this.options.statefulHistoryLength)&&void 0!==i?i:0);for(let e=0;e<t;e++){const n=this.navigations[e];"string"==typeof n.instruction&&"string"==typeof n.fullStateInstruction||await this.serializeNavigation(n,this.navigations.slice(t))}}if(null==this.options.store)return Promise.resolve();const a={navigations:(null!==(s=this.navigations)&&void 0!==s?s:[]).map((t=>this.toStoreableNavigation(t))),navigationIndex:t};return e?null===(r=null===(o=this.options)||void 0===o?void 0:o.store)||void 0===r?void 0:r.pushNavigatorState(a):this.options.store.replaceNavigatorState(a)}async refresh(){if(-1===this.lastNavigationIndex)return Promise.reject();const t=this.navigations[this.lastNavigationIndex];return t.replacing=!0,t.refreshing=!0,this.navigate(t)}notifySubscribers(t){this.ea.publish(nA.eventName,nA.create(t))}toStoreableNavigation(t){const e=t instanceof KT?t.toStoredNavigation():t;return e.instruction=tA.stringify(this.container,e.instruction),e.fullStateInstruction=tA.stringify(this.container,e.fullStateInstruction),"string"!=typeof e.scope&&(e.scope=null),e}async serializeNavigation(t,e){let n=[];for(const t of e)"string"!=typeof t.instruction&&n.push(...tA.flat(t.instruction).filter((t=>null!==t.endpoint.instance)).map((t=>t.component.instance))),"string"!=typeof t.fullStateInstruction&&n.push(...tA.flat(t.fullStateInstruction).filter((t=>null!==t.endpoint.instance)).map((t=>t.component.instance)));n=MT(n);let i=[];"string"!=typeof t.fullStateInstruction&&(i.push(...t.fullStateInstruction),t.fullStateInstruction=tA.stringify(this.container,t.fullStateInstruction)),"string"!=typeof t.instruction&&(i.push(...t.instruction),t.instruction=tA.stringify(this.container,t.instruction)),i=i.filter(((t,e,n)=>null!=t.component.instance&&n.indexOf(t)===e));const s=[];for(const t of i)await this.freeInstructionComponents(t,n,s)}freeInstructionComponents(t,e,n){var i,s;const o=t.component.instance,r=null!==(s=null===(i=t.viewport)||void 0===i?void 0:i.instance)&&void 0!==s?s:null;if(null!==o&&null!==r&&!n.some((t=>t===o))){if(!e.some((t=>t===o)))return VT.run(null,(t=>r.freeContent(t,o)),(()=>{n.push(o)}));if(t.hasNextScopeInstructions)for(const i of t.nextScopeInstructions)return this.freeInstructionComponents(i,e,n)}}};iA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([eA(0,Ud),eA(1,ku)],iA);const sA=mS;class oA extends Array{constructor(){super(...arguments),this.currentIndex=-1}next(){return this.length>this.currentIndex+1?this[++this.currentIndex]:(this.currentIndex=-1,null)}removeCurrent(){this.splice(this.currentIndex--,1)}remove(t){DT(this,(e=>e===t))}}class rA{static matchEndpoints(t,e,n,i=!1){const s=[];let o=[];const r=t.getOwnedRoutingScopes(1/0).map((t=>t.endpoint)).filter((t=>null!==t&&!n.some((e=>t===e.endpoint.instance)))),a=new oA(...e.slice());let l=null;for(rA.matchKnownEndpoints(t.router,"ViewportScope",a,r,s,o,!1),i||rA.matchKnownEndpoints(t.router,"Viewport",a,r,s,o,!1),rA.matchViewportScopeSegment(t.router,t,a,r,s,o);null!==(l=a.next());)l.needsEndpointDescribed=!0;return rA.matchViewportConfiguration(a,r,s,o),i||rA.matchSpecifiedViewport(a,r,s,o,!1),rA.matchLastViewport(a,r,s,o),i&&rA.matchSpecifiedViewport(a,r,s,o,!1),o=[...a,...o],{matchedInstructions:s,remainingInstructions:o}}static matchKnownEndpoints(t,e,n,i,s,o,r=!1){let a;for(;null!==(a=n.next());)null===a.endpoint.instance||a.isAdd(t)||a.endpoint.endpointType!==e||(o.push(...rA.matchEndpoint(a,a.endpoint.instance,r)),s.push(a),DT(i,(t=>t===a.endpoint.instance)),n.removeCurrent())}static matchViewportScopeSegment(t,e,n,i,s,o){let r;for(;null!==(r=n.next());)for(let a of i)if(a instanceof _T&&a.acceptSegment(r.component.name)){if(Array.isArray(a.source)){let n=i.find((t=>t instanceof _T&&t.name===a.name));if(void 0===n||r.isAdd(t)){const t=a.addSourceItem();n=e.getOwnedScopes().filter((t=>t.isViewportScope)).map((t=>t.endpoint)).find((e=>e.sourceItem===t))}a=n}o.push(...rA.matchEndpoint(r,a,!1)),s.push(r),DT(i,(t=>t===r.endpoint.instance)),n.removeCurrent();break}}static matchViewportConfiguration(t,e,n,i){let s;for(;null!==(s=t.next());)for(const o of e)if(o instanceof ZT&&(null==o?void 0:o.wantComponent(s.component.name))){i.push(...rA.matchEndpoint(s,o,!0)),n.push(s),DT(e,(t=>t===s.endpoint.instance)),t.removeCurrent();break}}static matchSpecifiedViewport(t,e,n,i,s){var o;let r;for(;null!==(r=t.next());){let a=r.endpoint.instance;if(null==a){const t=r.endpoint.name;if(0===(null!==(o=null==t?void 0:t.length)&&void 0!==o?o:0))continue;for(const n of e)if(n instanceof ZT&&t===n.name){a=n;break}}(null==a?void 0:a.acceptComponent(r.component.name))&&(i.push(...rA.matchEndpoint(r,a,s)),n.push(r),DT(e,(t=>t===r.endpoint.instance)),t.removeCurrent())}}static matchLastViewport(t,e,n,i){let s;for(;null!==(s=t.next());){const o=[];for(const t of e)t instanceof ZT&&t.acceptComponent(s.component.name)&&o.push(t);if(1===o.length){const r=o[0];i.push(...rA.matchEndpoint(s,r,!0)),n.push(s),DT(e,(t=>t===s.endpoint.instance)),t.removeCurrent()}}}static matchEndpoint(t,e,n){var i,s;t.endpoint.set(e),n&&(t.needsEndpointDescribed=!1);const o=null!==(s=null===(i=t.nextScopeInstructions)||void 0===i?void 0:i.slice())&&void 0!==s?s:[];for(const t of o)null===t.scope&&(t.scope=e instanceof ZT?e.scope:e.scope.scope);return o}}class aA{constructor(t,e,n,i){this.router=t,this.hasScope=e,this.owningScope=n,this.endpointContent=i,this.id=-1,this.parent=null,this.children=[],this.path=null,this.id=++aA.lastId,this.owningScope=null!=n?n:this}static for(t){var e;if(null==t)return null;if(t instanceof aA||t instanceof ZT||t instanceof _T)return t.scope;let n;if("resourceResolvers"in t)n=t;else if("context"in t)n=t.context;else if("$controller"in t)n=t.$controller.context;else{const e=Cb.for(t,{searchParents:!0});n=null==e?void 0:e.context}if(null==n)return null;const i=n.has(wA.closestEndpointKey,!0)?n.get(wA.closestEndpointKey):null;return null!==(e=null==i?void 0:i.scope)&&void 0!==e?e:null}get scope(){return this.hasScope?this:this.owningScope.scope}get endpoint(){return this.endpointContent.endpoint}get isViewport(){return this.endpoint instanceof ZT}get isViewportScope(){return this.endpoint instanceof _T}get type(){return this.isViewport?"Viewport":"ViewportScope"}get enabled(){return this.endpointContent.isActive}get passThroughScope(){return this.isViewportScope&&this.endpoint.passThroughScope}get pathname(){return`${this.owningScope!==this?this.owningScope.pathname:""}/${this.endpoint.name}`}toString(t=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(t?"\n"+this.children.map((t=>t.toString(!0))).join(""):"")}toStringOwning(t=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(t?"\n"+this.ownedScopes.map((t=>t.toStringOwning(!0))).join(""):"")}get enabledChildren(){return this.children.filter((t=>t.enabled))}get hoistedChildren(){const t=this.enabledChildren;for(;t.some((t=>t.passThroughScope));)for(const e of t.slice())if(e.passThroughScope){const n=t.indexOf(e);t.splice(n,1,...e.enabledChildren)}return t}get ownedScopes(){return this.getOwnedScopes()}get routingInstruction(){return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?this.endpoint.activeContent.instruction:null}getRoutingInstruction(t){var e,n;return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?void 0!==t?null!==(n=null===(e=this.endpoint.getTimeContent(t))||void 0===e?void 0:e.instruction)&&void 0!==n?n:null:this.endpoint.getContent().instruction:null}getOwnedScopes(t=!1){const e=this.allScopes(t).filter((t=>t.owningScope===this));for(const t of e.slice())if(t.passThroughScope){const n=e.indexOf(t);e.splice(n,1,...t.getOwnedScopes())}return e}findInstructions(t,e,n){var i,s;let o=new QT;if("string"==typeof t){const r=tA.parse(this.router,t);if(n&&!tA.containsSiblings(r)){const n=this.findMatchingRoute(t);if(null!==(i=null==n?void 0:n.foundConfiguration)&&void 0!==i&&i)o=n;else if(e&&(o.instructions=r,o.instructions.length>0)){const t=null!==(s=o.instructions[0].nextScopeInstructions)&&void 0!==s?s:[];o.remaining=tA.stringify(this.router,t),o.instructions[0].nextScopeInstructions=null}}else e&&(o.instructions=r)}else o.instructions=t;for(const t of o.instructions)null===t.scope&&(t.scope=this);return o}matchEndpoints(t,e,n=!1){return rA.matchEndpoints(this,t,e,n)}addEndpoint(t,e,n,i={}){var s,o,r,a;let l=null!==(o=null===(s=this.getOwnedScopes().find((n=>n.type===t&&n.endpoint.name===e)))||void 0===s?void 0:s.endpoint)&&void 0!==o?o:null;return null!=n&&null!=(null==l?void 0:l.connectedCE)&&l.connectedCE!==n&&(l=null!==(a=null===(r=this.getOwnedScopes(!0).find((i=>i.type===t&&i.endpoint.name===e&&i.endpoint.connectedCE===n)))||void 0===r?void 0:r.endpoint)&&void 0!==a?a:null),null==l&&(l="Viewport"===t?new ZT(this.router,e,n,this.scope,!!i.scope,i):new _T(this.router,e,n,this.scope,!0,null,i),this.addChild(l.connectedScope)),null!=n&&l.setConnectedCE(n,i),l}removeEndpoint(t,e,n){return!(null===(null!=n?n:null)&&!e.removeEndpoint(t,n)||(this.removeChild(e.connectedScope),0))}addChild(t){this.children.some((e=>e===t))||(null!==t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this)}removeChild(t){const e=this.children.indexOf(t);e>=0&&(this.children.splice(e,1),t.parent=null)}allScopes(t=!1){const e=t?this.children.slice():this.enabledChildren;for(const n of e.slice())e.push(...n.allScopes(t));return e}reparentRoutingInstructions(){const t=this.hoistedChildren.filter((t=>null!==t.routingInstruction&&t.routingInstruction.component.name));if(!t.length)return null;for(const e of t){const t=e.reparentRoutingInstructions();e.routingInstruction.nextScopeInstructions=null!==t&&t.length>0?t:null}return t.map((t=>t.routingInstruction))}getChildren(t){return this.children.map((e=>e.endpoint.getTimeContent(t))).filter((t=>null!==t)).map((t=>t.connectedScope))}getAllRoutingScopes(t){const e=this.getChildren(t);for(const n of e.slice())e.push(...n.getAllRoutingScopes(t));return e}getOwnedRoutingScopes(t){const e=this.getAllRoutingScopes(t).filter((t=>t.owningScope===this));for(const n of e.slice())if(n.passThroughScope){const i=e.indexOf(n);e.splice(i,1,...n.getOwnedRoutingScopes(t))}return MT(e)}getRoutingInstructions(t){var e;const n=MT(this.getOwnedRoutingScopes(t).map((t=>t.endpoint))).map((e=>e.getTimeContent(t))).filter((t=>null!==t)),i=[];for(const s of n){const n=s.instruction.clone(!0,!1,!1);""!==(null!==(e=n.component.name)&&void 0!==e?e:"")&&(n.nextScopeInstructions=s.connectedScope.getRoutingInstructions(t),i.push(n))}return i}getRoutingScopes(t){return this.ownedScopes.map((e=>e.endpoint.getTimeContent(t))).filter((t=>null!==t)).map((t=>t.connectedScope))}canUnload(t){return VT.run(t,(t=>VT.runParallel(t,...this.children.map((t=>null!==t.endpoint?e=>t.endpoint.canUnload(e):e=>t.canUnload(e))))),(t=>t.previousValue.every((t=>t))))}unload(t){return VT.runParallel(t,...this.children.map((t=>null!==t.endpoint?e=>t.endpoint.unload(e):e=>t.unload(e))))}matchScope(t,e=!1){const n=[];for(const i of t)i.scope===this?n.push(i):e&&i.hasNextScopeInstructions&&n.push(...this.matchScope(i.nextScopeInstructions,e));return n}findMatchingRoute(t){if(this.isViewportScope&&!this.passThroughScope)return this.findMatchingRouteInRoutes(t,this.endpoint.getRoutes());if(this.isViewport)return this.findMatchingRouteInRoutes(t,this.endpoint.getRoutes());for(const e of this.enabledChildren){const n=e.findMatchingRoute(t);if(null!==n)return n}return null}findMatchingRouteInRoutes(t,e){var n;if(!Array.isArray(e))return null;e=e.map((t=>this.ensureProperRoute(t)));const i=[];for(const t of e){const e=Array.isArray(t.path)?t.path:[t.path];for(const n of e)i.push({...t,path:n,handler:t}),""!==n&&i.push({...t,path:`${n}/*remainingPath`,handler:t})}const s=new QT;(t.startsWith("/")||t.startsWith("+"))&&(t=t.slice(1));const o=new sA;o.add(i);const r=o.recognize(t);if(null!==r){s.match=r.endpoint.route.handler,s.matching=t;const i={...r.params};if(void 0!==i.remainingPath&&(s.remaining=i.remainingPath,Reflect.deleteProperty(i,"remainingPath"),s.matching=s.matching.slice(0,s.matching.indexOf(s.remaining))),s.params=i,null!==s.match.redirectTo){let t=s.match.redirectTo;return(null!==(n=s.remaining)&&void 0!==n?n:"").length>0&&(t+=`/${s.remaining}`),this.findMatchingRouteInRoutes(t,e)}}if(s.foundConfiguration){s.instructions=tA.clone(s.match.instructions,!1,!0);const t=s.instructions.slice();for(;t.length>0;){const e=t.shift();e.parameters.addParameters(s.params),e.route=s,e.hasNextScopeInstructions&&t.unshift(...e.nextScopeInstructions)}s.instructions.length>0&&(s.instructions[0].routeStart=!0)}return s}ensureProperRoute(t){return void 0===t.id&&(t.id=Array.isArray(t.path)?t.path.join(","):t.path),void 0===t.instructions&&(t.instructions=[{component:t.component,viewport:t.viewport,parameters:t.parameters,children:t.children}]),null===t.redirectTo&&(t.instructions=tA.from(this.router,t.instructions)),t}}aA.lastId=0;class lA{constructor(t,e,n=0){this.taskQueue=t,this.item=e,this.cost=n,this.done=!1,this.promise=new Promise(((t,e)=>{this.resolve=()=>{this.taskQueue.resolve(this,t)},this.reject=t=>{this.taskQueue.reject(this,e,t)}}))}async execute(){"execute"in this.item?await this.item.execute(this):await this.item(this)}wait(){return this.promise}}class cA{constructor(t){this.callback=t,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null,this.dequeue=t=>{var e;null===this.processing&&(void 0!==t&&(this.currentExecutionCostInCurrentTick=0),0!==this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===t&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=null!==(e=this.processing.cost)&&void 0!==e?e:0,void 0!==this.callback?this.callback(this.processing):this.processing.execute().catch((t=>{throw t}))))))}}get isActive(){return null!==this.task}get length(){return this.pending.length}start(t){this.platform=t.platform,this.allowedExecutionCostWithinTick=t.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(t,e){const n=Array.isArray(t),i=n?t:[t],s=i.map(((t,n)=>Array.isArray(e)?e[n]:e)).map((t=>void 0!==t?t:1)),o=[];for(const t of i)o.push(t instanceof lA?t:this.createQueueTask(t,s.shift()));return this.pending.push(...o),this.dequeue(),n?o:o[0]}createQueueTask(t,e){return new lA(this,t,e)}clear(){this.pending.length=0}resolve(t,e){e(),this.processing=null,this.dequeue()}reject(t,e,n){e(n),this.processing=null,this.dequeue()}}var hA=function(t,e){return function(n,i){e(n,i,t)}};let uA=class{constructor(t,e,n,i,s){this.platform=t,this.window=e,this.history=n,this.location=i,this.ea=s,this.allowedExecutionCostWithinTick=2,this.isActive=!1,this.options={useUrlFragmentHash:!0},this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls=new cA}start(t){if(this.isActive)throw new Error("Browser navigation has already been started");this.isActive=!0,null!=t.useUrlFragmentHash&&(this.options.useUrlFragmentHash=t.useUrlFragmentHash),this.pendingCalls.start({platform:this.platform,allowedExecutionCostWithinTick:this.allowedExecutionCostWithinTick}),this.window.addEventListener("popstate",this)}stop(){if(!this.isActive)throw new Error("Browser navigation has not been started");this.window.removeEventListener("popstate",this),this.pendingCalls.stop(),this.options={useUrlFragmentHash:!0},this.isActive=!1}get length(){return this.history.length}get state(){return this.history.state}get viewerState(){var t;const{pathname:e,search:n,hash:i}=this.location;return new dA(e,n.slice(1),i,null!==(t=this.options.useUrlFragmentHash)&&void 0!==t&&t?i.slice(1):e)}async go(t,e=!1){const n=this.pendingCalls.createQueueTask((t=>t.resolve()),1);return this.pendingCalls.enqueue([t=>{const i=n,s=e;this.forwardState({eventTask:i,suppressPopstate:s}),t.resolve()},e=>{const n=this.history,i=t;n.go(i),e.resolve()}],[0,1]),n.wait()}async pushNavigatorState(t){const{title:e,path:n}=t.navigations[t.navigationIndex],i=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((s=>{const o=this.history,r=t,a=e||"",l=`${i}${n}`;try{o.pushState(r,a,l),this.setTitle(a)}catch(t){const e=this.tryCleanState(r,"push",t);o.pushState(e,a,l),this.setTitle(a)}s.resolve()}),1).wait()}async replaceNavigatorState(t,e,n){const i=t.navigations[t.navigationIndex];null!=e||(e=i.title),null!=n||(n=i.path);const s=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((i=>{const o=this.history,r=t,a=e||"",l=`${s}${n}`;try{o.replaceState(r,a,l),this.setTitle(a)}catch(t){const e=this.tryCleanState(r,"replace",t);o.replaceState(e,a,l),this.setTitle(a)}i.resolve()}),1).wait()}async popNavigatorState(){const t=this.pendingCalls.createQueueTask((t=>t.resolve()),1);return this.pendingCalls.enqueue((async e=>{const n=t;await this.popState(n),e.resolve()}),1),t.wait()}setTitle(t){this.window.document.title=t}handleEvent(t){this.handlePopStateEvent(t)}handlePopStateEvent(t){const{eventTask:e,suppressPopstate:n}=this.forwardedState;this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls.enqueue((async i=>{n||this.notifySubscribers(t),null!==e&&await e.execute(),i.resolve()}),1)}notifySubscribers(t){this.ea.publish(pA.eventName,pA.create(this.viewerState,t,this.history.state))}async popState(t){var e,n;await this.go(-1,!0);const i=this.history.state,s=null===(e=null==i?void 0:i.navigations)||void 0===e?void 0:e[null!==(n=null==i?void 0:i.navigationIndex)&&void 0!==n?n:0];null==s||s.firstEntry||(await this.go(-1,!0),await this.pushNavigatorState(i)),await t.execute()}forwardState(t){this.forwardedState=t}tryCleanState(t,e,n){try{return JSON.parse(JSON.stringify(t))}catch(t){throw new Error(`Failed to ${e} state, probably due to unserializable data and/or parameters: ${t}${n}`)}}};uA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([hA(0,Dm),hA(1,rw),hA(2,lw),hA(3,aw),hA(4,Ud)],uA);class dA{constructor(t,e,n,i){this.path=t,this.query=e,this.hash=n,this.instruction=i}}class pA{constructor(t,e,n,i){this.eventName=t,this.viewerState=e,this.event=n,this.state=i}static create(t,e,n){return new pA(pA.eventName,t,e,n)}}pA.eventName="au:router:navigation-state-change";class gA{constructor(t){this.endpoint=t,this.running=!1,this.states=new Map,this.checkedStates=[],this.syncingState=null,this.syncPromise=null}hasReachedState(t){return this.states.has(t)&&null===this.states.get(t)}}class fA{constructor(t,e){this.router=t,this.navigation=e,this.running=!1,this.completed=!1,this.cancelled=!1,this.hasAllEndpoints=!1,this.appendedInstructions=[],this.entities=[],this.syncStates=new Map,this.checkedSyncStates=new Set}static create(t,e,n){const i=new fA(t,e);return n.syncStates.forEach((t=>i.addSyncState(t))),i}run(){if(!this.running){this.running=!0;for(const t of this.entities)if(!t.running&&(t.running=!0,t.endpoint.transition(this),this.cancelled))break}}addSyncState(t){const e=new BT;this.syncStates.set(t,e)}addEndpoint(t){let e=this.entities.find((e=>e.endpoint===t));return void 0!==e||(e=new gA(t),this.entities.push(e),this.recheckSyncStates(),this.running&&e.endpoint.transition(this)),e}addEndpointState(t,e){let n=this.entities.find((e=>e.endpoint===t));void 0===n&&(n=this.addEndpoint(t));const i=n.states.get(e);i instanceof BT&&i.resolve(),n.states.set(e,null),this.checkSyncState(e)}waitForSyncState(t,e=null){if(0===this.entities.length)return;const n=this.syncStates.get(t);if(void 0!==n){if(null!==e){const i=this.entities.find((t=>t.endpoint===e));if(null===(null==i?void 0:i.syncPromise)&&n.isPending)return i.syncingState=t,i.syncPromise=new BT,i.checkedStates.push(t),this.checkedSyncStates.add(t),Promise.resolve().then((()=>{this.checkSyncState(t)})).catch((t=>{throw t})),i.syncPromise.promise}return n.isPending?n.promise:void 0}}waitForEndpointState(t,e){if(!this.syncStates.has(e))return;let n=this.entities.find((e=>e.endpoint===t));if(null==n&&(n=this.addEndpoint(t)),n.hasReachedState(e))return;let i=n.states.get(e);return null==i&&(i=new BT,n.states.set(e,i)),i.promise}finalEndpoint(){this.hasAllEndpoints=!0,this.syncStates.forEach(((t,e)=>this.checkSyncState(e)))}finalize(){this.entities.forEach((t=>t.endpoint.finalizeContentChange(this))),this.completed=!0,this.navigation.completed=!0}cancel(){this.cancelled=!0,this.entities.forEach((t=>{const e=t.endpoint.cancelContentChange(this,null);e instanceof Promise&&e.catch((t=>{throw t}))})),this.router.navigator.cancel(this.navigation).then((()=>{var t;null===(t=this.navigation.process)||void 0===t||t.resolve(!1)})).catch((t=>{throw t})),this.completed=!0,this.navigation.completed=!0}enqueueAppendedInstructions(t){this.appendedInstructions.push(...t)}dequeueAppendedInstructions(t,e,n){let i=[...this.appendedInstructions];t=[...t],e=[...e],n=[...n];const s=i.filter((t=>!t.default)),o=i.filter((t=>t.default));for(i=s.length>0?[...s]:[...o];i.length>0;){const s=i.shift();DT(this.appendedInstructions,(t=>t===s));const o=e.some((t=>t.sameEndpoint(s,!0))),r=t.find((t=>t.sameEndpoint(s,!0))),a=n.find((t=>t.sameEndpoint(s,!0)));s.default&&(o||void 0!==r&&!r.default||void 0!==a&&!a.default)||(void 0!==r&&DT(t,(t=>t===r)),void 0!==a&&DT(n,(t=>t===a)),null!==s.endpoint.instance?t.push(s):n.push(s))}return{matchedInstructions:t,earlierMatchedInstructions:e,remainingInstructions:n}}checkSyncState(t){var e;const n=this.syncStates.get(t);if(void 0!==n&&this.hasAllEndpoints&&n.isPending&&this.entities.every((e=>e.hasReachedState(t)))&&(!this.checkedSyncStates.has(t)||this.entities.every((e=>e.checkedStates.includes(t))))){for(const n of this.entities)n.syncingState===t&&(null===(e=n.syncPromise)||void 0===e||e.resolve(),n.syncPromise=null,n.syncingState=null);n.resolve()}}recheckSyncStates(){this.syncStates.forEach(((t,e)=>{t.isPending||this.entities.every((t=>t.hasReachedState(e)))||this.addSyncState(e)}))}}class vA{constructor(t,e,n){var i,s;this.hook=t,this.id=n,this.type="beforeNavigation",this.includeTargets=[],this.excludeTargets=[],void 0!==e.type&&(this.type=e.type);for(const t of null!==(i=e.include)&&void 0!==i?i:[])this.includeTargets.push(new mA(t));for(const t of null!==(s=e.exclude)&&void 0!==s?s:[])this.excludeTargets.push(new mA(t))}static add(t,e){const n=new vA(t,null!=e?e:{},++this.lastIdentity);return this.hooks[n.type].push(n),this.lastIdentity}static remove(t){for(const e in this.hooks)if(Object.prototype.hasOwnProperty.call(this.hooks,e)){const n=this.hooks[e].findIndex((e=>e.id===t));n>=0&&this.hooks[e].splice(n,1)}}static removeAll(){for(const t in this.hooks)this.hooks[t]=[]}static async invokeBeforeNavigation(t,e){return this.invoke("beforeNavigation",e,t)}static async invokeTransformFromUrl(t,e){return this.invoke("transformFromUrl",e,t)}static async invokeTransformToUrl(t,e){return this.invoke("transformToUrl",e,t)}static async invokeTransformTitle(t,e){return this.invoke("transformTitle",e,t)}static async invoke(t,e,n){let i=n;for(const s of this.hooks[t])if(!s.wantsMatch||s.matches(n))if(i=await s.invoke(e,n),"boolean"==typeof i){if(!i)return!1}else n=i;return i}get wantsMatch(){return this.includeTargets.length>0||this.excludeTargets.length>0}matches(t){return!(this.includeTargets.length&&!this.includeTargets.some((e=>e.matches(t)))||this.excludeTargets.length&&this.excludeTargets.some((e=>e.matches(t))))}invoke(t,e){return this.hook(e,t)}}vA.hooks={beforeNavigation:[],transformFromUrl:[],transformToUrl:[],transformTitle:[]},vA.lastIdentity=0;class mA{constructor(t){if(this.componentType=null,this.componentName=null,this.viewport=null,this.viewportName=null,"string"==typeof t)this.componentName=t;else if(NT.isType(t))this.componentType=t,this.componentName=NT.getName(t);else{const e=t;null!=e.component&&(this.componentType=NT.isType(e.component)?NT.getType(e.component):null,this.componentName=NT.getName(e.component)),null!=e.viewport&&(this.viewport=JT.isInstance(e.viewport)?e.viewport:null,this.viewportName=JT.getName(e.viewport))}}matches(t){const e=t.slice();e.length||e.push(tA.create(""));for(const t of e)if(null!==this.componentName&&this.componentName===t.component.name||null!==this.componentType&&this.componentType===t.component.type||null!==this.viewportName&&this.viewportName===t.endpoint.name||null!==this.viewport&&this.viewport===t.endpoint.instance)return!0;return!1}}class bA{static async getTitle(t,e,n){let i=await vA.invokeTransformTitle(t,e);if("string"!=typeof i){const t=bA.stringifyTitles(i,e,n);i=n.appTitle,i=i.replace(/\${componentTitles}/g,t),i=i.replace(/\${appTitleSeparator}/g,""!==t?n.appTitleSeparator:"")}return i=await vA.invokeTransformTitle(i,e),i}static stringifyTitles(t,e,n){return t.map((t=>bA.stringifyTitle(t,e,n))).filter((t=>{var e;return(null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0)>0})).join(" + ")}static stringifyTitle(t,e,n){const i=t.nextScopeInstructions;let s=bA.resolveTitle(t,e,n);if(Array.isArray(i)&&i.length>0){let t=bA.stringifyTitles(i,e,n);t.length>0&&(1!==i.length&&(t="[ "+t+" ]"),s=s.length>0?"top-down"===n.componentTitleOrder?s+n.componentTitleSeparator+t:t+n.componentTitleSeparator+s:t)}return s}static resolveTitle(t,e,n){let i=t.getTitle(e);return null!=n.transformTitle&&(i=n.transformTitle(i,t,e)),i}}const yA=xu.createInterface("IRouter",(t=>t.singleton(wA)));class wA{constructor(t,e,n,i,s,o){this.container=t,this.ea=e,this.navigator=n,this.viewer=i,this.store=s,this.configuration=o,this.rootScope=null,this.activeComponents=[],this.appendedInstructions=[],this.isActive=!1,this.coordinators=[],this.loadedFirst=!1,this.handleNavigatorNavigateEvent=t=>{this.processNavigation(t.navigation).catch((t=>{throw t}))},this.handleNavigatorStateChangeEvent=t=>{var e;if(null!=(null===(e=t.state)||void 0===e?void 0:e.navigationIndex)){const e=KT.create(t.state.navigations[t.state.navigationIndex]);e.instruction=t.viewerState.instruction,e.fromBrowser=!0,this.navigator.navigate(e).catch((t=>{throw t}))}else this.load(t.viewerState.instruction,{fromBrowser:!0}).catch((t=>{throw t}))},this.processNavigation=async t=>{var e,n,i;const s=this.configuration.options,o=fA.create(this,t,{syncStates:this.configuration.options.navigationSyncStates});this.coordinators.push(o),o.appendedInstructions.push(...this.appendedInstructions.splice(0,this.appendedInstructions.length)),this.ea.publish(TA.eventName,TA.create(t));let r="string"!=typeof t.instruction||t.useFullStateInstruction?t.instruction:await vA.invokeTransformFromUrl(t.instruction,o.navigation);const a=s.basePath;null!==a&&"string"==typeof r&&r.startsWith(a)&&!s.useUrlFragmentHash&&(r=r.slice(a.length)),"/"===r&&(r=""),null!==(e=t.scope)&&void 0!==e||(t.scope=this.rootScope.scope);let l=t.scope.findInstructions(r,s.useDirectRouting,s.useConfiguredRoutes),c=null;t.instruction.length>0&&!l.foundConfiguration&&!l.foundInstructions&&this.unknownRoute(l.remaining);let h=l.instructions;l.foundConfiguration&&(t.path=t.instruction.replace(/^\//,""),c=(null!=c?c:"")+l.matching,this.rootScope.path=c);const u=h.filter((t=>t.component.isPromise()));u.length>0&&await Promise.all(u.map((t=>t.component.resolve()))),this.configuration.options.additiveInstructionDefault||(h=this.ensureClearStateInstruction(h));let d=[];({clearEndpoints:d,instructions:h}=this.getClearAllEndpoints(h));for(const t of h.filter((t=>t.isAddAll(this))))t.endpoint.set(t.scope.endpoint.name),t.scope=t.scope.owningScope;for(const t of h)t.topInstruction=!0;const p=[];let g=[],{matchedInstructions:f,remainingInstructions:v}=this.matchEndpoints(h,g),m=100;do{if(!m--)throw this.ea.publish(PA.eventName,PA.create(t)),this.ea.publish(AA.eventName,AA.create(t)),xA(v);const e=[],s=f.map((t=>t.scope)),r=f.map((t=>t.endpoint.instance));f.push(...d.filter((t=>s.includes(t.owningScope)&&!r.includes(t))).map((t=>tA.createClear(this,t))));const a=await vA.invokeBeforeNavigation(f,t);if(!1===a)return o.cancel(),this.ea.publish(EA.eventName,EA.create(t)),void this.ea.publish(AA.eventName,AA.create(t));if(!0!==a&&a!==f){const t=tA.flat(f);v=v.filter((e=>!t.includes(e))),f=a,l.remaining=""}for(const s of f){const r=s.endpoint.instance;if(null!==r){r.path=c;const a=r.setNextContent(s,t);"skip"!==a&&(e.push(r),o.addEndpoint(r));const l=[r];if("swap"===a&&l.push(...r.getContent().connectedScope.allScopes(!0).map((t=>t.endpoint))),DT(d,(t=>l.includes(t))),DT(f,(t=>t!==s&&t.isClear(this)&&l.includes(t.endpoint.instance))),!s.isClear(this)&&(null===(i=null===(n=s.scope)||void 0===n?void 0:n.parent)||void 0===i?void 0:i.isViewportScope)&&(DT(d,(t=>t===s.scope.parent.endpoint)),DT(f,(t=>t!==s&&t.isClear(this)&&t.endpoint.instance===s.scope.parent.endpoint))),"skip"!==a&&s.hasNextScopeInstructions)for(const t of s.nextScopeInstructions)t.scope=r.scope,t.endpoint.instance=null}}const h=f.filter((t=>{var e;return"skip"===(null===(e=t.endpoint.instance)||void 0===e?void 0:e.transitionAction)})),u=h.filter((t=>t.hasNextScopeInstructions));if((0===h.length||0===u.length&&!l.hasRemaining)&&(this.isRestrictedNavigation||o.finalEndpoint(),o.run(),o.hasAllEndpoints)){const t=o.waitForSyncState("guardedUnload");t instanceof Promise&&await t}if(o.cancelled)return this.ea.publish(EA.eventName,EA.create(t)),void this.ea.publish(AA.eventName,AA.create(t));for(const t of e)p.every((e=>e!==t))&&p.push(t);if(g.push(...f.splice(0)),v.length>0&&({matchedInstructions:f,remainingInstructions:v}=this.matchEndpoints(v,g)),!this.isRestrictedNavigation&&(f.length>0||v.length>0)&&o.running){const t=o.waitForSyncState("swapped");t instanceof Promise&&await t}if(l.hasRemaining&&0===f.length&&0===v.length){const{foundChildRoute:t,configuredChildRoutePath:e}=this.findChildRoute(g,l,c);t.foundInstructions?(l=t,c=e,this.appendInstructions(t.instructions)):this.unknownRoute(t.remaining)}t.useFullStateInstruction&&(o.appendedInstructions=o.appendedInstructions.filter((t=>!t.default)));const b=o.appendedInstructions.filter((t=>t.component.isPromise()));if(b.length>0&&await Promise.all(b.map((t=>t.component.resolve()))),({matchedInstructions:f,earlierMatchedInstructions:g,remainingInstructions:v}=o.dequeueAppendedInstructions(f,g,v)),0===f.length&&0===v.length){const t=g.map((t=>{var e,n;return null===(n=(null===(e=t.endpoint.instance)||void 0===e?void 0:e.connectedCE).pendingPromise)||void 0===n?void 0:n.promise})).filter((t=>null!=t));t.length>0?(await Promise.any(t),({matchedInstructions:f,earlierMatchedInstructions:g,remainingInstructions:v}=o.dequeueAppendedInstructions(f,g,v))):f=d.map((t=>tA.createClear(this,t)))}}while(f.length>0||v.length>0);return VT.run(null,(()=>(o.finalEndpoint(),o.waitForSyncState("completed"))),(()=>(o.finalize(),this.updateNavigation(t))),(()=>{t.navigation.new&&!t.navigation.first&&!t.repeating&&p.every((t=>t.options.noHistory))&&(t.untracked=!0)}),(async()=>{for(var t;this.coordinators.length>0&&this.coordinators[0].completed;){const e=this.coordinators.shift();await this.navigator.finalize(e.navigation,!1),this.ea.publish(OA.eventName,OA.create(e.navigation)),this.ea.publish(AA.eventName,AA.create(e.navigation)),null===(t=e.navigation.process)||void 0===t||t.resolve(!0)}}))}}static get inject(){return[ku,Ud,iA,uA,uA,cE]}get isNavigating(){return this.coordinators.length>0}get isRestrictedNavigation(){const t=this.configuration.options.navigationSyncStates;return t.includes("guardedLoad")||t.includes("unloaded")||t.includes("loaded")||t.includes("guarded")||t.includes("routed")}get statefulHistory(){return void 0!==this.configuration.options.statefulHistoryLength&&this.configuration.options.statefulHistoryLength>0}start(){if(this.isActive)throw new Error("Router has already been started");this.isActive=!0;const t=this.container.get(qy);this.rootScope=new _T(this,"rootScope",t.controller.viewModel,null,!0,t.config.component);const e=this.configuration.options;if(null===e.basePath){const n=new URL(t.host.baseURI);e.basePath=n.pathname}e.basePath.endsWith("/")&&(e.basePath=e.basePath.slice(0,-1)),this.navigator.start({store:this.store,viewer:this.viewer,statefulHistoryLength:this.configuration.options.statefulHistoryLength}),this.navigatorStateChangeEventSubscription=this.ea.subscribe(pA.eventName,this.handleNavigatorStateChangeEvent),this.navigatorNavigateEventSubscription=this.ea.subscribe(nA.eventName,this.handleNavigatorNavigateEvent),this.viewer.start({useUrlFragmentHash:this.configuration.options.useUrlFragmentHash}),this.ea.publish(CA.eventName,CA.create())}stop(){if(!this.isActive)throw new Error("Router has not been started");this.ea.publish(SA.eventName,SA.create()),this.navigator.stop(),this.viewer.stop(),this.navigatorStateChangeEventSubscription.dispose(),this.navigatorNavigateEventSubscription.dispose()}async initialLoad(){const t=this.load(this.viewer.viewerState.instruction,{replacing:!0,fromBrowser:!1});return this.loadedFirst=!0,t}getEndpoint(t,e){var n;return null!==(n=this.allEndpoints(t).find((t=>t.name===e)))&&void 0!==n?n:null}allEndpoints(t,e=!1){return this.rootScope.scope.allScopes(e).filter((e=>null===t||e.type===t)).map((t=>t.endpoint))}addEndpoint(t,...e){throw new Error("Not implemented")}connectEndpoint(t,e,n,i,s){const o=n.container,r=(o.has(wA.closestEndpointKey,!0)?o.get(wA.closestEndpointKey):this.rootScope).connectedScope;return null===t&&(t=r.addEndpoint(e,i,n,s),Wu.instance(wA.closestEndpointKey,t).register(o)),t}disconnectEndpoint(t,e,n){if(!e.connectedScope.parent.removeEndpoint(t,e,n))throw new Error("Failed to remove endpoint: "+e.name)}async load(t,e){var n,i,s;e=null!=e?e:{},t=this.extractQuery(t,e);let o=null;if(({instructions:t,scope:o}=this.applyLoadOptions(t,e)),null!==(n=e.append)&&void 0!==n&&n&&(!this.loadedFirst||this.isNavigating))return t=tA.from(this,t),this.appendInstructions(t,o),Promise.resolve();const r=KT.create({instruction:t,fullStateInstruction:"",scope:o,title:e.title,data:e.data,query:e.query,parameters:e.parameters,replacing:null!==(i=e.replacing)&&void 0!==i&&i||e.replace,repeating:e.append,fromBrowser:null!==(s=e.fromBrowser)&&void 0!==s&&s,origin:e.origin,completed:!1});return this.navigator.navigate(r)}applyLoadOptions(t,e,n=!0){var i,s,o;"origin"in(e=null!=e?e:{})&&!("context"in e)&&(e.context=e.origin);let r=null!==(s=aA.for(null!==(i=e.context)&&void 0!==i?i:null))&&void 0!==s?s:null;if("string"==typeof t){if(t.startsWith("/"))r=null;else{if(t.startsWith("."))for(t.startsWith("./")&&(t=t.slice(2));t.startsWith("../");)r=null!==(o=null==r?void 0:r.parent)&&void 0!==o?o:r,t=t.slice(3);null!=(null==r?void 0:r.path)&&(t=`${r.path}/${t}`,r=null)}if(!n){t=tA.from(this,t);for(const e of t)null===e.scope&&(e.scope=r)}}else{t=tA.from(this,t);for(const e of t)null===e.scope&&(e.scope=r)}return{instructions:t,scope:r}}refresh(){return this.navigator.refresh()}back(){return this.navigator.go(-1)}forward(){return this.navigator.go(1)}go(t){return this.navigator.go(t)}checkActive(t,e){if("string"==typeof t)throw new Error(`Parameter instructions to checkActivate can not be a string ('${t}')!`);e=null!=e?e:{},({instructions:t}=this.applyLoadOptions(t,e)),t.forEach((t=>{var e;return null!==(e=t.scope)&&void 0!==e?e:t.scope=this.rootScope.scope}));const n=MT(t.map((t=>t.scope)));for(const e of n){const n=e.matchScope(t,!1),i=e.matchScope(this.activeComponents,!0);if(!tA.contains(this,i,n,!0))return!1}return!0}appendInstructions(t,e=null){null===e&&(e=this.rootScope.scope);for(const n of t)null===n.scope&&(n.scope=e);let n=null;for(let t=this.coordinators.length-1;t>=0;t--)if(!this.coordinators[t].completed){n=this.coordinators[t];break}if(null===n){if(this.loadedFirst)throw Error("Failed to append routing instructions to coordinator");this.appendedInstructions.push(...t)}null==n||n.enqueueAppendedInstructions(t)}unknownRoute(t){if("string"==typeof t&&0!==t.length)throw this.configuration.options.useConfiguredRoutes&&this.configuration.options.useDirectRouting?new Error("No matching configured route or component found for '"+t+"'"):this.configuration.options.useConfiguredRoutes?new Error("No matching configured route found for '"+t+"'"):new Error("No matching route/component found for '"+t+"'")}ensureClearStateInstruction(t){if(t.length>0){const e=t[0];if(!e.isAddAll(this)&&!e.isClearAll(this)){const n=tA.create(tA.clear(this));return n.scope=e.scope,[n,...t]}}return t}getClearAllEndpoints(t){let e=[];for(const n of t.filter((t=>t.isClearAll(this))))e=n.scope.allScopes().filter((t=>{var e;return!t.endpoint.isEmpty&&t!==(null===(e=this.rootScope)||void 0===e?void 0:e.connectedScope)})).map((t=>t.endpoint));return{clearEndpoints:e,instructions:t.filter((t=>!t.isClearAll(this)))}}matchEndpoints(t,e,n=!1){const i=[],s=[];for(;t.length;){const o=t[0];null===o.scope&&(o.scope=this.rootScope.scope);const r=o.scope,{matchedInstructions:a,remainingInstructions:l}=r.matchEndpoints(t.filter((t=>t.scope===r)),e,n);i.push(...a),s.push(...l),t=t.filter((t=>t.scope!==r))}return{matchedInstructions:i.slice(),remainingInstructions:s}}findChildRoute(t,e,n){const i=this.configuration.options;let s=new QT,o=null!=n?n:"";const r=t.filter((t=>{var e;return(null===(e=t.endpoint.instance)||void 0===e?void 0:e.path)===n})).map((t=>t.endpoint.instance)).filter(((t,e,n)=>n.indexOf(t)===e));for(const t of r)if(s=t.scope.findInstructions(e.remaining,i.useDirectRouting,i.useConfiguredRoutes),s.foundConfiguration)break;return s.foundInstructions&&(o+=`/${e.matching}`),{foundChildRoute:s,configuredChildRoutePath:o}}async updateNavigation(t){var e,n,i;this.rootScope.scope.reparentRoutingInstructions();const s=this.rootScope.scope.getRoutingInstructions(t.timestamp),o=[];let{matchedInstructions:r,remainingInstructions:a}=this.matchEndpoints(s,o,!0),l=100;for(;a.length>0;){if(0==l--)throw new Error("Failed to find viewport when updating viewer paths.");o.push(...r),({matchedInstructions:r,remainingInstructions:a}=this.matchEndpoints(a,o,!0))}t.timestamp>=(null!==(n=null===(e=this.activeNavigation)||void 0===e?void 0:e.timestamp)&&void 0!==n?n:0)&&(this.activeNavigation=t,this.activeComponents=s);let c=await vA.invokeTransformToUrl(s,t);if("string"!=typeof c&&(c=tA.stringify(this,c,!1,!0)),c=await vA.invokeTransformToUrl(c,t),null==t.query&&null!=t.parameters){const e=new URLSearchParams;for(let[n,i]of Object.entries(t.parameters)){n=encodeURIComponent(n),Array.isArray(i)||(i=[i]);for(const t of i)e.append(n,encodeURIComponent(t))}t.query=e.toString()}let h=`${this.configuration.options.basePath}/`;(null===h||""!==c&&"/"===c[0]||this.configuration.options.useUrlFragmentHash)&&(h="");const u=t.query&&t.query.length?"?"+t.query:"";t.path=h+c+u;const d=[tA.create(tA.clear(this))];if(d.push(...tA.clone(s,this.statefulHistory)),t.fullStateInstruction=d,null===(null!==(i=t.title)&&void 0!==i?i:null)){const e=await bA.getTitle(s,t,this.configuration.options.title);null!==e&&(t.title=e)}return Promise.resolve()}extractQuery(t,e){var n;if("string"==typeof t&&null==e.query){const[n,i]=t.split("?");t=n,e.query=i}return"string"==typeof e.parameters&&null==e.query&&(e.query=e.parameters,e.parameters=void 0),"string"==typeof e.query&&e.query.length>0&&(null!==(n=e.parameters)&&void 0!==n||(e.parameters={}),new URLSearchParams(e.query).forEach(((t,n)=>{n=decodeURIComponent(n),t=decodeURIComponent(t),n in e.parameters?(Array.isArray(e.parameters[n])||(e.parameters[n]=[e.parameters[n]]),e.parameters[n].push(t)):e.parameters[n]=t}))),t}}function xA(t){const e=new Error(`${t.length} remaining instructions after 100 iterations; there is likely an infinite loop.`);return e.remainingInstructions=t,console.log(e,e.remainingInstructions),e}wA.closestEndpointKey=du.annotation.keyFor("closest-endpoint");class kA{constructor(t){this.eventName=t}}class CA extends kA{static create(){return new CA(this.eventName)}}CA.eventName="au:router:router-start";class SA extends kA{static create(){return new SA(this.eventName)}}SA.eventName="au:router:router-stop";class $A{constructor(t,e){this.eventName=t,this.navigation=e}}class TA extends $A{static create(t){return new TA(this.eventName,t)}}TA.eventName="au:router:navigation-start";class AA extends $A{static create(t){return new AA(this.eventName,t)}}AA.eventName="au:router:navigation-end";class EA extends $A{static create(t){return new EA(this.eventName,t)}}EA.eventName="au:router:navigation-cancel";class OA extends $A{static create(t){return new OA(this.eventName,t)}}OA.eventName="au:router:navigation-complete";class PA extends $A{static create(t){return new PA(this.eventName,t)}}PA.eventName="au:router:navigation-error";var RA=function(t,e){return function(n,i){e(n,i,t)}};const IA=xu.createInterface("ILinkHandler",(t=>t.singleton(jA)));let jA=class{constructor(t,e){this.window=t,this.router=e}handleEvent(t){this.handleClick(t)}handleClick(t){var e,n,i;if(0!==t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;const s=t.currentTarget;if(s.hasAttribute("external"))return;const o=null!==(e=s.getAttribute("target"))&&void 0!==e?e:"";if(o.length>0&&o!==this.window.name&&"_self"!==o)return;const r=Ob.for(s,"goto"),a=void 0!==r?r.viewModel.value:null,l=Ob.for(s,"load"),c=void 0!==l?l.viewModel.value:null,h=this.router.configuration.options.useHref&&s.hasAttribute("href")?s.getAttribute("href"):null;if(!(null!==a&&0!==a.length||null!==c&&0!==c.length||null!==h&&0!==h.length))return;t.preventDefault();let u=null!==(i=null!==(n=null!=c?c:a)&&void 0!==n?n:h)&&void 0!==i?i:"";"string"==typeof u&&u.startsWith("#")&&(u=u.slice(1),u.startsWith("/")||(u=`/${u}`)),this.router.load(u,{origin:s}).catch((t=>{throw t}))}};var FA;jA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([RA(0,rw),RA(1,yA)],jA),function(t){t.default="default",t.disallow="disallow",t.reload="reload",t.refresh="refresh"}(FA||(FA={}));class LA{constructor(t,e){this.nav=t,this.instructions=[],this.link=null,this.linkVisible=null,this.linkActive=null,this.compareParameters=!1,this.children=null,this.visible=!0,this.active="",this.title=e.title,this.meta=e.meta,e.route&&(this.instructions=this.parseRoute(e.route),this.link=this.computeLink(this.instructions)),this.linkActive=null!==e.consideredActive&&void 0!==e.consideredActive?e.consideredActive:this.link,null===this.linkActive||this.linkActive instanceof Function&&!NT.isType(this.linkActive)||(this.linkActive=tA.from(this.nav.router,this.linkActive)),this.execute=e.execute,this.compareParameters=!!e.compareParameters,this.linkVisible=void 0===e.condition||e.condition,this.update()}get hasChildren(){return this.children&&this.children.length?"nav-has-children":""}update(){this.visible=this.computeVisible(),this.link&&this.link.length||this.execute?this.active=this.computeActive():this.active="nav-active"===this.active?"nav-active":this.activeChild()?"nav-active-child":""}executeAction(t){this.execute&&this.execute(this),t.stopPropagation()}toggleActive(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}parseRoute(t){return tA.from(this.nav.router,t)}computeVisible(){return this.linkVisible instanceof Function?this.linkVisible(this):!!this.linkVisible}computeActive(){if(!Array.isArray(this.linkActive))return this.linkActive(this)?"nav-active":"";const t=this.linkActive,e=tA.flat(this.nav.router.activeComponents);for(const n of t)if(e.every((t=>!t.sameComponent(this.nav.router,n,this.compareParameters&&null!==n.parameters.typedParameters))))return"";return"nav-active"}computeLink(t){return tA.stringify(this.nav.router,t)}activeChild(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.activeChild())return!0;return!1}}class NA{constructor(t,e,n=[],i={}){this.router=t,this.name=e,this.routes=n,this.classes=i,this.update()}static setNav(t,e,n,i){const s=this.findNav(e);null!=s&&(s.routes=[]),this.addNav(t,e,n,i)}static addNav(t,e,n,i){let s=NA.navs.get(e);null==s&&(NA.navs.set(e,new NA(t,e,[],i)),s=NA.navs.get(e)),s.addRoutes(n),s.update()}static updateNav(t){const e=t?[t]:Object.keys(this.navs);for(const t of e)NA.navs.has(t)&&NA.navs.get(t).update()}static findNav(t){return NA.navs.get(t)}addRoutes(t){for(const e of t)this.addRoute(this.routes,e);this.update()}update(){this.updateRoutes(this.routes),this.routes=this.routes.slice()}addRoute(t,e){const n=new LA(this,e);if(t.push(n),e.children){n.children=[];for(const t of e.children)this.addRoute(n.children,t)}}updateRoutes(t){for(const e of t)e.update(),e.children&&e.children.length&&this.updateRoutes(e.children)}}NA.navs=new Map;!function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);o>3&&r&&Object.defineProperty(e,n,r)}([nu],class{constructor(t){this.callback=t,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null}get isActive(){return null!==this.task}get length(){return this.pending.length}start(t){if(this.isActive)throw new Error("Queue has already been started");this.platform=t.platform,this.allowedExecutionCostWithinTick=t.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){if(!this.isActive)throw new Error("Queue has not been started");this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(t,e){const n=Array.isArray(t),i=n?t:[t],s=i.map(((t,n)=>Array.isArray(e)?e[n]:e)).map((t=>void 0!==t?t:1)),o=[];for(const t of i){const e={...t};e.cost=s.shift(),o.push(new Promise(((t,n)=>{e.resolve=e=>{t(e),this.processing=null,this.dequeue()},e.reject=t=>{n(t),this.processing=null,this.dequeue()}}))),this.pending.push(e)}return this.dequeue(),n?o:o[0]}dequeue(t){null===this.processing&&(void 0!==t&&(this.currentExecutionCostInCurrentTick=0),this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===t&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=this.processing.cost||0,this.callback(this.processing)))))}clear(){this.pending.splice(0,this.pending.length)}}.prototype,"dequeue",null);var DA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let MA=class{constructor(t){this.router=t,this.name=null,this.routes=null,this.level=0,this.classes={}}get navRoutes(){const t=NA.navs.get(this.name);return null!=t?t.routes:[]}get navClasses(){const t=NA.navs.get(this.name);return{nav:"",ul:"",li:"",a:"",ulActive:"",liActive:"nav-active",aActive:"",...null!=t?t.classes:{}}}active(t){return"Active"}};function BA(t,e,n,i,s=!1){var o;if(s)return i.hasAttribute(t);if(n)return e;const r=null!==(o=i.getAttribute(t))&&void 0!==o?o:"";return r.length>0?r:e}function VA(t,e){if(!t.isActive)return new Promise((t=>{const n=e.subscribe(CA.eventName,(()=>{t(),n.dispose()}))}))}function HA(t,e,n,i){var s,o;let r=null===(o=null===(s=Ob.for(n,"considered-active"))||void 0===s?void 0:s.viewModel)||void 0===o?void 0:o.value;void 0===r&&(r=i);const a=t.applyLoadOptions(r,{context:e}),l=tA.from(t,a.instructions);for(const t of l)null===t.scope&&(t.scope=a.scope);return l}function qA(t){let e=t.parentElement;for(;null!=e;){if("AU-VIEWPORT"===e.tagName){e=null;break}if(e.hasAttribute("load-active"))break;e=e.parentElement}return null!=e||(e=t),e}DA([sm],MA.prototype,"name",void 0),DA([sm],MA.prototype,"routes",void 0),DA([sm],MA.prototype,"level",void 0),DA([sm],MA.prototype,"classes",void 0),MA=DA([yb({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name} ${navClasses.nav}">\n    <au-nav routes.bind="navRoutes" classes.bind="navClasses" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level} ${classes.ul}">\n    <li repeat.for="route of routes" if.bind="route.visible" class="${route.active ? classes.liActive : \'\'} ${route.hasChildren} ${classes.li}">\n      <a if.bind="route.link && route.link.length" load="${route.link}" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <a if.bind="route.execute" click.trigger="route.executeAction($event)" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <span if.bind="(!route.link || !route.link.length) && !route.execute && !route.children" class="${route.active ? classes.aActive : \'\'} ${classes.span} nav-separator" innerhtml.bind="route.title"></span>\n      <a if.bind="(!route.link || !route.link.length) && !route.execute && route.children" click.delegate="route.toggleActive()" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" classes.bind="classes" containerless></au-nav>\n    </li>\n  </ul>\n</template>'}),function(t,e){return function(n,i){e(n,i,t)}}(0,yA)],MA);var UA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},zA=function(t,e){return function(n,i){e(n,i,t)}};const _A=Cb.createInjectable();let WA=class{constructor(t,e,n,i,s,o){this.router=t,this.element=e,this.container=n,this.ea=i,this.parentViewport=s,this.instruction=o,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noTitle=!1,this.noHistory=!1,this.stateful=!1,this.endpoint=null,this.pendingChildren=[],this.pendingPromise=null,this.isBound=!1}hydrated(t){return this.controller=t,this.container=t.context.get(ku),this.instruction.instructions.filter((t=>"default"===t.to)).length>0&&null!=this.parentViewport&&(this.parentViewport.pendingChildren.push(this),null===this.parentViewport.pendingPromise&&(this.parentViewport.pendingPromise=new BT)),VT.run(null,(()=>VA(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation&&this.connect()}))}binding(t,e,n){return this.isBound=!0,VT.run(null,(()=>VA(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation||this.connect()}),(()=>{var t;null!=(null===(t=this.endpoint)||void 0===t?void 0:t.activeResolve)&&(this.endpoint.activeResolve(),this.endpoint.activeResolve=null)}),(()=>{var e;if(null!==this.endpoint&&null===this.endpoint.getNextContent())return null===(e=this.endpoint.activate(null,t,this.controller,n,void 0))||void 0===e?void 0:e.asValue}))}detaching(t,e,n){if(null!==this.endpoint)return this.isBound=!1,this.endpoint.deactivate(null,t,e,n)}unbinding(t,e,n){if(null!==this.endpoint)return this.disconnect(null)}dispose(){var t;null===(t=this.endpoint)||void 0===t||t.dispose(),this.endpoint=null}connect(){const{isBound:t,element:e}=this,n=BA("name",this.name,t,e),i={};i.scope=!BA("no-scope",this.noScope,!1,e,!0),i.usedBy=BA("used-by",this.usedBy,t,e),i.default=BA("default",this.default,t,e),i.fallback=BA("fallback",this.fallback,t,e),i.noLink=BA("no-link",this.noLink,t,e,!0),i.noTitle=BA("no-title",this.noTitle,t,e,!0),i.noHistory=BA("no-history",this.noHistory,t,e,!0),i.stateful=BA("stateful",this.stateful,t,e,!0),Object.keys(i).forEach((t=>{void 0===i[t]&&delete i[t]})),this.endpoint=this.router.connectEndpoint(this.endpoint,"Viewport",this,n,i);const s=this.parentViewport;null!=s&&(DT(s.pendingChildren,(t=>t===this)),0===s.pendingChildren.length&&null!==s.pendingPromise&&(s.pendingPromise.resolve(),s.pendingPromise=null))}disconnect(t){null!==this.endpoint&&this.router.disconnectEndpoint(t,this.endpoint,this)}setActive(t){this.element.classList.toggle(this.router.configuration.options.indicators.viewportActive,t)}};UA([sm],WA.prototype,"name",void 0),UA([sm],WA.prototype,"usedBy",void 0),UA([sm],WA.prototype,"default",void 0),UA([sm],WA.prototype,"fallback",void 0),UA([sm],WA.prototype,"noScope",void 0),UA([sm],WA.prototype,"noLink",void 0),UA([sm],WA.prototype,"noTitle",void 0),UA([sm],WA.prototype,"noHistory",void 0),UA([sm],WA.prototype,"stateful",void 0),WA=UA([yb({name:"au-viewport",injectable:_A}),zA(0,yA),zA(1,Xy),zA(2,ku),zA(3,Ud),zA(4,_A),zA(5,ww)],WA);var KA,GA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},QA=function(t,e){return function(n,i){e(n,i,t)}};const YA=Cb.createInjectable();let XA=KA=class{constructor(t,e,n,i,s){this.router=t,this.element=e,this.container=n,this.parent=i,this.parentController=s,this.name="default",this.catches="",this.collection=!1,this.source=null,this.viewportScope=null,this.isBound=!1}hydrated(t){this.controller=t}bound(t,e,n){this.isBound=!0,this.$controller.scope=this.parentController.scope,this.connect(),null!==this.viewportScope&&this.viewportScope.binding()}unbinding(t,e,n){return null!==this.viewportScope&&this.viewportScope.unbinding(),Promise.resolve()}afterUnbind(t,e,n){return this.disconnect(),Promise.resolve()}afterUnbound(){this.isBound=!1}connect(){if(null===this.router.rootScope)return;const t=this.getAttribute("name",this.name),e={};let n=this.getAttribute("catches",this.catches);void 0!==n&&(e.catches=n),n=this.getAttribute("collection",this.collection,!0),void 0!==n&&(e.collection=n),e.source=this.source||null,this.viewportScope=this.router.connectEndpoint(this.viewportScope,"ViewportScope",this,t,e)}disconnect(){this.viewportScope&&this.router.disconnectEndpoint(null,this.viewportScope,this),this.viewportScope=null}getAttribute(t,e,n=!1){if(this.isBound)return e;if(this.element.hasAttribute(t)){if(n)return!0;if((e=this.element.getAttribute(t)).length>0)return e}}isCustomElementController(t){return Fy(t)}isCustomElementViewModel(t){return Ly(t)}getClosestCustomElement(){let t=this.controller.parent,e=null;for(;null!==t&&null===e;)(t.viewModel instanceof WA||t.viewModel instanceof KA)&&(e=t.viewModel),t=t.parent;return e}};GA([sm],XA.prototype,"name",void 0),GA([sm],XA.prototype,"catches",void 0),GA([sm],XA.prototype,"collection",void 0),GA([sm],XA.prototype,"source",void 0),XA=KA=GA([yb({name:"au-viewport-scope",template:"<template></template>",containerless:!1,injectable:YA}),QA(0,yA),QA(1,Xy),QA(2,ku),QA(3,YA),QA(4,Hy)],XA);var ZA=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},JA=function(t,e){return function(n,i){e(n,i,t)}};let tE=class{constructor(t,e,n,i){this.element=t,this.router=e,this.linkHandler=n,this.ea=i,this.hasHref=null,this.activeClass="goto-active",this.navigationEndHandler=t=>{const e=Ob.for(this.element,"goto").parent,n=this.router.applyLoadOptions(this.value,{context:e}),i=tA.from(this.router,n.instructions);for(const t of i)null===t.scope&&(t.scope=n.scope);this.element.classList.toggle(this.activeClass,this.router.checkActive(i,{context:e}))},console.warn('[Deprecated] The "goto" custom attribute has been deprecated. Please use the "load" custom attribute instead.')}binding(){this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.routerNavigationSubscription=this.ea.subscribe(AA.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(t){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){const t="string"==typeof this.value?this.value:JSON.stringify(this.value);this.element.setAttribute("href",t)}}};ZA([sm({mode:zp.toView})],tE.prototype,"value",void 0),tE=ZA([Tb("goto"),JA(0,Xy),JA(1,yA),JA(2,IA),JA(3,Ud)],tE);var eE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},nE=function(t,e){return function(n,i){e(n,i,t)}};let iE=class{constructor(t,e,n,i){this.element=t,this.router=e,this.linkHandler=n,this.ea=i,this.hasHref=null,this.navigationEndHandler=t=>{const e=Ob.for(this.element,"load").parent,n=HA(this.router,e,this.element,this.value);qA(this.element).classList.toggle(this.activeClass,this.router.checkActive(n,{context:e}))},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.routerNavigationSubscription=this.ea.subscribe(AA.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(t){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){let t="string"==typeof this.value?this.value:JSON.stringify(this.value);this.router.configuration.options.useUrlFragmentHash&&!t.startsWith("#")&&(t=`#${t}`),this.element.setAttribute("href",t)}}};eE([sm({mode:zp.toView})],iE.prototype,"value",void 0),iE=eE([Tb("load"),nE(0,Xy),nE(1,yA),nE(2,IA),nE(3,Ud)],iE);var sE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},oE=function(t,e){return function(n,i){e(n,i,t)}};let rE=class{constructor(t,e,n,i){this.element=t,this.router=e,this.linkHandler=n,this.ea=i,this.navigationEndHandler=t=>{const e=Ob.for(this.element,"href").parent,n=HA(this.router,e,this.element,this.value);qA(this.element).classList.toggle(this.activeClass,this.router.checkActive(n,{context:e}))},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){this.router.configuration.options.useHref&&!this.hasLoad()&&(this.element.addEventListener("click",this.linkHandler),this.routerNavigationSubscription=this.ea.subscribe(AA.eventName,this.navigationEndHandler)),this.updateValue()}unbinding(){var t;this.element.removeEventListener("click",this.linkHandler),null===(t=this.routerNavigationSubscription)||void 0===t||t.dispose()}valueChanged(){this.updateValue()}updateValue(){this.element.setAttribute("href",this.value)}hasLoad(){var t;const e=this.$controller.parent.children;return null!==(t=null==e?void 0:e.some((t=>1===t.vmKind&&t.viewModel instanceof iE)))&&void 0!==t&&t}};sE([sm({mode:zp.toView})],rE.prototype,"value",void 0),rE=sE([Tb({name:"href",noMultiBindings:!0}),oE(0,Xy),oE(1,yA),oE(2,IA),oE(3,Ud)],rE);var aE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let lE=class{};aE([sm({mode:zp.toView})],lE.prototype,"value",void 0),lE=aE([Tb("considered-active")],lE);const cE=xu.createInterface("IRouterConfiguration",(t=>t.singleton(dE))),hE=[yA],uE=[WA,XA,MA,tE,iE,rE,lE];class dE{static register(t){const e=t.get(cE);return e.options=dE.options,e.options.setRouterConfiguration(e),dE.options=jT.create(),null!=rb.with?t.register(...hE,...uE,rb.with(yA).beforeActivate().call(dE.configurationCall),rb.with(yA).afterActivate().call((t=>t.initialLoad())),rb.with(yA).afterDeactivate().call((t=>t.stop()))):t.register(...hE,...uE,rb.beforeActivate(yA,dE.configurationCall),rb.afterActivate(yA,(t=>t.initialLoad())),rb.afterDeactivate(yA,(t=>t.stop())))}static customize(t){return void 0===t?(dE.options=jT.create(),dE.configurationCall=t=>{t.start()}):t instanceof Function?dE.configurationCall=t:(dE.options=jT.create(),dE.options.apply(t)),dE}static createContainer(){return this.register(xu.createContainer())}static for(t){return t instanceof wA?t.configuration:t.get(cE)}apply(t,e=!1){e&&(this.options=jT.create()),this.options.apply(t)}addHook(t,e){return vA.add(t,e)}removeHook(t){return vA.remove(t)}removeAllHooks(){return vA.removeAll()}}dE.options=jT.create(),dE.configurationCall=t=>{t.start()};var pE=n(755);be()(pE.Z,{insert:"head",singleton:!1});const gE=pE.Z.locals||{};var fE=n(162);be()(fE.Z,{insert:"head",singleton:!1});const vE=fE.Z.locals||{};var mE=n(932);be()(mE.Z,{insert:"head",singleton:!1});const bE=mE.Z.locals||{};var yE=n(574);be()(yE.Z,{insert:"head",singleton:!1});const wE=yE.Z.locals||{};Wu.defer(".css",gE,vE,bE,wE);const xE=JSON.parse('[{"name":"Anchor","load":"anchor","description":"Like a button but not really","badges":["FAST"]},{"name":"Article","load":"article","description":"Preview of a text + image type of content. Works great in an ecos-collection","badges":["New"]},{"name":"Badge","load":"badge","description":"A nice little tag to place next to your content to give it some identity","badges":["FAST","Extended"]},{"name":"Button","load":"button","description":"You probably knows what a button is","badges":["FAST","Extended"]},{"name":"Button 3D","load":"button-3d","description":"A fun button with cool interactivity","badges":["New"]},{"name":"Card","load":"card","description":"A visual surface to group information","badges":["FAST"]},{"name":"Collection","load":"collection","description":"Display a list of content around something like a responsive grid","badges":["New"]},{"name":"Colorize","load":"colorize","description":"Smartly colorize some content using your browser blend-mode","badges":["New"]},{"name":"Dialog","load":"dialog","description":"Dialog component","badges":["FAST","Extended"]},{"name":"Slider","load":"slider","description":"Input component to select a numeric value","badges":["FAST"]}]');var kE=function(t,e){return function(n,i){e(n,i,t)}};let CE=class{constructor(t,e){this.routerConfiguration=t,this.router=e,this.displayComponentsList=!1,this.isUseCaseRouterInUse=!1,this.componentsList=xE,this.handleUrlRoutes(),this.routerConfiguration.addHook(((t,e)=>{const n=document.querySelector("au-viewport");if(n){const t=n.firstChild;t instanceof Element&&t.scrollIntoView()}return!0})),this.routerConfiguration.addHook(((t,e)=>(this.displayComponentsList=void 0!==t.find((t=>"components-viewport"===t.viewport.name))&&void 0===t.find((t=>"components-list"===t.component.name)),this.isUseCaseRouterInUse=void 0!==t.find((t=>"use-cases-viewport"===t.viewport.name))&&void 0===t.find((t=>"use-cases-list"===t.component.name)),this.handleBodyStyles(),!0)))}handleUrlRoutes(){this.routerConfiguration.addHook((t=>t),{type:"transformFromUrl"}),this.routerConfiguration.addHook((t=>t),{type:"transformToUrl"})}handleBodyStyles(){this.isUseCaseRouterInUse?setTimeout((()=>{document.body.classList.add("use-cases-on")}),150):document.body.classList.remove("use-cases-on")}};CE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb({name:"ecos-app",template:'\n\n\n\n\n<ecos-design-system-provider use-defaults applybackgroundtobody>\n  <div class="sidebar" sidebar--opened.class="sidebarOpened">\n    <ecos-settings></ecos-settings>\n  </div>\n  <div class="page" sidebar--opened.class="sidebarOpened">\n    <div class="main-content">\n      <ecos-navbar layer="1">\n        <ecos-colorize slot="branding" style="color: var(--accent-fill-rest)">\n          <img load="welcome-page" src="./images/Ecos.png" style="height: 30px" class="logo" />\n        </ecos-colorize>\n        <ecos-anchor slot="main" load="welcome-page" appearance="lightweight">Welcome</ecos-anchor>\n        <ecos-anchor slot="main" considered-active="components-index" load="components-index/components-list" appearance="lightweight">Components</ecos-anchor>\n        <ecos-anchor slot="main" considered-active="use-cases-index" load="use-cases-index/use-cases-list" appearance="lightweight">Use cases</ecos-anchor>\n        <ecos-anchor slot="secondary-toggler" appearance="lightweight">More</ecos-anchor>\n\n        <template if.bind="displayComponentsList">\n          <ecos-anchor repeat.for="component of componentsList" slot="secondary" load="components-index/${component.load}-component" appearance="lightweight">${component.name}</ecos-anchor>          \n        </template>\n\n        <ecos-anchor slot="secondary" load="the-project" appearance="lightweight">About The Project</ecos-anchor>\n        <ecos-anchor slot="secondary" href="https://github.com/ben-girardet/ecos-design-system" appearance="lightweight">GitHub</ecos-anchor>\n      </ecos-navbar>\n\n      <div class="navbar-content">\n        <au-viewport name="main" default="welcome-page" fallback="missing-page"></au-viewport>\n      </div>\n    </div>\n  </div>\n\n  <ecos-icon button icon="Adjustments" id="design-settings-opener" click.delegate="sidebarOpened = !sidebarOpened"></ecos-icon>\n</ecos-design-system-provider>\n'}),kE(0,cE),kE(1,yA),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object,Object])],CE);const SE="anchor-component",$E='<ecos-section>\n  <h1>Anchor</h1>\n  <p>Web component implementation of an HTML anchor element. The component supports the same visual appearances as the button component (accent, lightweight, neutral, outline, stealth) as well as a hypertext appearance for use inline with text.</p>\n  <p>This component is stricktly identical to its <a href="https://explore.fast.design/components/fast-anchor">FAST version</a>.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-anchor>Default</ecos-anchor>\n      <ecos-anchor appearance="accent">Accent</ecos-anchor>\n      <ecos-anchor appearance="lightweight">Lightweight</ecos-anchor>\n    </div>\n  </au-snippet>\n\n  <p>The anchor component if very similar to the button component. It has however one more appearance available, namly the `hypertext`. This is useful when the anchor is part of a content text</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>I\'m a content text paragraph with an <ecos-anchor appearance="hypertext" href="#">amazing clickable anchor</ecos-anchor> placed in it.</p>\n    </div>\n  </au-snippet>\n</ecos-section>',TE=$E,AE=[];let EE;function OE(t){EE||(EE=Cb.define({name:SE,template:$E,dependencies:AE})),t.register(EE)}let PE=class{};PE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(i)],PE);const RE="article-component",IE='<ecos-section>\n  <h1>Article</h1>\n  <p>This is an Ecos custom made component to display article like type of content.</p>\n  <p>This component is designed to display the following content:</p>\n  <ul>\n    <li>An image as "card" image</li>\n    <li>A button in the `button` slot</li>\n    <li>Some content in the default slot</li>\n  </ul>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-article image-src="./images/office-interior-design.jpg">\n        <ecos-button slot="button" appearance="accent">\n          <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n          Discover project\n        </ecos-button>\n        <ecos-stack>\n          <h3>Autour de l\'escalier</h3>\n          <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n        </ecos-stack>\n      </ecos-article>\n    </div>\n  </au-snippet>\n\n  <p>This component works well with the `ecos-collection` component to list several article components</p>\n</ecos-section>',jE=IE,FE=[];let LE;function NE(t){LE||(LE=Cb.define({name:RE,template:IE,dependencies:FE})),t.register(LE)}let DE=class{};DE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(s)],DE);const ME="badge-component",BE='<ecos-section>\n  <h1>Badge</h1>\n  <p>Badge component is used to highlight an item and attract attention or flag status.</p>\n  <p>This component is an extended version from its <a href="https://explore.fast.design/components/fast-badge">FAST version</a>. Instead of requiring the consumer of the component to provide `fill` and `color` attributes, the colors of the badges are set accordingly from the parent Design System Provider.</p>\n  <p>Consumer can then use the `appearance` attribute to change from `default`, `accent` and `accent-light` appearances.</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-badge>Default</ecos-badge>\n      <ecos-badge appearance="accent">Accent</ecos-badge>\n      <ecos-badge appearance="accent-light">Accent Light</ecos-badge>\n    </div>\n  </au-snippet>\n\n</ecos-section>',VE=BE,HE=[];let qE;function UE(t){qE||(qE=Cb.define({name:ME,template:BE,dependencies:HE})),t.register(qE)}let zE=class{};zE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(o)],zE);const _E="button-3d-component",WE='<ecos-section>\n  <h1>Button 3d</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-button-3d>Default</ecos-button-3d>\n    </div>\n  </au-snippet>\n  <p>Inspired by <a href="https://www.joshwcomeau.com/animation/3d-button/">Josh Comeau\'s Magical 3D Button</a></p>\n</ecos-section>',KE=WE,GE=[];let QE;function YE(t){QE||(QE=Cb.define({name:_E,template:WE,dependencies:GE})),t.register(QE)}let XE=class{};XE=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(r)],XE);const ZE="button-component",JE='<ecos-section>\n  <h1>Button</h1>\n  <p>Web component implementation of an HTML button element. The component supports several visual appearances (accent, lightweight, neutral, outline, stealth).</p>\n  <p>The ecos version is slightly extended from its <a href="https://explore.fast.design/components/fast-button">FAST version</a>. There is a padding added horizontally when the corner-radius is bigger than 10px to allow for the button content to breath a little more around the edges.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-button>Default</ecos-button>\n      <ecos-button appearance="accent">Accent</ecos-button>\n      <ecos-button appearance="lightweight">Lightweight</ecos-button>\n    </div>\n  </au-snippet>\n</ecos-section>',tO=JE,eO=[];let nO;function iO(t){nO||(nO=Cb.define({name:ZE,template:JE,dependencies:eO})),t.register(nO)}let sO=class{};sO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(a)],sO);const oO="card-component",rO='<ecos-section>\n  <h1>Card</h1>\n  <p>The ecos-card component is a visual container and design system provider. By default fast-card applies neutralFillCard to its background that is calculated from its parent design system provider. If a custom background color is desired the attribute card-background-color is available, this will reset the cards design system to that value. Cards are snapshots of content that are typically used in a group to present collections of related information.</p>\n  <p>This component is stricktly identical to its <a href="https://explore.fast.design/components/fast-card">FAST version</a>.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card>\n        <h2>Orange</h2>\n        <p>I\'m an orange fruit</p>\n        <ecos-button>Taste me</ecos-button>\n      </ecos-card>\n    </div>\n  </au-snippet>\n  <p>As you can see, a card in itself doesn\'t look "good" out of the box. It is designed to provide a surface on which we place other flow components.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card>\n        <div class="wrapper">\n          <h2>Orange</h2>\n          <p>I\'m an orange fruit</p>\n          <ecos-button>Taste me</ecos-button>\n        </div>\n      </ecos-card>\n    </div>\n    <div language="css">\n      .wrapper {\n        padding: var(--spacing-unit);\n      }\n    </div>\n  </au-snippet>\n  <p>Cards acts as design provider. Therefore they adjust their components properties according to the card background color</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card card-background-color="#333333">\n        <div class="wrapper">\n          <h2>Orange</h2>\n          <p>I\'m an orange fruit</p>\n          <ecos-button>Taste me</ecos-button>\n        </div>\n      </ecos-card>\n    </div>\n    <div language="css">\n      .wrapper {\n        padding: var(--spacing-unit);\n      }\n    </div>\n  </au-snippet>\n</ecos-section>',aO=rO,lO=[];let cO;function hO(t){cO||(cO=Cb.define({name:oO,template:rO,dependencies:lO})),t.register(cO)}let uO=class{};uO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(l)],uO);const dO="collection-component",pO='<ecos-section>\n  <h1>Collection</h1>\n  <p>The collection component is a <i>flow</i> component. It handles how several child components are displayed together. This component is well suited to display a list of content such as a list of articles or cards.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-collection min-item-width="100px">\n        <ecos-button>Button 1</ecos-button>\n        <ecos-button>Button 2</ecos-button>\n        <ecos-button>Button 3</ecos-button>\n        <ecos-button>Button 4</ecos-button>\n      </ecos-collection>\n    </div>\n  </au-snippet>\n\n  <p>You can adjust the minimum width of each element in the collection with the `min-item-width` property. Each item will then be displayed organized in a grid where each element is at least this width and as many elements as possible can fit in the container width.</p>\n\n  <h3>Collections play nicely with cards and articles</h3>\n\n  <ecos-card>\n    <div class="wrapper">\n      <h2>Orange</h2>\n      <p>I\'m an orange fruit</p>\n      <ecos-button>Taste me</ecos-button>\n    </div>\n  </ecos-card>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true" full-width-output.bind="true" style="width: 100%;">\n    <div language="html">\n      <ecos-collection min-item-width="250px">\n        <ecos-card card-background-color="#efefef">\n          <div class="wrapper">\n            <h2>Orange</h2>\n            <p>I\'m an orange fruit</p>\n            <ecos-button>Taste me</ecos-button>\n          </div>\n        </ecos-card>\n        <ecos-card card-background-color="#efefef">\n          <div class="wrapper">\n            <h2>Orange</h2>\n            <p>I\'m an orange fruit</p>\n            <ecos-button>Taste me</ecos-button>\n          </div>\n        </ecos-card>\n        <ecos-card card-background-color="#efefef">\n          <div class="wrapper">\n            <h2>Orange</h2>\n            <p>I\'m an orange fruit</p>\n            <ecos-button>Taste me</ecos-button>\n          </div>\n        </ecos-card>\n      </ecos-collection>\n    </div>\n    <div language="css">\n      .wrapper {\n        padding: var(--spacing-unit);\n      }\n    </div>\n  </au-snippet>\n\n</ecos-section>',gO=pO,fO=[];let vO;function mO(t){vO||(vO=Cb.define({name:dO,template:pO,dependencies:fO})),t.register(vO)}let bO=class{};bO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(c)],bO);const yO="colorize-component",wO='<ecos-section>\n  <h1>Colorize</h1>\n  <p>Colorize is a special component that uniquely transform the color of its included content. This is useful for exemple to colorize a black logo with a dynamic color.</p>\n  <p>It works by applying a CSS blending mode to its content. By default the blending mode is "lighten" but with the `mode` attribute one can select any of the valid CSS blending mode available.</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>Hello, I am some normal text.</p>\n      <ecos-colorize style="color: red;">Hello, I am colorized in red.</ecos-colorize>\n    </div>\n  </au-snippet>\n\n  <p>The exemple above seems pretty useless as a text can by colorized with the `color` css property. Let\'s do the same now with an image:</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>\n        <img src="./images/Ecos.png" style="height: 30px" />\n      </p>\n      <p>\n        <ecos-colorize style="color: red;">\n          <img src="./images/Ecos.png" style="height: 30px" />\n        </ecos-colorize>\n      </p>\n    </div>\n  </au-snippet>\n\n  <p>Now you know how we achived to have the top-left logo adjust to the current accent color:</p>\n\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <p>\n        <img src="./images/Ecos.png" style="height: 30px" />\n      </p>\n      <p>\n        <ecos-colorize style="color: var(--accent-fill-rest);">\n          <img src="./images/Ecos.png" style="height: 30px" />\n        </ecos-colorize>\n      </p>\n    </div>\n  </au-snippet>\n</ecos-section>',xO=wO,kO=[];let CO;function SO(t){CO||(CO=Cb.define({name:yO,template:wO,dependencies:kO})),t.register(CO)}let $O=class{};$O=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(h)],$O);let TO=class{};TO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb({name:"components-index",template:'<au-viewport name="components-viewport" default="components-list"></au-viewport>'})],TO);let AO=class{constructor(){this.componentsList=xE,this.filteringTag="all",this.search=""}get tags(){return xE.reduce(((t,e)=>{for(const n of e.badges)t.includes(n)||t.push(n);return t}),[])}getComponentsList(t,e){return this.componentsList.filter((n=>{const i=""===t||n.name.toLowerCase().includes(t.toLowerCase())||n.description.toLowerCase().includes(t.toLowerCase()),s=""===e||"all"===e||n.badges.includes(e);return i&&s}))}};AO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb({name:"components-list",template:'<ecos-section>\n  <h1>Some components to build great stuff</h1>\n  <p>Many components are identical or close to identical from their FAST implementation. They are re-exported in the `ecos` name space for consistency.</p>\n</ecos-section>\n\n<ecos-section nocontain>\n  <ecos-text-field placeholder="Search a component" value.bind="search">\n    <ecos-icon icon="User" slot="start"></ecos-icon>\n  </ecos-text-field>\n  <ecos-select value.bind="filteringTag">\n    <ecos-option value="all">All tags</ecos-option>\n    <ecos-option value="${tag}" repeat.for="tag of tags">${tag}</ecos-option>\n  </ecos-select>\n  <p class="muted-text">Displaying ${getComponentsList(search, filteringTag).length} components</p>\n</ecos-section>\n\n<ecos-section centerwidth="100ch">\n  <ecos-collection>\n    <ecos-card repeat.for="component of getComponentsList(search, filteringTag)">\n      <ecos-stack class="wrapper">\n        <ecos-stack inline small>\n          <ecos-badge appearance="${badge === \'New\' ? \'accent-light\':\'neutral\'}" repeat.for="badge of component.badges">${badge}</ecos-badge>\n        </ecos-stack>\n        <h2>${component.name}</h2>\n        <p>${component.description}</p>\n        <ecos-button appearance="accent" load="../${component.load}-component">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n</ecos-section>'})],AO);const EO="dialog-component",OO='<ecos-section>\n  <h1>Dialog</h1>\n  <p>Web component implementation of an <a href="https://w3c.github.io/aria-practices/#dialog_modal">dialog</a>.</p>\n  <p>The ecos version is slightly extended from its <a href="https://explore.fast.design/components/fast-dialog">FAST version</a> with some animations when opening / closing dialogs.</p>\n\n  <ecos-collection min-item-width="100px">\n    <ecos-button click.delegate="defaultDialogOpened = !defaultDialogOpened">Open default dialog</ecos-button>\n    <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Open fading dialog</ecos-button>\n    <ecos-button click.delegate="slideUpDialogOpened = !slideUpDialogOpened">Open slide up dialog</ecos-button>\n  </ecos-collection>\n\n  <au-snippet class="larger mobile-full-bleed">\n    <div language="html">\n      <ecos-dialog hidden.bind="!defaultDialogOpened">\n        <ecos-button click.delegate="defaultDialogOpened = !defaultDialogOpened">Close dialog</ecos-button>\n      </ecos-dialog>\n      <ecos-dialog hidden.bind="!fadingDialogOpened" class="ecos-dialog--fading">\n        <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Close dialog</ecos-button>\n      </ecos-dialog>\n      <ecos-dialog hidden.bind="!fadingDialogOpened" class="ecos-dialog--fading">\n        <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Close dialog</ecos-button>\n      </ecos-dialog>\n    </div>\n  </au-snippet>\n\n\n  <ecos-dialog hidden.bind="!defaultDialogOpened">\n    <ecos-button click.delegate="defaultDialogOpened = !defaultDialogOpened">Close dialog</ecos-button>\n  </ecos-dialog>\n\n  <ecos-dialog hidden.bind="!fadingDialogOpened" class="ecos-dialog--fading">\n    <ecos-button click.delegate="fadingDialogOpened = !fadingDialogOpened">Close dialog</ecos-button>\n  </ecos-dialog>\n\n  <ecos-dialog hidden.bind="!slideUpDialogOpened" class="ecos-dialog--slide-up">\n    <ecos-button click.delegate="slideUpDialogOpened = !slideUpDialogOpened">Close dialog</ecos-button>\n  </ecos-dialog>\n\n</ecos-section>',PO=OO,RO=[];let IO;function jO(t){IO||(IO=Cb.define({name:EO,template:OO,dependencies:RO})),t.register(IO)}let FO=class{constructor(){this.defaultDialogOpened=!1,this.fadingDialogOpened=!1,this.slideUpDialogOpened=!1}};FO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(u)],FO);const LO="slider-component",NO='<ecos-section>\n  <h1>Slider</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-slider></ecos-slider>\n    </div>\n  </au-snippet>\n</ecos-section>',DO=NO,MO=[];let BO;function VO(t){BO||(BO=Cb.define({name:LO,template:NO,dependencies:MO})),t.register(BO)}let HO=class{};HO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(d)],HO);const qO="missing-page",UO="<h3>Ouch! Couldn't find '${missingComponent}'!</h3>\n",zO=UO,_O=[];let WO;function KO(t){WO||(WO=Cb.define({name:qO,template:UO,dependencies:_O})),t.register(WO)}let GO=class{enter(t){this.missingComponent=t.id}};GO.parameters=["id"],GO=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(p)],GO);const QO="the-project",YO='<ecos-section>\n  <h1>Understanding the Ecos project</h1>\n  <p>The main goal of this project (at the moment) is to experiment <a href="https://fast.design">FAST</a> and try to build things with it.</p>\n\n  <h2>What kind of experiment ?</h2>\n  <ul>\n    <li>Experimenting <strong>extending the FAST Frame</strong> design system. If this works well it should enable the project to provide a Design System of its own.</li>\n    <li>Experimenting how components work together when used in <strong>common use cases.</strong> The idea is to put together a homepage, a doc page, a blog page and an admin dashboard.</li>\n    <li><strong>Playing with design tokens on the fly</strong> and see how they affect the overall result.</li>\n  </ul>\n\n  <h2>How is the project organized ?</h2>\n\n  <h3>The design system</h3>\n  <p>The main piece of the project is the design system itself. It is found in the <code>/src/ecos-design-system</code> folder. This folder can be extracted and published on its own.</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # The following command builds the ecos-design-system as a standalone module ready to be published on NPM\n      npm run build\n    </div>\n  </au-snippet>\n\n  <h3>The testing app</h3>\n  <p>In order to play with the design system there is an <a href="https://docs.aurelia.io">Aurelia 2</a> application in the <code>/src</code> folder.</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # The following command starts the app on localhost:9000\n      npm run start\n\n      # The following command builds the app\n      npm run build-app\n    </div>\n  </au-snippet>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # This folder contains app-specific components. Either ECOS components or AU2 custom elements;\n      /src/custom-elements\n\n      # Codebase for the whole design system experiment\n      /src/ecos-design-system\n\n      # This folder contains the routes modules loaded by the AU2 app\n      /src/routes\n\n      # Some app-specific CSS files\n      /src/*.css\n\n      # ecos-app.* are the main application files\n      /src/*.css\n\n      # Entry point for the AU2 application\n      /src/main.ts\n    </div>\n  </au-snippet>\n\n</ecos-section>',XO=YO,ZO=[];let JO;function tP(t){JO||(JO=Cb.define({name:QO,template:YO,dependencies:ZO})),t.register(JO)}let eP=class{};eP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(g)],eP);let nP=class{};nP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb({name:"welcome-page",template:'<div class="header" style="height:50vh; position: relative;">\n   <animated-svg2 style="position: absolute; bottom: 0; left: 0; width: 100%;"></animated-svg2>\n\n  \n  <fast-design-system-provider background-color="#333" class="header-text" style="position: relative;">\n    <div class="header-text">Design system built on <a href="https://fast.design">FAST</a> and web-components</div>\n  </fast-design-system-provider>\n  \n\n</div>\n\n<ecos-section centerwidth="70ch">\n  <h1>Experiment extension of FAST design system</h1>\n  <p>You might have heard of <a href="https://fast.design">fast.design</a> developed by Microsoft. It\'s a pretty neat theming system using modern web-component technology.</p>\n  <p>What you see on this page is an experiment to build an extended version of the FAST frame design system provided by FAST.</p>\n</ecos-section>\n\n<ecos-section centerwidth="70ch">\n  <h2>What\'s a design system</h2>\n  <p>Based on a set of <i>design tokens</i>, the design system apply a consistent design and user experience on websites or applications. The design system under the hood of this particular website let\'s you play with those design token. For this you only need to find the <i>Adjustments</i> at the bottom left of each page and play with it.</p>\n</ecos-section>\n\n<ecos-section centerwidth="70ch">\n  <h2>Getting Started</h2>\n  <p>Well, like lots of things in life it start with a little install command</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      npm install @ecos/ecos-design-system --save\n    </div>\n  </au-snippet>\n\n  <p>In order to use web-components they need to be registered. You can do this by importing each desired components</p>\n  <au-snippet class="mobile-full-bleed" enable-output.bind="false">\n    <div language="typescript">\n      import { EcosDesignSystemProvider, EcosButton } from "@ecos/ecos-design-system";\n\n      /*\n      * Ensure that tree-shaking doesn\'t remove these components from the bundle.\n      * There are multiple ways to prevent tree shaking, of which this is one.\n      */\n      EcosDesignSystemProvider;\n      EcosButton;\n    </div>\n  </au-snippet>\n\n  <p>Make sure you have a Design System Provider encapsulating all the ecos components in the DOM. A common practice is to place it right after the body tag</p>\n  <au-snippet class="mobile-full-bleed">\n    <div language="html">\n      <body>\n        <ecos-design-system-provider use-defaults>\n          \x3c!-- `use-defaults` is only required on the top level design-system-provider --\x3e\n          \x3c!-- code continues here --\x3e\n        </ecos-design-system-provider>\n      </body>\n    </div>\n  </au-snippet>\n\n  <p>Use the components as native elements</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-design-system-provider background-color="#FFFFFF">\n        <h1>Hello World</h1>\n        <p>This text is supposed to motivate you to click below</p>\n        <ecos-button>Click me !</ecos-button>\n      </ecos-design-system-provider>\n    </div>\n  </au-snippet>\n\n\n</ecos-section>\n\n<ecos-section>\n  <h3>Want to know more ?</h3>\n  <p>Head over to the <ecos-anchor appearance="hypertext" load="../the-project">About the project</ecos-anchor> page to learn more about Ecos.</p>\n</ecos-section>'})],nP);const iP="admin-dashboard",sP='<ecos-section>\n  <h1>Demo of an Admin Dashboard</h1>\n  <ecos-button load="../use-cases-list">Close</ecos-button>\n</ecos-section>',oP=sP,rP=[];let aP;function lP(t){aP||(aP=Cb.define({name:iP,template:sP,dependencies:rP})),t.register(aP)}class cP{static promiseAnimation(t,e,n){return new Promise((i=>{t.animate(e,n).onfinish=()=>i()}))}static slideIn(t,e,n="right"){return cP.promiseAnimation(t,{transform:[`translateX(${"left"===n?"-":""}100%)`,"translateX(0)"]},e)}static slideOut(t,e,n="right"){return cP.promiseAnimation(t,{transform:["translateX(0)",`translateX(${"left"===n?"-":""}100%)`]},e)}static scaleIn(t,e){return cP.promiseAnimation(t,{transform:["scale(0)","scale(1)"]},e)}static scaleOut(t,e){return cP.promiseAnimation(t,{transform:["scale(1)","scale(0)"]},e)}}let hP=class{created(t){this.element=t.host}attaching(){return cP.scaleIn(this.element,400)}detaching(){return cP.scaleOut(this.element,200)}};hP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(f)],hP);const uP="blog-page",dP='<ecos-navbar layer="1" scrolling-container-selector="[name=use-cases-viewport]">\n  <ecos-button appearance="lightweight" slot="branding" style="color: var(--accent-fill-rest)" load="../use-cases-list">\n    <ecos-icon icon="X" slot="start" weight="2"></ecos-icon>\n    Demo Blog\n  </ecos-button>\n</ecos-navbar>\n\n<div class="header" style="background-image: url(./images/office-interior-design.jpg);">\n\n  <div class="header-text">\n    Design de produits&nbsp;et d\'espaces\n  </div>\n\n</div>\n\n<ecos-section centerwidth="70ch">\n  <ecos-article-list class="larger">\n    <ecos-article image-src="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article image-src="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article image-src="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article image-src="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n  </ecos-article-list>\n</ecos-section>\n',pP=dP,gP=[];let fP;function vP(t){fP||(fP=Cb.define({name:uP,template:dP,dependencies:gP})),t.register(fP)}let mP=class{created(t){this.element=t.host}attaching(){return cP.scaleIn(this.element,400)}detaching(){return cP.scaleOut(this.element,200)}};mP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(v)],mP);var bP=n(278);be()(bP.Z,{insert:"head",singleton:!1});const yP=bP.Z.locals||{},wP="one-page-website",xP='<ecos-navbar layer="1" transparent-first scrolling-container-selector="[name=use-cases-viewport]">\n  <ecos-button appearance="lightweight" slot="branding" style="color: var(--accent-fill-rest)" load="../use-cases-list">\n    <ecos-icon icon="X" slot="start" weight="2"></ecos-icon>\n    PAVO\n  </ecos-button>\n  <ecos-anchor slot="main" appearance="lightweight">About</ecos-anchor>\n  <ecos-anchor slot="main" appearance="lightweight">Services</ecos-anchor>\n  <ecos-anchor slot="main" appearance="lightweight">Contact</ecos-anchor>\n</ecos-navbar>\n\n<div class="navbar-content header-gradient">\n\n  \n  <ecos-section centerwidth="100ch">\n    <ecos-two>\n      <ecos-stack>\n        <h1>Team management mobile application</h1>\n        <p>Start getting things done together with your team based on Pavo\'s revolutionary team management features</p>\n        <p>\n          <ecos-button appearance="neutral">Preview</ecos-button>\n          <ecos-button appearance="accent">Download</ecos-button>\n        </p>\n      </ecos-stack>\n      <img src="images/use-cases/website/header-smartphone.png" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n  \n  <ecos-section class="large-text" centerwidth="50ch" largev>\n    <p>Team management mobile apps don’t get better than Pavo. It’s probably the best app in the world for this purpose. Don’t hesitate to give it a try today and you will fall in love with it</p>\n  </ecos-section>\n\n  <ecos-section centerwidth="120ch" largev>\n    <ecos-collection>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-1.svg">\n        <ecos-stack >\n          <h3>Platform Integration</h3>\n          <p>You sales force can use the app on any smartphone platform without compatibility issues</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-2.svg">\n        <ecos-stack >\n          <h3>Easy On Resources</h3>\n          <p>Works smoothly even on older generation hardware due to our optimization efforts</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-3.svg">\n        <ecos-stack >\n          <h3>Great Performance</h3>\n          <p>Optimized code and innovative technology insure no delays and ultra-fast responsiveness</p>\n        </ecos-stack>\n      </ecos-card>\n\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-4.svg">\n        <ecos-stack >\n          <h3>Multiple Languages</h3>\n          <p>Choose from one of the 40 languages that come pre-installed and start selling smarter</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-5.svg">\n        <ecos-stack >\n          <h3>Free Updates</h3>\n          <p>Don\'t worry about future costs, pay once and receive all future updates at no extra cost</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-6.svg">\n        <ecos-stack >\n          <h3>Community Support</h3>\n          <p>Register the app and get acces to knowledge and ideas from the Pavo online community</p>\n        </ecos-stack>\n      </ecos-card>\n    </ecos-collection>\n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two>\n      <ecos-stack>\n        <h1>Results driven ground breaking technology</h1>\n        <p>Based on our team\'s extensive experience in developing line of business applications and constructive customer feedback we reached a new level of revenue.</p>\n        <p>We enjoy helping small and medium sized tech businesses take a shot at established Fortune 500 companies</p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-1.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two rightleft>\n      <ecos-stack>\n        <h1>Instant results for the marketing department</h1>\n        <ul>\n          <li>Features that will help you and your marketers</li>\n          <li>Smooth learning curve due to the knowledge base</li>\n          <li>Ready out-of-the-box with minor setup settings</li>\n        </ul>\n        <p>\n          <ecos-button appearance="neutral">Lightbox</ecos-button>\n          <ecos-button appearance="accent">Details</ecos-button>\n        </p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-2.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two>\n      <ecos-stack>\n        <h1>Platform integration and life time free updates</h1>\n        <p>Get a glimpse of what this app can do for your marketing automation and understand why current users are so excited when using Pavo together with their teams.</p>\n        <p>We will promptly answer any questions and honor your requests based on the service level agreement</p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-2.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section>\n    <p>This template is heavily inspired by <a href="https://inovatik.com/pavo-mobile-app-website-bootstrap-html-template.html">Inovatik\'s Pavo HTML template</a></p>\n  </ecos-section>\n\n</div>\n',kP=xP,CP=[Wu.defer(".css",yP)];let SP;function $P(t){SP||(SP=Cb.define({name:wP,template:xP,dependencies:CP})),t.register(SP)}let TP=class{created(t){this.element=t.host}attaching(){return cP.scaleIn(this.element,600)}detaching(){return cP.scaleOut(this.element,300)}};TP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(m)],TP);let AP=class{};AP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb({name:"use-cases-index",template:'<au-viewport name="use-cases-viewport" default="use-cases-list"></au-viewport>'})],AP);const EP="use-cases-list",OP='<ecos-section>\n  <h1>Experimenting some common use cases</h1>\n  <p>These pages are like playgrounds to check how the Ecos Design System reacts in different use cases and scenarios</p>\n</ecos-section>\n<ecos-section centerwidth="100ch">\n  <ecos-collection min-item-width="300px">\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>One page website</h2>\n        <p>The menu of this website is considered to be the menu of the one page website.</p>\n        <ecos-button appearance="accent" load="../one-page-website">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>Blog</h2>\n        <p>A blog home page with links to article pages.</p>\n        <ecos-button appearance="accent" load="../blog-page">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>Admin dashboard</h2>\n        <p>An application admin dashboard.</p>\n        <ecos-button appearance="accent" load="../admin-dashboard">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n</ecos-section>',PP=OP,RP=[];let IP;function jP(t){IP||(IP=Cb.define({name:EP,template:OP,dependencies:RP})),t.register(IP)}let FP=class{};FP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(b)],FP);var LP=n(563);be()(LP.Z,{insert:"head",singleton:!1});const NP=LP.Z.locals||{},DP="ecos-settings",MP='<div>\n  <ecos-design-system-provider background-color="#222" design-unit="4" density="0">\n    <div class="wrapper" style="padding-bottom: 150px;">\n      <h3>Design settings</h3>\n    \n      <ecos-form change.delegate="updateDesignSystem()">\n        <ecos-form-row>\n          <label>Background color</label>\n          <input type="color" value.bind="color">\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Accent color</label>\n          <input type="color" value.bind="accent">\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Design unit</label>\n          <ecos-slider value.bind="designUnit" min="2" max="6" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Density</label>\n          <ecos-slider value.bind="density" min="-3" max="3" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Corner Radius</label>\n          <ecos-slider value.bind="cornerRadius" min="0" max="20" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Font Size</label>\n          <ecos-slider value.bind="typeRampBaseFontSize" min="10" max="20" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Type ramp ratio (modular scale)</label>\n          <ecos-slider value.bind="typeRampRatio" min="1.067" max="2" step="0.01"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Line Height Ratio</label>\n          <ecos-slider value.bind="lineHeightRatio" min="1" max="2" step="0.01"></ecos-slider>\n        </ecos-form-row>\n      </ecos-form>\n    </div>\n  </ecos-design-system-provider>\n</div>',BP=MP,VP=[Wu.defer(".css",NP)];let HP;function qP(t){HP||(HP=Cb.define({name:DP,template:MP,dependencies:VP})),t.register(HP)}let UP=class{constructor(t){this.element=t,this.color="#FFF8F0",this.accent="#AD016E",this.designUnit=4,this.density=0,this.cornerRadius=5,this.typeRampBaseFontSize=16,this.typeRampRatio=1.25,this.lineHeightRatio=1.2}attached(){this.provider=kr.findProvider(this.element),this.updateDesignSystem()}updateDesignSystem(){this.provider&&(this.provider.backgroundColor=this.color,this.provider.accentBaseColor=this.accent,this.provider.designUnit=this.designUnit,this.provider.density=this.density,this.provider.cornerRadius=this.cornerRadius,this.provider.typeRampBaseFontSize=`${this.typeRampBaseFontSize}px`,this.provider.typeRampRatio=this.typeRampRatio,this.provider.lineHeightRatio=this.lineHeightRatio,this.provider.backgroundColorChanged2())}};UP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}([yb(w),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[HTMLElement])],UP);var zP=n(660),_P=n.n(zP),WP=(n(874),n(836),n(183)),KP=n(442),GP=n(218);be()(GP.Z,{insert:"head",singleton:!1});const QP=GP.Z.locals||{};Wu.defer(".css",QP);var YP,XP=function(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},ZP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const JP=function(...t){return new ay(t)}(WP.Z,KP.Z);let tR=YP=class{constructor(t){this.element=t,this.enableOutput=!1,this.enableMultiple=!1,this.showShell="auto",this.showTS="auto",this.showHTML="auto",this.showCSS="auto",this.showOutput="auto",this.fullWidthOutput=!1,this.theme="",this.hasShell=!1,this.hasHTML=!1,this.hasCSS=!1,this.hasTS=!1}static processContent(t){const e=t.childNodes,n=t;let i=!1;for(const t of e)if(i=i||t instanceof HTMLElement&&t.hasAttribute("au-slot")&&"output"===t.getAttribute("au-slot"),i)break;const s=document.createElement("div"),o=document.createElement("div");for(const t of e)if(t instanceof Element&&t.hasAttribute("language")){const e=t.getAttribute("language");let r=t.innerHTML;if("html"!==e||i||(s.innerHTML=r,s.setAttribute("au-slot","output"),r=YP.decodeHtml(r),n.appendChild(s)),"css"===e&&(o.innerHTML=r,o.setAttribute("au-slot","styles"),n.appendChild(o)),r=YP.dedent(r),""===r.trim())continue;const a=_P().highlight(r,_P().languages[e],e);t.innerHTML=`<pre class="language-${e}">${a}</pre>`,t.setAttribute("au-slot",e),n.classList.add(`has-${e}`)}return!0}static getContent(t,e){const n=t.innerHTML,i="html"===e?YP.decodeHtml(n):n;return YP.dedent(i)}static dedent(t){const e=t.match(/^[ \t]*(?=\S)/gm);if(!e)return t;const n=Math.min(...e.map((t=>t.length))),i=new RegExp("^[ \\t]{"+n+"}","gm");return n>0?t.replace(i,""):t}static decodeHtml(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}attached(){this.hasShell=null!==this.element.shadowRoot.querySelector(".shell > div"),this.hasTS=null!==this.element.shadowRoot.querySelector(".typescript > div"),this.hasHTML=null!==this.element.shadowRoot.querySelector(".html > div"),this.hasCSS=null!==this.element.shadowRoot.querySelector(".css > div");let t=!1;this.hasShell&&"auto"===this.showShell?(this.showShell=this.enableMultiple||!t,t=!0):this.showShell=!1,this.hasTS&&"auto"===this.showTS?(this.showTS=this.enableMultiple||!t,t=!0):this.showTS=!1,this.hasHTML&&"auto"===this.showHTML?(this.showHTML=this.enableMultiple||!t,t=!0):this.showHTML=!1,this.hasCSS&&"auto"===this.showCSS?(this.showCSS=this.enableMultiple||!t,t=!0):this.showCSS=!1,this.enableOutput&&"auto"===this.showOutput?this.showOutput=!0:this.showOutput=!1;const e=this.element.shadowRoot.querySelector(".styles-content > div");if(e){const t=e.innerHTML,n=document.createElement("style");n.innerHTML=t,this.element.shadowRoot.appendChild(n)}}bound(){this.themeChanged()}themeChanged(){}toggle(t){this.enableMultiple||(this.showShell=!1,this.showTS=!1,this.showHTML=!1,this.showCSS=!1),"shell"===t?this.showShell=!this.showShell:"ts"===t?this.showTS=!this.showTS:"html"===t?this.showHTML=!this.showHTML:"css"===t?this.showCSS=!this.showCSS:"output"===t&&(this.showOutput=!this.showOutput)}};var eR;XP([sm,ZP("design:type",Object)],tR.prototype,"enableOutput",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"enableMultiple",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"showShell",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"showTS",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"showHTML",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"showCSS",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"showOutput",void 0),XP([sm,ZP("design:type",Object)],tR.prototype,"fullWidthOutput",void 0),XP([sm,ZP("design:type",String)],tR.prototype,"theme",void 0),XP([void 0===eR?function(t,e,n){Vh.define(Sb,$b(t,e),t)}:function(t){eR=$b(t,eR);const e=Vh.getOwn(Cb.name,t);return void 0!==e?e.processContent=eR:Vh.define(Sb,eR,t),t},ZP("design:type",Function),ZP("design:paramtypes",[Object]),ZP("design:returntype",Boolean)],tR,"processContent",null),tR=YP=XP([yb({name:"au-snippet",template:'<template show-shell.class="showShell" show-ts.class="showTS" show-html.class="showHTML" show-css.class="showCSS" show-output.class="showOutput" multiple.class="enableMultiple" full-width-output.class="fullWidthOutput">\n  <div class="topbar">\n    <button if.bind="hasShell" selected.class="showShell" click.delegate="toggle(\'shell\')">Shell</button>\n    <button if.bind="hasTS" selected.class="showTS" click.delegate="toggle(\'ts\')">Typescript</button>\n    <button if.bind="hasHTML" selected.class="showHTML" click.delegate="toggle(\'html\')">HTML</button>\n    <button if.bind="hasCSS" selected.class="showCSS" click.delegate="toggle(\'css\')">CSS</button>\n  </div>\n  <div class="codes">\n    <div class="shell">\n      <label>Shell</label>\n      <au-slot name="shell"></au-slot>\n    </div>\n    <div class="typescript">\n      <label>Typescript</label>\n      <au-slot name="typescript"></au-slot>\n    </div>\n    <div class="html">\n      <label>HTML</label>\n      <au-slot name="html"></au-slot>\n    </div>\n    <div class="css">\n      <label>CSS</label>\n      <au-slot name="css"></au-slot>\n    </div>\n  </div>\n  <div class="output">\n    <div class="topbar">\n      <button class="selected">Result</button>\n    </div>\n    <div class="output-content">\n      <au-slot name="output"></au-slot>\n    </div>\n    <div class="styles-content">\n      <au-slot name="styles"></au-slot>\n    </div>\n  </div>\n  <au-slot></au-slot>\n</template>',dependencies:[JP],shadowOptions:{mode:"open"}}),$u(Element),ZP("design:paramtypes",[Element])],tR),ec.outline.User='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n</svg>\n',ec.solid.User='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>\n</svg>\n',ec.outline.Adjustments='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>\n</svg>\n',ec.solid.Adjustments='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"/>\n</svg>\n',ec.outline.ArrowNarrowRight='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>\n</svg>\n',ec.solid.ArrowNarrowRight='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>\n</svg>\n',ec.outline.X='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n</svg>\n',ec.solid.X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>\n</svg>\n',wT.register(y).register(Ld.create({level:1,sinks:[jd],colorOptions:1})).register(dE.customize({useUrlFragmentHash:!0,swapOrder:"attach-next-detach-current"})).register(xT).register(UP).register(tR).register(GC).app(CE).start()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(691)})();