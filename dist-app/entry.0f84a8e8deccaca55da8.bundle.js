/*! For license information please see entry.0f84a8e8deccaca55da8.bundle.js.LICENSE.txt */
(()=>{var t={619:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,'*,*::before,*::after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role="list"],ol[role="list"]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img,picture{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media(prefers-reduced-motion:reduce){html:focus-within{scroll-behavior:auto}*,*::before,*::after{-webkit-animation-duration:.01ms !important;animation-duration:.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}\n',""]);const r=s},162:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,".header {\n  width: 100%;\n  height: 90vh;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n}\n\n.header-text {\n  align-self: flex-start;\n  margin: auto auto auto auto;\n  max-width: 50vw;\n  min-width: -webkit-min-content;\n  min-width: -moz-min-content;\n  min-width: min-content;\n  padding: 32px; \n  border-radius: calc(var(--corner-radius) * 1px);\n  font-family: 'Orelega One', cursive;\n  font-size: var(--type-ramp-plus-1-font-size);\n  line-height: var(--type-ramp-plus-1-line-height);\n}\n@media screen and (min-width: 732px) {\n  .header-text {\n    margin: auto auto auto auto;\n    font-size: var(--type-ramp-plus-2-font-size);\n    line-height: var(--type-ramp-plus-2-line-height);\n  }\n}\n\n",""]);const r=s},574:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"ecos-navbar ecos-anchor {\n  text-transform: uppercase;\n}\necos-navbar ::part(control) {\n  cursor: pointer;\n}",""]);const r=s},932:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;900&display=swap);"]),s.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Orelega+One&display=swap);"]),s.push([t.id,"body {\n  font-family: 'Roboto', sans-serif;\n}\n\nh1, h2, h3 {\n  font-family: 'Orelega One', cursive;\n}\n",""]);const r=s},218:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,':host {\n  display: grid;\n  background: white;\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n  border-radius: 5px;\n}\n\n:host .topbar {\n  padding: 8px;\n}\n\n:host button {\n  cursor: pointer;\n  background: transparent;\n  background: var(--au-snippet-button-background, transparent);\n  color: #555;\n  color: var(--au-snippet-button-foreground, #555);\n  border: none;\n  border-radius: 4px;\n  padding: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n:host button.selected {\n  background: #fafafa;\n  background: var(--au-snippet-selected-button-background, #fafafa);\n  color: #333;\n  color: var(--au-snippet-selected-button-color, #333);\n}\n:host .codes {\n  min-width: 0;\n}\n:host .shell,\n:host .typescript,\n:host .html,\n:host .css,\n:host .output {\n  display: none;\n  margin-left: 0.5em;\n  margin-right: 0.5em;\n  position: relative;\n}\n:host .styles-content {\n  display: none;\n}\n:host .output-content {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  /* border: dashed rgba(200, 0, 100, 0.2) 1px;\n  border: var(--au-snippet-outline-width, dashed rgba(200, 0, 100, 0.2) 1px); */\n  background: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n\n:host(.show-shell) .shell {\n  display: block;\n}\n:host(.show-html) .html {\n  display: block;\n}\n:host(.show-css) .css {\n  display: block;\n}\n:host(.show-ts) .typescript {\n  display: block;\n}\n:host(.show-output) .output {\n  display: block;\n}\n:host label {\n  display: none;\n  border-radius: 4px;\n  margin-top: 16px;\n  padding: 0 4px;\n  font-size: 0.8em;\n  background: #666;\n  color: white; \n  width: -webkit-min-content; \n  width: -moz-min-content; \n  width: min-content;\n}\n:host(.multiple) label{\n  display: block;\n}\n\n:host :not(pre) > code[class*="language-"],\n:host pre[class*="language-"] {\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n}\n\n/* (desktop) mode */\n@media screen and (min-width: 732px) {\n  :host(.show-output) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px auto;\n  }\n  :host(.show-output).codes {\n    grid-column: 1;\n  }\n  :host(.show-output) .output {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column: 2;\n  }\n}',""]);const r=s},563:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"",""]);const r=s},755:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,".load-active {\n  background-color: lightgray;\n}\n\n#design-settings-opener {\n  position: fixed;\n  bottom: 16px;\n  left: 16px;\n}\n#design-settings-dialog::part(positioning-region) {\n  z-index: 2;\n}\n\n[load] {\n  cursor: pointer;\n}\n\n.page {\n  display: grid;\n  grid-template-columns: 0px 1fr;\n  transition: grid-template-columns 100ms ease;\n  transition: grid-template-columns 100ms ease, -ms-grid-columns 100ms ease;\n}\n.page.sidebar--opened {\n  grid-template-columns: 250px 1fr;\n}\n.sidebar {\n  position: fixed;\n  width: 250px;\n  transform: translateX(-250px);\n  overflow-x: hidden;\n  overflow-y: auto;\n  transition: all 100ms ease;\n  box-shadow: var(--elevation3);\n  height: 100vh;\n}\n.sidebar.sidebar--opened {\n  transform: translateX(0);\n}\n.main-content {\n  grid-column-start: 2;\n  justify-self: stretch;\n}\n\necos-navbar ecos-anchor.active {\n  text-decoration: underline;\n  font-weight: bold;\n}\n\nbody.use-cases-on {\n  position: fixed;\n  overflow: hidden;\n  width: 100%;\n}\nbody.use-cases-on au-viewport[name=use-cases-viewport] {\n  display: grid;\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: var(--background-color);\n  overflow: auto;\n}\n\nau-viewport[name=use-cases-viewport] {\n  display: grid;\n  position: relative;\n  overflow: hidden;\n}\n\nau-viewport[name=use-cases-viewport] > * {\n  display: block;\n  position: relative;\n  grid-column: 1;\n  grid-row: 1;\n}",""]);const r=s},818:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"ecos-navbar > .logo {\n  margin-right: 16px;\n}\necos-navbar > * + * {\n  margin-left: calc((20 + (var(--design-unit) + (var(--design-unit) * max(0, var(--density))))) * 1px);\n}\n\necos-navbar > .right {\n  margin-left: auto;\n}\necos-navbar > ecos-anchor {\n  --outline-width: 0;\n  color: currentColor;\n}\necos-navbar > ecos-anchor:hover {\n  --outline-width: 0;\n  color: var(--accent-foreground-hover);\n}",""]);const r=s},998:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"ecos-design-system-provider {\n  font-size: var(--type-ramp-base-font-size);\n  line-height: var(--type-ramp-base-line-height);\n}\n\n\nh1 {\n  font-size: var(--type-ramp-plus-3-font-size);\n  line-height: var(--type-ramp-plus-3-line-height);\n}\nh2 {\n  font-size: var(--type-ramp-plus-2-font-size);\n  line-height: var(--type-ramp-plus-2-line-height);\n}\nh3 {\n  font-size: var(--type-ramp-plus-1-font-size);\n  line-height: var(--type-ramp-plus-1-line-height);\n}\n\n.large-text {\n  font-size: var(--type-ramp-plus-3-font-size);\n  line-height: var(--type-ramp-plus-3-line-height);\n}\n\n.muted-text {\n  font-size: var(--type-ramp-minus-1-font-size);\n  line-height: var(--type-ramp-minus-1-line-height);\n}\n\nh1, .ecos-stack > :not(h1, h2, h3) + h1,\nh2:not(:first-child), .ecos-stack > :not(h1, h2, h3) + h2,\nh3:not(:first-child), .ecos-stack > :not(h1, h2, h3) + h3 {\n  margin-top: calc(2 * var(--spacing-unit));\n}\n\n@media screen and (min-width: 732px) {\n  h1 {\n    font-size: var(--type-ramp-plus-4-font-size);\n    line-height: var(--type-ramp-plus-4-line-height);\n  }\n  h2 {\n    font-size: var(--type-ramp-plus-3-font-size);\n    line-height: var(--type-ramp-plus-3-line-height);\n  }\n  h3 {\n    font-size: var(--type-ramp-plus-2-font-size);\n    line-height: var(--type-ramp-plus-2-line-height);\n  }\n}\n\na {\n  color: inherit;\n  text-decoration: underline;\n}\n\na:hover {\n  color: var(--accent-foreground-hover);\n}\n\na:active {\n  color: var(--accent-foreground-active);\n}",""]);const r=s},208:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"* {\n  box-sizing: border-box;\n  --elevation0: 0 0 3px rgba(0,0,0,0.3), 0 1px 1px rgba(0,0,0,0.12);\n  --elevation1: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  --elevation2: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  --elevation3: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  --elevation4: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n  --elevation5: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);\n\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 1px);\n  --spacing-unit-v: var(--spacing-unit);\n  --spacing-unit-h: var(--spacing-unit);\n\n  --badge-fill-primary: var(--accent-fill-rest);\n  --badge-fill-secondary: var(--neutral-fill-rest);\n  --badge-fill-transparent: transparent;\n  --badge-color-black: #000000;\n  --badge-color-white: var(--accent-foreground-cut-rest);\n}\n.space-small {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 0.5px);\n}\n.space-large {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 2px);\n}\n.space-extra-large {\n  --spacing-unit: calc(((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) * 4px);\n}\n.space-large-v {\n  --spacing-unit-v: calc(var(--spacing-unit) * 2);\n}\n.space-extra-large-v {\n  --spacing-unit-v: calc(var(--spacing-unit) * 4);\n}\n\n.elevation,\n.elevation1 {\n  box-shadow: var(--elevation1);\n}\n.elevation0 {\n  box-shadow: var(--elevation0);\n}\n.elevation2 {\n  box-shadow: var(--elevation2);\n}\n.elevation3 {\n  box-shadow: var(--elevation3);\n}\n.elevation4 {\n  box-shadow: var(--elevation4);\n}\n.elevation5 {\n  box-shadow: var(--elevation5);\n}\n\n.radius {\n  border-radius: var(--corner-radius);\n}\n\n.radius-large {\n  border-radius: calc(var(--corner-radius) * 1.5);\n}\n.radius-small {\n  border-radius: calc(var(--corner-radius) * 0.5);\n}\n\n.wrapper {\n  max-width: 55rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding: var(--spacing-unit);\n}\n.wrapper-h {\n  max-width: 55rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: var(--spacing-unit);\n  padding-right: var(--spacing-unit);\n}\n\n\n/* The shift-[x/y]-[value] utilities allow for pixel perfect adjustements */\n.shift-x-1 {\n  transform: translateX(1px);\n}\n.shift-x--1 {\n  transform: translateX(-1px);\n}\n.shift-x-2 {\n  transform: translateX(2px);\n}\n.shift-x--2 {\n  transform: translateX(-2px);\n}\n.shift-x-3 {\n  transform: translateX(3px);\n}\n.shift-x--3 {\n  transform: translateX(-3px);\n}\n.shift-x-1 {\n  transform: translateY(1px);\n}\n.shift-y--1 {\n  transform: translateY(-1px);\n}\n.shift-y-2 {\n  transform: translateY(2px);\n}\n.shift-y--2 {\n  transform: translateY(-2px);\n}\n.shift-y-3 {\n  transform: translateY(3px);\n}\n.shift-y--3 {\n  transform: translateY(-3px);\n}",""]);const r=s},278:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,"/* COMPOSITIONS */\n.feature-item {\n  text-align: center;\n}\n.feature-item img {\n  width: 70px;\n  height: 70px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: var(--spacing-unit);\n}\n\n/* UTILITIES */\n.header-gradient {\n  background: linear-gradient(var(--background-teinted-color), var(--background-color));\n}",""]);const r=s},183:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,'/**\n * prism.js default theme for JavaScript, CSS and HTML\n * Based on dabblet (http://dabblet.com)\n * @author Lea Verou\n */\n\ncode[class*="language-"],\npre[class*="language-"] {\n\tcolor: black;\n\tbackground: none;\n\ttext-shadow: 0 1px white;\n\tfont-family: Consolas, Monaco, \'Andale Mono\', \'Ubuntu Mono\', monospace;\n\tfont-size: 1em;\n\ttext-align: left;\n\twhite-space: pre;\n\tword-spacing: normal;\n\tword-break: normal;\n\tword-wrap: normal;\n\tline-height: 1.5;\n\n\t-moz-tab-size: 4;\n\t-o-tab-size: 4;\n\ttab-size: 4;\n\n\t-webkit-hyphens: none;\n\t-moz-hyphens: none;\n\t-ms-hyphens: none;\n\thyphens: none;\n}\n\npre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,\ncode[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\npre[class*="language-"]::selection, pre[class*="language-"] ::selection,\ncode[class*="language-"]::selection, code[class*="language-"] ::selection {\n\ttext-shadow: none;\n\tbackground: #b3d4fc;\n}\n\n@media print {\n\tcode[class*="language-"],\n\tpre[class*="language-"] {\n\t\ttext-shadow: none;\n\t}\n}\n\n/* Code blocks */\npre[class*="language-"] {\n\tpadding: 1em;\n\tmargin: .5em 0;\n\toverflow: auto;\n}\n\n:not(pre) > code[class*="language-"],\npre[class*="language-"] {\n\tbackground: #f5f2f0;\n}\n\n/* Inline code */\n:not(pre) > code[class*="language-"] {\n\tpadding: .1em;\n\tborder-radius: .3em;\n\twhite-space: normal;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n\tcolor: slategray;\n}\n\n.token.punctuation {\n\tcolor: #999;\n}\n\n.token.namespace {\n\topacity: .7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol,\n.token.deleted {\n\tcolor: #905;\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n\tcolor: #690;\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string {\n\tcolor: #9a6e3a;\n\t/* This background color was intended by the author of this theme. */\n\tbackground: hsla(0, 0%, 100%, .5);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n\tcolor: #07a;\n}\n\n.token.function,\n.token.class-name {\n\tcolor: #DD4A68;\n}\n\n.token.regex,\n.token.important,\n.token.variable {\n\tcolor: #e90;\n}\n\n.token.important,\n.token.bold {\n\tfont-weight: bold;\n}\n.token.italic {\n\tfont-style: italic;\n}\n\n.token.entity {\n\tcursor: help;\n}\n',""]);const r=s},442:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(645),s=n.n(i)()((function(t){return t[1]}));s.push([t.id,':host {\n  display: grid;\n  background: white;\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n  border-radius: 5px;\n}\n\n:host .topbar {\n  padding: 8px;\n}\n\n:host button {\n  cursor: pointer;\n  background: transparent;\n  background: var(--au-snippet-button-background, transparent);\n  color: #555;\n  color: var(--au-snippet-button-foreground, #555);\n  border: none;\n  border-radius: 4px;\n  padding: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  font-weight: bold;\n  font-size: 0.8rem;\n}\n:host button.selected {\n  background: #fafafa;\n  background: var(--au-snippet-selected-button-background, #fafafa);\n  color: #333;\n  color: var(--au-snippet-selected-button-color, #333);\n}\n:host .codes {\n  min-width: 0;\n}\n:host .shell,\n:host .typescript,\n:host .html,\n:host .css,\n:host .output {\n  display: none;\n  margin-left: 0.5em;\n  margin-right: 0.5em;\n  position: relative;\n}\n:host .styles-content {\n  display: none;\n}\n:host .output-content {\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  /* border: dashed rgba(200, 0, 100, 0.2) 1px;\n  border: var(--au-snippet-outline-width, dashed rgba(200, 0, 100, 0.2) 1px); */\n  background: white;\n  padding: 16px;\n  border-radius: 10px;\n}\n\n:host(.show-shell) .shell {\n  display: block;\n}\n:host(.show-html) .html {\n  display: block;\n}\n:host(.show-css) .css {\n  display: block;\n}\n:host(.show-ts) .typescript {\n  display: block;\n}\n:host(.show-output) .output {\n  display: block;\n}\n:host label {\n  display: none;\n  border-radius: 4px;\n  margin-top: 16px;\n  padding: 0 4px;\n  font-size: 0.8em;\n  background: #666;\n  color: white; \n  width: min-content;\n}\n:host(.multiple) label{\n  display: block;\n}\n\n:host :not(pre) > code[class*="language-"],\n:host pre[class*="language-"] {\n  background: var(--au-snippet-background, rgb(245, 242, 240));\n}\n\n/* (desktop) mode */\n@media screen and (min-width: 732px) {\n  :host(.show-output) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 40px auto;\n  }\n  :host(.show-output).codes {\n    grid-column: 1;\n  }\n  :host(.show-output) .output {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column: 2;\n  }\n}',""]);const r=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(i)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(s[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},337:t=>{var e={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function n(t){var n=(t=t||{}).base||16,i=t.ratio||1.618;function s(t,e){return t>0?function(t,e){var s=Math.pow(i,t)*n;return o(e?r(s):s)}(t,e):function(t,e){var s=n/Math.pow(i,t);return o(e?r(s):s)}(-1*t,e)}function r(t){return t/n}function o(t){return Math.round(1e3*t)/1e3}return"string"==typeof n&&(n=parseFloat(n,10),Number.isNaN(n)&&(n=16)),"string"==typeof i&&(i=e[i]?e[i]:parseFloat(i,10),Number.isNaN(i)&&(i=1.618)),s.steps=function(t,e){t=t||8;for(var n=[],i=Math.floor(.5*t),r=-1*i,o=i+1;r<o;r++)n.push(s(r,e));return n.reverse()},s}t.exports=n,n.ratios=e},874:()=>{!function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:i}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],r=i.variable[1].inside,o=0;o<s.length;o++)r[s[o]]=t.languages.bash[s[o]];t.languages.shell=t.languages.bash}(Prism)},836:()=>{!function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete t.languages.typescript.parameter;var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(Prism)},660:(t,e,n)=>{var i=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,i={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function t(e){return e instanceof s?new s(e.type,t(e.content),e.alias):Array.isArray(e)?e.map(t):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var s,r;switch(n=n||{},i.util.type(e)){case"Object":if(r=i.util.objId(e),n[r])return n[r];for(var o in s={},n[r]=s,e)e.hasOwnProperty(o)&&(s[o]=t(e[o],n));return s;case"Array":return r=i.util.objId(e),n[r]?n[r]:(s=[],n[r]=s,e.forEach((function(e,i){s[i]=t(e,n)})),s);default:return e}},getLanguage:function(t){for(;t&&!e.test(t.className);)t=t.parentElement;return t?(t.className.match(e)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(i.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var n in e)if(e[n].src==t)return e[n]}return null}},isActive:function(t,e,n){for(var i="no-"+e;t;){var s=t.classList;if(s.contains(e))return!0;if(s.contains(i))return!1;t=t.parentElement}return!!n}},languages:{extend:function(t,e){var n=i.util.clone(i.languages[t]);for(var s in e)n[s]=e[s];return n},insertBefore:function(t,e,n,s){var r=(s=s||i.languages)[t],o={};for(var a in r)if(r.hasOwnProperty(a)){if(a==e)for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);n.hasOwnProperty(a)||(o[a]=r[a])}var c=s[t];return s[t]=o,i.languages.DFS(i.languages,(function(e,n){n===c&&e!=t&&(this[e]=o)})),o},DFS:function t(e,n,s,r){r=r||{};var o=i.util.objId;for(var a in e)if(e.hasOwnProperty(a)){n.call(e,a,e[a],s||a);var l=e[a],c=i.util.type(l);"Object"!==c||r[o(l)]?"Array"!==c||r[o(l)]||(r[o(l)]=!0,t(l,n,a,r)):(r[o(l)]=!0,t(l,n,null,r))}}},plugins:{},highlightAll:function(t,e){i.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var s={callback:n,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",s),s.elements=Array.prototype.slice.apply(s.container.querySelectorAll(s.selector)),i.hooks.run("before-all-elements-highlight",s);for(var r,o=0;r=s.elements[o++];)i.highlightElement(r,!0===e,s.callback)},highlightElement:function(n,s,r){var o=i.util.getLanguage(n),a=i.languages[o];n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var c={element:n,language:o,grammar:a,code:n.textContent};function h(t){c.highlightedCode=t,i.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i.hooks.run("after-highlight",c),i.hooks.run("complete",c),r&&r.call(c.element)}if(i.hooks.run("before-sanity-check",c),!c.code)return i.hooks.run("complete",c),void(r&&r.call(c.element));if(i.hooks.run("before-highlight",c),c.grammar)if(s&&t.Worker){var u=new Worker(i.filename);u.onmessage=function(t){h(t.data)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else h(i.highlight(c.code,c.grammar,c.language));else h(i.util.encode(c.code))},highlight:function(t,e,n){var r={code:t,grammar:e,language:n};return i.hooks.run("before-tokenize",r),r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),s.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var i in n)e[i]=n[i];delete e.rest}var s=new a;return l(s,s.head,t),o(t,s,e,s.head,0),function(t){for(var e=[],n=t.head.next;n!==t.tail;)e.push(n.value),n=n.next;return e}(s)},hooks:{all:{},add:function(t,e){var n=i.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=i.hooks.all[t];if(n&&n.length)for(var s,r=0;s=n[r++];)s(e)}},Token:s};function s(t,e,n,i){this.type=t,this.content=e,this.alias=n,this.length=0|(i||"").length}function r(t,e,n,i){t.lastIndex=e;var s=t.exec(n);if(s&&i&&s[1]){var r=s[1].length;s.index+=r,s[0]=s[0].slice(r)}return s}function o(t,e,n,a,h,u){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(u&&u.cause==d+","+g)return;var f=p[g],v=f.inside,m=!!f.lookbehind,b=!!f.greedy,y=f.alias;if(b&&!f.pattern.global){var w=f.pattern.toString().match(/[imsuy]*$/)[0];f.pattern=RegExp(f.pattern.source,w+"g")}for(var x=f.pattern||f,k=a.next,C=h;k!==e.tail&&!(u&&C>=u.reach);C+=k.value.length,k=k.next){var S=k.value;if(e.length>t.length)return;if(!(S instanceof s)){var $,T=1;if(b){if(!($=r(x,C,t,m)))break;var A=$.index,E=$.index+$[0].length,P=C;for(P+=k.value.length;A>=P;)P+=(k=k.next).value.length;if(C=P-=k.value.length,k.value instanceof s)continue;for(var O=k;O!==e.tail&&(P<E||"string"==typeof O.value);O=O.next)T++,P+=O.value.length;T--,S=t.slice(C,P),$.index-=C}else if(!($=r(x,0,S,m)))continue;A=$.index;var R=$[0],I=S.slice(0,A),j=S.slice(A+R.length),F=C+S.length;u&&F>u.reach&&(u.reach=F);var L=k.prev;I&&(L=l(e,L,I),C+=I.length),c(e,L,T),k=l(e,L,new s(d,v?i.tokenize(R,v):R,y,R)),j&&l(e,k,j),T>1&&o(t,e,n,k.prev,C,{cause:d+","+g,reach:F})}}}}}function a(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function l(t,e,n){var i=e.next,s={value:n,prev:e,next:i};return e.next=s,i.prev=s,t.length++,s}function c(t,e,n){for(var i=e.next,s=0;s<n&&i!==t.tail;s++)i=i.next;e.next=i,i.prev=e,t.length-=s}if(t.Prism=i,s.stringify=function t(e,n){if("string"==typeof e)return e;if(Array.isArray(e)){var s="";return e.forEach((function(e){s+=t(e,n)})),s}var r={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},o=e.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(r.classes,o):r.classes.push(o)),i.hooks.run("wrap",r);var a="";for(var l in r.attributes)a+=" "+l+'="'+(r.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+a+">"+r.content+"</"+r.tag+">"},!t.document)return t.addEventListener?(i.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),s=n.language,r=n.code,o=n.immediateClose;t.postMessage(i.highlight(r,i.languages[s],s)),o&&t.close()}),!1),i):i;var h=i.util.currentScript();function u(){i.manual||i.highlightAll()}if(h&&(i.filename=h.src,h.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var d=document.readyState;"loading"===d||"interactive"===d&&h&&h.defer?document.addEventListener("DOMContentLoaded",u):window.requestAnimationFrame?window.requestAnimationFrame(u):window.setTimeout(u,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=i),void 0!==n.g&&(n.g.Prism=i),i.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup.tag.inside["attr-value"].inside.entity=i.languages.markup.entity,i.languages.markup.doctype.inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(t,e){var n={};n["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[e]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};s["language-"+e]={pattern:/[\s\S]+/,inside:i.languages[e]};var r={};r[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:s},i.languages.insertBefore("markup","cdata",r)}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:t.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.markup.tag.addInlined("script","javascript"),i.languages.js=i.languages.javascript,function(){if("undefined"!=typeof self&&self.Prism&&self.document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var t=window.Prism,e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",i='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',s=/\blang(?:uage)?-([\w-]+)\b/i;t.hooks.add("before-highlightall",(function(t){t.selector+=", "+i})),t.hooks.add("before-sanity-check",(function(s){var r=s.element;if(r.matches(i)){s.code="",r.setAttribute(n,"loading");var a=r.appendChild(document.createElement("CODE"));a.textContent="Loading…";var l=r.getAttribute("data-src"),c=s.language;if("none"===c){var h=(/\.(\w+)$/.exec(l)||[,"none"])[1];c=e[h]||h}o(a,c),o(r,c);var u=t.plugins.autoloader;u&&u.loadLanguages(c);var d=new XMLHttpRequest;d.open("GET",l,!0),d.onreadystatechange=function(){4==d.readyState&&(d.status<400&&d.responseText?(r.setAttribute(n,"loaded"),a.textContent=d.responseText,t.highlightElement(a)):(r.setAttribute(n,"failed"),d.status>=400?a.textContent="✖ Error "+d.status+" while fetching file: "+d.statusText:a.textContent="✖ Error: File does not exist or is empty"))},d.send(null)}})),t.plugins.fileHighlight={highlight:function(e){for(var n,s=(e||document).querySelectorAll(i),r=0;n=s[r++];)t.highlightElement(n)}};var r=!1;t.fileHighlight=function(){r||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),r=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}function o(t,e){var n=t.className;n=n.replace(s," ")+" language-"+e,t.className=n.replace(/\s+/g," ").trim()}}()},379:(t,e,n)=>{"use strict";var i,s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function o(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],s=0;s<t.length;s++){var a=t[s],l=e.base?a[0]+e.base:a[0],c=n[l]||0,h="".concat(l," ").concat(c);n[l]=c+1;var u=o(h),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(r[u].references++,r[u].updater(d)):r.push({identifier:h,updater:f(d,e),references:1}),i.push(h)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=s(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,n,i){var s=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,s);else{var r=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function d(t,e,n){var i=n.css,s=n.media,r=n.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,g=0;function f(t,e){var n,i,s;if(e.singleton){var r=g++;n=p||(p=l(e)),i=u.bind(null,n,r,!1),s=u.bind(null,n,r,!0)}else n=l(e),i=d.bind(null,n,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var s=o(n[i]);r[s].references--}for(var l=a(t,e),c=0;c<n.length;c++){var h=o(n[c]);0===r[h].references&&(r[h].updater(),r.splice(h,1))}n=l}}}},760:t=>{var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],n=e.join(","),i="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function s(t,e){e=e||{};var s,o,a,h=[],u=[],d=t.querySelectorAll(n);for(e.includeContainer&&i.call(t,n)&&(d=Array.prototype.slice.apply(d)).unshift(t),s=0;s<d.length;s++)r(o=d[s])&&(0===(a=l(o))?h.push(o):u.push({documentOrder:s,tabIndex:a,node:o}));return u.sort(c).map((function(t){return t.node})).concat(h)}function r(t){return!(!o(t)||function(t){return function(t){return h(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e=function(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}(t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'));return!e||e===t}(t)}(t)||l(t)<0)}function o(t){return!(t.disabled||function(t){return h(t)&&"hidden"===t.type}(t)||function(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}(t))}s.isTabbable=function(t){if(!t)throw new Error("No node provided");return!1!==i.call(t,n)&&r(t)},s.isFocusable=function(t){if(!t)throw new Error("No node provided");return!1!==i.call(t,a)&&o(t)};var a=e.concat("iframe").join(",");function l(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:t.tabIndex:e}function c(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function h(t){return"INPUT"===t.tagName}t.exports=s},868:(t,e,n)=>{"use strict";var i={};n.r(i),n.d(i,{default:()=>JA,dependencies:()=>tE,name:()=>XA,register:()=>nE,template:()=>ZA});var s={};n.r(s),n.d(s,{default:()=>oE,dependencies:()=>aE,name:()=>sE,register:()=>cE,template:()=>rE});var r={};n.r(r),n.d(r,{default:()=>pE,dependencies:()=>gE,name:()=>uE,register:()=>vE,template:()=>dE});var o={};n.r(o),n.d(o,{default:()=>kE,dependencies:()=>CE,name:()=>wE,register:()=>$E,template:()=>xE});var a={};n.r(a),n.d(a,{default:()=>PE,dependencies:()=>OE,name:()=>AE,register:()=>IE,template:()=>EE});var l={};n.r(l),n.d(l,{default:()=>NE,dependencies:()=>DE,name:()=>FE,register:()=>BE,template:()=>LE});var c={};n.r(c),n.d(c,{default:()=>UE,dependencies:()=>zE,name:()=>HE,register:()=>WE,template:()=>qE});var h={};n.r(h),n.d(h,{default:()=>wP,dependencies:()=>xP,name:()=>bP,register:()=>CP,template:()=>yP});var u={};n.r(u),n.d(u,{default:()=>EP,dependencies:()=>PP,name:()=>TP,register:()=>RP,template:()=>AP});var d={};n.r(d),n.d(d,{default:()=>DP,dependencies:()=>MP,name:()=>LP,register:()=>VP,template:()=>NP});var p={};n.r(p),n.d(p,{default:()=>_P,dependencies:()=>WP,name:()=>UP,register:()=>GP,template:()=>zP});var g={};n.r(g),n.d(g,{AdminDashboard:()=>$P,BlogPage:()=>IP,Button3dComponent:()=>iE,ButtonComponent:()=>hE,CardComponent:()=>mE,ComponentsIndex:()=>bE,ComponentsList:()=>yE,MissingPage:()=>jE,OnePageWebsite:()=>HP,SliderComponent:()=>TE,TheProject:()=>VE,UseCasesIndex:()=>qP,UseCasesList:()=>QP,WelcomePage:()=>mP});var f={};n.r(f),n.d(f,{default:()=>tO,dependencies:()=>eO,name:()=>ZP,register:()=>iO,template:()=>JP});var v=n(379),m=n.n(v),b=n(619);function y(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}m()(b.Z,{insert:"head",singleton:!1}),b.Z.locals;const w=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==n.g)return n.g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(t){return{}}}();void 0===w.trustedTypes&&(w.trustedTypes={createPolicy:(t,e)=>e});const x=Object.freeze([]),k=[],C=w.trustedTypes.createPolicy("fast-html",{createHTML:t=>t});let S=C;function $(){let t=0;for(;t<k.length;)if(k[t].call(),t++,t>1024){for(let e=0,n=k.length-t;e<n;e++)k[e]=k[e+t];k.length-=t,t=0}k.length=0}const T=`fast-${Math.random().toString(36).substring(2,8)}`,A=`${T}{`,E=`}${T}`,P=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if(S!==C)throw new Error("The HTML policy can only be set once.");S=t},createHTML:t=>S.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(T),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${T}:`,"")),createInterpolationPlaceholder:t=>`${A}${t}${E}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${T}:${t}--\x3e`,queueUpdate(t){k.length<1&&window.requestAnimationFrame($),k.push(t)},nextUpdate:()=>new Promise((t=>{P.queueUpdate(t)})),setAttribute(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},setBooleanAttribute(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null,!1)});function O(t){const e=this.spillover;-1===e.indexOf(t)&&e.push(t)}function R(t){const e=this.spillover,n=e.indexOf(t);-1!==n&&e.splice(n,1)}function I(t){const e=this.spillover,n=this.source;for(let i=0,s=e.length;i<s;++i)e[i].handleChange(n,t)}function j(t){return-1!==this.spillover.indexOf(t)}class F{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return this.sub1===t||this.sub2===t}subscribe(t){this.has(t)||(void 0!==this.sub1?void 0!==this.sub2?(this.spillover=[this.sub1,this.sub2,t],this.subscribe=O,this.unsubscribe=R,this.notify=I,this.has=j,this.sub1=void 0,this.sub2=void 0):this.sub2=t:this.sub1=t)}unsubscribe(t){this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0)}notify(t){const e=this.sub1,n=this.sub2,i=this.source;void 0!==e&&e.handleChange(i,t),void 0!==n&&n.handleChange(i,t)}}class L{constructor(t){this.subscribers={},this.source=t}notify(t){const e=this.subscribers[t];void 0!==e&&e.notify(t)}subscribe(t,e){let n=this.subscribers[e];void 0===n&&(this.subscribers[e]=n=new F(this.source)),n.subscribe(t)}unsubscribe(t,e){const n=this.subscribers[e];void 0!==n&&n.unsubscribe(t)}}const N=/(:|&&|\|\||if)/,D=new WeakMap,M=new WeakMap;let B,V=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")};class H{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==B&&B.watch(t,this.name),t[this.field]}setValue(t,e){const n=this.field,i=t[n];if(i!==e){t[n]=e;const s=t[this.callback];"function"==typeof s&&s.call(t,i,e),U(t).notify(this.name)}}}const q=Object.freeze({setArrayObserverFactory(t){V=t},getNotifier(t){let e=t.$fastController||D.get(t);return void 0===e&&(Array.isArray(t)?e=V(t):D.set(t,e=new L(t))),e},track(t,e){void 0!==B&&B.watch(t,e)},trackVolatile(){void 0!==B&&(B.needsRefresh=!0)},notify(t,e){U(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new H(e)),this.getAccessors(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors(t){let e=M.get(t);if(void 0===e){let n=Reflect.getPrototypeOf(t);for(;void 0===e&&null!==n;)e=M.get(n),n=Reflect.getPrototypeOf(n);e=void 0===e?[]:e.slice(0),M.set(t,e)}return e},binding(t,e,n=this.isVolatileBinding(t)){return new Y(t,e,n)},isVolatileBinding:t=>N.test(t.toString())}),U=q.getNotifier,z=(q.trackVolatile,P.queueUpdate);function _(t,e){q.defineProperty(t,e)}let W=null;function K(t){W=t}class G{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return W}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}}q.defineProperty(G.prototype,"index"),q.defineProperty(G.prototype,"length");const Q=Object.seal(new G);class Y extends F{constructor(t,e,n=!1){super(t,e),this.binding=t,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect();const n=B;B=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const i=this.binding(t,e);return B=n,i}disconnect(){if(null!==this.last){let t=this.first;for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const n=this.last,i=U(t),s=null===n?this.first:{};if(s.propertySource=t,s.propertyName=e,s.notifier=i,i.subscribe(this,e),null!==n){if(!this.needsRefresh){B=void 0;const e=n.propertySource[n.propertyName];B=this,t===e&&(this.needsRefresh=!0)}n.next=s}this.last=s}handleChange(){this.needsQueue&&(this.needsQueue=!1,z(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}}const X={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t},Z={toView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e.toString()},fromView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e}};class J{constructor(t,e,n=e.toLowerCase(),i="reflect",s){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=n,this.mode=i,this.converter=s,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===i&&void 0===s&&(this.converter=X)}setValue(t,e){const n=t[this.fieldName],i=this.converter;void 0!==i&&(e=i.fromView(e)),n!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](n,e),t.$fastController.notify(this.name))}getValue(t){return q.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,n=this.guards;n.has(t)||"fromView"===e||P.queueUpdate((()=>{n.add(t);const i=t[this.fieldName];switch(e){case"reflect":const e=this.converter;P.setAttribute(t,this.attribute,void 0!==e?e.toView(i):i);break;case"boolean":P.setBooleanAttribute(t,this.attribute,i)}n.delete(t)}))}static collect(t,...e){const n=[];e.push(t.attributes);for(let i=0,s=e.length;i<s;++i){const s=e[i];if(void 0!==s)for(let e=0,i=s.length;e<i;++e){const i=s[e];"string"==typeof i?n.push(new J(t,i)):n.push(new J(t,i.property,i.attribute,i.mode,i.converter))}}return n}}function tt(t,e){let n;function i(t,e){arguments.length>1&&(n.property=e);const i=t.constructor.attributes||(t.constructor.attributes=[]);i.push(n)}return arguments.length>1?(n={},void i(t,e)):(n=void 0===t?{}:t,i)}const et=new Map;class nt{constructor(){this.targets=new WeakSet,this.behaviors=null}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}withKey(t){return et.set(t,this),this}static find(t){return et.get(t)||null}}function it(t){return t.map((t=>t instanceof nt?it(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function st(t){return t.map((t=>t instanceof nt?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}nt.create=(()=>{if(P.supportsAdoptedStyleSheets){const t=new Map;return e=>new rt(e,t)}return t=>new at(t)})();class rt extends nt{constructor(t,e){super(),this.styles=t,this.behaviors=null,this.behaviors=st(t),this.styleSheets=it(t).map((t=>{if(t instanceof CSSStyleSheet)return t;let n=e.get(t);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(t),e.set(t,n)),n}))}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const e=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t))),super.removeStylesFrom(t)}}let ot=0;class at extends nt{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=st(t),this.styleSheets=it(t),this.styleClass="fast-style-class-"+ ++ot}addStylesTo(t){const e=this.styleSheets,n=this.styleClass;t=this.normalizeTarget(t);for(let i=e.length-1;i>-1;--i){const s=document.createElement("style");s.innerHTML=e[i],s.className=n,t.prepend(s)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`);for(let n=0,i=e.length;n<i;++n)t.removeChild(e[n]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const lt={mode:"open"},ct={},ht=new Map;class ut{constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const n=J.collect(t,e.attributes),i=new Array(n.length),s={},r={};for(let t=0,e=n.length;t<e;++t){const e=n[t];i[t]=e.attribute,s[e.name]=e,r[e.attribute]=e}this.attributes=n,this.observedAttributes=i,this.propertyLookup=s,this.attributeLookup=r,this.shadowOptions=void 0===e.shadowOptions?lt:null===e.shadowOptions?void 0:Object.assign(Object.assign({},lt),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?ct:Object.assign(Object.assign({},ct),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?nt.create(e.styles):e.styles instanceof nt?e.styles:nt.create([e.styles])}define(t=customElements){const e=this.type;if(!this.isDefined){const t=this.attributes,n=e.prototype;for(let e=0,i=t.length;e<i;++e)q.defineProperty(n,t[e]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0}),ht.set(e,this),this.isDefined=!0}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}static forType(t){return ht.get(t)}}const dt=new WeakMap,pt={bubbles:!0,composed:!0};function gt(t){return t.shadowRoot||dt.get(t)||null}class ft extends L{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this.view=null,this.isConnected=!1,this.element=t,this.definition=e;const n=e.shadowOptions;if(void 0!==n){const e=t.attachShadow(n);"closed"===n.mode&&dt.set(t,e)}const i=q.getAccessors(t);if(i.length>0){const e=this.boundObservables=Object.create(null);for(let n=0,s=i.length;n<s;++n){const s=i[n].name,r=t[s];void 0!==r&&(delete t[s],e[s]=r)}}}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}addStyles(t){const e=gt(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.prepend(t);else if(!t.isAttachedTo(e)){const n=t.behaviors;t.addStylesTo(e),null!==n&&this.addBehaviors(n)}}removeStyles(t){const e=gt(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const n=t.behaviors;t.removeStylesFrom(e),null!==n&&this.removeBehaviors(n)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),n=t.length,i=[];for(let s=0;s<n;++s){const n=t[s];e.has(n)?e.set(n,e.get(n)+1):(e.set(n,1),i.push(n))}if(this.isConnected){const t=this.element;for(let e=0;e<i.length;++e)i[e].bind(t,Q)}}removeBehaviors(t,e=!1){const n=this.behaviors;if(null===n)return;const i=t.length,s=[];for(let r=0;r<i;++r){const i=t[r];if(n.has(i)){const t=n.get(i)-1;0===t||e?n.delete(i)&&s.push(i):n.set(i,t)}}if(this.isConnected){const t=this.element;for(let e=0;e<s.length;++e)s[e].unbind(t)}}onConnectedCallback(){if(this.isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,Q);const e=this.behaviors;if(null!==e)for(const[n]of e)n.bind(t,Q);this.isConnected=!0}onDisconnectedCallback(){if(!1===this.isConnected)return;this.isConnected=!1;const t=this.view;null!==t&&t.unbind();const e=this.behaviors;if(null!==e){const t=this.element;for(const[n]of e)n.unbind(t)}}onAttributeChangedCallback(t,e,n){const i=this.definition.attributeLookup[t];void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(t,e,n){return!!this.isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},pt),n)))}finishInitialization(){const t=this.element,e=this.boundObservables;if(null!==e){const n=Object.keys(e);for(let i=0,s=n.length;i<s;++i){const s=n[i];t[s]=e[s]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,n=gt(e)||e;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||P.removeChildNodes(n),t&&(this.view=t.render(e,n,e))}static forCustomElement(t){const e=t.$fastController;if(void 0!==e)return e;const n=ut.forType(t.constructor);if(void 0===n)throw new Error("Missing FASTElement definition.");return t.$fastController=new ft(t,n)}}function vt(t){return class extends t{constructor(){super(),ft.forCustomElement(this)}$emit(t,e,n){return this.$fastController.emit(t,e,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,n){this.$fastController.onAttributeChangedCallback(t,e,n)}}}!function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([_],ft.prototype,"isConnected",void 0);const mt=Object.assign(vt(HTMLElement),{from:t=>vt(t),define:(t,e)=>new ut(t,e).define().type});function bt(t){return function(e){new ut(e,t).define()}}class yt{}y([tt({attribute:"aria-atomic",mode:"fromView"})],yt.prototype,"ariaAtomic",void 0),y([tt({attribute:"aria-busy",mode:"fromView"})],yt.prototype,"ariaBusy",void 0),y([tt({attribute:"aria-controls",mode:"fromView"})],yt.prototype,"ariaControls",void 0),y([tt({attribute:"aria-current",mode:"fromView"})],yt.prototype,"ariaCurrent",void 0),y([tt({attribute:"aria-describedby",mode:"fromView"})],yt.prototype,"ariaDescribedby",void 0),y([tt({attribute:"aria-details",mode:"fromView"})],yt.prototype,"ariaDetails",void 0),y([tt({attribute:"aria-disabled",mode:"fromView"})],yt.prototype,"ariaDisabled",void 0),y([tt({attribute:"aria-errormessage",mode:"fromView"})],yt.prototype,"ariaErrormessage",void 0),y([tt({attribute:"aria-flowto",mode:"fromView"})],yt.prototype,"ariaFlowto",void 0),y([tt({attribute:"aria-haspopup",mode:"fromView"})],yt.prototype,"ariaHaspopup",void 0),y([tt({attribute:"aria-hidden",mode:"fromView"})],yt.prototype,"ariaHidden",void 0),y([tt({attribute:"aria-invalid",mode:"fromView"})],yt.prototype,"ariaInvalid",void 0),y([tt({attribute:"aria-keyshortcuts",mode:"fromView"})],yt.prototype,"ariaKeyshortcuts",void 0),y([tt({attribute:"aria-label",mode:"fromView"})],yt.prototype,"ariaLabel",void 0),y([tt({attribute:"aria-labelledby",mode:"fromView"})],yt.prototype,"ariaLabelledby",void 0),y([tt({attribute:"aria-live",mode:"fromView"})],yt.prototype,"ariaLive",void 0),y([tt({attribute:"aria-owns",mode:"fromView"})],yt.prototype,"ariaOwns",void 0),y([tt({attribute:"aria-relevant",mode:"fromView"})],yt.prototype,"ariaRelevant",void 0),y([tt({attribute:"aria-roledescription",mode:"fromView"})],yt.prototype,"ariaRoledescription",void 0);class wt{constructor(){this.targetIndex=0}}class xt extends wt{constructor(){super(...arguments),this.createPlaceholder=P.createInterpolationPlaceholder}}class kt extends wt{constructor(t,e,n){super(),this.name=t,this.behavior=e,this.options=n}createPlaceholder(t){return P.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function Ct(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=q.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function St(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function $t(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Tt(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function At(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Et(t){P.setAttribute(this.target,this.targetName,t)}function Pt(t){P.setBooleanAttribute(this.target,this.targetName,t)}function Ot(t){if(null==t&&(t=""),t.create){this.target.textContent="";let e=this.target.$fastView;void 0===e?e=t.create():this.target.$fastTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=t)}else{const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function Rt(t){this.target[this.targetName]=t}function It(t){const e=this.classVersions||Object.create(null),n=this.target;let i=this.version||0;if(null!=t&&t.length){const s=t.split(/\s+/);for(let t=0,r=s.length;t<r;++t){const r=s[t];""!==r&&(e[r]=i,n.classList.add(r))}}if(this.classVersions=e,this.version=i+1,0!==i){i-=1;for(const t in e)e[t]===i&&n.classList.remove(t)}}class jt extends xt{constructor(t){super(),this.binding=t,this.bind=Ct,this.unbind=$t,this.updateTarget=Et,this.isBindingVolatile=q.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Rt,"innerHTML"===this.cleanedTargetName){const t=this.binding;this.binding=(e,n)=>P.createHTML(t(e,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=Pt;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=St,this.unbind=At;break;default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=It)}}targetAtContent(){this.updateTarget=Ot,this.unbind=Tt}createBehavior(t){return new Ft(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Ft{constructor(t,e,n,i,s,r,o){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=n,this.bind=i,this.unbind=s,this.updateTarget=r,this.targetName=o}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){K(t);const e=this.binding(this.source,this.context);K(null),!0!==e&&t.preventDefault()}}let Lt=null;class Nt{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){Lt=this}static borrow(t){const e=Lt||new Nt;return e.directives=t,e.reset(),Lt=null,e}}function Dt(t){if(1===t.length)return t[0];let e;const n=t.length,i=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),s=new jt(((t,e)=>{let s="";for(let r=0;r<n;++r)s+=i[r](t,e);return s}));return s.targetName=e,s}const Mt=E.length;function Bt(t,e){const n=e.split(A);if(1===n.length)return null;const i=[];for(let e=0,s=n.length;e<s;++e){const s=n[e],r=s.indexOf(E);let o;if(-1===r)o=s;else{const e=parseInt(s.substring(0,r));i.push(t.directives[e]),o=s.substring(r+Mt)}""!==o&&i.push(o)}return i}function Vt(t,e,n=!1){const i=e.attributes;for(let s=0,r=i.length;s<r;++s){const o=i[s],a=o.value,l=Bt(t,a);let c=null;null===l?n&&(c=new jt((()=>a)),c.targetName=o.name):c=Dt(l),null!==c&&(e.removeAttributeNode(o),s--,r--,t.addFactory(c))}}function Ht(t,e,n){const i=Bt(t,e.textContent);if(null!==i){let s=e;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=0===r?e:s.parentNode.insertBefore(document.createTextNode(""),s.nextSibling);"string"==typeof o?a.textContent=o:(a.textContent=" ",t.captureContentBinding(o)),s=a,t.targetIndex++,a!==e&&n.nextNode()}t.targetIndex--}}const qt=document.createRange();class Ut{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=t.parentNode,n=this.lastChild;let i,s=this.firstChild;for(;s!==n;)i=s.nextSibling,e.insertBefore(s,t),s=i;e.insertBefore(n,t)}}remove(){const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n;t.removeChild(e);const s=this.behaviors,r=this.source;for(let t=0,e=s.length;t<e;++t)s[t].unbind(r)}bind(t,e){const n=this.behaviors;if(this.source!==t)if(null!==this.source){const i=this.source;this.source=t,this.context=e;for(let s=0,r=n.length;s<r;++s){const r=n[s];r.unbind(i),r.bind(t,e)}}else{this.source=t,this.context=e;for(let i=0,s=n.length;i<s;++i)n[i].bind(t,e)}}unbind(){if(null===this.source)return;const t=this.behaviors,e=this.source;for(let n=0,i=t.length;n<i;++n)t[n].unbind(e);this.source=null}static disposeContiguousBatch(t){if(0!==t.length){qt.setStartBefore(t[0].firstChild),qt.setEndAfter(t[t.length-1].lastChild),qt.deleteContents();for(let e=0,n=t.length;e<n;++e){const n=t[e],i=n.behaviors,s=n.source;for(let t=0,e=i.length;t<e;++t)i[t].unbind(s)}}}}class zt{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t;const e=this.html;if("string"==typeof e){t=document.createElement("template"),t.innerHTML=P.createHTML(e);const n=t.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(t=n)}else t=e;const n=function(t,e){const n=t.content;document.adoptNode(n);const i=Nt.borrow(e);Vt(i,t,!0);const s=i.behaviorFactories;i.reset();const r=P.createTemplateWalker(n);let o;for(;o=r.nextNode();)switch(i.targetIndex++,o.nodeType){case 1:Vt(i,o);break;case 3:Ht(i,o,r);break;case 8:P.isMarker(o)&&i.addFactory(e[P.extractDirectiveIndexFromMarker(o)])}let a=0;(P.isMarker(n.firstChild)||1===n.childNodes.length&&e.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1);const l=i.behaviorFactories;return i.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:s,targetOffset:a}}(t,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),s=P.createTemplateWalker(e);let r=0,o=this.targetOffset,a=s.nextNode();for(let t=n.length;r<t;++r){const t=n[r],e=t.targetIndex;for(;null!==a;){if(o===e){i[r]=t.createBehavior(a);break}a=s.nextNode(),o++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories;for(let n=0,s=e.length;n<s;++n,++r)i[r]=e[n].createBehavior(t)}return new Ut(e,i)}render(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),void 0===n&&(n=e);const i=this.create(n);return i.bind(t,Q),i.appendTo(e),i}}const _t=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Wt(t,...e){const n=[];let i="";for(let s=0,r=t.length-1;s<r;++s){const r=t[s];let o=e[s];if(i+=r,o instanceof zt){const t=o;o=()=>t}if("function"==typeof o&&(o=new jt(o)),o instanceof xt){const t=_t.exec(r);null!==t&&(o.targetName=t[2])}o instanceof wt?(i+=o.createPlaceholder(n.length),n.push(o)):i+=o}return i+=t[t.length-1],new zt(i,n)}class Kt{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function Gt(t){return new kt("fast-ref",Kt,t)}class Qt{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const Yt=Wt`
    <span part="end" ${Gt("endContainer")}>
        <slot
            name="end"
            ${Gt("end")}
            @slotchange="${t=>t.handleEndContentChange()}"
        ></slot>
    </span>
`,Xt=Wt`
    <span part="start" ${Gt("startContainer")}>
        <slot
            name="start"
            ${Gt("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        ></slot>
    </span>
`;function Zt(t,...e){e.forEach((e=>{if(Object.getOwnPropertyNames(e.prototype).forEach((n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})),e.attributes){const n=t.attributes||[];t.attributes=n.concat(e.attributes)}}))}class Jt extends mt{}y([tt],Jt.prototype,"download",void 0),y([tt],Jt.prototype,"href",void 0),y([tt],Jt.prototype,"hreflang",void 0),y([tt],Jt.prototype,"ping",void 0),y([tt],Jt.prototype,"referrerpolicy",void 0),y([tt],Jt.prototype,"rel",void 0),y([tt],Jt.prototype,"target",void 0),y([tt],Jt.prototype,"type",void 0),y([_],Jt.prototype,"defaultSlottedContent",void 0);class te{}y([tt({attribute:"aria-expanded",mode:"fromView"})],te.prototype,"ariaExpanded",void 0),Zt(te,yt),Zt(Jt,Qt,te);class ee extends class{constructor(t,e){this.target=t,this.options=e,this.source=null}bind(t){const e=this.options.property;this.shouldUpdate=q.getAccessors(t).some((t=>t.name===e)),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(x),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return void 0!==this.options.filter&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}{constructor(t,e){super(t,e)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function ne(t){return"string"==typeof t&&(t={property:t}),new kt("fast-slotted",ee,t)}const ie=Wt`
    <a
        class="control"
        part="control"
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Gt("control")}
    >
        ${Xt}
        <span class="content" part="content">
            <slot ${ne("defaultSlottedContent")}></slot>
        </span>
        ${Yt}
    </a>
`;class se{createCSS(){return""}createBehavior(){}}function re(t,...e){const n=[];let i="";const s=[];for(let r=0,o=t.length-1;r<o;++r){i+=t[r];let o=e[r];if(o instanceof se){const t=o.createBehavior();o=o.createCSS(),t&&s.push(t)}o instanceof nt||o instanceof CSSStyleSheet?(""!==i.trim()&&(n.push(i),i=""),n.push(o)):i+=o}i+=t[t.length-1],""!==i.trim()&&n.push(i);const r=nt.create(n);return s.length&&r.withBehaviors(...s),r}function oe(t){return`:host([hidden]){display:none}:host{display:${t}}`}const ae="object"==typeof global&&global&&global.Object===Object&&global;var le="object"==typeof self&&self&&self.Object===Object&&self;const ce=ae||le||Function("return this")(),he=ce.Symbol;var ue=Object.prototype,de=ue.hasOwnProperty,pe=ue.toString,ge=he?he.toStringTag:void 0;var fe=Object.prototype.toString;var ve=he?he.toStringTag:void 0;const me=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ve&&ve in Object(t)?function(t){var e=de.call(t,ge),n=t[ge];try{t[ge]=void 0;var i=!0}catch(t){}var s=pe.call(t);return i&&(e?t[ge]=n:delete t[ge]),s}(t):function(t){return fe.call(t)}(t)},be=function(t){return null!=t&&"object"==typeof t};let ye;const we=function(){if(!0===(t=ye)||!1===t||be(t)&&"[object Boolean]"==me(t))return ye;var t;if("undefined"==typeof window||!window.document||!window.document.createElement)return ye=!1,ye;const e=document.createElement("style"),n=function(){const t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}();null!==n&&e.setAttribute("nonce",n),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),ye=!0}catch(t){ye=!1}finally{document.head.removeChild(e)}return ye}()?"focus-visible":"focus",xe="not-allowed";class ke extends class{constructor(t){this.listenerCache=new WeakMap,this.query=t}bind(t){const{query:e}=this,n=this.constructListener(t);n.bind(e)(),e.addListener(n),this.listenerCache.set(t,n)}unbind(t){const e=this.listenerCache.get(t);e&&(this.query.removeListener(e),this.listenerCache.delete(t))}}{constructor(t,e){super(t),this.styles=e}static with(t){return e=>new ke(t,e)}constructListener(t){let e=!1;const n=this.styles;return function(){const{matches:i}=this;i&&!e?(t.$fastController.addStyles(n),e=i):!i&&e&&(t.$fastController.removeStyles(n),e=i)}}unbind(t){super.unbind(t),t.$fastController.removeStyles(this.styles)}}const Ce=ke.with(window.matchMedia("(forced-colors)"));var Se;ke.with(window.matchMedia("(prefers-color-scheme: dark)")),ke.with(window.matchMedia("(prefers-color-scheme: light)")),function(t){t.Canvas="Canvas",t.CanvasText="CanvasText",t.LinkText="LinkText",t.VisitedText="VisitedText",t.ActiveText="ActiveText",t.ButtonFace="ButtonFace",t.ButtonText="ButtonText",t.Field="Field",t.FieldText="FieldText",t.Highlight="Highlight",t.HighlightText="HighlightText",t.GrayText="GrayText"}(Se||(Se={}));const $e="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)";class Te{constructor(t,e,n){this.name=t,this.value=e,this.host=n,this.propertyName=`--${t}`,this.var=`var(${this.propertyName})`}bind(t){const e=this.host(t);null!==e&&("function"==typeof e.registerCSSCustomProperty?e.registerCSSCustomProperty(this):(Array.isArray(e.disconnectedCSSCustomPropertyRegistry)||(e.disconnectedCSSCustomPropertyRegistry=[]),e.disconnectedCSSCustomPropertyRegistry.push(this)))}unbind(t){const e=this.host(t);null!==e&&"function"==typeof e.unregisterCSSCustomProperty&&e.unregisterCSSCustomProperty(this)}}function Ae(t,e,n){return new Te(t,e,n)}var Ee;!function(t){t.ltr="ltr",t.rtl="rtl"}(Ee||(Ee={}));const Pe={typeRampMinus2FontSize:"10px",typeRampMinus2LineHeight:"16px",typeRampMinus1FontSize:"12px",typeRampMinus1LineHeight:"16px",typeRampBaseFontSize:"14px",typeRampBaseLineHeight:"20px",typeRampPlus1FontSize:"16px",typeRampPlus1LineHeight:"24px",typeRampPlus2FontSize:"20px",typeRampPlus2LineHeight:"28px",typeRampPlus3FontSize:"28px",typeRampPlus3LineHeight:"36px",typeRampPlus4FontSize:"34px",typeRampPlus4LineHeight:"44px",typeRampPlus5FontSize:"46px",typeRampPlus5LineHeight:"56px",typeRampPlus6FontSize:"60px",typeRampPlus6LineHeight:"72px",accentBaseColor:"#DA1A5F",accentPalette:["#FFFFFF","#FEFBFC","#FEF7FA","#FDF4F7","#FDF0F5","#FCECF2","#FBE8EF","#FBE5ED","#FAE1EA","#FADDE7","#F9D9E5","#F8D6E2","#F8D2E0","#F7CEDD","#F7CADA","#F6C7D8","#F5C3D5","#F5BFD2","#F4BBD0","#F3B8CD","#F3B4CB","#F2B0C8","#F2ACC5","#F1A9C3","#F0A5C0","#F0A1BD","#EF9DBB","#EF9AB8","#EE96B6","#ED92B3","#ED8EB0","#EC8BAE","#EC87AB","#EB83A8","#EA7FA6","#EA7CA3","#E978A1","#E9749E","#E8709B","#E76D99","#E76996","#E66593","#E66191","#E55E8E","#E45A8C","#E45689","#E35286","#E24F84","#E24B81","#E1477E","#E1437C","#E04079","#DF3C77","#DF3874","#DE3471","#DE316F","#DD2D6C","#DC2969","#DC2567","#DB2264","#DB1E62","#DA1A5F","#D4195C","#CD1859","#C71857","#C01754","#BA1651","#B3154E","#AD154B","#A71449","#A01346","#9A1243","#931240","#8D113D","#86103B","#800F38","#7A0F35","#730E32","#6D0D2F","#660C2D","#600B2A","#590B27","#530A24","#4D0921","#46081F","#40081C","#3B071A","#350617","#300615","#2B0513","#260511","#21040E","#1C030C","#000000"],backgroundColor:"#181818",baseHeightMultiplier:10,baseHorizontalSpacingMultiplier:3,cornerRadius:3,density:0,designUnit:4,direction:Ee.ltr,disabledOpacity:.3,focusOutlineWidth:2,neutralPalette:["#FFFFFF","#FCFCFC","#FAFAFA","#F7F7F7","#F5F5F5","#F2F2F2","#EFEFEF","#EDEDED","#EAEAEA","#E8E8E8","#E5E5E5","#E2E2E2","#E0E0E0","#DDDDDD","#DBDBDB","#D8D8D8","#D6D6D6","#D3D3D3","#D0D0D0","#CECECE","#CBCBCB","#C9C9C9","#C6C6C6","#C3C3C3","#C1C1C1","#BEBEBE","#BCBCBC","#B9B9B9","#B6B6B6","#B4B4B4","#B1B1B1","#AFAFAF","#ACACAC","#A9A9A9","#A7A7A7","#A4A4A4","#A2A2A2","#9F9F9F","#9D9D9D","#9A9A9A","#979797","#959595","#929292","#909090","#8D8D8D","#8A8A8A","#888888","#858585","#838383","#808080","#7D7D7D","#7B7B7B","#787878","#767676","#737373","#717171","#6E6E6E","#6B6B6B","#696969","#666666","#646464","#616161","#5F5F5F","#5C5C5C","#5A5A5A","#575757","#545454","#525252","#4F4F4F","#4D4D4D","#4A4A4A","#484848","#454545","#424242","#404040","#3D3D3D","#3B3B3B","#383838","#363636","#333333","#313131","#2E2E2E","#2B2B2B","#292929","#262626","#242424","#212121","#1E1E1E","#1B1B1B","#181818","#151515","#121212","#101010","#000000"],outlineWidth:1,accentFillRestDelta:0,accentFillHoverDelta:4,accentFillActiveDelta:-5,accentFillFocusDelta:0,accentFillSelectedDelta:12,accentForegroundRestDelta:0,accentForegroundHoverDelta:6,accentForegroundActiveDelta:-4,accentForegroundFocusDelta:0,neutralFillRestDelta:7,neutralFillHoverDelta:10,neutralFillActiveDelta:5,neutralFillFocusDelta:0,neutralFillSelectedDelta:7,neutralFillInputRestDelta:0,neutralFillInputHoverDelta:0,neutralFillInputActiveDelta:0,neutralFillInputFocusDelta:0,neutralFillInputSelectedDelta:0,neutralFillStealthRestDelta:0,neutralFillStealthHoverDelta:5,neutralFillStealthActiveDelta:3,neutralFillStealthFocusDelta:0,neutralFillStealthSelectedDelta:7,neutralFillToggleHoverDelta:8,neutralFillToggleActiveDelta:-5,neutralFillToggleFocusDelta:0,baseLayerLuminance:-1,neutralFillCardDelta:3,neutralForegroundHoverDelta:0,neutralForegroundActiveDelta:0,neutralForegroundFocusDelta:0,neutralDividerRestDelta:8,neutralOutlineRestDelta:25,neutralOutlineHoverDelta:40,neutralOutlineActiveDelta:16,neutralOutlineFocusDelta:25,neutralContrastFillRestDelta:0,neutralContrastFillHoverDelta:-3,neutralContrastFillActiveDelta:7,neutralContrastFillFocusDelta:0};function Oe(t,e){return"function"==typeof t?t(e):t}function Re(t){return e=>e&&void 0!==e[t]?e[t]:Pe[t]}const Ie=Re("backgroundColor"),je=Re("accentBaseColor"),Fe=(Re("cornerRadius"),Re("neutralPalette")),Le=Re("accentPalette"),Ne=(Re("designUnit"),Re("baseHeightMultiplier"),Re("baseHorizontalSpacingMultiplier"),Re("outlineWidth"),Re("focusOutlineWidth"),Re("disabledOpacity"),Re("direction"),Re("accentFillRestDelta"),Re("accentFillHoverDelta")),De=Re("accentFillActiveDelta"),Me=Re("accentFillFocusDelta"),Be=Re("accentFillSelectedDelta"),Ve=Re("accentForegroundRestDelta"),He=Re("accentForegroundHoverDelta"),qe=Re("accentForegroundActiveDelta"),Ue=Re("accentForegroundFocusDelta"),ze=Re("neutralFillRestDelta"),_e=Re("neutralFillHoverDelta"),We=Re("neutralFillActiveDelta"),Ke=Re("neutralFillFocusDelta"),Ge=Re("neutralFillSelectedDelta"),Qe=Re("neutralFillInputRestDelta"),Ye=Re("neutralFillInputHoverDelta"),Xe=Re("neutralFillInputActiveDelta"),Ze=Re("neutralFillInputFocusDelta"),Je=Re("neutralFillInputSelectedDelta"),tn=Re("neutralFillStealthRestDelta"),en=Re("neutralFillStealthHoverDelta"),nn=Re("neutralFillStealthActiveDelta"),sn=Re("neutralFillStealthFocusDelta"),rn=Re("neutralFillStealthSelectedDelta"),on=Re("neutralFillToggleHoverDelta"),an=Re("neutralFillToggleActiveDelta"),ln=Re("neutralFillToggleFocusDelta"),cn=Re("baseLayerLuminance"),hn=Re("neutralFillCardDelta"),un=Re("neutralForegroundHoverDelta"),dn=Re("neutralForegroundActiveDelta"),pn=Re("neutralForegroundFocusDelta"),gn=Re("neutralDividerRestDelta"),fn=Re("neutralOutlineRestDelta"),vn=Re("neutralOutlineHoverDelta"),mn=Re("neutralOutlineActiveDelta"),bn=Re("neutralOutlineFocusDelta"),yn=(Re("neutralContrastFillRestDelta"),Re("neutralContrastFillHoverDelta")),wn=Re("neutralContrastFillActiveDelta"),xn=Re("neutralContrastFillFocusDelta");function kn(t,e,n){return isNaN(t)||t<=e?e:t>=n?n:t}function Cn(t,e,n){return isNaN(t)||t<=e?0:t>=n?1:t/(n-e)}function Sn(t,e,n){return isNaN(t)?e:e+t*(n-e)}function $n(t){return t*(Math.PI/180)}function Tn(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:e+t*(n-e)}function An(t,e,n){if(t<=0)return e%360;if(t>=1)return n%360;const i=(e-n+360)%360;return i<=(n-e+360)%360?(e-i*t+360)%360:(e+i*t+360)%360}function En(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}Math.PI;class Pn{constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a="number"!=typeof i||isNaN(i)?1:i}static fromObject(t){return!t||isNaN(t.r)||isNaN(t.g)||isNaN(t.b)?null:new Pn(t.r,t.g,t.b,t.a)}equalValue(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(Sn(this.r,0,255))},${Math.round(Sn(this.g,0,255))},${Math.round(Sn(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(Sn(this.r,0,255))},${Math.round(Sn(this.g,0,255))},${Math.round(Sn(this.b,0,255))},${kn(this.a,0,1)})`}roundToPrecision(t){return new Pn(En(this.r,t),En(this.g,t),En(this.b,t),En(this.a,t))}clamp(){return new Pn(kn(this.r,0,1),kn(this.g,0,1),kn(this.b,0,1),kn(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(t){return function(t){const e=Math.round(kn(t,0,255)).toString(16);return 1===e.length?"0"+e:e}(Sn(t,0,255))}}const On={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},Rn=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,In=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,jn=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,Fn=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;function Ln(t){return jn.test(t)}function Nn(t){return Rn.test(t)}function Dn(t){const e=jn.exec(t);if(null===e)return null;let n=e[1];if(3===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2);n=t.concat(t,e,e,i,i)}const i=parseInt(n,16);return isNaN(i)?null:new Pn(Cn((16711680&i)>>>16,0,255),Cn((65280&i)>>>8,0,255),Cn(255&i,0,255),1)}function Mn(t){const e=Rn.exec(t);if(null===e)return null;const n=e[1].split(",");return new Pn(Cn(Number(n[0]),0,255),Cn(Number(n[1]),0,255),Cn(Number(n[2]),0,255),1)}function Bn(t){const e=t.toLowerCase();return Ln(e)?Dn(e):function(t){return function(t){return Fn.test(t)}(t)}(e)?function(t){const e=Fn.exec(t);if(null===e)return null;let n=e[1];if(4===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2),s=n.charAt(3);n=t.concat(t,e,e,i,i,s,s)}const i=parseInt(n,16);return isNaN(i)?null:new Pn(Cn((16711680&i)>>>16,0,255),Cn((65280&i)>>>8,0,255),Cn(255&i,0,255),Cn((4278190080&i)>>>24,0,255))}(e):Nn(e)?Mn(e):function(t){return In.test(t)}(e)?function(t){const e=In.exec(t);if(null===e)return null;const n=e[1].split(",");return 4===n.length?new Pn(Cn(Number(n[0]),0,255),Cn(Number(n[1]),0,255),Cn(Number(n[2]),0,255),Number(n[3])):null}(e):function(t){return On.hasOwnProperty(t)}(e)?function(t){const e=On[t.toLowerCase()];return e?new Pn(e.r,e.g,e.b,e.hasOwnProperty("a")?e.a:void 0):null}(e):null}class Vn{constructor(t,e,n){this.h=t,this.s=e,this.l=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.l)?null:new Vn(t.h,t.s,t.l)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.l===t.l}roundToPrecision(t){return new Vn(En(this.h,t),En(this.s,t),En(this.l,t))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class Hn{constructor(t,e,n){this.h=t,this.s=e,this.v=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.v)?null:new Hn(t.h,t.s,t.v)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.v===t.v}roundToPrecision(t){return new Hn(En(this.h,t),En(this.s,t),En(this.v,t))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class qn{constructor(t,e,n){this.l=t,this.a=e,this.b=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.a)||isNaN(t.b)?null:new qn(t.l,t.a,t.b)}equalValue(t){return this.l===t.l&&this.a===t.a&&this.b===t.b}roundToPrecision(t){return new qn(En(this.l,t),En(this.a,t),En(this.b,t))}toObject(){return{l:this.l,a:this.a,b:this.b}}}qn.epsilon=216/24389,qn.kappa=24389/27;class Un{constructor(t,e,n){this.l=t,this.c=e,this.h=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.c)||isNaN(t.h)?null:new Un(t.l,t.c,t.h)}equalValue(t){return this.l===t.l&&this.c===t.c&&this.h===t.h}roundToPrecision(t){return new Un(En(this.l,t),En(this.c,t),En(this.h,t))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class zn{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromObject(t){return!t||isNaN(t.x)||isNaN(t.y)||isNaN(t.z)?null:new zn(t.x,t.y,t.z)}equalValue(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}roundToPrecision(t){return new zn(En(this.x,t),En(this.y,t),En(this.z,t))}toObject(){return{x:this.x,y:this.y,z:this.z}}}function _n(t){return.2126*t.r+.7152*t.g+.0722*t.b}function Wn(t){function e(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return _n(new Pn(e(t.r),e(t.g),e(t.b),1))}zn.whitePoint=new zn(.95047,1,1.08883);const Kn=(t,e)=>(t+.05)/(e+.05);function Gn(t,e){const n=Wn(t),i=Wn(e);return n>i?Kn(n,i):Kn(i,n)}function Qn(t){const e=Math.max(t.r,t.g,t.b),n=Math.min(t.r,t.g,t.b),i=e-n;let s=0;0!==i&&(s=e===t.r?(t.g-t.b)/i%6*60:e===t.g?60*((t.b-t.r)/i+2):60*((t.r-t.g)/i+4)),s<0&&(s+=360);const r=(e+n)/2;let o=0;return 0!==i&&(o=i/(1-Math.abs(2*r-1))),new Vn(s,o,r)}function Yn(t,e=1){const n=(1-Math.abs(2*t.l-1))*t.s,i=n*(1-Math.abs(t.h/60%2-1)),s=t.l-n/2;let r=0,o=0,a=0;return t.h<60?(r=n,o=i,a=0):t.h<120?(r=i,o=n,a=0):t.h<180?(r=0,o=n,a=i):t.h<240?(r=0,o=i,a=n):t.h<300?(r=i,o=0,a=n):t.h<360&&(r=n,o=0,a=i),new Pn(r+s,o+s,a+s,e)}function Xn(t){const e=Math.max(t.r,t.g,t.b),n=e-Math.min(t.r,t.g,t.b);let i=0;0!==n&&(i=e===t.r?(t.g-t.b)/n%6*60:e===t.g?60*((t.b-t.r)/n+2):60*((t.r-t.g)/n+4)),i<0&&(i+=360);let s=0;return 0!==e&&(s=n/e),new Hn(i,s,e)}function Zn(t){function e(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}const n=e(t.r),i=e(t.g),s=e(t.b);return new zn(.4124564*n+.3575761*i+.1804375*s,.2126729*n+.7151522*i+.072175*s,.0193339*n+.119192*i+.9503041*s)}function Jn(t,e=1){function n(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}const i=n(3.2404542*t.x-1.5371385*t.y-.4985314*t.z),s=n(-.969266*t.x+1.8760108*t.y+.041556*t.z),r=n(.0556434*t.x-.2040259*t.y+1.0572252*t.z);return new Pn(i,s,r,e)}function ti(t){return function(t){function e(t){return t>qn.epsilon?Math.pow(t,1/3):(qn.kappa*t+16)/116}const n=e(t.x/zn.whitePoint.x),i=e(t.y/zn.whitePoint.y),s=e(t.z/zn.whitePoint.z);return new qn(116*i-16,500*(n-i),200*(i-s))}(Zn(t))}function ei(t,e=1){return Jn(function(t){const e=(t.l+16)/116,n=e+t.a/500,i=e-t.b/200,s=Math.pow(n,3),r=Math.pow(e,3),o=Math.pow(i,3);let a=0;a=s>qn.epsilon?s:(116*n-16)/qn.kappa;let l=0;l=t.l>qn.epsilon*qn.kappa?r:t.l/qn.kappa;let c=0;return c=o>qn.epsilon?o:(116*i-16)/qn.kappa,a=zn.whitePoint.x*a,l=zn.whitePoint.y*l,c=zn.whitePoint.z*c,new zn(a,l,c)}(t),e)}function ni(t){return function(t){let e=0;(Math.abs(t.b)>.001||Math.abs(t.a)>.001)&&(e=Math.atan2(t.b,t.a)*(180/Math.PI)),e<0&&(e+=360);const n=Math.sqrt(t.a*t.a+t.b*t.b);return new Un(t.l,n,e)}(ti(t))}function ii(t,e=1){return ei(function(t){let e=0,n=0;return 0!==t.h&&(e=Math.cos($n(t.h))*t.c,n=Math.sin($n(t.h))*t.c),new qn(t.l,e,n)}(t),e)}const si=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},ri=ce["__core-js_shared__"];var oi,ai=(oi=/[^.]+$/.exec(ri&&ri.keys&&ri.keys.IE_PROTO||""))?"Symbol(src)_1."+oi:"";var li=Function.prototype.toString;var ci=/^\[object .+?Constructor\]$/,hi=Function.prototype,ui=Object.prototype,di=hi.toString,pi=ui.hasOwnProperty,gi=RegExp("^"+di.call(pi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fi=function(t){return!(!si(t)||(e=t,ai&&ai in e))&&(function(t){if(!si(t))return!1;var e=me(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?gi:ci).test(function(t){if(null!=t){try{return li.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},vi=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return fi(n)?n:void 0},mi=vi(Object,"create");var bi=Object.prototype.hasOwnProperty;var yi=Object.prototype.hasOwnProperty;function wi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}wi.prototype.clear=function(){this.__data__=mi?mi(null):{},this.size=0},wi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},wi.prototype.get=function(t){var e=this.__data__;if(mi){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return bi.call(e,t)?e[t]:void 0},wi.prototype.has=function(t){var e=this.__data__;return mi?void 0!==e[t]:yi.call(e,t)},wi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mi&&void 0===e?"__lodash_hash_undefined__":e,this};const xi=wi,ki=function(t,e){for(var n=t.length;n--;)if((i=t[n][0])===(s=e)||i!=i&&s!=s)return n;var i,s;return-1};var Ci=Array.prototype.splice;function Si(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Si.prototype.clear=function(){this.__data__=[],this.size=0},Si.prototype.delete=function(t){var e=this.__data__,n=ki(e,t);return!(n<0||(n==e.length-1?e.pop():Ci.call(e,n,1),--this.size,0))},Si.prototype.get=function(t){var e=this.__data__,n=ki(e,t);return n<0?void 0:e[n][1]},Si.prototype.has=function(t){return ki(this.__data__,t)>-1},Si.prototype.set=function(t,e){var n=this.__data__,i=ki(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};const $i=Si,Ti=vi(ce,"Map"),Ai=function(t,e){var n,i,s=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof e?"string":"hash"]:s.map};function Ei(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ei.prototype.clear=function(){this.size=0,this.__data__={hash:new xi,map:new(Ti||$i),string:new xi}},Ei.prototype.delete=function(t){var e=Ai(this,t).delete(t);return this.size-=e?1:0,e},Ei.prototype.get=function(t){return Ai(this,t).get(t)},Ei.prototype.has=function(t){return Ai(this,t).has(t)},Ei.prototype.set=function(t,e){var n=Ai(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};const Pi=Ei;function Oi(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=n.cache;if(r.has(s))return r.get(s);var o=t.apply(this,i);return n.cache=r.set(s,o)||r,o};return n.cache=new(Oi.Cache||Pi),n}Oi.Cache=Pi;const Ri=Oi;var Ii;function ji(t){const e=Ri(t);return function(t){return"function"==typeof t||"string"==typeof t?n=>e(Object.assign({},n,{backgroundColor:"function"==typeof t?t(n):t})):e(t)}}function Fi(t,e){const n=Ri(e);return e=>"function"==typeof e||"string"==typeof e?i=>n(Object.assign({},i,{backgroundColor:"function"==typeof e?e(i):e}))[t]:n(e)[t]}!function(t){t.rest="rest",t.hover="hover",t.active="active",t.focus="focus",t.selected="selected"}(Ii||(Ii={}));const Li=Ri((t=>{let e=Dn(t);if(null!==e)return e;if(e=Mn(t),null!==e)return e;throw new Error(`${t} cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"`)}));function Ni(t){return Ln(t)||Nn(t)}const Di=Ri(((t,e)=>Gn(Li(t),Li(e))),((t,e)=>t+e));function Mi(t){return Wn(Li(t))}function Bi(...t){return e=>Math.max.apply(null,t.map((t=>t(e))))}const Vi=(t,e,n)=>Math.min(Math.max(t,e),n);var Hi;function qi(t,e){return n=>{if(!Ni(e))return-1;const i=Oe(t,n),s=i.indexOf(e);return-1!==s?s:i.findIndex((t=>{return Ni(t)&&(n=t,Li(e).equalValue(Li(n)));var n}))}}function Ui(t,e){return n=>{const i=Oe(t,n),s=Oe(e,n),r=qi(i,s)(n);let o;if(-1!==r)return r;try{o=Mi(s)}catch(t){o=-1}return-1===o?0:i.map(((t,e)=>({luminance:Mi(t),index:e}))).reduce(((t,e)=>Math.abs(e.luminance-o)<Math.abs(t.luminance-o)?e:t)).index}}function zi(t){return Mi(Ie(t))<=(-.1+Math.sqrt(.21))/2}function _i(t,e){return"function"==typeof t?n=>e(n)[Vi(t(n),0,e(n).length-1)]:e[Vi(t,0,e.length-1)]}function Wi(t){return(e,n)=>i=>_i(zi(i)?Oe(n,i):Oe(e,i),t(i))}function Ki(t,e,n=0,i=t.length-1){if(i===n)return t[n];const s=Math.floor((i-n)/2)+n;return e(t[s])?Ki(t,e,n,s):Ki(t,e,s+1,i)}function Gi(t){return e=>n=>i=>s=>r=>{const o=Oe(t,r),a=Oe(e,r),l=a.length,c=Vi(n(o,a,r),0,l-1),h=i(c,a,r),u=[].concat(a),d=l-1;let p=c;return-1===h&&(u.reverse(),p=d-p),Ki(u,(function(t){return s(Di(o,t))}),p,d)}}function Qi(t,e,n){return Ui(e,t)(n)}function Yi(t){return Ui(Fe,Ie(t))(t)}function Xi(t,e,n,i,s,r){return o=>{const a=Oe(t,o),l=zi(o)?-1:1,c=Gi(Ie)(a)(Qi)((()=>l))((h=Oe(e,o),t=>t>=h))(o);var h;const u=qi(t,c)(o),d=Oe(n,o),p=Oe(i,o),g=Oe(s,o),f=Oe(r,o);return function(t,e,n,i,s,r,o){const a=t+n*Math.abs(i-s),l=1===n?i<s:n*i>n*s,c=l?t:a,h=l?a:t,u=c+n*r,d=c+n*o;return{rest:_i(c,e),hover:_i(h,e),active:_i(u,e),focus:_i(d,e)}}(u,a,l,d,p,g,f)}}!function(t){t.neutral="neutral",t.accent="accent"}(Hi||(Hi={}));const Zi=ji(Xi(Fe,14,0,un,dn,pn)),Ji=Fi(Ii.rest,Zi),ts=(Fi(Ii.hover,Zi),Fi(Ii.active,Zi),Fi(Ii.focus,Zi),"#FFFFFF"),es="#000000",ns=ji(Xi(Fe,4.5,0,on,an,ln)),is=Fi(Ii.rest,ns),ss=(Fi(Ii.hover,ns),Fi(Ii.active,ns),Fi(Ii.focus,ns),(t,e)=>Di(ts,t)>=e?ts:es);function rs(t){return function(e){return"function"==typeof e||"string"==typeof e?n=>ss("function"==typeof e?e(n):e,t):ss(is(e),t)}}const os=rs(4.5),as=rs(3);function ls(t){return Xi(Fe,t,0,0,0,0)}const cs=Fi(Ii.rest,ji(ls(4.5))),hs=Fi(Ii.rest,ji(ls(3)));function us(t){return e=>{const n=Le(e),i=je(e),s=Ui(Le,i)(e),r={rest:Ve(e),hover:He(e),active:qe(e),focus:Ue(e)},o=zi(e)?-1:1,a=s+(1===o?Math.min(r.rest,r.hover):Math.max(o*r.rest,o*r.hover)),l=Gi(Ie)(Le)((()=>a))((()=>o))((e=>e>=t))(e),c=qi(Le,l)(e),h=c+o*Math.abs(r.rest-r.hover),u=1===o?r.rest<r.hover:o*r.rest>o*r.hover,d=u?c:h,p=u?h:c,g=d+o*r.active,f=d+o*r.focus;return{rest:_i(d,n),hover:_i(p,n),active:_i(g,n),focus:_i(f,n)}}}const ds=ji(us(4.5)),ps=ji(us(3)),gs=(Fi(Ii.rest,ds),Fi(Ii.hover,ds),Fi(Ii.active,ds),Fi(Ii.focus,ds),Fi(Ii.rest,ps),Fi(Ii.hover,ps),Fi(Ii.active,ps),Fi(Ii.focus,ps),(t,e)=>Di(ts,t)>=e?ts:es);function fs(t){return function(e){return"function"==typeof e||"string"==typeof e?n=>gs("function"==typeof e?e(n):e,t):gs(je(e),t)}}const vs=fs(4.5),ms=(fs(3),Bi(ze,_e,We,Ke));function bs(t){return e=>{const n=Yi(e);return _i(n+(n>=ms(e)?-1:1)*t(e),Fe(e))}}const ys=ji(bs(ze)),ws=ji(bs(_e)),xs=ji(bs(We)),ks=ji(bs(Ke)),Cs=ji(bs(Ge)),Ss=ji((t=>({rest:ys(t),hover:ws(t),active:xs(t),focus:ks(t),selected:Cs(t)}))),$s=Bi(ze,_e,We,Ke,tn,en,nn,sn);function Ts(t){return e=>{const n=Yi(e);return _i(n+(n>=$s(e)?-1:1)*t(e),Fe(e))}}const As=ji(Ts(tn)),Es=ji(Ts(en)),Ps=ji(Ts(nn)),Os=ji(Ts(sn)),Rs=ji(Ts(rn)),Is=ji((t=>({rest:As(t),hover:Es(t),active:Ps(t),focus:Os(t),selected:Rs(t)})));function js(t){return e=>{const n=zi(e)?-1:1;return _i(Yi(e)-t(e)*n,Fe(e))}}const Fs=ji(js(Qe)),Ls=ji(js(Ye)),Ns=ji(js(Xe)),Ds=ji(js(Ze)),Ms=ji(js(Je)),Bs=ji((t=>({rest:Fs(t),hover:Ls(t),active:Ns(t),focus:Ds(t),selected:Ms(t)})));var Vs=Math.max,Hs=Math.min;var qs=/\s/;var Us=/^\s+/;const zs=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&qs.test(t.charAt(e)););return e}(t)+1).replace(Us,""):t},_s=function(t){return"symbol"==typeof t||be(t)&&"[object Symbol]"==me(t)};var Ws=/^[-+]0x[0-9a-f]+$/i,Ks=/^0b[01]+$/i,Gs=/^0o[0-7]+$/i,Qs=parseInt;const Ys=function(t){if("number"==typeof t)return t;if(_s(t))return NaN;if(si(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=si(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=zs(t);var n=Ks.test(t);return n||Gs.test(t)?Qs(t.slice(2),n?2:8):Ws.test(t)?NaN:+t};const Xs=function(t){return t?Infinity===(t=Ys(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},Zs=function(t,e,n){return e=Xs(e),void 0===n?(n=e,e=0):n=Xs(n),function(t,e,n){return t>=Hs(e,n)&&t<Vs(e,n)}(t=Ys(t),e,n)},Js=Bi(ze,_e,We);function tr(t){return e=>{const n=Le(e),i=n.length,s=je(e),r=vs(Object.assign({},e,{backgroundColor:s})),o=Ne(e),a=Yi(e)>=Js(e)?-1:1,l=i-1,c=Ui(Le,s)(e);let h=0;for(;h<a*o&&Zs(c+h+a,0,i)&&Di(n[c+h+a],r)>=t&&Zs(c+h+a+a,0,l);)h+=a;const u=c+h,d=u+-1*a*o,p=d+a*De(e),g=d+a*Me(e);return{rest:_i(d,n),hover:_i(u,n),active:_i(p,n),focus:_i(g,n),selected:_i(d+(zi(e)?-1*Be(e):Be(e)),n)}}}const er=ji(tr(4.5)),nr=ji(tr(3)),ir=(Fi(Ii.rest,er),Fi(Ii.hover,er),Fi(Ii.active,er),Fi(Ii.focus,er),Fi(Ii.selected,er),Fi(Ii.rest,nr),Fi(Ii.hover,nr),Fi(Ii.active,nr),Fi(Ii.focus,nr),Fi(Ii.selected,nr),t=>{const e=hn(t),n=Ui(Fe,Ie(t))(t);return _i(n-(n<e?-1*e:e),Fe(t))});function sr(t){return"function"==typeof t?e=>ir(Object.assign({},e,{backgroundColor:t(e)})):ir(t)}const rr=ji((t=>{const e=Fe(t),n=Yi(t),i=zi(t)?-1:1,s=fn(t),r=n+i*s,o=r+i*(vn(t)-s),a=r+i*(mn(t)-s),l=r+i*(bn(t)-s);return{rest:_i(r,e),hover:_i(o,e),active:_i(a,e),focus:_i(l,e)}})),or=(Fi(Ii.rest,rr),Fi(Ii.hover,rr),Fi(Ii.active,rr),Fi(Ii.focus,rr),ji((t=>{const e=Fe(t),n=Yi(t),i=gn(t);return _i(n+(zi(t)?-1:1)*i,e)})));function ar(t){return(...e)=>n=>{const i=e[0];let s="function"==typeof i?i(n):i;for(let i=1;i<e.length;i++){const r=e[i];s=t(s,"function"==typeof r?r(n):r)}return s}}const lr=ar(((t,e)=>t+e)),cr=ar(((t,e)=>t-e)),hr=ar(((t,e)=>t*e));function ur(...t){return lr.apply(this,t)}function dr(...t){return cr.apply(this,t)}function pr(...t){return hr.apply(this,t)}var gr;function fr(t,e){return n=>-1===cn(n)?e(n):t(n)}ar(((t,e)=>t/e)),function(t){t[t.LightMode=1]="LightMode",t[t.DarkMode=.23]="DarkMode"}(gr||(gr={}));const vr=Ui(Fe,(t=>{const e=cn(t);return new Pn(e,e,e,1).toStringHexRGB()})),mr=t=>kn(dr(vr,hn)(t),0,Fe(t).length-1),br=Bi(ze,_e,We),yr=Bi(ur(vr,hn),br),wr=t=>{const e=.14,n=new Pn(e,e,e,1);return Ui(Fe,n.toStringHexRGB())(t)},xr=ji(fr(_i(dr(mr,hn),Fe),Wi(Fe)(0,dr(wr,pr(hn,5))))),kr=ji(fr(_i(mr,Fe),Wi(Fe)(0,dr(wr,pr(hn,4))))),Cr=ji(fr(_i(ur(mr,hn),Fe),Wi(Fe)(hn,dr(wr,pr(hn,3))))),Sr=ji(fr(_i(vr,Fe),Wi(Fe)(0,dr(wr,pr(hn,3))))),$r=Cr,Tr=ji(fr(_i(yr,Fe),Wi(Fe)(br,dr(wr,pr(hn,2))))),Ar=ji(fr(_i(ur(yr,hn),Fe),Wi(Fe)(ur(br,hn),dr(wr,hn)))),Er=ji(fr(_i(ur(yr,pr(hn,2)),Fe),Wi(Fe)(ur(br,pr(hn,2)),wr)));function Pr(t){return t>3.5}const Or=ji(Gi(Ie)(Fe)((function(t,e,n){return Ui(Fe,t)(n)}))((function(t,e,n){return zi(n)?-1:1}))(Pr));const Rr=ji(Xi(Fe,14,0,yn,wn,xn)),Ir=Fi(Ii.rest,Rr),jr=(Fi(Ii.hover,Rr),Fi(Ii.active,Rr),Fi(Ii.focus,Rr),":host{}");class Fr{constructor(){this.queue=new Set,this.customPropertyTarget=null,this._owner=null,this.ticking=!1,this.cssCustomPropertyDefinitions=new Map}get owner(){return this._owner}register(t){const e=this.cssCustomPropertyDefinitions.get(t.name);e?e.count+=1:(this.cssCustomPropertyDefinitions.set(t.name,Object.assign(Object.assign({},t),{count:1})),this.set(t))}unregister(t){const e=this.cssCustomPropertyDefinitions.get(t);e&&(e.count-=1,0===e.count&&(this.cssCustomPropertyDefinitions.delete(t),this.remove(t)))}set(t){this.owner&&(this.customPropertyTarget?this.customPropertyTarget.setProperty(`--${t.name}`,this.owner.evaluate(t)):this.queue.add(this.set.bind(this,t)))}remove(t){this.customPropertyTarget?this.customPropertyTarget.removeProperty(`--${t}`):this.queue.add(this.remove.bind(this,t))}setAll(){this.ticking||(this.ticking=!0,P.queueUpdate((()=>{this.ticking=!1,this.cssCustomPropertyDefinitions.forEach((t=>{this.set(t)}))})))}}class Lr extends Fr{constructor(t){super(),this.subscribers=new Set,this.sheet=t,this.styles=nt.create([t]),this.customPropertyTarget=t.cssRules[t.insertRule(jr)].style}subscribe(t){this.subscribers.add(t),1===this.subscribers.size&&(this._owner=t),t.cssCustomPropertyDefinitions.forEach((t=>{this.register(t)})),t.$fastController.addStyles(this.styles)}unsubscribe(t){this.subscribers.delete(t),t.cssCustomPropertyDefinitions.forEach((t=>this.unregister(t.name))),this.owner===t&&(this._owner=this.subscribers.size?this.subscribers.values().next().value:null),!this.sheet.ownerNode&&this.styles&&t.$fastController.removeStyles(this.styles)}isSubscribed(t){return this.subscribers.has(t)}}class Nr extends Fr{constructor(t,e){super(),this._sheet=null,this.handleConnection={handleChange:()=>{var t;this._sheet=this.styles.sheet;const e=this.sheet.insertRule(jr);this.customPropertyTarget=this.sheet.rules[e].style,q.getNotifier(null===(t=this._owner)||void 0===t?void 0:t.$fastController).unsubscribe(this.handleConnection,"isConnected")}};const n=e.$fastController;n.addStyles(t),this.styles=t,this._owner=e,e.isConnected?this.handleConnection.handleChange():q.getNotifier(n).subscribe(this.handleConnection,"isConnected"),e.cssCustomPropertyDefinitions.forEach((t=>{this.register(t)}))}get sheet(){return this._sheet}customPropertyTargetChanged(t,e){!t&&this.queue.size&&(this.queue.forEach((t=>t())),this.queue.clear())}}function Dr(t){const e=t.parentElement;if(e)return e;{const e=t.getRootNode();if(e.host instanceof HTMLElement)return e.host}return null}y([_],Nr.prototype,"customPropertyTarget",void 0);const Mr="adoptedStyleSheets"in window.ShadowRoot.prototype;function Br(t){const e=t.provider;return null!=e&&Hr.isDesignSystemProvider(e)}const Vr={bind(t){t.provider=Hr.findProvider(t)},unbind(t){}};class Hr extends mt{constructor(){super(),this.isDesignSystemProvider=!0,this.designSystem={},this.useDefaults=!1,this.provider=null,this.cssCustomPropertyDefinitions=new Map,this.attributeChangeHandler={handleChange:(t,e)=>{const n=this[e],i=this.customPropertyManager;if(this.isValidDesignSystemValue(n)){this.designSystem[e]=n;const t=this.designSystemProperties[e];t&&t.cssCustomProperty&&i&&i.set({name:t.cssCustomProperty,value:n})}else{this.syncDesignSystemWithProvider();const t=this.designSystemProperties[e].cssCustomProperty;i&&("string"==typeof t&&i.remove(t),i.setAll())}}},this.localDesignSystemChangeHandler={handleChange:()=>{const t=this.customPropertyManager;t&&t.owner===this&&t.setAll()}},this.providerDesignSystemChangeHandler={handleChange:(t,e)=>{t[e]===this.designSystem[e]||this.isValidDesignSystemValue(this[e])||(this.designSystem[e]=t[e])}},this.customPropertyManager=Mr?new Lr(new CSSStyleSheet):new Nr(document.createElement("style"),this),void 0===this.designSystemProperties&&(this.designSystemProperties={}),this.$fastController.addBehaviors([Vr])}static get tagNames(){return Hr._tagNames}static isDesignSystemProvider(t){return t.isDesignSystemProvider||-1!==Hr.tagNames.indexOf(t.tagName)}static findProvider(t){if(Br(t))return t.provider;let e=Dr(t);for(;null!==e;){if(Hr.isDesignSystemProvider(e))return t.provider=e,e;if(Br(e))return t.provider=e.provider,e.provider;e=Dr(e)}return null}static registerTagName(t){const e=t.toUpperCase();-1===Hr.tagNames.indexOf(e)&&Hr._tagNames.push(e)}useDefaultsChanged(){if(this.useDefaults){const t=this.designSystemProperties;Object.keys(t).forEach((e=>{void 0===this[e]&&(this[e]=t[e].default)}))}}providerChanged(t,e){if(t instanceof HTMLElement){const e=q.getNotifier(t.designSystem);q.getAccessors(t.designSystem).forEach((t=>{e.unsubscribe(this.providerDesignSystemChangeHandler,t.name)}))}if(e instanceof HTMLElement&&Hr.isDesignSystemProvider(e)){const t=q.getNotifier(e.designSystem),n=q.getAccessors(this.designSystem).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e.name]:e})),{}),i=q.getNotifier(this.designSystem);q.getAccessors(e.designSystem).forEach((e=>{t.subscribe(this.providerDesignSystemChangeHandler,e.name),n[e.name]||(_(this.designSystem,e.name),i.subscribe(this.localDesignSystemChangeHandler,e.name))})),this.syncDesignSystemWithProvider()}}customPropertyManagerChanged(t,e){t&&t.unsubscribe&&t.unsubscribe(this),e.subscribe&&e.subscribe(this)}connectedCallback(){super.connectedCallback(),this.customPropertyManager.subscribe&&this.customPropertyManager.isSubscribed&&!this.customPropertyManager.isSubscribed(this)&&this.customPropertyManager.subscribe(this);const t=q.getNotifier(this),e=q.getNotifier(this.designSystem);if(Object.keys(this.designSystemProperties).forEach((n=>{_(this.designSystem,n),t.subscribe(this.attributeChangeHandler,n),e.subscribe(this.localDesignSystemChangeHandler,n);const i=this[n];if(this.isValidDesignSystemValue(i)){this.designSystem[n]=i;const{cssCustomProperty:t}=this.designSystemProperties[n];"string"==typeof t&&this.customPropertyManager&&this.customPropertyManager.owner===this&&this.customPropertyManager.set({name:t,value:this[n]})}})),Array.isArray(this.disconnectedCSSCustomPropertyRegistry)){for(let t=0;t<this.disconnectedCSSCustomPropertyRegistry.length;t++)this.registerCSSCustomProperty(this.disconnectedCSSCustomPropertyRegistry[t]);delete this.disconnectedCSSCustomPropertyRegistry}if(Array.isArray(this.disconnectedRegistry)){for(let t=0;t<this.disconnectedRegistry.length;t++)this.disconnectedRegistry[t](this);delete this.disconnectedRegistry}}disconnectedCallback(){super.disconnectedCallback(),this.customPropertyManager.unsubscribe&&this.customPropertyManager.unsubscribe(this)}registerCSSCustomProperty(t){this.cssCustomPropertyDefinitions.set(t.name,t),this.customPropertyManager.register(t)}unregisterCSSCustomProperty(t){this.cssCustomPropertyDefinitions.delete(t.name),this.customPropertyManager.unregister(t.name)}evaluate(t){return"function"==typeof t.value?t.value(Object.assign({},this.designSystem)):t.value}syncDesignSystemWithProvider(){if(this.provider){const t=q.getAccessors(this.designSystem).reduce(((t,e)=>(t[e.name]=e,t)),{});q.getAccessors(this.provider.designSystem).forEach((e=>{var n;this.designSystemProperties.hasOwnProperty(e.name)&&this.isValidDesignSystemValue(this[e.name])||!this.isValidDesignSystemValue(null===(n=this.provider)||void 0===n?void 0:n.designSystem[e.name])||(t[e.name]||q.defineProperty(this.designSystem,e.name),this.designSystem[e.name]=this.provider.designSystem[e.name])}))}}isValidDesignSystemValue(t){return null!=t}}function qr(t){return e=>{bt(t)(e),e.registerTagName("string"==typeof t?t:t.name)}}Hr._tagNames=[],y([tt({attribute:"use-defaults",mode:"boolean"})],Hr.prototype,"useDefaults",void 0),y([_],Hr.prototype,"provider",void 0),y([_],Hr.prototype,"customPropertyManager",void 0);const Ur=qr;function zr(t){return(e,n)=>{((t,e,n)=>{const{cssCustomProperty:i,attribute:s}=n;t.designSystemProperties||(t.designSystemProperties={}),!1===s?_(t,e):(void 0===n.mode&&(n=Object.assign(Object.assign({},n),{mode:"fromView"})),tt(n)(t,e)),t.designSystemProperties[e]={cssCustomProperty:!1!==i&&("string"==typeof i?i:"string"==typeof s?s:e),default:n.default}})(e,n,t)}}const _r=Wt`
    <slot></slot>
`,Wr=re`
    ${oe("block")};
`,Kr=new Te("neutral-foreground-rest",Ji,(t=>t)),Gr=re`
    :host {
        background-color: var(--background-color);
        color: ${Kr.var};
    }
`.withBehaviors(Kr,Ce(re`
            :host {
                background-color: ${Se.ButtonFace};
                box-shadow: 0 0 0 1px ${Se.CanvasText};
                color: ${Se.ButtonText};
            }
        `));let Qr=class extends Hr{constructor(){super(...arguments),this.noPaint=!1}noPaintChanged(){this.noPaint||void 0===this.backgroundColor?this.$fastController.removeStyles(Gr):this.$fastController.addStyles(Gr)}backgroundColorChanged(){this.noPaintChanged()}};y([tt({attribute:"no-paint",mode:"boolean"})],Qr.prototype,"noPaint",void 0),y([zr({attribute:"background-color",default:Pe.backgroundColor})],Qr.prototype,"backgroundColor",void 0),y([zr({attribute:"accent-base-color",cssCustomProperty:!1,default:Pe.accentBaseColor})],Qr.prototype,"accentBaseColor",void 0),y([zr({attribute:!1,cssCustomProperty:!1,default:Pe.neutralPalette})],Qr.prototype,"neutralPalette",void 0),y([zr({attribute:!1,cssCustomProperty:!1,default:Pe.accentPalette})],Qr.prototype,"accentPalette",void 0),y([zr({default:Pe.density,converter:Z})],Qr.prototype,"density",void 0),y([zr({attribute:"design-unit",converter:Z,default:Pe.designUnit})],Qr.prototype,"designUnit",void 0),y([zr({attribute:"direction",cssCustomProperty:!1,default:Pe.direction})],Qr.prototype,"direction",void 0),y([zr({attribute:"base-height-multiplier",default:Pe.baseHeightMultiplier,converter:Z})],Qr.prototype,"baseHeightMultiplier",void 0),y([zr({attribute:"base-horizontal-spacing-multiplier",converter:Z,default:Pe.baseHorizontalSpacingMultiplier})],Qr.prototype,"baseHorizontalSpacingMultiplier",void 0),y([zr({attribute:"corner-radius",converter:Z,default:Pe.cornerRadius})],Qr.prototype,"cornerRadius",void 0),y([zr({attribute:"outline-width",converter:Z,default:Pe.outlineWidth})],Qr.prototype,"outlineWidth",void 0),y([zr({attribute:"focus-outline-width",converter:Z,default:Pe.focusOutlineWidth})],Qr.prototype,"focusOutlineWidth",void 0),y([zr({attribute:"disabled-opacity",converter:Z,default:Pe.disabledOpacity})],Qr.prototype,"disabledOpacity",void 0),y([zr({attribute:"type-ramp-minus-2-font-size",default:Pe.typeRampMinus2FontSize})],Qr.prototype,"typeRampMinus2FontSize",void 0),y([zr({attribute:"type-ramp-minus-2-line-height",default:Pe.typeRampMinus2LineHeight})],Qr.prototype,"typeRampMinus2LineHeight",void 0),y([zr({attribute:"type-ramp-minus-1-font-size",default:Pe.typeRampMinus1FontSize})],Qr.prototype,"typeRampMinus1FontSize",void 0),y([zr({attribute:"type-ramp-minus-1-line-height",default:Pe.typeRampMinus1LineHeight})],Qr.prototype,"typeRampMinus1LineHeight",void 0),y([zr({attribute:"type-ramp-base-font-size",default:Pe.typeRampBaseFontSize})],Qr.prototype,"typeRampBaseFontSize",void 0),y([zr({attribute:"type-ramp-base-line-height",default:Pe.typeRampBaseLineHeight})],Qr.prototype,"typeRampBaseLineHeight",void 0),y([zr({attribute:"type-ramp-plus-1-font-size",default:Pe.typeRampPlus1FontSize})],Qr.prototype,"typeRampPlus1FontSize",void 0),y([zr({attribute:"type-ramp-plus-1-line-height",default:Pe.typeRampPlus1LineHeight})],Qr.prototype,"typeRampPlus1LineHeight",void 0),y([zr({attribute:"type-ramp-plus-2-font-size",default:Pe.typeRampPlus2FontSize})],Qr.prototype,"typeRampPlus2FontSize",void 0),y([zr({attribute:"type-ramp-plus-2-line-height",default:Pe.typeRampPlus2LineHeight})],Qr.prototype,"typeRampPlus2LineHeight",void 0),y([zr({attribute:"type-ramp-plus-3-font-size",default:Pe.typeRampPlus3FontSize})],Qr.prototype,"typeRampPlus3FontSize",void 0),y([zr({attribute:"type-ramp-plus-3-line-height",default:Pe.typeRampPlus3LineHeight})],Qr.prototype,"typeRampPlus3LineHeight",void 0),y([zr({attribute:"type-ramp-plus-4-font-size",default:Pe.typeRampPlus4FontSize})],Qr.prototype,"typeRampPlus4FontSize",void 0),y([zr({attribute:"type-ramp-plus-4-line-height",default:Pe.typeRampPlus4LineHeight})],Qr.prototype,"typeRampPlus4LineHeight",void 0),y([zr({attribute:"type-ramp-plus-5-font-size",default:Pe.typeRampPlus5FontSize})],Qr.prototype,"typeRampPlus5FontSize",void 0),y([zr({attribute:"type-ramp-plus-5-line-height",default:Pe.typeRampPlus5LineHeight})],Qr.prototype,"typeRampPlus5LineHeight",void 0),y([zr({attribute:"type-ramp-plus-6-font-size",default:Pe.typeRampPlus6FontSize})],Qr.prototype,"typeRampPlus6FontSize",void 0),y([zr({attribute:"type-ramp-plus-6-line-height",default:Pe.typeRampPlus6LineHeight})],Qr.prototype,"typeRampPlus6LineHeight",void 0),y([zr({attribute:"accent-fill-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentFillRestDelta})],Qr.prototype,"accentFillRestDelta",void 0),y([zr({attribute:"accent-fill-hover-delta",cssCustomProperty:!1,converter:Z,default:Pe.accentFillHoverDelta})],Qr.prototype,"accentFillHoverDelta",void 0),y([zr({attribute:"accent-fill-active-delta",cssCustomProperty:!1,converter:Z,default:Pe.accentFillActiveDelta})],Qr.prototype,"accentFillActiveDelta",void 0),y([zr({attribute:"accent-fill-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentFillFocusDelta})],Qr.prototype,"accentFillFocusDelta",void 0),y([zr({attribute:"accent-fill-selected-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentFillSelectedDelta})],Qr.prototype,"accentFillSelectedDelta",void 0),y([zr({attribute:"accent-foreground-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentForegroundRestDelta})],Qr.prototype,"accentForegroundRestDelta",void 0),y([zr({attribute:"accent-foreground-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentForegroundHoverDelta})],Qr.prototype,"accentForegroundHoverDelta",void 0),y([zr({attribute:"accent-foreground-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentForegroundActiveDelta})],Qr.prototype,"accentForegroundActiveDelta",void 0),y([zr({attribute:"accent-foreground-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.accentForegroundFocusDelta})],Qr.prototype,"accentForegroundFocusDelta",void 0),y([zr({attribute:"neutral-fill-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillRestDelta})],Qr.prototype,"neutralFillRestDelta",void 0),y([zr({attribute:"neutral-fill-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillHoverDelta})],Qr.prototype,"neutralFillHoverDelta",void 0),y([zr({attribute:"neutral-fill-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillActiveDelta})],Qr.prototype,"neutralFillActiveDelta",void 0),y([zr({attribute:"neutral-fill-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillFocusDelta})],Qr.prototype,"neutralFillFocusDelta",void 0),y([zr({attribute:"neutral-fill-selected-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillSelectedDelta})],Qr.prototype,"neutralFillSelectedDelta",void 0),y([zr({attribute:"neutral-fill-input-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillInputRestDelta})],Qr.prototype,"neutralFillInputRestDelta",void 0),y([zr({attribute:"neutral-fill-input-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillInputHoverDelta})],Qr.prototype,"neutralFillInputHoverDelta",void 0),y([zr({attribute:"neutral-fill-input-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillInputActiveDelta})],Qr.prototype,"neutralFillInputActiveDelta",void 0),y([zr({attribute:"neutral-fill-input-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillInputFocusDelta})],Qr.prototype,"neutralFillInputFocusDelta",void 0),y([zr({attribute:"neutral-fill-input-selected-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillInputSelectedDelta})],Qr.prototype,"neutralFillInputSelectedDelta",void 0),y([zr({attribute:"neutral-fill-stealth-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillStealthRestDelta})],Qr.prototype,"neutralFillStealthRestDelta",void 0),y([zr({attribute:"neutral-fill-stealth-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillStealthHoverDelta})],Qr.prototype,"neutralFillStealthHoverDelta",void 0),y([zr({attribute:"neutral-fill-stealth-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillStealthActiveDelta})],Qr.prototype,"neutralFillStealthActiveDelta",void 0),y([zr({attribute:"neutral-fill-stealth-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillStealthFocusDelta})],Qr.prototype,"neutralFillStealthFocusDelta",void 0),y([zr({attribute:"neutral-fill-stealth-selected-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillStealthSelectedDelta})],Qr.prototype,"neutralFillStealthSelectedDelta",void 0),y([zr({attribute:"neutral-fill-toggle-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillToggleHoverDelta})],Qr.prototype,"neutralFillToggleHoverDelta",void 0),y([zr({attribute:"neutral-fill-toggle-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillToggleActiveDelta})],Qr.prototype,"neutralFillToggleActiveDelta",void 0),y([zr({attribute:"neutral-fill-toggle-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillToggleFocusDelta})],Qr.prototype,"neutralFillToggleFocusDelta",void 0),y([zr({attribute:"base-layer-luminance",converter:Z,cssCustomProperty:!1,default:Pe.baseLayerLuminance})],Qr.prototype,"baseLayerLuminance",void 0),y([zr({attribute:"neutral-fill-card-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralFillCardDelta})],Qr.prototype,"neutralFillCardDelta",void 0),y([zr({attribute:"neutral-foreground-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralForegroundHoverDelta})],Qr.prototype,"neutralForegroundHoverDelta",void 0),y([zr({attribute:"neutral-foreground-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralForegroundActiveDelta})],Qr.prototype,"neutralForegroundActiveDelta",void 0),y([zr({attribute:"neutral-foreground-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralForegroundFocusDelta})],Qr.prototype,"neutralForegroundFocusDelta",void 0),y([zr({attribute:"neutral-divider-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralDividerRestDelta})],Qr.prototype,"neutralDividerRestDelta",void 0),y([zr({attribute:"neutral-outline-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralOutlineRestDelta})],Qr.prototype,"neutralOutlineRestDelta",void 0),y([zr({attribute:"neutral-outline-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralOutlineHoverDelta})],Qr.prototype,"neutralOutlineHoverDelta",void 0),y([zr({attribute:"neutral-outline-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralOutlineActiveDelta})],Qr.prototype,"neutralOutlineActiveDelta",void 0),y([zr({attribute:"neutral-outline-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralOutlineFocusDelta})],Qr.prototype,"neutralOutlineFocusDelta",void 0),y([zr({attribute:"neutral-contrast-fill-rest-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralContrastFillRestDelta})],Qr.prototype,"neutralContrastFillRestDelta",void 0),y([zr({attribute:"neutral-contrast-fill-hover-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralContrastFillHoverDelta})],Qr.prototype,"neutralContrastFillHoverDelta",void 0),y([zr({attribute:"neutral-contrast-fill-active-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralContrastFillActiveDelta})],Qr.prototype,"neutralContrastFillActiveDelta",void 0),y([zr({attribute:"neutral-contrast-fill-focus-delta",converter:Z,cssCustomProperty:!1,default:Pe.neutralContrastFillFocusDelta})],Qr.prototype,"neutralContrastFillFocusDelta",void 0),Qr=y([Ur({name:"fast-design-system-provider",template:_r,styles:Wr})],Qr);const Yr=Ae("neutral-foreground-rest",(t=>Zi(t).rest),Qr.findProvider),Xr=Ae("neutral-foreground-hover",(t=>Zi(t).hover),Qr.findProvider),Zr=Ae("neutral-foreground-active",(t=>Zi(t).active),Qr.findProvider),Jr=(Ae("neutral-foreground-focus",(t=>Zi(t).focus),Qr.findProvider),Ae("neutral-foreground-toggle",os,Qr.findProvider),Ae("neutral-foreground-toggle-large",as,Qr.findProvider),Ae("neutral-foreground-hint",cs,Qr.findProvider),Ae("neutral-foreground-hint-large",hs,Qr.findProvider),Ae("accent-foreground-rest",(t=>ds(t).rest),Qr.findProvider)),to=Ae("accent-foreground-hover",(t=>ds(t).hover),Qr.findProvider),eo=Ae("accent-foreground-active",(t=>ds(t).active),Qr.findProvider),no=Ae("accent-foreground-focus",(t=>ds(t).focus),Qr.findProvider),io=Ae("accent-foreground-cut-rest",(t=>vs(t)),Qr.findProvider),so=(Ae("accent-foreground-large-rest",(t=>ps(t).rest),Qr.findProvider),Ae("accent-foreground-large-hover",(t=>ps(t).hover),Qr.findProvider),Ae("accent-foreground-large-active",(t=>ps(t).active),Qr.findProvider),Ae("accent-foreground-large-focus",(t=>ps(t).focus),Qr.findProvider),Ae("neutral-fill-rest",(t=>Ss(t).rest),Qr.findProvider)),ro=Ae("neutral-fill-hover",(t=>Ss(t).hover),Qr.findProvider),oo=Ae("neutral-fill-active",(t=>Ss(t).active),Qr.findProvider),ao=(Ae("neutral-fill-focus",(t=>Ss(t).focus),Qr.findProvider),Ae("neutral-fill-selected",(t=>Ss(t).selected),Qr.findProvider),Ae("neutral-fill-stealth-rest",(t=>Is(t).rest),Qr.findProvider)),lo=Ae("neutral-fill-stealth-hover",(t=>Is(t).hover),Qr.findProvider),co=Ae("neutral-fill-stealth-active",(t=>Is(t).active),Qr.findProvider),ho=(Ae("neutral-fill-stealth-focus",(t=>Is(t).focus),Qr.findProvider),Ae("neutral-fill-stealth-selected",(t=>Is(t).selected),Qr.findProvider)),uo=(Ae("neutral-fill-toggle-rest",(t=>ns(t).rest),Qr.findProvider),Ae("neutral-fill-toggle-hover",(t=>ns(t).hover),Qr.findProvider),Ae("neutral-fill-toggle-active",(t=>ns(t).active),Qr.findProvider),Ae("neutral-fill-toggle-focus",(t=>ns(t).focus),Qr.findProvider),Ae("neutral-fill-input-rest",(t=>Bs(t).rest),Qr.findProvider)),po=Ae("neutral-fill-input-hover",(t=>Bs(t).hover),Qr.findProvider),go=Ae("neutral-fill-input-active",(t=>Bs(t).active),Qr.findProvider),fo=(Ae("neutral-fill-input-selected",(t=>Bs(t).selected),Qr.findProvider),Ae("neutral-fill-input-focus",(t=>Bs(t).focus),Qr.findProvider),Ae("accent-fill-rest",(t=>er(t).rest),Qr.findProvider)),vo=Ae("accent-fill-hover",(t=>er(t).hover),Qr.findProvider),mo=Ae("accent-fill-active",(t=>er(t).active),Qr.findProvider),bo=(Ae("accent-fill-focus",(t=>er(t).focus),Qr.findProvider),Ae("accent-fill-selected",(t=>er(t).selected),Qr.findProvider)),yo=(Ae("accent-fill-large-rest",(t=>nr(t).rest),Qr.findProvider),Ae("accent-fill-large-hover",(t=>nr(t).hover),Qr.findProvider),Ae("accent-fill-large-active",(t=>nr(t).active),Qr.findProvider),Ae("accent-fill-large-focus",(t=>nr(t).focus),Qr.findProvider),Ae("accent-fill-large-selected",(t=>nr(t).selected),Qr.findProvider),Ae("neutral-fill-card-rest",(t=>sr(t)),Qr.findProvider),Ae("neutral-outline-rest",(t=>rr(t).rest),Qr.findProvider)),wo=Ae("neutral-outline-hover",(t=>rr(t).hover),Qr.findProvider),xo=(Ae("neutral-outline-active",(t=>rr(t).active),Qr.findProvider),Ae("neutral-outline-focus",(t=>rr(t).focus),Qr.findProvider),Ae("neutral-divider-rest",or,Qr.findProvider),Ae("neutral-layer-floating",xr,Qr.findProvider)),ko=(Ae("neutral-layer-card",kr,Qr.findProvider),Ae("neutral-layer-card-container",Cr,Qr.findProvider),Ae("neutral-layer-l1",Sr,Qr.findProvider)),Co=(Ae("neutral-layer-l1-alt",$r,Qr.findProvider),Ae("neutral-layer-l2",Tr,Qr.findProvider),Ae("neutral-layer-l3",Ar,Qr.findProvider),Ae("neutral-layer-l4",Er,Qr.findProvider)),So=Ae("neutral-focus",Or,Qr.findProvider),$o=Ae("neutral-focus-inner-accent",(To=je,Gi(Or)(Le)(function(t){return(e,n,i)=>n.indexOf(t(i))}(To))((function(t,e,n){return zi(n)?1:-1}))(Pr)),Qr.findProvider);var To;Ae("neutral-contrast-foreground-rest",(t=>Ji(Ir)(t)),Qr.findProvider),Ae("neutral-contrast-fill-rest",(t=>Rr(t).rest),Qr.findProvider),Ae("neutral-contrast-fill-hover",(t=>Rr(t).hover),Qr.findProvider),Ae("neutral-contrast-fill-active",(t=>Rr(t).active),Qr.findProvider),Ae("neutral-contrast-fill-focus",(t=>Rr(t).focus),Qr.findProvider);const Ao=re`
    ${oe("inline-flex")} :host {
        font-family: var(--body-font);
        outline: none;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        height: calc(${$e} * 1px);
        min-width: calc(${$e} * 1px);
        background-color: ${so.var};
        color: ${Yr.var};
        border-radius: calc(var(--corner-radius) * 1px);
        fill: currentcolor;
        cursor: pointer;
    }

    .control {
        background: transparent;
        height: inherit;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(var(--outline-width) * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }

    :host(:hover) {
        background-color: ${ro.var};
    }

    :host(:active) {
        background-color: ${oo.var};
    }

    .control:${we} {
        border: calc(var(--outline-width) * 1px) solid ${So.var};
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${So.var};
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
        background-color: ${so.var};
        cursor: ${xe};
    }

    .start,
    .end {
        display: flex;
    }

    .control.icon-only {
        padding: 0;
        line-height: 0;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        pointer-events: none;
    }

    .start {
        margin-inline-end: 11px;
    }

    .end {
        margin-inline-start: 11px;
    }
`.withBehaviors(so,Yr,ro,oo,Ce(re`
            :host .control {
              background-color: ${Se.ButtonFace};
              border-color: ${Se.ButtonText};
              color: ${Se.ButtonText};
              fill: currentColor;
            }
    
            :host(:hover) .control {
              forced-color-adjust: none;
              background-color: ${Se.Highlight};
              color: ${Se.HighlightText};
            }
    
            .control:${we} {
              forced-color-adjust: none;
              background-color: ${Se.Highlight};
              border-color: ${Se.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Se.ButtonText};
              color: ${Se.HighlightText};
            }
    
            .control:hover,
            :host([appearance="outline"]) .control:hover {
              border-color: ${Se.ButtonText};
            }
    
            :host([disabled]),
            :host([disabled]) .control {
                forced-color-adjust: none;
                background-color: ${Se.ButtonFace};
                border-color: ${Se.GrayText};
                color: ${Se.GrayText};
                cursor: ${xe};
                opacity: 1;
            }
    
            :host([href]) .control {
                border-color: ${Se.LinkText};
                color: ${Se.LinkText};
            }
    
            :host([href]) .control:hover,
            :host([href]) .control:${we}{
              forced-color-adjust: none;
              background: ${Se.ButtonFace};
              border-color: ${Se.LinkText};
              box-shadow: 0 0 0 1px ${Se.LinkText} inset;
              color: ${Se.LinkText};
              fill: currentColor;
            }
        `)),Eo=re`
    :host([appearance="accent"]) {
        background: ${fo.var};
        color: ${io.var};
    }

    :host([appearance="accent"]:hover) {
        background: ${vo.var};
    }

    :host([appearance="accent"]:active) .control:active {
        background: ${mo.var};
    }

    :host([appearance="accent"]) .control:${we} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${$o.var};
    }

    :host([appearance="accent"][disabled]) {
        background: ${fo.var};
    }
`.withBehaviors(fo,io,vo,mo,$o,Ce(re`
            :host([appearance="accent"]) .control {
                forced-color-adjust: none;
                background: ${Se.Highlight};
                color: ${Se.HighlightText};
            }

            :host([appearance="accent"]) .control:hover {
                background: ${Se.HighlightText};
                border-color: ${Se.Highlight};
                color: ${Se.Highlight};
            }

            :host([appearance="accent"]) .control:${we} {
                border-color: ${Se.ButtonText};
                box-shadow: 0 0 0 2px ${Se.HighlightText} inset;
            }

            :host([appearance="accent"][disabled]) .control,
            :host([appearance="accent"][disabled]) .control:hover {
                background: ${Se.ButtonFace};
                border-color: ${Se.GrayText};
                color: ${Se.GrayText};
            }

            :host([appearance="accent"][href]) .control{
                background: ${Se.LinkText};
                color: ${Se.HighlightText};
            }

            :host([appearance="accent"][href]) .control:hover {
                background: ${Se.ButtonFace};
                border-color: ${Se.LinkText};
                box-shadow: none;
                color: ${Se.LinkText};
                fill: currentColor;
            }

            :host([appearance="accent"][href]) .control:${we} {
                border-color: ${Se.LinkText};
                box-shadow: 0 0 0 2px ${Se.HighlightText} inset;
            }
        `)),Po=re`
    :host([appearance="hypertext"]) {
        font-size: inherit;
        line-height: inherit;
        height: auto;
        min-width: 0;
        background: transparent;
    }

    :host([appearance="hypertext"]) .control {
        display: inline;
        padding: 0;
        border: none;
        box-shadow: none;
        border-radius: 0;
        line-height: 1;
    }

    :host a.control:not(:link) {
        background-color: transparent;
        cursor: default;
    }
    :host([appearance="hypertext"]) .control:link,
    :host([appearance="hypertext"]) .control:visited {
        background: transparent;
        color: ${Jr.var};
        border-bottom: calc(var(--outline-width) * 1px) solid ${Jr.var};
    }

    :host([appearance="hypertext"]) .control:hover {
        border-bottom-color: ${to.var};
    }

    :host([appearance="hypertext"]) .control:active {
        border-bottom-color: ${eo.var};
    }

    :host([appearance="hypertext"]) .control:${we} {
        border-bottom: calc(var(--focus-outline-width) * 1px) solid ${So.var};
        margin-bottom: calc(calc(var(--outline-width) - var(--focus-outline-width)) * 1px);
    }
`.withBehaviors(Jr,to,eo,So,Ce(re`
            :host([appearance="hypertext"]:hover) {
                background-color: ${Se.ButtonFace};
                color: ${Se.ButtonText};
            }
            :host([appearance="hypertext"][href]) .control:hover,
            :host([appearance="hypertext"][href]) .control:active,
            :host([appearance="hypertext"][href]) .control:${we} {
                color: ${Se.LinkText};
                border-bottom-color: ${Se.LinkText};
                box-shadow: none;
            }
        `)),Oo=re`
    :host([appearance="lightweight"]) {
        background: transparent;
        color: ${Jr.var};
    }

    :host([appearance="lightweight"]) .control {
        padding: 0;
        height: initial;
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    :host([appearance="lightweight"]:hover) {
        color: ${to.var};
    }

    :host([appearance="lightweight"]:active) {
        color: ${eo.var};
    }

    :host([appearance="lightweight"]) .content {
        position: relative;
    }

    :host([appearance="lightweight"]) .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        position: absolute;
        top: calc(1em + 4px);
        width: 100%;
    }

    :host([appearance="lightweight"]:hover) .content::before {
        background: ${to.var};
    }

    :host([appearance="lightweight"]:active) .content::before {
        background: ${eo.var};
    }

    :host([appearance="lightweight"]) .control:${we} .content::before {
        background: ${Yr.var};
        height: calc(var(--focus-outline-width) * 1px);
    }

    :host([appearance="lightweight"][disabled]) .content::before {
        background: transparent;
    }
`.withBehaviors(Jr,to,eo,to,Yr,Ce(re`
            :host([appearance="lightweight"]) .control:hover,
            :host([appearance="lightweight"]) .control:${we} {
                forced-color-adjust: none;
                background: ${Se.ButtonFace};
                color: ${Se.Highlight};
            }
            :host([appearance="lightweight"]) .control:hover .content::before,
            :host([appearance="lightweight"]) .control:${we} .content::before {
                background: ${Se.Highlight};
            }

            :host([appearance="lightweight"].disabled) .control {
                forced-color-adjust: none;
                color: ${Se.GrayText};
            }

            :host([appearance="lightweight"].disabled) .control:hover .content::before {
                background: none;
            }

            :host([appearance="lightweight"][href]) .control:hover,
            :host([appearance="lightweight"][href]) .control:${we} {
                background: ${Se.ButtonFace};
                box-shadow: none;
                color: ${Se.LinkText};
            }

            :host([appearance="lightweight"][href]) .control:hover .content::before,
            :host([appearance="lightweight"][href]) .control:${we} .content::before {
                background: ${Se.LinkText};
            }
        `)),Ro=re`
    :host([appearance="outline"]) {
        background: transparent;
        border-color: ${fo.var};
    }

    :host([appearance="outline"]:hover) {
        border-color: ${vo.var};
    }

    :host([appearance="outline"]:active) {
        border-color: ${mo.var};
    }

    :host([appearance="outline"]) .control {
        border-color: inherit;
    }

    :host([appearance="outline"]) .control:${we} {
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${So.var};
        border-color: ${So.var};
    }

    :host([appearance="outline"][disabled]) {
        border-color: ${fo.var};
    }
`.withBehaviors(fo,vo,mo,So,Ce(re`
            :host([appearance="outline"]) .control {
                border-color: ${Se.ButtonText};
            }
            :host([appearance="outline"]) .control:${we} {
              forced-color-adjust: none;
              background-color: ${Se.Highlight};
              border-color: ${Se.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Se.ButtonText};
              color: ${Se.HighlightText};
              fill: currentColor;
            }
            :host([appearance="outline"][href]) .control {
                background: ${Se.ButtonFace};
                border-color: ${Se.LinkText};
                color: ${Se.LinkText};
                fill: currentColor;
            }
            :host([appearance="outline"][href]) .control:hover,
            :host([appearance="outline"][href]) .control:${we} {
              forced-color-adjust: none;
              border-color: ${Se.LinkText};
              box-shadow: 0 0 0 1px ${Se.LinkText} inset;
            }
            :host([appearance="outline"][disabled]) .control {
                border-color: ${Se.GrayText};
            }
        `)),Io=re`
    :host([appearance="stealth"]) {
        background: ${ao.var};
    }

    :host([appearance="stealth"]:hover) {
        background: ${lo.var};
    }

    :host([appearance="stealth"]:active) {
        background: ${co.var};
    }

    :host([appearance="stealth"][disabled]) {
        background: ${ao.var};
    }
`.withBehaviors(ao,lo,co,Ce(re`
            :host([appearance="stealth"]),
            :host([appearance="stealth"]) .control {
                forced-color-adjust: none;
                background: ${Se.ButtonFace};
                border-color: transparent;
                color: ${Se.ButtonText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:hover) .control {
                background: ${Se.Highlight};
                border-color: ${Se.Highlight};
                color: ${Se.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:${we}) .control {
                background: ${Se.Highlight};
                box-shadow: 0 0 0 1px ${Se.Highlight};
                color: ${Se.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"].disabled) {
                background: ${Se.ButtonFace};
            }

            :host([appearance="stealth"].disabled) .control {
                background: ${Se.ButtonFace};
                border-color: transparent;
                color: ${Se.GrayText};
            }

            :host([appearance="stealth"][href]) .control {
                color: ${Se.LinkText};
            }

            :host([appearance="stealth"][href]:hover) .control,
            :host([appearance="stealth"][href]:${we}) .control {
                background: ${Se.LinkText};
                border-color: ${Se.LinkText};
                color: ${Se.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"][href]:${we}) .control {
                forced-color-adjust: none;
                box-shadow: 0 0 0 1px ${Se.LinkText};
            }
        `));class jo{constructor(t,e,n){this.propertyName=t,this.value=e,this.styles=n}bind(t){q.getNotifier(t).subscribe(this,this.propertyName),this.handleChange(t,this.propertyName)}unbind(t){q.getNotifier(t).unsubscribe(this,this.propertyName),t.$fastController.removeStyles(this.styles)}handleChange(t,e){t[e]===this.value?t.$fastController.addStyles(this.styles):t.$fastController.removeStyles(this.styles)}}function Fo(t,e){return new jo("appearance",t,e)}const Lo=re`
    ${Ao}
`.withBehaviors(Fo("accent",Eo),Fo("hypertext",Po),Fo("lightweight",Oo),Fo("outline",Ro),Fo("stealth",Io));let No=class extends Jt{appearanceChanged(t,e){t!==e&&(this.classList.add(e),this.classList.remove(t))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(t,e){const n=this.defaultSlottedContent.filter((t=>t.nodeType===Node.ELEMENT_NODE));1===n.length&&n[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};y([tt],No.prototype,"appearance",void 0),No=y([bt({name:"fast-anchor",template:ie,styles:Lo,shadowOptions:{delegatesFocus:!0}})],No);const Do=Lo;let Mo=class extends No{};Mo=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-anchor",template:ie,styles:Do,shadowOptions:{delegatesFocus:!0}})],Mo);const Bo="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)",Vo=re`
  ${oe("flex")}

  :host {
    contain: content;
    overflow: hidden;
    cursor: pointer;
    flex-direction: column;
    border-radius: calc(var(--corner-radius) * 1px);
  }
  .image {
    position: relative;
    overflow: hidden;
    height: 0;
    padding-top: 56.25%;
    border-bottom-left-radius: calc(var(--corner-radius) * 1px);
    border-bottom-right-radius: calc(var(--corner-radius) * 1px);
  }
  .image-background {
    position: absolute;
    width: 100%;
    height: 100%;
    margin-top: -56.25%;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    transition: all 250ms ease;
  }
  :host(:hover) .image-background {
    transform: scale(1.05) translate(-1.25%, -1.25%);
    opacity: 0.8;
  }
  .button {
    margin-top: calc((${Bo}) * -0.5px);
    text-align: right;
    margin-right: calc((${Bo}) * 0.5px);
    position: relative;
    z-index: 1;
  }
  .content {
    padding: calc((${Bo}) * 0.25px) calc((${Bo}) * 0.5px) calc((${Bo}) * 0.5px);
  }
`.withBehaviors(ko,Co,Yr),Ho=Wt`
<div
  class="image"
  part="image"
  style="padding-top: ${t=>1/t.imageRatio*100}%;">
    <div class="image-background" style="margin-top: ${t=>-1/t.imageRatio*100}%;background-image: url(${t=>t.imagesrc});"></div>
</div>
<div class="button" part="button">
  <slot name="button"></slot>
</div>
<div class="content" part="content">
  <slot></slot>
</div>`;var qo=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Uo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let zo=class extends mt{constructor(){super(...arguments),this.imageRatio=4/3}imagesrcChanged(){console.log("imagesrc",this.imagesrc)}};qo([tt(),Uo("design:type",String)],zo.prototype,"imagesrc",void 0),qo([tt(),Uo("design:type",Object)],zo.prototype,"imageRatio",void 0),zo=qo([bt({name:"ecos-article",template:Ho,styles:Vo})],zo);const _o=re`
  ${oe("grid")}

  :host {
    contain: content;
    display: grid;
    justify-content: center;
    grid-gap: var(--spacing-unit);
  }
  
  @media screen and (min-width: 732px) {
    :host {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,Wo=Wt`<slot></slot>`;let Ko=class extends mt{};Ko=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-article-list",template:Wo,styles:_o})],Ko);class Go extends mt{constructor(){super(...arguments),this.generateBadgeStyle=()=>{if(!this.fill&&!this.color)return;const t=`background-color: var(--badge-fill-${this.fill});`,e=`color: var(--badge-color-${this.color});`;return this.fill&&!this.color?t:this.color&&!this.fill?e:`${e} ${t}`}}}y([tt({attribute:"fill"})],Go.prototype,"fill",void 0),y([tt({attribute:"color"})],Go.prototype,"color",void 0),y([tt({mode:"boolean"})],Go.prototype,"circular",void 0);const Qo=Wt`
    <template class="${t=>t.circular?"circular":""}">
        <div class="control" part="control" style="${t=>t.generateBadgeStyle()}">
            <slot></slot>
        </div>
    </template>
`,Yo=re`
    ${oe("inline-block")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
    }

    .control {
        border-radius: calc(var(--corner-radius) * 1px);
        padding: calc(var(--design-unit) * 0.5px) calc(var(--design-unit) * 1px);
        color: ${Jr.var};
        font-weight: 600;
    }

    .control[style] {
        font-weight: 400;
    }

    :host([circular]) .control {
        border-radius: 100px;
        padding: 0 calc(var(--design-unit) * 1px);
        ${""} height: calc((${$e} - (var(--design-unit) * 3)) * 1px);
        min-width: calc((${$e} - (var(--design-unit) * 3)) * 1px);
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }
`.withBehaviors(Jr);let Xo=class extends Go{};Xo=y([bt({name:"fast-badge",template:Qo,styles:Yo})],Xo);const Zo=Yo;function Jo(t,e,n=18){const i=ni(t);let s=i.c+e*n;return s<0&&(s=0),ii(new Un(i.l,s,i.h))}function ta(t,e,n=18){const i=ti(t),s=i.l-e*n;return ei(new qn(s,i.a,i.b))}function ea(t,e,n=18){return ta(t,-1*e,n)}function na(t,e){const n=Qn(t),i=Qn(e);return 0===i.s?new Pn(n.l,n.l,n.l,1):Yn(new Vn(i.h,i.s,n.l))}function ia(t,e){return t*e}function sa(t,e){return new Pn(ia(t.r,e.r),ia(t.g,e.g),ia(t.b,e.b),1)}function ra(t,e){return kn(t<.5?2*e*t:1-2*(1-e)*(1-t),0,1)}function oa(t,e){return new Pn(ra(t.r,e.r),ra(t.g,e.g),ra(t.b,e.b),1)}var aa;!function(t){t[t.Burn=0]="Burn",t[t.Color=1]="Color",t[t.Darken=2]="Darken",t[t.Dodge=3]="Dodge",t[t.Lighten=4]="Lighten",t[t.Multiply=5]="Multiply",t[t.Overlay=6]="Overlay",t[t.Screen=7]="Screen"}(aa||(aa={})),Ae("accent-light-50",(t=>ea(Li(t.accentBaseColor),.25).toStringHexRGB()),Qr.findProvider);const la=Ae("accent-light-100",(t=>ea(Li(t.accentBaseColor),1).toStringHexRGB()),Qr.findProvider),ca=Ae("accent-dark-50",(t=>ta(Li(t.accentBaseColor),1).toStringHexRGB()),Qr.findProvider),ha=Ae("accent-dark-100",(t=>ta(Li(t.accentBaseColor),2).toStringHexRGB()),Qr.findProvider),ua=re`
  .control {
    background: ${so.var};
    color: ${Yr.var};
  }
  :host([appearance=accent]) .control {
    background: ${fo.var};
    color: ${io.var};
  }
  :host([appearance=accent-light]) .control {
    background: ${la.var};
    color: ${io.var};
  }
`.withBehaviors(so,Yr,fo,io,la);var da=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let pa=class extends Xo{constructor(){super(...arguments),this.appearance="neutral",this.generateBadgeStyle=()=>""}};var ga;da([tt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],pa.prototype,"appearance",void 0),pa=da([bt({name:"ecos-badge",template:Qo,styles:[Zo,ua]})],pa),function(t){t[t.alt=18]="alt",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.arrowUp=38]="arrowUp",t[t.back=8]="back",t[t.backSlash=220]="backSlash",t[t.break=19]="break",t[t.capsLock=20]="capsLock",t[t.closeBracket=221]="closeBracket",t[t.colon=186]="colon",t[t.colon2=59]="colon2",t[t.comma=188]="comma",t[t.ctrl=17]="ctrl",t[t.delete=46]="delete",t[t.end=35]="end",t[t.enter=13]="enter",t[t.equals=187]="equals",t[t.equals2=61]="equals2",t[t.equals3=107]="equals3",t[t.escape=27]="escape",t[t.forwardSlash=191]="forwardSlash",t[t.function1=112]="function1",t[t.function10=121]="function10",t[t.function11=122]="function11",t[t.function12=123]="function12",t[t.function2=113]="function2",t[t.function3=114]="function3",t[t.function4=115]="function4",t[t.function5=116]="function5",t[t.function6=117]="function6",t[t.function7=118]="function7",t[t.function8=119]="function8",t[t.function9=120]="function9",t[t.home=36]="home",t[t.insert=45]="insert",t[t.menu=93]="menu",t[t.minus=189]="minus",t[t.minus2=109]="minus2",t[t.numLock=144]="numLock",t[t.numPad0=96]="numPad0",t[t.numPad1=97]="numPad1",t[t.numPad2=98]="numPad2",t[t.numPad3=99]="numPad3",t[t.numPad4=100]="numPad4",t[t.numPad5=101]="numPad5",t[t.numPad6=102]="numPad6",t[t.numPad7=103]="numPad7",t[t.numPad8=104]="numPad8",t[t.numPad9=105]="numPad9",t[t.numPadDivide=111]="numPadDivide",t[t.numPadDot=110]="numPadDot",t[t.numPadMinus=109]="numPadMinus",t[t.numPadMultiply=106]="numPadMultiply",t[t.numPadPlus=107]="numPadPlus",t[t.openBracket=219]="openBracket",t[t.pageDown=34]="pageDown",t[t.pageUp=33]="pageUp",t[t.period=190]="period",t[t.print=44]="print",t[t.quote=222]="quote",t[t.scrollLock=145]="scrollLock",t[t.shift=16]="shift",t[t.space=32]="space",t[t.tab=9]="tab",t[t.tilde=192]="tilde",t[t.windowsLeft=91]="windowsLeft",t[t.windowsOpera=219]="windowsOpera",t[t.windowsRight=92]="windowsRight"}(ga||(ga={}));const fa="form-associated-proxy",va="ElementInternals"in window&&"setFormValue"in window.ElementInternals.prototype,ma=new Map;function ba(t){const e=class extends t{constructor(...t){super(...t),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.formDisabledCallback=t=>{this.disabled=t},this.formResetCallback=()=>{this.value=this.initialValue,this.dirtyValue=!1},this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||""}static get formAssociated(){return va}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const t=this.proxy.labels,e=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=t?e.concat(Array.from(t)):e;return Object.freeze(n)}return x}valueChanged(t,e){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.setFormValue(this.value),this.validate()}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),P.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),P.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!va)return null;let t=ma.get(this);return t||(t=this.attachInternals(),ma.set(this,t)),t}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback)}disconnectedCallback(){this.proxyEventsToBlock.forEach((t=>this.proxy.removeEventListener(t,this.stopPropagation))),this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(t,e,n){this.elementInternals?this.elementInternals.setValidity(t,e,n):"string"==typeof e&&this.proxy.setCustomValidity(e)}attachProxy(){var t;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((t=>this.proxy.addEventListener(t,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",fa),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",fa)),null===(t=this.shadowRoot)||void 0===t||t.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var t;this.removeChild(this.proxy),null===(t=this.shadowRoot)||void 0===t||t.removeChild(this.proxySlot)}validate(){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage)}setFormValue(t,e){this.elementInternals&&this.elementInternals.setFormValue(t,e||t)}_keypressHandler(t){switch(t.keyCode){case 13:if(this.form instanceof HTMLFormElement){const t=this.form.querySelector("[type=submit]");null==t||t.click()}}}stopPropagation(t){t.stopPropagation()}};return tt({mode:"boolean"})(e.prototype,"disabled"),tt({mode:"fromView",attribute:"value"})(e.prototype,"initialValue"),tt(e.prototype,"name"),tt({mode:"boolean"})(e.prototype,"required"),_(e.prototype,"value"),e}class ya extends mt{}class wa extends(ba(ya)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class xa extends wa{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const t=this.proxy.isConnected;t||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),t||this.detachProxy()},this.handleFormReset=()=>{var t;null===(t=this.form)||void 0===t||t.reset()}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(t,e){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===e&&this.addEventListener("click",this.handleSubmission),"submit"===t&&this.removeEventListener("click",this.handleSubmission),"reset"===e&&this.addEventListener("click",this.handleFormReset),"reset"===t&&this.removeEventListener("click",this.handleFormReset)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type)}get root(){return this.control}}y([tt({mode:"boolean"})],xa.prototype,"autofocus",void 0),y([tt({attribute:"form"})],xa.prototype,"formId",void 0),y([tt],xa.prototype,"formaction",void 0),y([tt],xa.prototype,"formenctype",void 0),y([tt],xa.prototype,"formmethod",void 0),y([tt({mode:"boolean"})],xa.prototype,"formnovalidate",void 0),y([tt],xa.prototype,"formtarget",void 0),y([tt],xa.prototype,"type",void 0),y([_],xa.prototype,"defaultSlottedContent",void 0);class ka{}y([tt({attribute:"aria-expanded",mode:"fromView"})],ka.prototype,"ariaExpanded",void 0),y([tt({attribute:"aria-pressed",mode:"fromView"})],ka.prototype,"ariaPressed",void 0),Zt(ka,yt),Zt(xa,Qt,ka);const Ca=Wt`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Gt("control")}
    >
        ${Xt}
        <span class="content" part="content">
            <slot ${ne("defaultSlottedContent")}></slot>
        </span>
        ${Yt}
    </button>
`,Sa=re`
    ${Ao}
`.withBehaviors(Fo("accent",Eo),Fo("lightweight",Oo),Fo("outline",Ro),Fo("stealth",Io));let $a=class extends xa{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(t,e){const n=this.defaultSlottedContent.filter((t=>t.nodeType===Node.ELEMENT_NODE));1===n.length&&n[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};y([tt],$a.prototype,"appearance",void 0),$a=y([bt({name:"fast-button",template:Ca,styles:Sa,shadowOptions:{delegatesFocus:!0}})],$a);const Ta=Sa;const Aa=re`
  .control {
    padding: 0 calc((10 + max(0, calc(var(--corner-radius) - 10)) + (var(--design-unit) * 2 * max(var(--density), 0)))  * 1px);
  }
`;let Ea=class extends $a{};Ea=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-button",template:Ca,styles:[Ta,Aa],shadowOptions:{delegatesFocus:!0}})],Ea);const Pa=Wt`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Gt("control")}
    >
        <span class="shadow" part="shadow"></span>
        <span class="edge" part="edge"></span>
        <span class="front" part="front">
            ${Xt}
            <span class="content" part="content">
                <slot ${ne("defaultSlottedContent")}></slot>
            </span>
            ${Yt}
        </span>
    </button>
`,Oa=re`
  ${oe("inline")}

  .control {
    position: relative;
    border: none;
    background: transparent;
    padding: 0;
    cursor: pointer;
    outline-offset: 4px;
    transition: filter 250ms;
  }
  :host {
    contain: content;
  }
  
  :host([disabled]) {
    opacity: var(--disabled-opacity);
    cursor: ${xe};
  }
  .start,
  .end {
    display: flex;
  }
  .control.icon-only {
    padding: 0;
    line-height: 0;
  }
  ::slotted(svg) {
    ${""} width: 16px;
    height: 16px;
    pointer-events: none;
  }
  .start {
    margin-inline-end: 11px;
  }
  .end {
    margin-inline-start: 11px;
  }


  .shadow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: hsl(0deg 0% 0% / 0.25);
    will-change: transform;
    transform: translateY(2px);
    transition:
      transform
      600ms
      cubic-bezier(.3, .7, .4, 1);
  }
  .edge {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: linear-gradient(
      to left,
      ${ha.var} 0%,
      ${ca.var} 8%,
      ${ca.var} 92%,
      ${ha.var} 100%
    );
  }
  .front {
    display: block;
    position: relative;
    padding: 12px 42px;
    border-radius: 12px;
    font-size: 1.25rem;
    color: ${io.var};;
    background: ${fo.var};
    will-change: transform;
    transform: translateY(-4px);
    transition:
      transform
      600ms
      cubic-bezier(.3, .7, .4, 1);
  }
  :host(:hover) {
    filter: brightness(110%);
  }
  :host(:hover) .front {
    transform: translateY(-6px);
    transition:
      transform
      250ms
      cubic-bezier(.3, .7, .4, 1.5);
  }
  :host(:active) .front {
    transform: translateY(-2px);
    transition: transform 34ms;
  }
  :host(:hover) .shadow {
    transform: translateY(4px);
    transition:
      transform
      250ms
      cubic-bezier(.3, .7, .4, 1.5);
  }
  :host(:active) .shadow {
    transform: translateY(1px);
    transition: transform 34ms;
  }
  :host(:focus:not(:focus-visible)) {
    outline: none;
  }
`.withBehaviors(fo,Jr,io,ca,ha);let Ra=class extends $a{};Ra=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-button-3d",template:Pa,styles:[Oa],shadowOptions:{delegatesFocus:!0}})],Ra);const Ia=Wt`
    <slot></slot>
`;var ja;function Fa(t,e,n,i){if(isNaN(t)||t<=0)return n;if(t>=1)return i;switch(e){case ja.HSL:return Yn(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new Vn(An(t,e.h,n.h),Tn(t,e.s,n.s),Tn(t,e.l,n.l))}(t,Qn(n),Qn(i)));case ja.HSV:return function(t,e=1){const n=t.s*t.v,i=n*(1-Math.abs(t.h/60%2-1)),s=t.v-n;let r=0,o=0,a=0;return t.h<60?(r=n,o=i,a=0):t.h<120?(r=i,o=n,a=0):t.h<180?(r=0,o=n,a=i):t.h<240?(r=0,o=i,a=n):t.h<300?(r=i,o=0,a=n):t.h<360&&(r=n,o=0,a=i),new Pn(r+s,o+s,a+s,e)}(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new Hn(An(t,e.h,n.h),Tn(t,e.s,n.s),Tn(t,e.v,n.v))}(t,Xn(n),Xn(i)));case ja.XYZ:return Jn(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new zn(Tn(t,e.x,n.x),Tn(t,e.y,n.y),Tn(t,e.z,n.z))}(t,Zn(n),Zn(i)));case ja.LAB:return ei(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new qn(Tn(t,e.l,n.l),Tn(t,e.a,n.a),Tn(t,e.b,n.b))}(t,ti(n),ti(i)));case ja.LCH:return ii(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new Un(Tn(t,e.l,n.l),Tn(t,e.c,n.c),An(t,e.h,n.h))}(t,ni(n),ni(i)));default:return function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new Pn(Tn(t,e.r,n.r),Tn(t,e.g,n.g),Tn(t,e.b,n.b),Tn(t,e.a,n.a))}(t,n,i)}}!function(t){t[t.RGB=0]="RGB",t[t.HSL=1]="HSL",t[t.HSV=2]="HSV",t[t.XYZ=3]="XYZ",t[t.LAB=4]="LAB",t[t.LCH=5]="LCH"}(ja||(ja={}));class La{constructor(t){if(null==t||0===t.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(t)}static createBalancedColorScale(t){if(null==t||0===t.length)throw new Error("The colors argument must be non-empty");const e=new Array(t.length);for(let n=0;n<t.length;n++)0===n?e[n]={color:t[n],position:0}:n===t.length-1?e[n]={color:t[n],position:1}:e[n]={color:t[n],position:n*(1/(t.length-1))};return new La(e)}getColor(t,e=ja.RGB){if(1===this.stops.length)return this.stops[0].color;if(t<=0)return this.stops[0].color;if(t>=1)return this.stops[this.stops.length-1].color;let n=0;for(let e=0;e<this.stops.length;e++)this.stops[e].position<=t&&(n=e);let i=n+1;return i>=this.stops.length&&(i=this.stops.length-1),Fa((t-this.stops[n].position)*(1/(this.stops[i].position-this.stops[n].position)),e,this.stops[n].color,this.stops[i].color)}trim(t,e,n=ja.RGB){if(t<0||e>1||e<t)throw new Error("Invalid bounds");if(t===e)return new La([{color:this.getColor(t,n),position:0}]);const i=[];for(let n=0;n<this.stops.length;n++)this.stops[n].position>=t&&this.stops[n].position<=e&&i.push(this.stops[n]);if(0===i.length)return new La([{color:this.getColor(t),position:t},{color:this.getColor(e),position:e}]);i[0].position!==t&&i.unshift({color:this.getColor(t),position:t}),i[i.length-1].position!==e&&i.push({color:this.getColor(e),position:e});const s=e-t,r=new Array(i.length);for(let e=0;e<i.length;e++)r[e]={color:i[e].color,position:(i[e].position-t)/s};return new La(r)}findNextColor(t,e,n=!1,i=ja.RGB,s=.005,r=32){isNaN(t)||t<=0?t=0:t>=1&&(t=1);const o=this.getColor(t,i),a=n?0:1;if(Gn(o,this.getColor(a,i))<=e)return a;let l=n?0:t,c=n?t:0,h=a,u=0;for(;u<=r;){h=Math.abs(c-l)/2+l;const t=Gn(o,this.getColor(h,i));if(Math.abs(t-e)<=s)return h;t>e?n?l=h:c=h:n?c=h:l=h,u++}return h}clone(){const t=new Array(this.stops.length);for(let e=0;e<t.length;e++)t[e]={color:this.stops[e].color,position:this.stops[e].position};return new La(t)}sortColorScaleStops(t){return t.sort(((t,e)=>{const n=t.position,i=e.position;return n<i?-1:n>i?1:0}))}}class Na{constructor(t){this.config=Object.assign({},Na.defaultPaletteConfig,t),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(t){let e=!1;for(const n in t)this.config[n]&&(this.config[n].equalValue?this.config[n].equalValue(t[n])||(this.config[n]=t[n],e=!0):t[n]!==this.config[n]&&(this.config[n]=t[n],e=!0));return e&&this.updatePaletteColors(),e}updatePaletteColors(){const t=this.generatePaletteColorScale();for(let e=0;e<this.config.steps;e++)this.palette[e]=t.getColor(e/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const t=Qn(this.config.baseColor),e=new La([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let n=e.getColor(0),i=e.getColor(1);if(t.s>=this.config.saturationAdjustmentCutoff&&(n=Jo(n,this.config.saturationLight),i=Jo(i,this.config.saturationDark)),0!==this.config.multiplyLight){const t=sa(this.config.baseColor,n);n=Fa(this.config.multiplyLight,this.config.interpolationMode,n,t)}if(0!==this.config.multiplyDark){const t=sa(this.config.baseColor,i);i=Fa(this.config.multiplyDark,this.config.interpolationMode,i,t)}if(0!==this.config.overlayLight){const t=oa(this.config.baseColor,n);n=Fa(this.config.overlayLight,this.config.interpolationMode,n,t)}if(0!==this.config.overlayDark){const t=oa(this.config.baseColor,i);i=Fa(this.config.overlayDark,this.config.interpolationMode,i,t)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new La([{position:0,color:this.config.baseColor},{position:1,color:i.clamp()}]):this.config.baseScalePosition>=1?new La([{position:0,color:n.clamp()},{position:1,color:this.config.baseColor}]):new La([{position:0,color:n.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:i.clamp()}]):new La([{position:0,color:n.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:i.clamp()}])}}Na.defaultPaletteConfig={baseColor:Dn("#808080"),steps:11,interpolationMode:ja.RGB,scaleColorLight:new Pn(1,1,1,1),scaleColorDark:new Pn(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},Na.greyscalePaletteConfig={baseColor:Dn("#808080"),steps:11,interpolationMode:ja.RGB,scaleColorLight:new Pn(1,1,1,1),scaleColorDark:new Pn(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},Na.defaultPaletteConfig.scaleColorLight,Na.defaultPaletteConfig.scaleColorDark;class Da{constructor(t){this.palette=[],this.config=Object.assign({},Da.defaultPaletteConfig,t),this.regenPalettes()}regenPalettes(){let t=this.config.steps;(isNaN(t)||t<3)&&(t=3);const e=.14,n=new Pn(e,e,e,1),i=new Na(Object.assign(Object.assign({},Na.greyscalePaletteConfig),{baseColor:n,baseScalePosition:86/94,steps:t})).palette,s=(_n(this.config.baseColor)+Qn(this.config.baseColor).l)/2,r=this.matchRelativeLuminanceIndex(s,i)/(t-1),o=this.matchRelativeLuminanceIndex(e,i)/(t-1),a=Qn(this.config.baseColor),l=Yn(Vn.fromObject({h:a.h,s:a.s,l:e})),c=Yn(Vn.fromObject({h:a.h,s:a.s,l:.06})),h=new Array(5);h[0]={position:0,color:new Pn(1,1,1,1)},h[1]={position:r,color:this.config.baseColor},h[2]={position:o,color:l},h[3]={position:.99,color:c},h[4]={position:1,color:new Pn(0,0,0,1)};const u=new La(h);this.palette=new Array(t);for(let e=0;e<t;e++){const n=u.getColor(e/(t-1),ja.RGB);this.palette[e]=n}}matchRelativeLuminanceIndex(t,e){let n=Number.MAX_VALUE,i=0,s=0;const r=e.length;for(;s<r;s++){const r=Math.abs(_n(e[s])-t);r<n&&(n=r,i=s)}return i}}function Ma(t){return new Da({baseColor:t}).palette.map((t=>t.toStringHexRGB().toUpperCase()))}Da.defaultPaletteConfig={baseColor:Dn("#808080"),steps:94};const Ba="box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))));",Va=re`
    ${oe("block")} :host {
        --elevation: 4;
        display: block;
        contain: content;
        height: var(--card-height, 100%);
        width: var(--card-width, 100%);
        box-sizing: border-box;
        background: var(--background-color);
        border-radius: calc(var(--corner-radius) * 1px);
        ${Ba}
    }
`.withBehaviors(Ce(re`
            :host {
                forced-color-adjust: none;
                background: ${Se.Canvas};
                box-shadow: 0 0 0 1px ${Se.CanvasText};
            }
        `)),Ha=new Map;let qa=class extends Hr{cardBackgroundColorChanged(t,e){if(e){const t=Dn(this.cardBackgroundColor);if(null!==t){if(Ha.has(t))this.neutralPalette=Ha.get(t);else{const e=Ma(t);Ha.set(t,e),this.neutralPalette=e}this.backgroundColor=this.cardBackgroundColor}}else this.provider&&this.provider.designSystem&&this.handleChange(this.provider.designSystem,"backgroundColor")}handleChange(t,e){this.cardBackgroundColor||(this.backgroundColor=sr(t))}connectedCallback(){var t,e;super.connectedCallback();const n=q.getNotifier(null===(t=this.provider)||void 0===t?void 0:t.designSystem);n.subscribe(this,"backgroundColor"),n.subscribe(this,"neutralPalette"),this.handleChange(null===(e=this.provider)||void 0===e?void 0:e.designSystem,"backgroundColor")}};y([zr({attribute:!1,cssCustomProperty:"background-color",default:"#FFFFFF"})],qa.prototype,"backgroundColor",void 0),y([tt({attribute:"card-background-color"})],qa.prototype,"cardBackgroundColor",void 0),y([zr({attribute:!1,default:Ma(Dn("#FFFFFF")),cssCustomProperty:!1})],qa.prototype,"neutralPalette",void 0),qa=y([bt({name:"fast-card",template:Ia,styles:Va})],qa);const Ua=Va;let za=class extends qa{};za=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-card",template:Ia,styles:Ua,shadowOptions:{delegatesFocus:!0}})],za);const _a=re`
  ${oe("grid")}

  :host {
    contain: content;
    display: grid;
    justify-content: center;
    grid-gap: var(--spacing-unit);
  }
  
  @media screen and (min-width: 732px) {
    :host {
      grid-template-columns: repeat(auto-fit, minmax(var(--ecos-collection-min-item-width), 1fr));
    }
  }
`,Wa=Wt`<template style="--ecos-collection-min-item-width: ${t=>t.minitemwidth};"><slot></slot></template>`;var Ka=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Ga=class extends mt{constructor(){super(...arguments),this.minitemwidth="250px"}};Ka([tt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],Ga.prototype,"minitemwidth",void 0),Ga=Ka([bt({name:"ecos-collection",template:Wa,styles:_a})],Ga);const Qa=re`
  ${oe("inline")}

  :host {
    position: relative;
    display: inline-block;
  }

  .colorizer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: currentColor;
    mix-blend-mode: lighten;
  }
`,Ya=Wt`
<slot></slot>
<span part="colorizer" class="colorizer"></span>
`;var Xa=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Za=class extends mt{constructor(){super(...arguments),this.mode="lighten"}modeChanged(){window.requestAnimationFrame((()=>{if(!this.shadowRoot||!this.shadowRoot.querySelector(".colorizer"))return void this.modeChanged();const t=this.shadowRoot.querySelector(".colorizer");t&&("ligthen"===this.mode?t.removeAttribute("style"):t.setAttribute("style","mix-blend-mode:"+this.mode))}))}};Xa([tt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],Za.prototype,"mode",void 0),Za=Xa([bt({name:"ecos-colorize",template:Ya,styles:Qa})],Za);var Ja=n(337),tl=n.n(Ja);function el(t,e,n=1.2){const i=t.typeRampBaseFontSize,s=tl()({ratio:e,base:i});t.typeRampBaseFontSize=`${s(0)}px`,t.typeRampBaseLineHeight=s(0)*n+"px",t.typeRampMinus1FontSize=`${s(-1)}px`,t.typeRampMinus1LineHeight=s(-1)*n+"px",t.typeRampMinus2FontSize=`${s(-2)}px`,t.typeRampMinus2LineHeight=s(-2)*n+"px",t.typeRampPlus1FontSize=`${s(1)}px`,t.typeRampPlus1LineHeight=s(1)*n+"px",t.typeRampPlus2FontSize=`${s(2)}px`,t.typeRampPlus2LineHeight=s(2)*n+"px",t.typeRampPlus3FontSize=`${s(3)}px`,t.typeRampPlus3LineHeight=s(3)*n+"px",t.typeRampPlus4FontSize=`${s(4)}px`,t.typeRampPlus4LineHeight=s(4)*n+"px",t.typeRampPlus5FontSize=`${s(5)}px`,t.typeRampPlus5LineHeight=s(5)*n+"px",t.typeRampPlus6FontSize=`${s(6)}px`,t.typeRampPlus6LineHeight=s(6)*n+"px"}var nl=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},il=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let sl=class extends Qr{constructor(){super(...arguments),this.applybackgroundtobody=!1}accentBaseColorChanged(t,e){if(console.log("accentBaseColorChanged"),e!==t){this.accentBaseColor=e;const t=Bn(e);t&&(this.accentPalette=Ma(t)),this.setBackgroundTeintedColor()}}backgroundColorChanged2(){const t=Bn(this.backgroundColor);t&&(this.neutralPalette=Ma(t)),this.setBackgroundTeintedColor(),this.applybackgroundtobody&&document.body.style.setProperty("background-color",t.toStringHexRGB())}typeRampBaseFontSizeChanged(t,e){e!==t&&el(this,this.typeRampRatio,this.lineHeightRatio)}typeRampRatioChanged(t,e){e!==t&&el(this,this.typeRampRatio,this.lineHeightRatio)}lineHeightRatioChanged(t,e){e!==t&&el(this,this.typeRampRatio,this.lineHeightRatio)}setBackgroundTeintedColor(){const t=Bn(this.backgroundColor),e=Bn(this.accentBaseColor),n=na(t,e).toStringHexRGB();n!==t.toStringHexRGB()?this.backgroundTeintedColor=n:this.backgroundTeintedColor=na(e,t).toStringHexRGB()}};nl([tt({mode:"boolean"}),il("design:type",Object)],sl.prototype,"applybackgroundtobody",void 0),nl([zr({attribute:"type-ramp-ratio",default:1.25}),il("design:type",Number)],sl.prototype,"typeRampRatio",void 0),nl([zr({attribute:"line-height-ratio",default:1.2}),il("design:type",Number)],sl.prototype,"lineHeightRatio",void 0),nl([zr({attribute:!1,cssCustomProperty:"background-teinted-color",default:Pe.backgroundColor}),il("design:type",String)],sl.prototype,"backgroundTeintedColor",void 0),sl=nl([qr({name:"ecos-design-system-provider",template:_r,styles:re`:host { display: block }`})],sl);var rl=n(760),ol=n.n(rl);class al extends mt{constructor(){super(...arguments),this.modal=!0,this.hidden=!1,this.trapFocus=!0,this.onChildListChange=t=>{t.length&&(this.tabbableElements=ol()(this))},this.trapFocusChanged=()=>{this.trapFocus?(this.tabbableElements=ol()(this),document.addEventListener("focusin",this.handleDocumentFocus),this.shouldForceFocus(document.activeElement)&&this.focusFirstElement()):document.removeEventListener("focusin",this.handleDocumentFocus)},this.handleDocumentKeydown=t=>{if(!t.defaultPrevented&&!this.hidden)switch(t.keyCode){case 27:this.dismiss();break;case 9:this.handleTabKeyDown(t)}},this.handleDocumentFocus=t=>{!t.defaultPrevented&&this.shouldForceFocus(t.target)&&(this.focusFirstElement(),t.preventDefault())},this.handleTabKeyDown=t=>{if(!this.trapFocus)return;const e=this.tabbableElements.length;if(0===e)return this.dialog.focus(),void t.preventDefault();t.shiftKey&&t.target===this.tabbableElements[0]?(this.tabbableElements[e-1].focus(),t.preventDefault()):t.shiftKey||t.target!==this.tabbableElements[e-1]||(this.tabbableElements[0].focus(),t.preventDefault())},this.focusFirstElement=()=>{0===this.tabbableElements.length?this.dialog.focus():this.tabbableElements[0].focus()},this.shouldForceFocus=t=>!this.hidden&&!this.contains(t)}dismiss(){this.$emit("dismiss")}show(){this.hidden=!1}hide(){this.hidden=!0}connectedCallback(){super.connectedCallback(),this.observer=new MutationObserver(this.onChildListChange),this.observer.observe(this,{childList:!0}),document.addEventListener("keydown",this.handleDocumentKeydown),P.queueUpdate(this.trapFocusChanged)}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect(),document.removeEventListener("keydown",this.handleDocumentKeydown),this.trapFocus&&document.removeEventListener("focusin",this.handleDocumentFocus)}}function ll(t,e){const n="function"==typeof e?e:()=>e;return(e,i)=>t(e,i)?n(e,i):null}y([tt({mode:"boolean"})],al.prototype,"modal",void 0),y([tt({mode:"boolean"})],al.prototype,"hidden",void 0),y([tt({attribute:"trap-focus",mode:"boolean"})],al.prototype,"trapFocus",void 0),y([tt({attribute:"aria-describedby"})],al.prototype,"ariaDescribedby",void 0),y([tt({attribute:"aria-labelledby"})],al.prototype,"ariaLabelledby",void 0),y([tt({attribute:"aria-label"})],al.prototype,"ariaLabel",void 0);const cl=Wt`
    <div class="positioning-region" part="positioning-region">
        ${ll((t=>t.modal),Wt`
                <div
                    class="overlay"
                    part="overlay"
                    role="presentation"
                    tabindex="-1"
                    @click="${t=>t.dismiss()}"
                ></div>
            `)}
        <div
            role="dialog"
            class="control"
            part="control"
            aria-modal="${t=>t.modal}"
            aria-describedby="${t=>t.ariaDescribedby}"
            aria-labelledby="${t=>t.ariaLabelledby}"
            aria-label="${t=>t.ariaLabel}"
            ${Gt("dialog")}
        >
            <slot></slot>
        </div>
    </div>
`,hl=re`
    :host([hidden]) {
        display: none;
    }

    :host {
        --elevation: 14;
        --dialog-height: 480px;
        --dialog-width: 640px;
        display: block;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        touch-action: none;
    }

    .positioning-region {
        display: flex;
        justify-content: center;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: auto;
    }

    .control {
        ${Ba}
        margin-top: auto;
        margin-bottom: auto;
        width: var(--dialog-width);
        height: var(--dialog-height);
        background-color: var(--background-color);
        z-index: 1;
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid transparent;
    }
`;let ul=class extends al{};ul=y([bt({name:"fast-dialog",template:cl,styles:hl})],ul);const dl=hl,pl=re`
  :host(.ecos-dialog--fading) {
    opacity: 1;
    transition: opacity ease-in-out 250ms;
  }
  :host(.ecos-dialog--fading[hidden]) {
    opacity: 0;
    display: block!important;
    pointer-events: none;
  }
  :host(.ecos-dialog--fading) .control {
    transform: scale(1);
    transition: transform ease-in-out 250ms;
  }
  :host(.ecos-dialog--fading[hidden]) .control {
    transform: scale(0);
  }

  :host(.ecos-dialog--slide-up) {
    opacity: 1;
    transition: opacity ease-in-out 250ms;
  }
  :host(.ecos-dialog--slide-up[hidden]) {
    opacity: 0;
    display: block!important;
    pointer-events: none;
  }
  :host(.ecos-dialog--slide-up) .control {
    transform: translateY(0);
    transition: transform ease-in-out 250ms;
  }
  :host(.ecos-dialog--slide-up[hidden]) .control {
    transform: translateY(100vh);
  }
`;var gl=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};const fl=Wt`<template class="ecos-dialog--${t=>t.effect}">${cl}</template>`;let vl=class extends ul{constructor(){super(...arguments),this.effect=""}};gl([tt(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],vl.prototype,"effect",void 0),vl=gl([bt({name:"ecos-dialog",template:fl,styles:[dl,pl]})],vl);const ml=re`
  ${oe("grid")}

  :host {
    contain: content;
    grid-gap: calc(var(--spacing-unit) * 0.5);
  }
`,bl=Wt`<slot></slot>`;let yl=class extends mt{};yl=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-form",template:bl,styles:ml})],yl);const wl=re`
  ${oe("flex")}

  :host {
    contain: content;
    flex-direction: column;
  }
`,xl=Wt`<slot></slot>`;let kl=class extends mt{};kl=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-form-row",template:xl,styles:wl})],kl);const Cl=Wt`<span class="${t=>t.button?"button":""} ${t=>t.accent?"accent":""} ${t=>t.lightweight?"lightweight":""}"></span>`,Sl=re`
  :host {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    contain: content;
    stroke-width: 1px;
  }
  span {
    display:inline-flex;
    align-items: center;
    justify-content: center;
    contain: content;
    stroke-width: 1px;
  }
  .button {
    margin: 4px;
    padding: 8px;
    background: ${so.var};
    color: ${Yr.var};
    border-radius: calc(var(--corner-radius) * 1px);
    cursor: pointer;
  }
  .button:hover {
    background: ${ro.var};
  }
  .button:active {
    background: ${oo.var};
  }
  .button.disabled {
    background: ${so.var};
  }
  .button.lightweight {
    background: transparent;
    color: ${Jr.var};
  }
  .button.lightweight:hover {
    color: ${to.var};
  }
  .button.lightweight:active {
    color: ${eo.var};
  }
  .button.accent {
    margin: 4px;
    padding: 8px;
    background: ${fo.var};
    color: ${io.var};
    box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${$o.var};
    border-radius: calc(var(--corner-radius) * 1px);
  }
  .button.accent:hover {
    background: ${vo.var};
  }
  .button.accent:active {
    background: ${mo.var};
  }
  .button.accent.disabled {
    background: ${fo.var};
  }
`.withBehaviors(so,Yr,ro,oo,fo,io,to,eo,$o,mo,Jr);var $l,Tl=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Al=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let El=$l=class extends mt{constructor(){super(...arguments),this.button=!1,this.lightweight=!1,this.accent=!1,this.type="outline",this.weight=1,this.size="lg"}buttonChanged(){this.setIcon()}lightweightChanged(){this.setIcon()}accentChanged(){this.setIcon()}iconChanged(){this.setIcon()}setIcon(){window.requestAnimationFrame((()=>{if(!this.shadowRoot||!this.shadowRoot.querySelector("span"))return void this.setIcon();this.shadowRoot.querySelector("span").innerHTML="solid"===this.type?$l.solid[this.icon]:$l.outline[this.icon];const t=this.shadowRoot.querySelector("svg");t instanceof SVGElement&&(t.setAttribute("part","svg"),t.style.width=`${this.sizeInPx()}px`,t.style.height=`${this.sizeInPx()}px`);const e=this.shadowRoot.querySelectorAll("path");for(const t of e)t.setAttribute("stroke-width",`${this.weight}`)}))}typeChanged(){"solid"!==this.type&&"outline"!==this.type&&(this.type="outline"),this.setIcon()}weightChanged(){this.setIcon()}sizeChanged(){this.setIcon()}sizeInPx(){return parseInt(this.size,10).toString()===this.size?parseInt(this.size,10):"sm"===this.size||"small"===this.size?16:"md"===this.size||"medium"===this.size?20:"lg"===this.size||"large"===this.size?24:"xl"===this.size||"extra-large"===this.size?28:24}};El.solid={},El.outline={},Tl([tt({mode:"boolean"}),Al("design:type",Object)],El.prototype,"button",void 0),Tl([tt({mode:"boolean"}),Al("design:type",Object)],El.prototype,"lightweight",void 0),Tl([tt({mode:"boolean"}),Al("design:type",Object)],El.prototype,"accent",void 0),Tl([tt(),Al("design:type",String)],El.prototype,"icon",void 0),Tl([tt(),Al("design:type",String)],El.prototype,"type",void 0),Tl([tt(),Al("design:type",Object)],El.prototype,"weight",void 0),Tl([tt(),Al("design:type",Object)],El.prototype,"size",void 0),El=$l=Tl([bt({name:"ecos-icon",template:Cl,styles:Sl})],El);const Pl="((var(--base-height-multiplier) + var(--density)) * var(--design-unit)) + 2 * var(--design-unit) + (10 + (var(--design-unit) * 2 * max(0, var(--density))))",Ol=re`
  ${oe("block")}

  :host {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  :host(.fixed) {
    position: fixed;
  }

  .navbar {
    position: relative;
    z-index: 2;
    height: calc((${Pl}) * 1px);
    width: 100%;
    box-sizing: border-box;
    font-family: var(--body-font);
    font-size: var(--type-ramp-base-font-size);
    line-height: var(--type-ramp-base-line-height);
    padding-left: calc(var(--design-unit) * 4px);
    padding-right: calc(var(--design-unit) * 4px);
    box-shadow: var(--elevation2);
    background: ${Co.var};
    color: ${Yr.var};
    transition: 500ms ease;
    transition-property: background-color, box-shadow;
  }
  :host(.transparent-first:not(.scrolled)) .navbar {
    background-color: transparent;
    box-shadow: none;
  }
  .navbar.secondary-opened {
    box-shadow: none;
  }
  :host(.navbar-layer-1) .navbar {
    background: ${ko.var};
  }

  .navbar-content {
    display: grid;
    height: 100%;
    max-width: 100ch;
    margin-left: auto;
    margin-right: auto;
    align-items: center;
    justify-content: flex-start;
  }

  /* (mobile) mode */
  .navbar-content {
    grid-template-columns: 1fr 50px;
  }
  .branding {
    justify-self: start;
  }
  .main {
    display: none;
  }
  .secondary {
    display: none;
  }
  .secondary-toggler {
    display: none;
    cursor: pointer;
  }
  .secondary-toggler ::part(control) {
    cursor: pointer;
  }
  .toggler {
    justify-self: end;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
  }
  .toggler > svg {
    width: 24px;
    height: 24px;
  }
  .mobile-content {
    transition: transform 250ms ease, opacity 250ms ease;
    position: absolute;
    z-index: 1;
    top: calc((${Pl}) * 1px);
    width: 100%;
    padding: calc(var(--design-unit) * 4px);
    background: ${Co.var};
    color: ${Yr.var};
    box-shadow: var(--elevation2);
  }
  :host(.navbar-layer-1) .mobile-content {
    background: ${ko.var};
  }
  .mobile-content[hidden] {
    display: block;
    opacity: 0;
    transform: translateY(-100%);
    pointer-events: none;
  }

  .mobile-main,
  .mobile-secondary {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .mobile-secondary {
    margin-top: calc(var(--design-unit) * 4px);
  }

  /* (desktop) mode */
  @media screen and (min-width: 732px) {
    .navbar-content {
      grid-template-columns: 1fr max-content 1fr;
    }
    .main {
      display: block;
      justify-self: center;
    }
    .xxx-secondary {
      display: block;
      justify-self: end;
    }
    .secondary-toggler {
      display: block;
      justify-self: end;
    }
    .secondary-content {
      box-sizing: border-box;
      transition: transform 250ms ease, opacity 250ms ease;
      position: absolute;
      z-index: 1;
      top: calc((${Pl}) * 1px);
      width: 100%;
      padding: calc(var(--design-unit) * 4px);
      text-align: center;
      box-shadow: var(--elevation2);
      background: ${Co.var};
      color: ${Yr.var};
    }
    .secondary-content[hidden] {
      display: block;
      opacity: 0;
      transform: translateY(-100%);
      pointer-events: none;
    }
    :host(.navbar-layer-1) .secondary-content {
      background: ${ko.var};
    }
    .toggler {
      display: none;
    }
  }
`.withBehaviors(ko,Co,Yr),Rl=Wt`
<template class="${t=>t.fixed?"fixed":""} ${t=>t.transparentfirst?"transparent-first":""} ${t=>t.scrolled?"scrolled":""} navbar-layer-${t=>t.layer}">
  <div class="navbar" part="navbar" ${Gt("navbarElement")}>
    <div class="navbar-content" part="navbar-content">
      <div class="branding" part="branding">
        <slot name="branding"></slot>
      </div>
      <div class="main" part="main" ${Gt("mainContentSource")}>
        <slot name="main" ${Gt("mainContentSlot")}></slot>
      </div>
      <div class="secondary" part="secondary" ${Gt("secondaryContentSource")}>
        <slot name="secondary" ${Gt("secondaryContentSlot")}></slot>
      </div>
      <div class="secondary-toggler" part="secondary-toggler" ${Gt("secondaryTogglerElement")} @click="${t=>t.toggleSecondary()}">
        <slot name="secondary-toggler"></slot>
      </div>
      <div class="toggler" part="toggler" ${Gt("mobileTogglerElement")} @click="${t=>t.toggle()}">
        ${ll((t=>!t.isMobileOpened),Wt`
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/>
        </svg>
        `)}
        ${ll((t=>t.isMobileOpened),Wt`
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
        `)}
      </div>
    </div>
  </div>
  <div hidden class="secondary-content" part="secondary-content" ${Gt("secondaryContentElement")}>

  </div>
  <div hidden class="mobile-content" part="mobile-content" ${Gt("mobileContentElement")}>
    <div class="mobile-main" part="mobile-main" ${Gt("mainContentMobileContainer")}>
    </div>
    <div class="mobile-secondary" part="mobile-secondary" ${Gt("secondaryContentMobileContainer")}>
    </div>
  </div>
</template>`;var Il=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},jl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Fl=class extends mt{constructor(){super(...arguments),this.layer="4",this.fixed=!0,this.transparentfirst=!1,this.scrollingcontainerselector="",this.scrolled=!1,this.isMobileOpened=!1,this.isSecondaryOpened=!1}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this),this.addScrollListener()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this),this.removeScrollListener()}addScrollListener(){this.scrollingcontainerselector?document.querySelector(this.scrollingcontainerselector).addEventListener("scroll",this):document.addEventListener("scroll",this)}removeScrollListener(){this.scrollingcontainerselector?document.querySelector(this.scrollingcontainerselector).removeEventListener("scroll",this):document.removeEventListener("scroll",this)}handleEvent(t){t instanceof MouseEvent?this.handleClick(t):this.handleScroll(t)}handleClick(t){for(const e of t.composedPath()){if(e===this.secondaryTogglerElement)return;if(e===this.mobileTogglerElement)return}this.isMobileOpened&&this.toggle(),this.isSecondaryOpened&&this.toggleSecondary()}handleScroll(t){t.target instanceof HTMLElement?this.scrolled=t.target.scrollTop>20:this.scrolled=window.scrollY>20}toggle(){this.isMobileOpened?(this.mainContentSource.appendChild(this.mainContentSlot),this.secondaryContentSource.appendChild(this.secondaryContentSlot)):(this.mainContentMobileContainer.appendChild(this.mainContentSlot),this.secondaryContentMobileContainer.appendChild(this.secondaryContentSlot)),this.isMobileOpened=!this.isMobileOpened,this.mobileContentElement.toggleAttribute("hidden",!this.isMobileOpened)}toggleSecondary(){this.isSecondaryOpened?(this.navbarElement.classList.toggle("secondary-opened",!1),this.secondaryContentSource.appendChild(this.secondaryContentSlot)):(this.navbarElement.classList.toggle("secondary-opened",!0),this.secondaryContentElement.appendChild(this.secondaryContentSlot)),this.isSecondaryOpened=!this.isSecondaryOpened,this.secondaryContentElement.toggleAttribute("hidden",!this.isSecondaryOpened)}};Il([tt(),jl("design:type",Object)],Fl.prototype,"layer",void 0),Il([tt({mode:"boolean"}),jl("design:type",Object)],Fl.prototype,"fixed",void 0),Il([tt({mode:"boolean"}),jl("design:type",Object)],Fl.prototype,"transparentfirst",void 0),Il([tt(),jl("design:type",Object)],Fl.prototype,"scrollingcontainerselector",void 0),Il([_,jl("design:type",Object)],Fl.prototype,"scrolled",void 0),Il([_,jl("design:type",Object)],Fl.prototype,"isMobileOpened",void 0),Il([_,jl("design:type",Object)],Fl.prototype,"isSecondaryOpened",void 0),Fl=Il([bt({name:"ecos-navbar",template:Rl,styles:Ol})],Fl);const Ll=re`

  .ecos-section {
    display: grid;
    contain: content;
    --ecos-section-center-width: 60ch;
  }
  .ecos-section[nocontain] {
    contain: inherit;
  }

  .ecos-section {
    grid-template-columns: 1fr min(var(--ecos-section-center-width), calc(100% - 2 * var(--spacing-unit))) 1fr;
    grid-column-gap: var(--spacing-unit);
  }

  .ecos-section:not(.no-vertical-padding) {
    padding-top: var(--spacing-unit);
    padding-bottom: var(--spacing-unit);
  }
  .ecos-section.largev:not(.no-vertical-padding) {
    padding-top: calc(var(--spacing-unit) * 2);
    padding-bottom: calc(var(--spacing-unit) * 2);
  }

  .ecos-section > * {
    grid-column: 2;
    /* this prevent content of the grid item from growing */
    /* https://stackoverflow.com/questions/43311943/prevent-content-from-expanding-grid-items */
    min-width: 0; 
  }
  .ecos-section > .full-bleed {
    grid-column: 1 / -1;
    width: 100%;
  }
  @media screen and (max-width: 732px) {
    .ecos-section > .mobile-full-bleed {
      grid-column: 1 / -1;
      width: 100%;
    }
  }
  .ecos-section > .padded-full-bleed {
    grid-column: 1 / -1;
    width: 100%;
    padding-left: var(--spacing-unit);
    padding-right: var(--spacing-unit);
  }
  .ecos-section > .larger {
    grid-column: 1 / -1;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
`,Nl=Wt`
<template 
  class="ecos-section ${t=>t.verticalpadded?"":"no-vertical-padding"} ${t=>t.stacked?"ecos-stack":""} ${t=>t.largev?"largev":""}"
  style="--ecos-section-center-width: ${t=>t.centerwidth};"
  >
  <slot></slot>
</template>`,Dl=re`
  
  .ecos-stack:not(.ecos-stack--inline):not(.ecos-section) {
    display: block;
    contain: content;
  }
  .ecos-stack:not(.ecos-stack--inline) > * + * {
    margin-top: calc(var(--type-ramp-base-font-size) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--large:not(.ecos-stack--inline) > * + * {
    margin-top: calc((var(--type-ramp-base-font-size) * 2) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--small:not(.ecos-stack--inline) > * + * {
    margin-top: calc((var(--type-ramp-base-font-size) * 0.5) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));  
  }

  .ecos-stack.ecos-stack--inline {
    display: inline;
    contain: content;
  }
  .ecos-stack.ecos-stack--inline > * + * {
    margin-left: calc(var(--type-ramp-base-font-size) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--large.ecos-stack--inline > * + * {
    margin-left: calc((var(--type-ramp-base-font-size) * 2) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));
  }
  .ecos-stack--small.ecos-stack--inline > * + * {
    margin-left: calc((var(--type-ramp-base-font-size) * 0.5) + ((var(--design-unit) * 2 * max(0, var(--density))) * 1px));  
  }

`;var Ml=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Bl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Vl=class extends mt{constructor(){super(...arguments),this.verticalpadded=!0,this.nocontain=!1,this.stacked=!0,this.centerwidth="65ch",this.largev=!1}};Ml([tt({mode:"boolean"}),Bl("design:type",Object)],Vl.prototype,"verticalpadded",void 0),Ml([tt({mode:"boolean"}),Bl("design:type",Object)],Vl.prototype,"nocontain",void 0),Ml([tt({mode:"boolean"}),Bl("design:type",Object)],Vl.prototype,"stacked",void 0),Ml([tt(),Bl("design:type",Object)],Vl.prototype,"centerwidth",void 0),Ml([tt({mode:"boolean"}),Bl("design:type",Object)],Vl.prototype,"largev",void 0),Vl=Ml([bt({name:"ecos-section",template:Nl,styles:[Dl,Ll],shadowOptions:null})],Vl);const Hl=Array.isArray;var ql=he?he.prototype:void 0,Ul=ql?ql.toString:void 0;const zl=function t(e){if("string"==typeof e)return e;if(Hl(e))return function(t,e){for(var n=-1,i=null==t?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}(e,t)+"";if(_s(e))return Ul?Ul.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var _l=0;const Wl=function(t){var e,n=++_l;return(null==(e=t)?"":zl(e))+n};function Kl(t){return function(...t){return t.every((t=>t instanceof HTMLElement))}(t)&&("option"===t.getAttribute("role")||t instanceof HTMLOptionElement)}class Gl extends mt{constructor(t,e,n,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,this.initialValue=this.initialValue||"",t&&(this.textContent=t),e&&(this.initialValue=e),n&&(this.defaultSelected=n),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,e){this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.$fastController.isConnected&&(this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected))}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){return this.value?this.value:this.textContent?this.textContent:""}get text(){return this.textContent}set value(t){this._value=t,this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=t),q.notify(this,"value")}get value(){return q.track(this,"value"),this._value?this._value:this.text}get form(){return this.proxy?this.proxy.form:null}}var Ql,Yl,Xl;y([_],Gl.prototype,"defaultSelected",void 0),y([tt({mode:"boolean"})],Gl.prototype,"disabled",void 0),y([tt({attribute:"selected",mode:"boolean"})],Gl.prototype,"selectedAttribute",void 0),y([_],Gl.prototype,"selected",void 0),y([tt({attribute:"value",mode:"fromView"})],Gl.prototype,"initialValue",void 0),Zt(Gl,Qt),function(t){t.listbox="listbox"}(Ql||(Ql={}));class Zl extends mt{constructor(){super(...arguments),this.selectedIndex=-1,this.typeaheadBuffer="",this.typeaheadTimeout=-1,this.typeAheadExpired=!0,this.role=Ql.listbox,this._options=[],this.selectedOptions=[],this.handleTypeAhead=t=>{this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeAheadExpired=!0),Zl.TYPE_AHEAD_TIMEOUT_MS),t.length>1||(this.typeaheadBuffer=`${this.typeAheadExpired?"":this.typeaheadBuffer}${t}`)}}selectedIndexChanged(t,e){this.setSelectedOptions()}typeaheadBufferChanged(t,e){if(this.$fastController.isConnected){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),e=new RegExp(`^${t}`,"gi"),n=this.options.filter((t=>t.text.trim().match(e)));if(n.length){const t=this.options.indexOf(n[0]);t>-1&&(this.selectedIndex=t)}this.typeAheadExpired=!1}}slottedOptionsChanged(t,e){this.$fastController.isConnected&&(this.options=e.reduce(((t,e)=>(Kl(e)&&t.push(e),t)),[]),this.options.forEach((t=>{t.id=t.id||Wl("option-")})),this.setSelectedOptions(),this.setDefaultSelectedOption())}get options(){return q.track(this,"options"),this._options}set options(t){this._options=t,q.notify(this,"options")}selectedOptionsChanged(t,e){this.$fastController.isConnected&&this.options.forEach((t=>{t.selected=e.includes(t)}))}get firstSelectedOption(){return this.selectedOptions[0]}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&this.firstSelectedOption&&(this.firstSelectedOption.focus(),this.firstSelectedOption.scrollIntoView({block:"nearest"}))}focusinHandler(t){t.target===t.currentTarget&&(this.setSelectedOptions(),this.focusAndScrollOptionIntoView())}setDefaultSelectedOption(){if(this.options&&this.$fastController.isConnected){const t=this.options.findIndex((t=>null!==t.getAttribute("selected")));if(-1!==t)return void(this.selectedIndex=t);this.selectedIndex=0}}setSelectedOptions(){if(this.$fastController.isConnected&&this.options){const t=this.options[this.selectedIndex]||null;this.selectedOptions=this.options.filter((e=>e.isSameNode(t))),this.ariaActiveDescendant=this.firstSelectedOption?this.firstSelectedOption.id:"",this.focusAndScrollOptionIntoView()}}selectFirstOption(){this.disabled||(this.selectedIndex=0)}selectLastOption(){this.disabled||(this.selectedIndex=this.options.length-1)}selectNextOption(){!this.disabled&&this.options&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}get length(){return this.options?this.options.length:0}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}clickHandler(t){const e=t.target.closest("option,[role=option]");if(e&&!e.disabled)return this.selectedIndex=this.options.indexOf(e),!0}keydownHandler(t){if(this.disabled)return!0;const e=t.key;switch(e){case"Home":t.shiftKey||(t.preventDefault(),this.selectFirstOption());break;case"ArrowDown":t.shiftKey||(t.preventDefault(),this.selectNextOption());break;case"ArrowUp":t.shiftKey||(t.preventDefault(),this.selectPreviousOption());break;case"End":t.preventDefault(),this.selectLastOption();break;case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Enter":case"Escape":return!0;case" ":if(this.typeAheadExpired)return!0;default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}}Zl.TYPE_AHEAD_TIMEOUT_MS=1e3,Zl.slottedOptionFilter=t=>Kl(t)&&!t.disabled&&!t.hidden,y([_],Zl.prototype,"selectedIndex",void 0),y([_],Zl.prototype,"typeaheadBuffer",void 0),y([tt],Zl.prototype,"role",void 0),y([tt({mode:"boolean"})],Zl.prototype,"disabled",void 0),y([_],Zl.prototype,"slottedOptions",void 0),y([_],Zl.prototype,"selectedOptions",void 0);class Jl{constructor(){this.ariaActiveDescendant=""}}y([_],Jl.prototype,"ariaActiveDescendant",void 0),y([_],Jl.prototype,"ariaDisabled",void 0),y([_],Jl.prototype,"ariaExpanded",void 0),Zt(Jl,yt),Zt(Zl,Jl);class tc extends Zl{}class ec extends(ba(tc)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}!function(t){t.above="above",t.below="below"}(Yl||(Yl={})),function(t){t.combobox="combobox"}(Xl||(Xl={}));class nc extends ec{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.role=Xl.combobox,this.position=Yl.below,this.maxHeight=0,this.displayValue="",this.formResetCallback=()=>{this.setProxyOptions(),this.setDefaultSelectedOption(),this.value=this.firstSelectedOption.value}}openChanged(){this.ariaExpanded=this.open?"true":"false",this.open&&(this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex)}get value(){return q.track(this,"value"),this._value}set value(t){const e=`${this._value}`;if(this.$fastController.isConnected&&this.options){const e=this.options.findIndex((e=>e.value===t)),n=this.options[this.selectedIndex],i=this.options[e],s=n?n.value:null,r=i?i.value:null;-1!==e&&s===r||(t="",this.selectedIndex=e),this.firstSelectedOption&&(t=this.firstSelectedOption.value)}e!==t&&(this._value=t,super.valueChanged(e,t),q.notify(this,"value"))}updateValue(t){this.$fastController.isConnected&&(this.value=this.firstSelectedOption?this.firstSelectedOption.value:"",this.displayValue=this.firstSelectedOption?this.firstSelectedOption.textContent||this.firstSelectedOption.value:this.value),t&&this.$emit("change")}selectedIndexChanged(t,e){super.selectedIndexChanged(t,e),this.updateValue()}setPositioning(){const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom;this.position=this.forcedPosition?this.positionAttribute:t.top>e?Yl.above:Yl.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===Yl.above?~~t.top:~~e}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}clickHandler(t){if(!this.disabled){if(this.open){const e=t.target.closest("option,[role=option]");if(e&&e.disabled)return}return super.clickHandler(t),this.open=!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(t){if(!this.open)return!0;const e=t.relatedTarget;this.isSameNode(e)?this.focus():this.options&&this.options.includes(e)||(this.open=!1)}slottedOptionsChanged(t,e){super.slottedOptionsChanged(t,e),this.setProxyOptions(),this.updateValue()}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((t=>{const e=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null);e&&this.proxy.appendChild(e)})))}keydownHandler(t){switch(super.keydownHandler(t),t.key||t.key.charCodeAt(0)){case" ":this.typeAheadExpired&&(t.preventDefault(),this.open=!this.open);break;case"Enter":t.preventDefault(),this.open=!this.open;break;case"Escape":this.open&&(t.preventDefault(),this.open=!1);break;case"Tab":if(!this.open)return!0;t.preventDefault(),this.open=!1}return this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute}}y([tt({attribute:"open",mode:"boolean"})],nc.prototype,"open",void 0),y([tt({attribute:"position"})],nc.prototype,"positionAttribute",void 0),y([_],nc.prototype,"position",void 0),y([_],nc.prototype,"maxHeight",void 0),y([_],nc.prototype,"displayValue",void 0);class ic{}y([_],ic.prototype,"ariaExpanded",void 0),y([tt({attribute:"aria-pressed",mode:"fromView"})],ic.prototype,"ariaPressed",void 0),Zt(ic,yt),Zt(nc,Qt,ic);const sc=Wt`
    <template
        class="${t=>t.open?"open":""} ${t=>t.disabled?"disabled":""} ${t=>t.position}"
        role="${t=>t.role}"
        tabindex="${t=>t.disabled?null:"0"}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-expanded="${t=>t.ariaExpanded}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @focusout="${(t,e)=>t.focusoutHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
    >
        <div
            aria-activedescendant="${t=>t.open?t.ariaActiveDescendant:null}"
            aria-controls="listbox"
            aria-expanded="${t=>t.ariaExpanded}"
            aria-haspopup="listbox"
            class="control"
            part="control"
            role="button"
            ?disabled="${t=>t.disabled}"
        >
            ${Xt}
            <slot name="button-container">
                <div class="selected-value" part="selected-value">
                    <slot name="selected-value">${t=>t.displayValue}</slot>
                </div>
                <div class="indicator" part="indicator" aria-hidden="true">
                    <slot name="indicator">
                        <svg
                            class="select-indicator"
                            part="select-indicator"
                            viewBox="0 0 12 7"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z"
                            />
                        </svg>
                    </slot>
                </div>
            </slot>
            ${Yt}
        </div>
        <div
            aria-disabled="${t=>t.disabled}"
            class="listbox"
            id="listbox"
            part="listbox"
            role="listbox"
            style="--max-height: ${t=>t.maxHeight}px"
            ?disabled="${t=>t.disabled}"
            ?hidden="${t=>!t.open}"
        >
            <slot
                ${ne({filter:Zl.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,rc=re`
    ${oe("inline-flex")} :host {
        --elevation: 14;
        background: ${uo.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${fo.var};
        box-sizing: border-box;
        color: ${Yr.var};
        font-family: var(--body-font);
        height: calc(${$e} * 1px);
        position: relative;
        user-select: none;
        min-width: 250px;
        outline: none;
        vertical-align: top;
    }

    .listbox {
        ${Ba}
        background: ${xo.var};
        border: calc(var(--outline-width) * 1px) solid ${yo.var};
        border-radius: calc(var(--corner-radius) * 1px);
        box-sizing: border-box;
        display: inline-flex;
        flex-direction: column;
        left: 0;
        max-height: calc(var(--max-height) - (${$e} * 1px));
        padding: calc(var(--design-unit) * 1px) 0;
        overflow-y: auto;
        position: absolute;
        width: 100%;
        z-index: 1;
    }

    .listbox[hidden] {
        display: none;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: flex;
        font-size: var(--type-ramp-base-font-size);
        font-family: inherit;
        line-height: var(--type-ramp-base-line-height);
        min-height: 100%;
        padding: 0 calc(var(--design-unit) * 2.25px);
        width: 100%;
    }

    :host(:not([disabled]):hover) {
        background: ${po.var};
        border-color: ${vo.var};
    }

    :host(:${we}) {
        border-color: ${So.var};
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${So.var};
    }

    :host(:${we}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${$o.var};
        border-color: ${So.var};
        background: ${vo.var};
        color: ${io.var};
    }

    :host([disabled]) {
        cursor: ${xe};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        cursor: ${xe};
        user-select: none;
    }

    :host([disabled]:hover) {
        background: ${ao.var};
        color: ${Yr.var};
        fill: currentcolor;
    }

    :host(:not([disabled])) .control:active {
        background: ${go.var};
        border-color: ${mo.var};
    }

    :host([open][position="above"]) .listbox,
    :host([open][position="below"]) .control {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    :host([open][position="above"]) .control,
    :host([open][position="below"]) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    :host([open][position="above"]) .listbox {
        border-bottom: 0;
        bottom: calc(${$e} * 1px);
    }

    :host([open][position="below"]) .listbox {
        border-top: 0;
        top: calc(${$e} * 1px);
    }

    .selected-value {
        flex: 1 1 auto;
        font-family: inherit;
        text-align: start;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .indicator {
        flex: 0 0 auto;
        margin-inline-start: 1em;
    }

    slot[name="listbox"] {
        display: none;
        width: 100%;
    }

    :host([open]) slot[name="listbox"] {
        display: flex;
        position: absolute;
        ${Ba}
    }

    .end {
        margin-inline-start: auto;
    }

    .start,
    .end,
    .indicator,
    .select-indicator,
    ::slotted(svg) {
        ${""}
        fill: currentcolor;
        height: 1em;
        min-height: calc(var(--design-unit) * 4px);
        min-width: calc(var(--design-unit) * 4px);
        width: 1em;
    }

    ::slotted([role="option"]),
    ::slotted(option) {
        flex: 0 0 auto;
    }

`.withBehaviors(mo,vo,fo,io,no,Ce(re`
            :host(:not([disabled]):hover),
            :host(:not([disabled]):active) {
                border-color: ${Se.Highlight};
            }

            :host(:not([disabled]):${we}) {
                background-color: ${Se.ButtonFace};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Se.Highlight};
                color: ${Se.ButtonText};
                fill: currentcolor;
                forced-color-adjust: none;
            }

            :host(:not([disabled]):${we}) .listbox {
                background: ${Se.ButtonFace};
            }

            :host([disabled]) {
                border-color: ${Se.GrayText};
                background-color: ${Se.ButtonFace};
                color: ${Se.GrayText};
                fill: currentcolor;
                opacity: 1;
                forced-color-adjust: none;
            }

            :host([disabled]:hover) {
                background: ${Se.ButtonFace};
            }

            :host([disabled]) .control {
                color: ${Se.GrayText};
                border-color: ${Se.GrayText};
            }

            :host([disabled]) .control .select-indicator {
                fill: ${Se.GrayText};
            }

            :host(:${we}) ::slotted([aria-selected="true"][role="option"]),
            :host(:${we}) ::slotted(option[aria-selected="true"]),
            :host(:${we}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
                background: ${Se.Highlight};
                border-color: ${Se.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Se.HighlightText};
                color: ${Se.HighlightText};
                fill: currentcolor;
            }

            .start,
            .end,
            .indicator,
            .select-indicator,
            ::slotted(svg) {
                color: ${Se.ButtonText};
                fill: currentcolor;
            }
        `),go,po,uo,So,$o,Yr,xo,yo);let oc=class extends nc{};oc=y([bt({name:"fast-select",template:sc,styles:rc})],oc);const ac=rc,lc=Wt`
    <template
        aria-selected="${t=>t.selected}"
        class="${t=>t.selected?"selected":""} ${t=>t.disabled?"disabled":""}"
        role="option"
    >
        ${Xt}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${Yt}
    </template>
`,cc=re`
    ${oe("inline-flex")} :host {
        align-items: center;
        font-family: var(--body-font);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: ${Yr.var};
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(${$e} * 1px);
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: hidden;
        padding: 0 calc(var(--design-unit) * 2.25px);
        user-select: none;
        white-space: nowrap;
    }

    :host(:${we}) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${$o.var};
        border-color: ${So.var};
        background: ${vo.var};
        color: ${io.var};
    }

    :host([aria-selected="true"]) {
        background: ${vo.var};
        color: ${io.var};
    }

    :host(:active) {
        background: ${mo.var};
        color: ${io.var};
    }

    :host(:not([aria-selected="true"]):hover) {
        background: ${ro.var};
        color: ${Xr.var};
    }

    :host(:not([aria-selected="true"]):active) {
        background: ${ro.var};
        color: ${Xr.var};
    }

    :host([disabled]) {
        cursor: ${xe};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        background-color: inherit;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end,
    ::slotted(svg) {
        display: flex;
    }

    ::slotted(svg) {
        ${""}
        height: calc(var(--design-unit) * 4px);
        width: calc(var(--design-unit) * 4px);
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 1ch;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 1ch;
    }

`.withBehaviors(mo,vo,bo,io,Ce(re`
            :host {
                border-color: transparent;
                forced-color-adjust: none;
                color: ${Se.ButtonText};
                fill: currentcolor;
            }

            :host(:not([aria-selected="true"]):hover),
            :host([aria-selected="true"]) {
                background: ${Se.Highlight};
                color: ${Se.HighlightText};
            }

            :host([disabled]),
            :host([disabled]:not([aria-selected="true"]):hover) {
                background: ${Se.Canvas};
                color: ${Se.GrayText};
                fill: currentcolor;
                opacity: 1;
            }
        `),ro,lo,ao,ho,So,$o,Xr,Yr,ko);let hc=class extends Gl{};hc=y([bt({name:"fast-option",template:lc,styles:cc})],hc);const uc=cc;var dc=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let pc=class extends oc{};pc=dc([bt({name:"ecos-select",template:sc,styles:ac})],pc);let gc=class extends hc{};var fc,vc;function mc(t,e,n,i){let s=(0,1,r=(t-e)/(n-e),Math.min(Math.max(r,0),1));var r;return i===Ee.rtl&&(s=1-s),s}gc=dc([bt({name:"ecos-option",template:lc,styles:uc})],gc),function(t){t.horizontal="horizontal",t.vertical="vertical"}(fc||(fc={}));class bc extends mt{}class yc extends(ba(bc)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}!function(t){t.singleValue="single-value"}(vc||(vc={}));class wc extends yc{constructor(){super(...arguments),this.direction=Ee.ltr,this.isDragging=!1,this.trackWidth=0,this.trackMinWidth=0,this.trackHeight=0,this.trackLeft=0,this.trackMinHeight=0,this.valueTextFormatter=()=>null,this.min=0,this.max=10,this.step=1,this.orientation=fc.horizontal,this.mode=vc.singleValue,this.keypressHandler=t=>{if(9!==t.keyCode&&t.preventDefault(),36===t.keyCode)this.value=`${this.min}`;else if(35===t.keyCode)this.value=`${this.max}`;else if(!t.shiftKey)switch(t.keyCode){case 39:case 38:this.increment();break;case 37:case 40:this.decrement()}},this.setupTrackConstraints=()=>{const t=this.track.getBoundingClientRect();this.trackWidth=this.track.clientWidth,this.trackMinWidth=this.track.clientLeft,this.trackHeight=t.bottom,this.trackMinHeight=t.top,this.trackLeft=this.getBoundingClientRect().left,0===this.trackWidth&&(this.trackWidth=1)},this.setupListeners=()=>{this.addEventListener("keydown",this.keypressHandler),this.addEventListener("mousedown",this.handleMouseDown),this.thumb.addEventListener("mousedown",this.handleThumbMouseDown),this.thumb.addEventListener("touchstart",this.handleThumbMouseDown)},this.initialValue="",this.handleThumbMouseDown=t=>{this.readOnly||this.disabled||t.defaultPrevented||(t.preventDefault(),t.target.focus(),window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("touchmove",this.handleMouseMove),window.addEventListener("touchend",this.handleWindowMouseUp),this.isDragging=!0)},this.handleMouseMove=t=>{if(this.readOnly||this.disabled||t.defaultPrevented)return;const e=window.TouchEvent&&t instanceof TouchEvent?t.touches[0]:t,n=this.orientation===fc.horizontal?e.pageX-this.trackLeft:e.pageY;this.value=`${this.calculateNewValue(n)}`},this.calculateNewValue=t=>{const e=mc(t,this.orientation===fc.horizontal?this.trackMinWidth:this.trackMinHeight,this.orientation===fc.horizontal?this.trackWidth:this.trackHeight,this.direction),n=(this.max-this.min)*e+this.min;return this.convertToConstrainedValue(n)},this.handleWindowMouseUp=t=>{this.stopDragging()},this.stopDragging=()=>{this.isDragging=!1,window.removeEventListener("mouseup",this.handleWindowMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("touchend",this.handleWindowMouseUp)},this.handleMouseDown=t=>{if(t.preventDefault(),!this.disabled&&!this.readOnly){this.setupTrackConstraints(),t.target.focus(),window.addEventListener("mouseup",this.handleWindowMouseUp),window.addEventListener("mousemove",this.handleMouseMove);const e=this.orientation===fc.horizontal?t.pageX-this.trackLeft:t.pageY;this.value=`${this.calculateNewValue(e)}`}},this.convertToConstrainedValue=t=>{isNaN(t)&&(t=this.min);let e=t-this.min;const n=e%Number(this.step);return e=n>=Number(this.step)/2?e-n+Number(this.step):e-n,e+this.min}}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}valueChanged(t,e){super.valueChanged(t,e),this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction),this.$emit("change")}minChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.min=`${this.min}`),this.validate()}maxChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.max=`${this.max}`),this.validate()}stepChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.step=`${this.step}`),this.validate()}orientationChanged(){this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","range"),this.direction=(t=>{const e=this.closest("[dir]");return null!==e&&"rtl"===e.dir?Ee.rtl:Ee.ltr})(),this.setupTrackConstraints(),this.setupListeners(),this.setupDefaultValue(),this.setThumbPositionForOrientation(this.direction)}disconnectedCallback(){this.removeEventListener("keydown",this.keypressHandler),this.removeEventListener("mousedown",this.handleMouseDown),this.thumb.removeEventListener("mousedown",this.handleThumbMouseDown),this.thumb.removeEventListener("touchstart",this.handleThumbMouseDown)}increment(){const t=this.direction!==Ee.rtl&&this.orientation!==fc.vertical?Number(this.value)+Number(this.step):Number(this.value)-Number(this.step),e=this.convertToConstrainedValue(t),n=e<Number(this.max)?`${e}`:`${this.max}`;this.value=n}decrement(){const t=this.direction!==Ee.rtl&&this.orientation!==fc.vertical?Number(this.value)-Number(this.step):Number(this.value)+Number(this.step),e=this.convertToConstrainedValue(t),n=e>Number(this.min)?`${e}`:`${this.min}`;this.value=n}setThumbPositionForOrientation(t){const e=mc(Number(this.value),Number(this.min),Number(this.max),t),n=Math.round(100*(1-e));this.orientation===fc.horizontal?this.position=this.isDragging?`right: ${n}%; transition: none;`:`right: ${n}%; transition: all 0.2s ease;`:this.position=this.isDragging?`bottom: ${n}%; transition: none;`:`bottom: ${n}%; transition: all 0.2s ease;`}get midpoint(){return`${this.convertToConstrainedValue((this.max+this.min)/2)}`}setupDefaultValue(){if("string"==typeof this.value)if(0===this.value.length)this.initialValue=this.midpoint;else{const t=parseFloat(this.value);!Number.isNaN(t)&&(t<this.min||t>this.max)&&(this.value=this.midpoint)}}}y([tt({attribute:"readonly",mode:"boolean"})],wc.prototype,"readOnly",void 0),y([_],wc.prototype,"direction",void 0),y([_],wc.prototype,"isDragging",void 0),y([_],wc.prototype,"position",void 0),y([_],wc.prototype,"trackWidth",void 0),y([_],wc.prototype,"trackMinWidth",void 0),y([_],wc.prototype,"trackHeight",void 0),y([_],wc.prototype,"trackLeft",void 0),y([_],wc.prototype,"trackMinHeight",void 0),y([_],wc.prototype,"valueTextFormatter",void 0),y([tt({converter:Z})],wc.prototype,"min",void 0),y([tt({converter:Z})],wc.prototype,"max",void 0),y([tt({converter:Z})],wc.prototype,"step",void 0),y([tt],wc.prototype,"orientation",void 0),y([tt],wc.prototype,"mode",void 0);const xc=Wt`
    <template
        role="slider"
        class="${t=>t.readOnly?"readonly":""}
        ${t=>t.orientation||fc.horizontal}"
        tabindex="${t=>t.disabled?null:0}"
        aria-valuetext="${t=>t.valueTextFormatter(t.value)}"
        aria-valuenow="${t=>t.value}"
        aria-valuemin="${t=>t.min}"
        aria-valuemax="${t=>t.max}"
        aria-disabled="${t=>!!t.disabled||void 0}"
        aria-readonly="${t=>!!t.readOnly||void 0}"
        aria-orientation="${t=>t.orientation}"
        class="${t=>t.orientation}"
    >
        <div part="positioning-region" class="positioning-region">
            <div ${Gt("track")} part="track-container" class="track">
                <slot name="track"></slot>
            </div>
            <slot></slot>
            <div
                ${Gt("thumb")}
                part="thumb-container"
                class="thumb-container"
                style=${t=>t.position}
            >
                <slot name="thumb"><div class="thumb-cursor"></div></slot>
            </div>
        </div>
    </template>
`,kc=re`
    :host([hidden]) {
        display: none;
    }

    ${oe("inline-grid")} :host {
        --thumb-size: calc(${$e} * 0.5 - var(--design-unit));
        --thumb-translate: calc(var(--thumb-size) * 0.5);
        --track-overhang: calc((var(--design-unit) / 2) * -1);
        --track-width: var(--design-unit);
        --fast-slider-height: calc(var(--thumb-size) * 10);
        align-items: center;
        width: 100%;
        margin: calc(var(--design-unit) * 1px) 0;
        user-select: none;
        box-sizing: border-box;
        border-radius: calc(var(--corner-radius) * 1px);
        outline: none;
        cursor: pointer;
    }
    :host([orientation="horizontal"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        grid-template-rows: calc(var(--thumb-size) * 1px) 1fr;
    }
    :host([orientation="vertical"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        height: 100%;
        grid-template-columns: calc(var(--thumb-size) * 1px) 1fr;
    }

    :host(:${we}) .thumb-cursor {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px var(--neutral-focus);
    }
    
    .thumb-container {
        position: absolute;
        height: calc(var(--thumb-size) * 1px);
        width: calc(var(--thumb-size) * 1px);
        transition: all 0.2s ease;
        color: ${Yr.var};
        fill: currentcolor;
    }
    .thumb-cursor {
        border: none;
        width: calc(var(--thumb-size) * 1px);
        height: calc(var(--thumb-size) * 1px);
        background: ${Yr.var};
        border-radius: calc(var(--corner-radius) * 1px);
    }
    .thumb-cursor:hover {
        background: ${Xr.var};
        border-color: ${wo.var};
    }
    .thumb-cursor:active {
        background: ${Zr.var};
    }
    :host([orientation="horizontal"]) .thumb-container {
        transform: translateX(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="vertical"]) .thumb-container {
        transform: translateY(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="horizontal"]) {
        min-width: calc(var(--thumb-size) * 1px);
    }
    :host([orientation="horizontal"]) .track {
        right: calc(var(--track-overhang) * 1px);
        left: calc(var(--track-overhang) * 1px);
        align-self: start;
        margin-top: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        height: calc(var(--track-width) * 1px);
    }
    :host([orientation="vertical"]) .track {
        top: calc(var(--track-overhang) * 1px);
        bottom: calc(var(--track-overhang) * 1px);
        width: calc(var(--track-width) * 1px);
        margin-inline-start: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        height: 100%;
    }
    .track {
        background: ${yo.var};
        position: absolute;
        border-radius: calc(var(--corner-radius) * 1px);
    }
    :host([orientation="vertical"]) {
        height: calc(var(--fast-slider-height) * 1px);
        min-height: calc(var(--thumb-size) * 1px);
        min-width: calc(var(--design-unit) * 20px);
    }
    :host([disabled]), :host([readonly]) {
        cursor: ${xe};
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors(So,Zr,Xr,Yr,wo,yo,Ce(re`
            .thumb-cursor {
                forced-color-adjust: none;
                border-color: ${Se.FieldText};
                background: ${Se.FieldText};
            }
            .thumb-cursor:hover,
            .thumb-cursor:active {
                background: ${Se.Highlight};
            }
            .track {
                forced-color-adjust: none;
                background: ${Se.FieldText};
            }
            :host(:${we}) .thumb-cursor {
                border-color: ${Se.Highlight};
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .track,
            :host([disabled]) .thumb-cursor {
                forced-color-adjust: none;
                background: ${Se.GrayText};
            }

            :host(:${we}) .thumb-cursor {
                background: ${Se.Highlight};
                border-color: ${Se.Highlight};
                box-shadow: 0 0 0 2px ${Se.Field}, 0 0 0 4px ${Se.FieldText};    
            }
        `));let Cc=class extends wc{};Cc=y([bt({name:"fast-slider",template:xc,styles:kc})],Cc);const Sc=kc;let $c=class extends Cc{};$c=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-slider",template:xc,styles:Sc})],$c);const Tc=Wt`<template class="ecos-stack ${t=>t.small?"ecos-stack--small":""} ${t=>t.large?"ecos-stack--large":""} ${t=>t.inline?"ecos-stack--inline":""}"><slot></slot></template>`;var Ac=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ec=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Pc=class extends mt{constructor(){super(...arguments),this.small=!1,this.large=!1,this.inline=!1}};Ac([tt({mode:"boolean"}),Ec("design:type",Object)],Pc.prototype,"small",void 0),Ac([tt({mode:"boolean"}),Ec("design:type",Object)],Pc.prototype,"large",void 0),Ac([tt({mode:"boolean"}),Ec("design:type",Object)],Pc.prototype,"inline",void 0),Pc=Ac([bt({name:"ecos-stack",template:Tc,styles:Dl})],Pc);class Oc extends mt{}class Rc extends(ba(Oc)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}var Ic;!function(t){t.email="email",t.password="password",t.tel="tel",t.text="text",t.url="url"}(Ic||(Ic={}));class jc extends Rc{constructor(){super(...arguments),this.type=Ic.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&P.queueUpdate((()=>{this.focus()}))}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}}y([tt({attribute:"readonly",mode:"boolean"})],jc.prototype,"readOnly",void 0),y([tt({mode:"boolean"})],jc.prototype,"autofocus",void 0),y([tt],jc.prototype,"placeholder",void 0),y([tt],jc.prototype,"type",void 0),y([tt],jc.prototype,"list",void 0),y([tt({converter:Z})],jc.prototype,"maxlength",void 0),y([tt({converter:Z})],jc.prototype,"minlength",void 0),y([tt],jc.prototype,"pattern",void 0),y([tt({converter:Z})],jc.prototype,"size",void 0),y([tt({mode:"boolean"})],jc.prototype,"spellcheck",void 0),y([_],jc.prototype,"defaultSlottedNodes",void 0);class Fc{}Zt(Fc,yt),Zt(jc,Qt,Fc);const Lc=Wt`
    <template
        class="
            ${t=>t.readOnly?"readonly":""}
        "
    >
        <label
            part="label"
            for="control"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot
                ${ne({property:"defaultSlottedNodes",filter:function(t,e,n){return t.nodeType!==Node.TEXT_NODE||"string"==typeof t.nodeValue&&!!t.nodeValue.trim().length}})}
            ></slot>
        </label>
        <div class="root" part="root">
            ${Xt}
            <input
                class="control"
                part="control"
                id="control"
                @input="${t=>t.handleTextInput()}"
                @change="${t=>t.handleChange()}"
                ?autofocus="${t=>t.autofocus}"
                ?disabled="${t=>t.disabled}"
                list="${t=>t.list}"
                maxlength="${t=>t.maxlength}"
                minlength="${t=>t.minlength}"
                pattern="${t=>t.pattern}"
                placeholder="${t=>t.placeholder}"
                ?readonly="${t=>t.readOnly}"
                ?required="${t=>t.required}"
                size="${t=>t.size}"
                ?spellcheck="${t=>t.spellcheck}"
                :value="${t=>t.value}"
                type="${t=>t.type}"
                aria-atomic="${t=>t.ariaAtomic}"
                aria-busy="${t=>t.ariaBusy}"
                aria-controls="${t=>t.ariaControls}"
                aria-current="${t=>t.ariaCurrent}"
                aria-describedBy="${t=>t.ariaDescribedby}"
                aria-details="${t=>t.ariaDetails}"
                aria-disabled="${t=>t.ariaDisabled}"
                aria-errormessage="${t=>t.ariaErrormessage}"
                aria-flowto="${t=>t.ariaFlowto}"
                aria-haspopup="${t=>t.ariaHaspopup}"
                aria-hidden="${t=>t.ariaHidden}"
                aria-invalid="${t=>t.ariaInvalid}"
                aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
                aria-label="${t=>t.ariaLabel}"
                aria-labelledby="${t=>t.ariaLabelledby}"
                aria-live="${t=>t.ariaLive}"
                aria-owns="${t=>t.ariaOwns}"
                aria-relevant="${t=>t.ariaRelevant}"
                aria-roledescription="${t=>t.ariaRoledescription}"
                ${Gt("control")}
            />
            ${Yt}
        </div>
    </template>
`,Nc=re`
    ${oe("inline-block")} :host {
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }

    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: ${Yr.var};
        background: ${uo.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${fo.var};
        height: calc(${$e} * 1px);
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        border: 0;
        color: inherit;
        height: calc(100% - 4px);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .control:hover,
    .control:${we},
    .control:disabled,
    .control:active {
        outline: none;
    }

    .label {
        display: block;
        color: ${Yr.var};
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .start,
    .end {
        margin: auto;
        fill: currentcolor;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    .start {
        margin-inline-start: 11px;
    }

    .end {
        margin-inline-end: 11px;
    }

    :host(:hover:not([disabled])) .root {
        background: ${po.var};
        border-color: ${vo.var};
    }

    :host(:active:not([disabled])) .root {
        background: ${po.var};
        border-color: ${mo.var};
    }

    :host(:focus-within:not([disabled])) .root {
        border-color: ${So.var};
        box-shadow: 0 0 0 1px ${So.var} inset;
    }

    :host([appearance="filled"]) .root {
        background: ${so.var};
    }

    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: ${ro.var};
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: ${xe};
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        border-color: ${yo.var};
    }
`.withBehaviors(mo,vo,fo,ro,po,uo,so,So,Yr,yo,Ce(re`
            .root,
            :host([appearance="filled"]) .root {
                forced-color-adjust: none;
                background: ${Se.Field};
                border-color: ${Se.FieldText};
            }
            :host(:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover) .root {
                background: ${Se.Field};
                border-color: ${Se.Highlight};
            }
            .start,
            .end {
                fill: currentcolor;
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .root,
            :host([appearance="filled"]:hover[disabled]) .root {
                border-color: ${Se.GrayText};
                background: ${Se.Field};
            }
            :host(:focus-within:enabled) .root {
                border-color: ${Se.Highlight};
                box-shadow: 0 0 0 1px ${Se.Highlight} inset;
            }
        `));let Dc=class extends jc{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="outline")}};y([tt],Dc.prototype,"appearance",void 0),Dc=y([bt({name:"fast-text-field",template:Lc,styles:Nc,shadowOptions:{delegatesFocus:!0}})],Dc);const Mc=Nc;let Bc=class extends Dc{};Bc=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([bt({name:"ecos-text-field",template:Lc,styles:Mc,shadowOptions:{delegatesFocus:!0}})],Bc);const Vc=re`

  .ecos-two {
    display: grid;
    contain: content;
    grid-gap: var(--spacing-unit);
    justify-items: center;
    text-align: center;
  }

  @media screen and (min-width: 732px) {
    .ecos-two {
      grid-template-columns: 1fr 1fr;
      align-items: center;
      text-align: inherit;
    }
    .ecos-two.rightleft > :nth-child(1) {
      grid-column: 2;
      grid-row: 1;
    }
    .ecos-two.rightleft > :nth-child(2) {
      grid-row: 1;
      grid-column: 1;
    }
  }

`,Hc=Wt`
<template class="ecos-two ${t=>t.rightleft?"rightleft":""}">
  <slot></slot>
</template>`;var qc=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Uc=class extends mt{constructor(){super(...arguments),this.rightleft=!1}};function zc(t){return"object"==typeof t&&null!==t||"function"==typeof t}function _c(t){return null==t}qc([tt({mode:"boolean"}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],Uc.prototype,"rightleft",void 0),Uc=qc([bt({name:"ecos-two",template:Hc,styles:Vc,shadowOptions:null})],Uc);const Wc=new WeakMap;function Kc(t,e,n,i,s){return new TypeError(`${t}(${e.map(String).join(",")}) - Expected '${n}' to be of type ${s}, but got: ${Object.prototype.toString.call(i)} (${String(i)})`)}function Gc(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:return`${t}`}}function Qc(t,e,n){let i=Wc.get(t);if(void 0===i){if(!n)return;i=new Map,Wc.set(t,i)}let s=i.get(e);if(void 0===s){if(!n)return;s=new Map,i.set(e,s)}return s}function Yc(t,e,n){const i=Qc(e,n,!1);return void 0!==i&&i.has(t)}function Xc(t,e,n){if(Yc(t,e,n))return!0;const i=Object.getPrototypeOf(e);return null!==i&&Xc(t,i,n)}function Zc(t,e,n){const i=Qc(e,n,!1);if(void 0!==i)return i.get(t)}function Jc(t,e,n){if(Yc(t,e,n))return Zc(t,e,n);const i=Object.getPrototypeOf(e);return null!==i?Jc(t,i,n):void 0}function th(t,e,n,i){Qc(n,i,!0).set(t,e)}function eh(t,e){const n=[],i=Qc(t,e,!1);if(void 0===i)return n;const s=i.keys();let r=0;for(const t of s)n[r]=t,++r;return n}function nh(t,e){const n=eh(t,e),i=Object.getPrototypeOf(t);if(null===i)return n;const s=nh(i,e),r=n.length;if(0===r)return s;const o=s.length;if(0===o)return n;const a=new Set,l=[];let c,h=0;for(let t=0;t<r;++t)c=n[t],a.has(c)||(a.add(c),l[h]=c,++h);for(let t=0;t<o;++t)c=s[t],a.has(c)||(a.add(c),l[h]=c,++h);return l}function ih(t,e){return function(n,i){if(!zc(n))throw Kc("@metadata",[t,e,n,i],"target",n,"Object or Function");th(t,e,n,function(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:throw new TypeError(`Invalid metadata propertyKey: ${t}.`)}}(i))}}function sh(t,e,n,i){if(void 0!==n){if(!Array.isArray(t))throw Kc("Metadata.decorate",[t,e,n,i],"decorators",t,"Array");if(!zc(e))throw Kc("Metadata.decorate",[t,e,n,i],"target",e,"Object or Function");if(!zc(i)&&!_c(i))throw Kc("Metadata.decorate",[t,e,n,i],"attributes",i,"Object, Function, null, or undefined");return null===i&&(i=void 0),function(t,e,n,i){for(let s=t.length-1;s>=0;--s){const r=(0,t[s])(e,n,i);if(!_c(r)){if(!zc(r))throw Kc("DecorateProperty",[t,e,n,i],"decorated",r,"Object, Function, null, or undefined");i=r}}return i}(t,e,n=function(t){switch(typeof t){case"string":case"symbol":return t;default:return`${t}`}}(n),i)}if(!Array.isArray(t))throw Kc("Metadata.decorate",[t,e,n,i],"decorators",t,"Array");if("function"!=typeof e)throw Kc("Metadata.decorate",[t,e,n,i],"target",e,"Function");return function(t,e){for(let n=t.length-1;n>=0;--n){const i=(0,t[n])(e);if(!_c(i)){if("function"!=typeof i)throw Kc("DecorateConstructor",[t,e],"decorated",i,"Function, null, or undefined");e=i}}return e}(t,e)}function rh(t,e,n,i){if(!zc(n))throw Kc("Metadata.define",[t,e,n,i],"target",n,"Object or Function");return th(t,e,n,Gc(i))}function oh(t,e,n){if(!zc(e))throw Kc("Metadata.has",[t,e,n],"target",e,"Object or Function");return Xc(t,e,Gc(n))}function ah(t,e,n){if(!zc(e))throw Kc("Metadata.hasOwn",[t,e,n],"target",e,"Object or Function");return Yc(t,e,Gc(n))}function lh(t,e,n){if(!zc(e))throw Kc("Metadata.get",[t,e,n],"target",e,"Object or Function");return Jc(t,e,Gc(n))}function ch(t,e,n){if(!zc(e))throw Kc("Metadata.getOwn",[t,e,n],"target",e,"Object or Function");return Zc(t,e,Gc(n))}function hh(t,e){if(!zc(t))throw Kc("Metadata.getKeys",[t,e],"target",t,"Object or Function");return nh(t,Gc(e))}function uh(t,e){if(!zc(t))throw Kc("Metadata.getOwnKeys",[t,e],"target",t,"Object or Function");return eh(t,Gc(e))}function dh(t,e,n){if(!zc(e))throw Kc("Metadata.delete",[t,e,n],"target",e,"Object or Function");return function(t,e,n){const i=Qc(t,n,!1);return void 0!==i&&i.delete(e)}(e,t,Gc(n))}const ph={define:rh,has:oh,hasOwn:ah,get:lh,getOwn:ch,getKeys:hh,getOwnKeys:uh,delete:dh};function gh(t,e,n,i,s){if(!Reflect.defineProperty(t,e,{writable:i,enumerable:!1,configurable:s,value:n}))throw new Error(`Unable to apply metadata polyfill: could not add property '${e}' to the global Reflect object`)}const fh="[[$au]]";function vh(t,e,n){gh(t,fh,Wc,e,n),gh(t,"metadata",ih,e,n),gh(t,"decorate",sh,e,n),gh(t,"defineMetadata",rh,e,n),gh(t,"hasMetadata",oh,e,n),gh(t,"hasOwnMetadata",ah,e,n),gh(t,"getMetadata",lh,e,n),gh(t,"getOwnMetadata",ch,e,n),gh(t,"getMetadataKeys",hh,e,n),gh(t,"getOwnMetadataKeys",uh,e,n),gh(t,"deleteMetadata",dh,e,n)}const mh={};function bh(t){switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=mh[t];if(void 0!==e)return e;const n=t.length;if(0===n)return mh[t]=!1;let i=0;for(let e=0;e<n;++e)if(i=t.charCodeAt(e),0===e&&48===i&&n>1||i<48||i>57)return mh[t]=!1;return mh[t]=!0}default:return!1}}function yh(t){switch(typeof t){case"number":case"bigint":return!0;default:return!1}}function wh(t){switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}}const xh=function(){let t;!function(t){t[t.none=0]="none",t[t.digit=1]="digit",t[t.upper=2]="upper",t[t.lower=3]="lower"}(t||(t={}));const e=Object.assign(Object.create(null),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0});function n(t){return""===t?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:!0===e[t]?1:0}return function(t,e){const i=t.length;if(0===i)return t;let s,r=!1,o="",a="",l=0,c=t.charAt(0),h=n(c);for(let u=0;u<i;++u)s=l,a=c,l=h,c=t.charAt(u+1),h=n(c),0===l?o.length>0&&(r=!0):(!r&&o.length>0&&2===l&&(r=3===s||3===h),o+=e(a,r),r=!1);return o}}(),kh=function(){const t=Object.create(null);function e(t,e){return e?t.toUpperCase():t.toLowerCase()}return function(n){let i=t[n];return void 0===i&&(i=t[n]=xh(n,e)),i}}(),Ch=function(){const t=Object.create(null);return function(e){let n=t[e];return void 0===n&&(n=kh(e),n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),t[e]=n),n}}(),Sh=function(){const t=Object.create(null);function e(t,e){return e?`-${t.toLowerCase()}`:t.toLowerCase()}return function(n){let i=t[n];return void 0===i&&(i=t[n]=xh(n,e)),i}}();function $h(t){const{length:e}=t,n=Array(e);for(let i=0;i<e;++i)n[i]=t[i];return n}const Th={};function Ah(t){return void 0===Th[t]&&(Th[t]=0),++Th[t]}function Eh(t,e){return t-e}function Ph(t,e,n){return{configurable:!0,enumerable:n.enumerable,get(){const t=n.value.bind(this);return Reflect.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:n.enumerable}),t}}}function Oh(...t){const e=[];let n=0;const i=t.length;let s,r=0;for(let o=0;o<i;++o)if(s=t[o],void 0!==s){r=s.length;for(let t=0;t<r;++t)e[n++]=s[t]}return e}function Rh(...t){const e=t.length;let n;for(let i=0;i<e;++i)if(n=t[i],void 0!==n)return n;throw new Error("No default value found")}const Ih=function(){const t=Function.prototype,e=Object.getPrototypeOf,n=new WeakMap;let i,s=t,r=0;return function(o){if(i=n.get(o),void 0===i)for(n.set(o,i=[s=o]),r=0;(s=e(s))!==t;)i[++r]=s;return i}}();function jh(...t){return Object.assign(Object.create(null),...t)}const Fh=function(){const t=new WeakMap;let e=!1,n="",i=0;return function(s){return e=t.get(s),void 0===e&&(n=s.toString(),i=n.length,e=i>=29&&i<=100&&125===n.charCodeAt(i-1)&&n.charCodeAt(i-2)<=32&&93===n.charCodeAt(i-3)&&101===n.charCodeAt(i-4)&&100===n.charCodeAt(i-5)&&111===n.charCodeAt(i-6)&&99===n.charCodeAt(i-7)&&32===n.charCodeAt(i-8)&&101===n.charCodeAt(i-9)&&118===n.charCodeAt(i-10)&&105===n.charCodeAt(i-11)&&116===n.charCodeAt(i-12)&&97===n.charCodeAt(i-13)&&110===n.charCodeAt(i-14)&&88===n.charCodeAt(i-15),t.set(s,e)),e}}();function Lh(t,e){return t instanceof Promise?t.then(e):e(t)}function Nh(...t){let e,n,i;for(let s=0,r=t.length;s<r;++s)e=t[s],(e=t[s])instanceof Promise&&(void 0===n?n=e:void 0===i?i=[n,e]:i.push(e));return void 0===i?n:Promise.all(i)}const Dh={name:"au:annotation",appendTo(t,e){const n=ph.getOwn(Dh.name,t);void 0===n?ph.define(Dh.name,[e],t):n.push(e)},set(t,e,n){ph.define(Dh.keyFor(e),n,t)},get:(t,e)=>ph.getOwn(Dh.keyFor(e),t),getKeys(t){let e=ph.getOwn(Dh.name,t);return void 0===e&&ph.define(Dh.name,e=[],t),e},isKey:t=>t.startsWith(Dh.name),keyFor:(t,e)=>void 0===e?`${Dh.name}:${t}`:`${Dh.name}:${t}:${e}`},Mh={name:"au:resource",appendTo(t,e){const n=ph.getOwn(Mh.name,t);void 0===n?ph.define(Mh.name,[e],t):n.push(e)},has:t=>ph.hasOwn(Mh.name,t),getAll(t){const e=ph.getOwn(Mh.name,t);return void 0===e?Su:e.map((e=>ph.getOwn(e,t)))},getKeys(t){let e=ph.getOwn(Mh.name,t);return void 0===e&&ph.define(Mh.name,e=[],t),e},isKey:t=>t.startsWith(Mh.name),keyFor:(t,e)=>void 0===e?`${Mh.name}:${t}`:`${Mh.name}:${t}:${e}`},Bh={annotation:Dh,resource:Mh},Vh=Object.prototype.hasOwnProperty;function Hh(t,e,n,i){let s=ph.getOwn(Bh.annotation.keyFor(t),n);return void 0===s?(s=e[t],void 0===s?(s=n[t],void 0!==s&&Vh.call(n,t)?s:i()):s):s}function qh(t,e,n){let i=ph.getOwn(Bh.annotation.keyFor(t),e);return void 0===i?(i=e[t],void 0!==i&&Vh.call(e,t)?i:n()):i}function Uh(t,e,n){const i=e[t];return void 0===i?n():i}!function(t,e=!0,n=!1,i=!0,s=!0){if(function(t){return fh in t}(t)){if(t["[[$au]]"]===Wc)return;throw new Error("Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.")}const r=["metadata","decorate","defineMetadata","hasMetadata","hasOwnMetadata","getMetadata","getOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata"].filter((function(t){return t in Reflect}));if(r.length>0){if(e){const t=r.map((function(t){return`${t}:\n${Reflect[t].toString().slice(0,100)}...`})).join("\n\n");throw new Error(`Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\n\n${t}`)}n&&vh(t,i,s)}else vh(t,i,s)}(Reflect);class zh{constructor(t,e){this.container=t,this.key=e}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,bu(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,e){const{container:n,key:i}=this;return this.container=this.key=void 0,n.registerResolver(i,new ou(i,t,e))}}function _h(t){const e=t.slice(),n=Object.keys(t),i=n.length;let s;for(let r=0;r<i;++r)s=n[r],bh(s)||(e[s]=t[s]);return e}const Wh={none(t){throw Error(`${t.toString()} not registered, did you forget to add @singleton()?`)},singleton:t=>new ou(t,1,t),transient:t=>new ou(t,2,t)};class Kh{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){var e,n;return void 0===t||t===Kh.DEFAULT?Kh.DEFAULT:new Kh(null!==(e=t.inheritParentResources)&&void 0!==e&&e,null!==(n=t.defaultResolver)&&void 0!==n?n:Wh.singleton)}}Kh.DEFAULT=Kh.from({});const Gh={createContainer:t=>new fu(null,Kh.from(t)),getDesignParamtypes:t=>ph.getOwn("design:paramtypes",t),getAnnotationParamtypes(t){const e=Bh.annotation.keyFor("di:paramtypes");return ph.getOwn(e,t)},getOrCreateAnnotationParamTypes(t){const e=Bh.annotation.keyFor("di:paramtypes");let n=ph.getOwn(e,t);return void 0===n&&(ph.define(e,n=[],t),Bh.annotation.appendTo(t,e)),n},getDependencies(t){const e=Bh.annotation.keyFor("di:dependencies");let n=ph.getOwn(e,t);if(void 0===n){const i=t.inject;if(void 0===i){const e=Gh.getDesignParamtypes(t),i=Gh.getAnnotationParamtypes(t);if(void 0===e)if(void 0===i){const e=Object.getPrototypeOf(t);n="function"==typeof e&&e!==Function.prototype?_h(Gh.getDependencies(e)):[]}else n=_h(i);else if(void 0===i)n=_h(e);else{n=_h(e);let t,s=i.length;for(let e=0;e<s;++e)t=i[e],void 0!==t&&(n[e]=t);const r=Object.keys(i);let o;s=r.length;for(let t=0;t<s;++t)o=r[t],bh(o)||(n[o]=i[o])}}else n=_h(i);ph.define(e,n,t),Bh.annotation.appendTo(t,e)}return n},createInterface(t,e){const n="function"==typeof t?t:e,i="string"==typeof t?t:void 0,s=function(t,e,n){if(null==t||void 0!==new.target)throw new Error(`No registration for interface: '${s.friendlyName}'`);Gh.getOrCreateAnnotationParamTypes(t)[n]=s};return s.$isInterface=!0,s.friendlyName=null==i?"(anonymous)":i,null!=n&&(s.register=function(t,e){return n(new zh(t,null!=e?e:s))}),s.toString=function(){return`InterfaceSymbol<${s.friendlyName}>`},s},inject:(...t)=>function(e,n,i){if("number"==typeof i){const n=Gh.getOrCreateAnnotationParamTypes(e),s=t[0];void 0!==s&&(n[i]=s)}else if(n){const i=Gh.getOrCreateAnnotationParamTypes(e.constructor),s=t[0];void 0!==s&&(i[n]=s)}else if(i){const e=i.value,n=Gh.getOrCreateAnnotationParamTypes(e);let s;for(let e=0;e<t.length;++e)s=t[e],void 0!==s&&(n[e]=s)}else{const n=Gh.getOrCreateAnnotationParamTypes(e);let i;for(let e=0;e<t.length;++e)i=t[e],void 0!==i&&(n[e]=i)}},transient:t=>(t.register=function(e){return yu.transient(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Jh)=>(t.register=function(e){return yu.singleton(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)},Qh=Gh.createInterface("IContainer"),Yh=Qh;function Xh(t){return function(e){const n=function(t,e,i){Gh.inject(n)(t,e,i)};return n.$isResolver=!0,n.resolve=function(n,i){return t(e,n,i)},n}}const Zh=Gh.inject,Jh={scoped:!1},tu=(eu=(t,e,n,i)=>n.getAll(t,i),function(t,e){e=!!e;const n=function(t,e,i){Gh.inject(n)(t,e,i)};return n.$isResolver=!0,n.resolve=function(n,i){return eu(t,0,i,e)},n});var eu;Xh(((t,e,n)=>()=>n.get(t)));const nu=Xh(((t,e,n)=>n.has(t,!0)?n.get(t):void 0));function iu(t,e,n){Gh.inject(iu)(t,e,n)}function su(t,e){return e.getFactory(t).construct(e)}var ru;iu.$isResolver=!0,iu.resolve=()=>{},Xh(((t,e,n)=>{const i=su(t,e),s=new wu(String(t));return s.prepare(i),n.registerResolver(t,s,!0),i})),Xh(((t,e,n)=>su(t,e))),function(t){t[t.instance=0]="instance",t[t.singleton=1]="singleton",t[t.transient=2]="transient",t[t.callback=3]="callback",t[t.array=4]="array",t[t.alias=5]="alias"}(ru||(ru={}));class ou{constructor(t,e,n){this.key=t,this.strategy=e,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(t,e){return t.registerResolver(e||this.key,this)}resolve(t,e){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(e),this.strategy=0,this.resolving=!1,this.state;case 2:{const n=t.getFactory(this.state);if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return n.construct(e)}case 3:return this.state(t,e,this);case 4:return this.state[0].resolve(t,e);case 5:return e.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var e,n,i;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return null!==(i=null===(n=null===(e=t.getResolver(this.state))||void 0===e?void 0:e.getFactory)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:null;default:return null}}}function au(t){return this.get(t)}function lu(t,e){return e(t)}class cu{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let n;return n=void 0===e?new this.Type(...this.dependencies.map(au,t)):new this.Type(...this.dependencies.map(au,t),...e),null==this.transformers?n:this.transformers.reduce(lu,n)}registerTransformer(t){var e;(null!==(e=this.transformers)&&void 0!==e?e:this.transformers=[]).push(t)}}const hu={$isResolver:!0,resolve:(t,e)=>e};function uu(t){return"function"==typeof t.register}function du(t){return function(t){return uu(t)&&"boolean"==typeof t.registerInRequestor}(t)&&t.registerInRequestor}const pu=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]);Bh.annotation.keyFor("di:factory");let gu=0;class fu{constructor(t,e){this.parent=t,this.config=e,this.id=++gu,this.registerDepth=0,this.disposableResolvers=new Set,null===t?(this.root=this,this.resolvers=new Map,this.factories=new Map,this.resourceResolvers=Object.create(null)):(this.root=t.root,this.resolvers=new Map,this.factories=t.factories,e.inheritParentResources?this.resourceResolvers=Object.assign(Object.create(null),t.resourceResolvers,this.root.resourceResolvers):this.resourceResolvers=Object.assign(Object.create(null),this.root.resourceResolvers)),this.resolvers.set(Qh,hu)}get depth(){return null===this.parent?0:this.parent.depth+1}register(...t){if(100==++this.registerDepth)throw new Error(`Unable to autoregister dependency: [${t.map(String)}]`);let e,n,i,s,r;for(let o=0,a=t.length;o<a;++o)if(e=t[o],zc(e))if(uu(e))e.register(this);else if(Bh.resource.has(e)){const t=Bh.resource.getAll(e);if(1===t.length)t[0].register(this);else{const e=t.length;for(let n=0;n<e;++n)t[n].register(this)}}else if(void 0!==e.prototype)yu.singleton(e,e).register(this);else for(n=Object.keys(e),s=0,r=n.length;s<r;++s)i=e[n[s]],zc(i)&&(uu(i)?i.register(this):this.register(i));return--this.registerDepth,this}registerResolver(t,e,n=!1){xu(t);const i=this.resolvers,s=i.get(t);return null==s?(i.set(t,e),function(t){return"string"==typeof t&&t.indexOf(":")>0}(t)&&(this.resourceResolvers[t]=e)):s instanceof ou&&4===s.strategy?s.state.push(e):i.set(t,new ou(t,4,[s,e])),n&&this.disposableResolvers.add(e),e}registerTransformer(t,e){const n=this.getResolver(t);if(null==n)return!1;if(n.getFactory){const t=n.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(xu(t),void 0!==t.resolve)return t;let n,i=this;for(;null!=i;){if(n=i.resolvers.get(t),null!=n)return n;if(null==i.parent){const n=du(t)?this:i;return e?this.jitRegister(t,n):null}i=i.parent}return null}has(t,e=!1){return!!this.resolvers.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(xu(t),t.$isResolver)return t.resolve(this,this);let e,n=this;for(;null!=n;){if(e=n.resolvers.get(t),null!=e)return e.resolve(n,this);if(null==n.parent){const i=du(t)?this:n;return e=this.jitRegister(t,i),e.resolve(n,this)}n=n.parent}throw new Error(`Unable to resolve key: ${t}`)}getAll(t,e=!1){xu(t);const n=this;let i,s=n;if(e){let e=Su;for(;null!=s;)i=s.resolvers.get(t),null!=i&&(e=e.concat(ku(i,s,n))),s=s.parent;return e}for(;null!=s;){if(i=s.resolvers.get(t),null!=i)return ku(i,s,n);if(s=s.parent,null==s)return Su}return Su}invoke(t,e){if(Fh(t))throw Cu(t);return new cu(t,Gh.getDependencies(t)).construct(this,e)}getFactory(t){let e=this.factories.get(t);if(void 0===e){if(Fh(t))throw Cu(t);this.factories.set(t,e=new cu(t,Gh.getDependencies(t)))}return e}registerFactory(t,e){this.factories.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===Kh.DEFAULT?new fu(this,this.config):new fu(this,Kh.from({...this.config,inheritParentResources:!1})):new fu(this,Kh.from(null!=t?t:this.config))}disposeResolvers(){var t;const e=Array.from(this.disposableResolvers);for(;e.length>0;)null===(t=e.pop())||void 0===t||t.dispose()}find(t,e){const n=t.keyFrom(e);let i=this.resourceResolvers[n];if(void 0===i&&(i=this.root.resourceResolvers[n],void 0===i))return null;if(null===i)return null;if("function"==typeof i.getFactory){const e=i.getFactory(this);if(null==e)return null;const n=ph.getOwn(t.name,e.Type);return void 0===n?null:n}return null}create(t,e){var n,i;const s=t.keyFrom(e);let r=this.resourceResolvers[s];return void 0===r?(r=this.root.resourceResolvers[s],void 0===r?null:null!==(n=r.resolve(this.root,this))&&void 0!==n?n:null):null!==(i=r.resolve(this,this))&&void 0!==i?i:null}dispose(){this.disposeResolvers(),this.resolvers.clear()}jitRegister(t,e){if("function"!=typeof t)throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this resource?`);if(pu.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`);if(uu(t)){const n=t.register(e,t);if(!(n instanceof Object)||null==n.resolve){const n=e.resolvers.get(t);if(null!=n)return n;throw new Error("Invalid resolver returned from the static register method")}return n}if(Bh.resource.has(t)){const n=Bh.resource.getAll(t);if(1===n.length)n[0].register(e);else{const t=n.length;for(let i=0;i<t;++i)n[i].register(e)}const i=e.resolvers.get(t);if(null!=i)return i;throw new Error("Invalid resolver returned from the static register method")}if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`);{const n=this.config.defaultResolver(t,e);return e.resolvers.set(t,n),n}}}class vu{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter((t=>"object"==typeof t)))}}const mu=new WeakMap;function bu(t){return function(e,n,i){let s=mu.get(e);if(void 0===s&&mu.set(e,s=new WeakMap),s.has(i))return s.get(i);const r=t(e,n,i);return s.set(i,r),r}}const yu={instance:(t,e)=>new ou(t,0,e),singleton:(t,e)=>new ou(t,1,e),transient:(t,e)=>new ou(t,2,e),callback:(t,e)=>new ou(t,3,e),cachedCallback:(t,e)=>new ou(t,3,bu(e)),aliasTo:(t,e)=>new ou(e,5,t),defer:(t,...e)=>new vu(t,e)};class wu{constructor(t){this.friendlyName=t,this.instance=null}prepare(t){this.instance=t}get $isResolver(){return!0}resolve(){if(null==this.instance)throw new Error(`Cannot call resolve ${this.friendlyName} before calling prepare or after calling dispose.`);return this.instance}dispose(){this.instance=null}}function xu(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function ku(t,e,n){if(t instanceof ou&&4===t.strategy){const i=t.state;let s=i.length;const r=new Array(s);for(;s--;)r[s]=i[s].resolve(e,n);return r}return[t.resolve(e,n)]}function Cu(t){return new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`)}const Su=Object.freeze([]),$u=Object.freeze({});function Tu(){}const Au=Gh.createInterface("IPlatform"),Eu=new Map;function Pu(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}class Ou{constructor(t,e={}){var n,i,s,r,o,a,l,c,h,u,d,p,g;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,this.decodeURI="decodeURI"in e?e.decodeURI:t.decodeURI,this.decodeURIComponent="decodeURIComponent"in e?e.decodeURIComponent:t.decodeURIComponent,this.encodeURI="encodeURI"in e?e.encodeURI:t.encodeURI,this.encodeURIComponent="encodeURIComponent"in e?e.encodeURIComponent:t.encodeURIComponent,this.Date="Date"in e?e.Date:t.Date,this.Reflect="Reflect"in e?e.Reflect:t.Reflect,this.clearInterval="clearInterval"in e?e.clearInterval:null!==(i=null===(n=t.clearInterval)||void 0===n?void 0:n.bind(t))&&void 0!==i?i:Pu("clearInterval"),this.clearTimeout="clearTimeout"in e?e.clearTimeout:null!==(r=null===(s=t.clearTimeout)||void 0===s?void 0:s.bind(t))&&void 0!==r?r:Pu("clearTimeout"),this.queueMicrotask="queueMicrotask"in e?e.queueMicrotask:null!==(a=null===(o=t.queueMicrotask)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:Pu("queueMicrotask"),this.setInterval="setInterval"in e?e.setInterval:null!==(c=null===(l=t.setInterval)||void 0===l?void 0:l.bind(t))&&void 0!==c?c:Pu("setInterval"),this.setTimeout="setTimeout"in e?e.setTimeout:null!==(u=null===(h=t.setTimeout)||void 0===h?void 0:h.bind(t))&&void 0!==u?u:Pu("setTimeout"),this.console="console"in e?e.console:t.console,this.performanceNow="performanceNow"in e?e.performanceNow:null!==(g=null===(p=null===(d=t.performance)||void 0===d?void 0:d.now)||void 0===p?void 0:p.bind(t.performance))&&void 0!==g?g:Pu("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Iu(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let n=Eu.get(t);return void 0===n&&Eu.set(t,n=new Ou(t,e)),n}static set(t,e){Eu.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}function Ru(t){return t.persistent}class Iu{constructor(t,e,n){this.platform=t,this.$request=e,this.$cancel=n,this.processing=[],this.suspenderTask=void 0,this.pendingAsyncCount=0,this.pending=[],this.delayed=[],this.flushRequested=!1,this.yieldPromise=void 0,this.taskPool=[],this.taskPoolSize=0,this.lastRequest=0,this.lastFlush=0,this.requestFlush=()=>{this.tracer.enabled&&this.tracer.enter(this,"requestFlush"),this.flushRequested||(this.flushRequested=!0,this.lastRequest=this.platform.performanceNow(),this.$request()),this.tracer.enabled&&this.tracer.leave(this,"requestFlush")},this.tracer=new Mu(t.console)}get isEmpty(){return 0===this.pendingAsyncCount&&0===this.processing.length&&0===this.pending.length&&0===this.delayed.length}get hasNoMoreFiniteWork(){return 0===this.pendingAsyncCount&&this.processing.every(Ru)&&this.pending.every(Ru)&&this.delayed.every(Ru)}flush(t=this.platform.performanceNow()){if(this.tracer.enabled&&this.tracer.enter(this,"flush"),this.flushRequested=!1,this.lastFlush=t,void 0===this.suspenderTask){if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}let e;for(;this.processing.length>0;)if((e=this.processing.shift()).run(),1===e.status){if(!0===e.suspend)return this.suspenderTask=e,this.requestFlush(),void(this.tracer.enabled&&this.tracer.leave(this,"flush early async"));++this.pendingAsyncCount}if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}if((this.processing.length>0||this.delayed.length>0||this.pendingAsyncCount>0)&&this.requestFlush(),void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const t=this.yieldPromise;this.yieldPromise=void 0,t.resolve()}}else this.requestFlush();this.tracer.enabled&&this.tracer.leave(this,"flush full")}cancel(){this.tracer.enabled&&this.tracer.enter(this,"cancel"),this.flushRequested&&(this.$cancel(),this.flushRequested=!1),this.tracer.enabled&&this.tracer.leave(this,"cancel")}async yield(){this.tracer.enabled&&this.tracer.enter(this,"yield"),this.isEmpty?this.tracer.enabled&&this.tracer.leave(this,"yield empty"):(void 0===this.yieldPromise&&(this.tracer.enabled&&this.tracer.trace(this,"yield - creating promise"),this.yieldPromise=Uu()),await this.yieldPromise,this.tracer.enabled&&this.tracer.leave(this,"yield task"))}queueTask(t,e){this.tracer.enabled&&this.tracer.enter(this,"queueTask");const{delay:n,preempt:i,persistent:s,reusable:r,suspend:o}={...Bu,...e};if(i){if(n>0)throw new Error("Invalid arguments: preempt cannot be combined with a greater-than-zero delay");if(s)throw new Error("Invalid arguments: preempt cannot be combined with persistent")}0===this.processing.length&&this.requestFlush();const a=this.platform.performanceNow();let l;if(r){const e=this.taskPool,c=this.taskPoolSize-1;c>=0?(l=e[c],e[c]=void 0,this.taskPoolSize=c,l.reuse(a,n,i,s,o,t)):l=new Du(this.tracer,this,a,a+n,i,s,o,r,t)}else l=new Du(this.tracer,this,a,a+n,i,s,o,r,t);return i?this.processing[this.processing.length]=l:0===n?this.pending[this.pending.length]=l:this.delayed[this.delayed.length]=l,this.tracer.enabled&&this.tracer.leave(this,"queueTask"),l}remove(t){this.tracer.enabled&&this.tracer.enter(this,"remove");let e=this.processing.indexOf(t);if(e>-1)return this.processing.splice(e,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove processing"));if(e=this.pending.indexOf(t),e>-1)return this.pending.splice(e,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove pending"));if(e=this.delayed.indexOf(t),e>-1)return this.delayed.splice(e,1),void(this.tracer.enabled&&this.tracer.leave(this,"remove delayed"));throw this.tracer.enabled&&this.tracer.leave(this,"remove error"),new Error(`Task #${t.id} could not be found`)}returnToPool(t){this.tracer.enabled&&this.tracer.trace(this,"returnToPool"),this.taskPool[this.taskPoolSize++]=t}resetPersistentTask(t){this.tracer.enabled&&this.tracer.enter(this,"resetPersistentTask"),t.reset(this.platform.performanceNow()),t.createdTime===t.queueTime?this.pending[this.pending.length]=t:this.delayed[this.delayed.length]=t,this.tracer.enabled&&this.tracer.leave(this,"resetPersistentTask")}completeAsyncTask(t){var e;if(this.tracer.enabled&&this.tracer.enter(this,"completeAsyncTask"),!0===t.suspend){if(this.suspenderTask!==t)throw this.tracer.enabled&&this.tracer.leave(this,"completeAsyncTask error"),new Error(`Async task completion mismatch: suspenderTask=${null===(e=this.suspenderTask)||void 0===e?void 0:e.id}, task=${t.id}`);this.suspenderTask=void 0}else--this.pendingAsyncCount;if(void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const t=this.yieldPromise;this.yieldPromise=void 0,t.resolve()}this.isEmpty&&this.cancel(),this.tracer.enabled&&this.tracer.leave(this,"completeAsyncTask")}}class ju extends Error{constructor(t){super("Task was canceled."),this.task=t}}let Fu=0;var Lu,Nu;!function(t){t[t.pending=0]="pending",t[t.running=1]="running",t[t.completed=2]="completed",t[t.canceled=3]="canceled"}(Lu||(Lu={}));class Du{constructor(t,e,n,i,s,r,o,a,l){this.tracer=t,this.taskQueue=e,this.createdTime=n,this.queueTime=i,this.preempt=s,this.persistent=r,this.suspend=o,this.reusable=a,this.callback=l,this.id=++Fu,this.resolve=void 0,this.reject=void 0,this._result=void 0,this._status=0}get result(){const t=this._result;if(void 0===t)switch(this._status){case 0:{const t=this._result=Uu();return this.resolve=t.resolve,this.reject=t.reject,t}case 1:throw new Error("Trying to await task from within task will cause a deadlock.");case 2:return this._result=Promise.resolve();case 3:return this._result=Promise.reject(new ju(this))}return t}get status(){return this._status}run(t=this.taskQueue.platform.performanceNow()){if(this.tracer.enabled&&this.tracer.enter(this,"run"),0!==this._status)throw this.tracer.enabled&&this.tracer.leave(this,"run error"),new Error(`Cannot run task in ${this._status} state`);const{persistent:e,reusable:n,taskQueue:i,callback:s,resolve:r,reject:o,createdTime:a}=this;this._status=1;try{const l=s(t-a);l instanceof Promise?l.then((t=>{this.persistent?i.resetPersistentTask(this):(this._status=e?3:2,this.dispose()),i.completeAsyncTask(this),this.tracer.enabled&&this.tracer.leave(this,"run async then"),void 0!==r&&r(t),!this.persistent&&n&&i.returnToPool(this)})).catch((t=>{if(this.persistent||this.dispose(),i.completeAsyncTask(this),this.tracer.enabled&&this.tracer.leave(this,"run async catch"),void 0===o)throw t;o(t)})):(this.persistent?i.resetPersistentTask(this):(this._status=e?3:2,this.dispose()),this.tracer.enabled&&this.tracer.leave(this,"run sync success"),void 0!==r&&r(l),!this.persistent&&n&&i.returnToPool(this))}catch(t){if(this.persistent||this.dispose(),this.tracer.enabled&&this.tracer.leave(this,"run sync error"),void 0===o)throw t;o(t)}}cancel(){if(this.tracer.enabled&&this.tracer.enter(this,"cancel"),0===this._status){const t=this.taskQueue,e=this.reusable,n=this.reject;return t.remove(this),t.isEmpty&&t.cancel(),this._status=3,this.dispose(),e&&t.returnToPool(this),void 0!==n&&n(new ju(this)),this.tracer.enabled&&this.tracer.leave(this,"cancel true =pending"),!0}return 1===this._status&&this.persistent?(this.persistent=!1,this.tracer.enabled&&this.tracer.leave(this,"cancel true =running+persistent"),!0):(this.tracer.enabled&&this.tracer.leave(this,"cancel false"),!1)}reset(t){this.tracer.enabled&&this.tracer.enter(this,"reset");const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this._status=0,this.resolve=void 0,this.reject=void 0,this._result=void 0,this.tracer.enabled&&this.tracer.leave(this,"reset")}reuse(t,e,n,i,s,r){this.tracer.enabled&&this.tracer.enter(this,"reuse"),this.createdTime=t,this.queueTime=t+e,this.preempt=n,this.persistent=i,this.suspend=s,this.callback=r,this._status=0,this.tracer.enabled&&this.tracer.leave(this,"reuse")}dispose(){this.tracer.enabled&&this.tracer.trace(this,"dispose"),this.callback=void 0,this.resolve=void 0,this.reject=void 0,this._result=void 0}}class Mu{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,n){if(e instanceof Iu){const i=`processing=${e.processing.length} pending=${e.pending.length} delayed=${e.delayed.length} flushReq=${e.flushRequested} susTask=${!!e.suspenderTask}`;this.console.log(`${t}[Q.${n}] ${i}`)}else{const i=e.id,s=Math.round(10*e.createdTime)/10,r=Math.round(10*e.queueTime)/10,o=e.preempt,a=e.reusable,l=e.persistent,c=e.suspend,h=`id=${i} created=${s} queue=${r} preempt=${o} persistent=${l} reusable=${a} status=${function(t){switch(t){case 0:return"pending";case 1:return"running";case 3:return"canceled";case 2:return"completed"}}(e._status)} suspend=${c}`;this.console.log(`${t}[T.${n}] ${h}`)}}}!function(t){t[t.render=0]="render",t[t.macroTask=1]="macroTask",t[t.postRender=2]="postRender"}(Nu||(Nu={}));const Bu={delay:0,preempt:!1,persistent:!1,reusable:!0,suspend:!1};let Vu,Hu;function qu(t,e){Vu=t,Hu=e}function Uu(){const t=new Promise(qu);return t.resolve=Vu,t.reject=Hu,t}var zu,_u,Wu=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ku=function(t,e){return function(n,i){e(n,i,t)}};!function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.fatal=5]="fatal",t[t.none=6]="none"}(zu||(zu={})),function(t){t[t.noColors=0]="noColors",t[t.colors=1]="colors"}(_u||(_u={}));const Gu=Gh.createInterface("ILogConfig",(t=>t.instance(new ed(0,3)))),Qu=Gh.createInterface("ISink"),Yu=Gh.createInterface("ILogEventFactory",(t=>t.singleton(rd))),Xu=Gh.createInterface("ILogger",(t=>t.singleton(ad))),Zu=Gh.createInterface("ILogScope"),Ju=Object.freeze({key:Bh.annotation.keyFor("logger-sink-handles"),define(t,e){return ph.define(this.key,e.handles,t.prototype),t},getHandles(t){return ph.get(this.key,t)}}),td=jh({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class ed{constructor(t,e){this.colorOptions=t,this.level=e}}const nd=function(){const t=[jh({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),jh({TRC:td.grey("TRC"),DBG:td.grey("DBG"),INF:td.white("INF"),WRN:td.yellow("WRN"),ERR:td.red("ERR"),FTL:td.red("FTL"),QQQ:td.grey("???")})];return function(e,n){return e<=0?t[n].TRC:e<=1?t[n].DBG:e<=2?t[n].INF:e<=3?t[n].WRN:e<=4?t[n].ERR:e<=5?t[n].FTL:t[n].QQQ}}();function id(t,e){return 0===e?new Date(t).toISOString():td.grey(new Date(t).toISOString())}class sd{constructor(t,e,n,i,s,r){this.severity=t,this.message=e,this.optionalParams=n,this.scope=i,this.colorOptions=s,this.timestamp=r}toString(){const{severity:t,message:e,scope:n,colorOptions:i,timestamp:s}=this;return 0===n.length?`${id(s,i)} [${nd(t,i)}] ${e}`:`${id(s,i)} [${nd(t,i)} ${function(t,e){return 0===e?t.join("."):t.map(td.cyan).join(".")}(n,i)}] ${e}`}}let rd=class{constructor(t){this.config=t}createLogEvent(t,e,n,i){return new sd(e,n,i,t.scope,this.config.colorOptions,Date.now())}};rd=Wu([Ku(0,Gu)],rd);let od=class t{constructor(t){const e=t.console;this.handleEvent=function(t){const n=t.optionalParams;if(void 0===n||0===n.length){const n=t.toString();switch(t.severity){case 0:case 1:return e.debug(n);case 2:return e.info(n);case 3:return e.warn(n);case 4:case 5:return e.error(n)}}else{let i=t.toString(),s=0;for(;i.includes("%s");)i=i.replace("%s",String(n[s++]));switch(t.severity){case 0:case 1:return e.debug(i,...n.slice(s));case 2:return e.info(i,...n.slice(s));case 3:return e.warn(i,...n.slice(s));case 4:case 5:return e.error(i,...n.slice(s))}}}}static register(e){yu.singleton(Qu,t).register(e)}};od=Wu([Ku(0,Au)],od);let ad=class t{constructor(t,e,n,i=[],s=null){var r,o,a,l,c,h;let u,d,p,g,f,v;if(this.config=t,this.factory=e,this.scope=i,this.scopedLoggers=Object.create(null),null===s){this.root=this,this.parent=this,u=this.traceSinks=[],d=this.debugSinks=[],p=this.infoSinks=[],g=this.warnSinks=[],f=this.errorSinks=[],v=this.fatalSinks=[];for(const t of n){const e=Ju.getHandles(t);(null===(r=null==e?void 0:e.includes(0))||void 0===r||r)&&u.push(t),(null===(o=null==e?void 0:e.includes(1))||void 0===o||o)&&d.push(t),(null===(a=null==e?void 0:e.includes(2))||void 0===a||a)&&p.push(t),(null===(l=null==e?void 0:e.includes(3))||void 0===l||l)&&g.push(t),(null===(c=null==e?void 0:e.includes(4))||void 0===c||c)&&f.push(t),(null===(h=null==e?void 0:e.includes(5))||void 0===h||h)&&v.push(t)}}else this.root=s.root,this.parent=s,u=this.traceSinks=s.traceSinks,d=this.debugSinks=s.debugSinks,p=this.infoSinks=s.infoSinks,g=this.warnSinks=s.warnSinks,f=this.errorSinks=s.errorSinks,v=this.fatalSinks=s.fatalSinks}trace(t,...e){this.config.level<=0&&this.emit(this.traceSinks,0,t,e)}debug(t,...e){this.config.level<=1&&this.emit(this.debugSinks,1,t,e)}info(t,...e){this.config.level<=2&&this.emit(this.infoSinks,2,t,e)}warn(t,...e){this.config.level<=3&&this.emit(this.warnSinks,3,t,e)}error(t,...e){this.config.level<=4&&this.emit(this.errorSinks,4,t,e)}fatal(t,...e){this.config.level<=5&&this.emit(this.fatalSinks,5,t,e)}scopeTo(e){const n=this.scopedLoggers;let i=n[e];return void 0===i&&(i=n[e]=new t(this.config,this.factory,void 0,this.scope.concat(e),this)),i}emit(t,e,n,i){const s="function"==typeof n?n():n,r=this.factory.createLogEvent(this,e,s,i);for(let e=0,n=t.length;e<n;++e)t[e].handleEvent(r)}};Wu([Ph],ad.prototype,"trace",null),Wu([Ph],ad.prototype,"debug",null),Wu([Ph],ad.prototype,"info",null),Wu([Ph],ad.prototype,"warn",null),Wu([Ph],ad.prototype,"error",null),Wu([Ph],ad.prototype,"fatal",null),ad=Wu([Ku(0,Gu),Ku(1,Yu),Ku(2,tu(Qu)),Ku(3,nu(Zu)),Ku(4,iu)],ad);const ld=jh({create:({level:t=3,colorOptions:e=0,sinks:n=[]}={})=>jh({register(i){i.register(yu.instance(Gu,new ed(e,t)));for(const t of n)"function"==typeof t?i.register(yu.singleton(Qu,t)):i.register(t);return i}})}),cd=Gh.createInterface((t=>t.singleton(dd)));function hd(t){return t}class ud{constructor(t){this.$transform=t,this.promiseCache=new Map,this.objectCache=new Map}transform(t){if(t instanceof Promise)return this.transformPromise(t);if("object"==typeof t&&null!==t)return this.transformObject(t);throw new Error(`Invalid input: ${String(t)}. Expected Promise or Object.`)}transformPromise(t){if(this.promiseCache.has(t))return this.promiseCache.get(t);const e=t.then((t=>this.transformObject(t)));return this.promiseCache.set(t,e),e.then((e=>{this.promiseCache.set(t,e)})),e}transformObject(t){if(this.objectCache.has(t))return this.objectCache.get(t);const e=this.$transform(this.analyze(t));return this.objectCache.set(t,e),e instanceof Promise&&e.then((e=>{this.objectCache.set(t,e)})),e}analyze(t){let e,n,i,s;const r=[];for(const o in t){switch(typeof(e=t[o])){case"object":if(null===e)continue;n="function"==typeof e.register,i=!1,s=Su;break;case"function":n="function"==typeof e.register,i=void 0!==e.prototype,s=Bh.resource.getAll(e);break;default:continue}r.push(new gd(o,e,n,i,s))}return new pd(t,r)}}class dd{constructor(){this.transformers=new Map}load(t,e=hd){const n=this.transformers;let i=n.get(e);return void 0===i&&n.set(e,i=new ud(e)),i.transform(t)}dispose(){this.transformers.clear()}}class pd{constructor(t,e){this.raw=t,this.items=e}}class gd{constructor(t,e,n,i,s){this.key=t,this.value=e,this.isRegistry=n,this.isConstructable=i,this.definitions=s}}class fd{constructor(t,e){this.messageType=t,this.callback=e}handle(t){t instanceof this.messageType&&this.callback.call(null,t)}}const vd=Gh.createInterface("IEventAggregator",(t=>t.singleton(md)));class md{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw new Error(`Invalid channel name or instance: ${t}.`);if("string"==typeof t){let n=this.eventLookup[t];if(void 0!==n){n=n.slice();let i=n.length;for(;i-- >0;)n[i](e,t)}}else{const e=this.messageHandlers.slice();let n=e.length;for(;n-- >0;)e[n].handle(t)}}subscribe(t,e){if(!t)throw new Error(`Invalid channel name or type: ${t}.`);let n,i;return"string"==typeof t?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),n=e,i=this.eventLookup[t]):(n=new fd(t,e),i=this.messageHandlers),i.push(n),{dispose(){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}}subscribeOnce(t,e){const n=this.subscribe(t,(function(t,i){n.dispose(),e(t,i)}));return n}}const bd=new Map;function yd(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}class wd extends Ou{constructor(t,e={}){var n,i,s,r,o,a;super(t,e),this.domReadRequested=!1,this.domReadHandle=-1,this.domWriteRequested=!1,this.domWriteHandle=-1,this.Node="Node"in e?e.Node:t.Node,this.Element="Element"in e?e.Element:t.Element,this.HTMLElement="HTMLElement"in e?e.HTMLElement:t.HTMLElement,this.CustomEvent="CustomEvent"in e?e.CustomEvent:t.CustomEvent,this.CSSStyleSheet="CSSStyleSheet"in e?e.CSSStyleSheet:t.CSSStyleSheet,this.ShadowRoot="ShadowRoot"in e?e.ShadowRoot:t.ShadowRoot,this.MutationObserver="MutationObserver"in e?e.MutationObserver:t.MutationObserver,this.window="window"in e?e.window:t.window,this.document="document"in e?e.document:t.document,this.location="location"in e?e.location:t.location,this.history="history"in e?e.history:t.history,this.navigator="navigator"in e?e.navigator:t.navigator,this.fetch="fetch"in e?e.fetch:null!==(i=null===(n=t.fetch)||void 0===n?void 0:n.bind(t))&&void 0!==i?i:yd("fetch"),this.requestAnimationFrame="requestAnimationFrame"in e?e.requestAnimationFrame:null!==(r=null===(s=t.requestAnimationFrame)||void 0===s?void 0:s.bind(t))&&void 0!==r?r:yd("requestAnimationFrame"),this.cancelAnimationFrame="cancelAnimationFrame"in e?e.cancelAnimationFrame:null!==(a=null===(o=t.cancelAnimationFrame)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:yd("cancelAnimationFrame"),this.customElements="customElements"in e?e.customElements:t.customElements,this.flushDomRead=this.flushDomRead.bind(this),this.flushDomWrite=this.flushDomWrite.bind(this),this.domReadQueue=new Iu(this,this.requestDomRead.bind(this),this.cancelDomRead.bind(this)),this.domWriteQueue=new Iu(this,this.requestDomWrite.bind(this),this.cancelDomWrite.bind(this))}static getOrCreate(t,e={}){let n=bd.get(t);return void 0===n&&bd.set(t,n=new wd(t,e)),n}static set(t,e){bd.set(t,e)}requestDomRead(){this.domReadRequested=!0,-1===this.domWriteHandle&&(this.domWriteHandle=this.requestAnimationFrame(this.flushDomWrite))}cancelDomRead(){this.domReadRequested=!1,this.domReadHandle>-1&&(this.clearTimeout(this.domReadHandle),this.domReadHandle=-1),!1===this.domWriteRequested&&this.domWriteHandle>-1&&(this.cancelAnimationFrame(this.domWriteHandle),this.domWriteHandle=-1)}flushDomRead(){this.domReadHandle=-1,!0===this.domReadRequested&&(this.domReadRequested=!1,this.domReadQueue.flush())}requestDomWrite(){this.domWriteRequested=!0,-1===this.domWriteHandle&&(this.domWriteHandle=this.requestAnimationFrame(this.flushDomWrite))}cancelDomWrite(){this.domWriteRequested=!1,this.domWriteHandle>-1&&(!1===this.domReadRequested||this.domReadHandle>-1)&&(this.cancelAnimationFrame(this.domWriteHandle),this.domWriteHandle=-1)}flushDomWrite(){this.domWriteHandle=-1,!0===this.domWriteRequested&&(this.domWriteRequested=!1,this.domWriteQueue.flush()),!0===this.domReadRequested&&-1===this.domReadHandle&&(this.domReadHandle=this.setTimeout(this.flushDomRead,0))}}function xd(t,e,n,i){for(let s=0,r=t.length;s<r;++s)yu.aliasTo(n,e.keyFrom(t[s])).register(i)}const kd=Object.freeze({});class Cd{constructor(t,e){if(void 0!==t)if(void 0!==e)this[t]=e;else for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this[e]=t[e])}static create(t,e){return new Cd(t,e)}static get(t,e,n,i,s){if(null==t&&null==s)throw new Error(`Scope is ${t} and HostScope is ${s}.`);const r=s!==t&&null!=s;let o=Sd(t,e,n);return null!==o&&(null!=o&&e in o||!r)||r&&(o=Sd(s,e,n),null!=o&&e in o)?o:16&i?kd:t.bindingContext||t.overrideContext}}function Sd(t,e,n){var i,s;let r=t.overrideContext,o=t;if(n>0){for(;n>0;)if(n--,o=o.parentScope,null==(null==o?void 0:o.overrideContext))return;return r=o.overrideContext,e in r?r:r.bindingContext}for(;!(null==o?void 0:o.isComponentBoundary)&&r&&!(e in r)&&(!r.bindingContext||!(e in r.bindingContext));)o=null!==(i=o.parentScope)&&void 0!==i?i:null,r=null!==(s=null==o?void 0:o.overrideContext)&&void 0!==s?s:null;return r?e in r?r:r.bindingContext:null}class $d{constructor(t,e,n,i){this.parentScope=t,this.bindingContext=e,this.overrideContext=n,this.isComponentBoundary=i}static create(t,e,n){return new $d(null,t,null==e?Td.create(t):e,null!=n&&n)}static fromOverride(t){if(null==t)throw new Error(`OverrideContext is ${t}`);return new $d(null,t.bindingContext,t,!1)}static fromParent(t,e){if(null==t)throw new Error(`ParentScope is ${t}`);return new $d(t,e,Td.create(e),!1)}}class Td{constructor(t){this.bindingContext=t}static create(t){return new Td(t)}}const Ad=Gh.createInterface("ISignaler",(t=>t.singleton(Ed)));class Ed{constructor(){this.signals=Object.create(null)}dispatchSignal(t,e){const n=this.signals[t];if(void 0!==n)for(const t of n.keys())t.handleChange(void 0,void 0,e)}addSignalListener(t,e){const n=this.signals,i=n[t];void 0===i?n[t]=new Set([e]):i.add(e)}removeSignalListener(t,e){const n=this.signals[t];n&&n.delete(e)}}var Pd;function Od(t){return function(e){return Fd.define(t,e)}}!function(t){t[t.singleton=1]="singleton",t[t.interceptor=2]="interceptor"}(Pd||(Pd={}));class Rd{constructor(t,e,n,i,s){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.strategy=s}static create(t,e){let n,i;"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t);const s=Object.getPrototypeOf(e)===jd;return new Rd(e,Rh(Fd.getAnnotation(e,"name"),n),Oh(Fd.getAnnotation(e,"aliases"),i.aliases,e.aliases),Fd.keyFrom(n),Hh("strategy",i,e,(()=>s?2:1)))}register(t){const{Type:e,key:n,aliases:i,strategy:s}=this;switch(s){case 1:yu.singleton(n,e).register(t);break;case 2:yu.instance(n,new Id(t,e)).register(t)}yu.aliasTo(n,e).register(t),xd(i,Fd,n,t)}}class Id{constructor(t,e){this.container=t,this.Type=e,this.deps=Gh.getDependencies(e)}construct(t,e){const n=this.container,i=this.deps;switch(i.length){case 0:case 1:case 2:return new this.Type(t,e);case 3:return new this.Type(n.get(i[0]),t,e);case 4:return new this.Type(n.get(i[0]),n.get(i[1]),t,e);default:return new this.Type(...i.map((t=>n.get(t))),t,e)}}}class jd{constructor(t,e){let n;for(this.binding=t,this.expr=e,this.interceptor=this;t.interceptor!==this;)n=t.interceptor,t.interceptor=this,t=n}get observerLocator(){return this.binding.observerLocator}get locator(){return this.binding.locator}get $scope(){return this.binding.$scope}get $hostScope(){return this.binding.$hostScope}get isBound(){return this.binding.isBound}get obs(){return this.binding.obs}get sourceExpression(){return this.binding.sourceExpression}updateTarget(t,e){this.binding.updateTarget(t,e)}updateSource(t,e){this.binding.updateSource(t,e)}callSource(t){return this.binding.callSource(t)}handleChange(t,e,n){this.binding.handleChange(t,e,n)}handleCollectionChange(t,e){this.binding.handleCollectionChange(t,e)}observeProperty(t,e){this.binding.observeProperty(t,e)}observeCollection(t){this.binding.observeCollection(t)}$bind(t,e,n){this.binding.$bind(t,e,n)}$unbind(t){this.binding.$unbind(t)}}const Fd={name:Bh.resource.keyFor("binding-behavior"),keyFrom:t=>`${Fd.name}:${t}`,isType:t=>"function"==typeof t&&ph.hasOwn(Fd.name,t),define(t,e){const n=Rd.create(t,e);return ph.define(Fd.name,n,n.Type),ph.define(Fd.name,n,n),Bh.resource.appendTo(e,Fd.name),n.Type},getDefinition(t){const e=ph.getOwn(Fd.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){ph.define(Bh.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>ph.getOwn(Bh.annotation.keyFor(e),t)};function Ld(t){return function(e){return Dd.define(t,e)}}class Nd{constructor(t,e,n,i){this.Type=t,this.name=e,this.aliases=n,this.key=i}static create(t,e){let n,i;return"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t),new Nd(e,Rh(Dd.getAnnotation(e,"name"),n),Oh(Dd.getAnnotation(e,"aliases"),i.aliases,e.aliases),Dd.keyFrom(n))}register(t){const{Type:e,key:n,aliases:i}=this;yu.singleton(n,e).register(t),yu.aliasTo(n,e).register(t),xd(i,Dd,n,t)}}const Dd={name:Bh.resource.keyFor("value-converter"),keyFrom:t=>`${Dd.name}:${t}`,isType:t=>"function"==typeof t&&ph.hasOwn(Dd.name,t),define(t,e){const n=Nd.create(t,e);return ph.define(Dd.name,n,n.Type),ph.define(Dd.name,n,n),Bh.resource.appendTo(e,Dd.name),n.Type},getDefinition(t){const e=ph.getOwn(Dd.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){ph.define(Bh.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>ph.getOwn(Bh.annotation.keyFor(e),t)};var Md;!function(t){t[t.Connects=32]="Connects",t[t.Observes=64]="Observes",t[t.CallsFunction=128]="CallsFunction",t[t.HasAncestor=256]="HasAncestor",t[t.IsPrimary=512]="IsPrimary",t[t.IsLeftHandSide=1024]="IsLeftHandSide",t[t.HasBind=2048]="HasBind",t[t.HasUnbind=4096]="HasUnbind",t[t.IsAssignable=8192]="IsAssignable",t[t.IsLiteral=16384]="IsLiteral",t[t.IsResource=32768]="IsResource",t[t.IsForDeclaration=65536]="IsForDeclaration",t[t.Type=31]="Type",t[t.AccessThis=1793]="AccessThis",t[t.AccessScope=10082]="AccessScope",t[t.ArrayLiteral=17955]="ArrayLiteral",t[t.ObjectLiteral=17956]="ObjectLiteral",t[t.PrimitiveLiteral=17925]="PrimitiveLiteral",t[t.Template=17958]="Template",t[t.Unary=39]="Unary",t[t.CallScope=1448]="CallScope",t[t.CallMember=1161]="CallMember",t[t.CallFunction=1162]="CallFunction",t[t.AccessMember=9323]="AccessMember",t[t.AccessKeyed=9324]="AccessKeyed",t[t.TaggedTemplate=1197]="TaggedTemplate",t[t.Binary=46]="Binary",t[t.Conditional=63]="Conditional",t[t.Assign=8208]="Assign",t[t.ValueConverter=36913]="ValueConverter",t[t.BindingBehavior=38962]="BindingBehavior",t[t.HtmlLiteral=51]="HtmlLiteral",t[t.ArrayBindingPattern=65556]="ArrayBindingPattern",t[t.ObjectBindingPattern=65557]="ObjectBindingPattern",t[t.BindingIdentifier=65558]="BindingIdentifier",t[t.ForOfStatement=6199]="ForOfStatement",t[t.Interpolation=24]="Interpolation"}(Md||(Md={}));class Bd{constructor(){this.text=""}static unparse(t){const e=new Bd;return t.accept(e),e.text}visitAccessMember(t){t.object.accept(this),this.text+=`.${t.name}`}visitAccessKeyed(t){t.object.accept(this),this.text+="[",t.key.accept(this),this.text+="]"}visitAccessThis(t){if(0===t.ancestor)return void(this.text+="$this");this.text+="$parent";let e=t.ancestor-1;for(;e--;)this.text+=".$parent"}visitAccessScope(t){let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name}visitArrayLiteral(t){const e=t.elements;this.text+="[";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectLiteral(t){const e=t.keys,n=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,n[t].accept(this);this.text+="}"}visitPrimitiveLiteral(t){if(this.text+="(","string"==typeof t.value){const e=t.value.replace(/'/g,"\\'");this.text+=`'${e}'`}else this.text+=`${t.value}`;this.text+=")"}visitCallFunction(t){this.text+="(",t.func.accept(this),this.writeArgs(t.args),this.text+=")"}visitCallMember(t){this.text+="(",t.object.accept(this),this.text+=`.${t.name}`,this.writeArgs(t.args),this.text+=")"}visitCallScope(t){this.text+="(";let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name,this.writeArgs(t.args),this.text+=")"}visitTemplate(t){const{cooked:e,expressions:n}=t,i=n.length;this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)n[t].accept(this),this.text+=e[t+1];this.text+="`"}visitTaggedTemplate(t){const{cooked:e,expressions:n}=t,i=n.length;t.func.accept(this),this.text+="`",this.text+=e[0];for(let t=0;t<i;t++)n[t].accept(this),this.text+=e[t+1];this.text+="`"}visitUnary(t){this.text+=`(${t.operation}`,t.operation.charCodeAt(0)>=97&&(this.text+=" "),t.expression.accept(this),this.text+=")"}visitBinary(t){this.text+="(",t.left.accept(this),105===t.operation.charCodeAt(0)?this.text+=` ${t.operation} `:this.text+=t.operation,t.right.accept(this),this.text+=")"}visitConditional(t){this.text+="(",t.condition.accept(this),this.text+="?",t.yes.accept(this),this.text+=":",t.no.accept(this),this.text+=")"}visitAssign(t){this.text+="(",t.target.accept(this),this.text+="=",t.value.accept(this),this.text+=")"}visitValueConverter(t){const e=t.args;t.expression.accept(this),this.text+=`|${t.name}`;for(let t=0,n=e.length;t<n;++t)this.text+=":",e[t].accept(this)}visitBindingBehavior(t){const e=t.args;t.expression.accept(this),this.text+=`&${t.name}`;for(let t=0,n=e.length;t<n;++t)this.text+=":",e[t].accept(this)}visitArrayBindingPattern(t){const e=t.elements;this.text+="[";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectBindingPattern(t){const e=t.keys,n=t.values;this.text+="{";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,n[t].accept(this);this.text+="}"}visitBindingIdentifier(t){this.text+=t.name}visitHtmlLiteral(t){throw new Error("visitHtmlLiteral")}visitForOfStatement(t){t.declaration.accept(this),this.text+=" of ",t.iterable.accept(this)}visitInterpolation(t){const{parts:e,expressions:n}=t,i=n.length;this.text+="${",this.text+=e[0];for(let t=0;t<i;t++)n[t].accept(this),this.text+=e[t+1];this.text+="}"}writeArgs(t){this.text+="(";for(let e=0,n=t.length;e<n;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+=")"}}function Vd(t,e,n){if(t){if(null==n)throw new Error("Host scope is missing. Are you using `$host` outside the `au-slot`? Or missing the `au-slot` attribute?");return n}return e}class Hd{constructor(t){this.value=t}evaluate(t,e,n,i,s){return this.value}}class qd{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.behaviorKey=Fd.keyFrom(e)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(t,e,n,i,s){return this.expression.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){return this.expression.assign(t,e,n,i,s)}bind(t,e,n,i){this.expression.hasBind&&this.expression.bind(t,e,n,i);const s=i.locator.get(this.behaviorKey);if(null==s)throw new Error(`BindingBehavior named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(!(s instanceof Id)){if(void 0!==i[this.behaviorKey])throw new Error(`BindingBehavior named '${this.name}' already applied.`);i[this.behaviorKey]=s,s.bind.call(s,t,e,n,i,...this.args.map((s=>s.evaluate(t,e,n,i.locator,null))))}}unbind(t,e,n,i){const s=this.behaviorKey,r=i;void 0!==r[s]&&("function"==typeof r[s].unbind&&r[s].unbind(t,e,n,i),r[s]=void 0),this.expression.hasUnbind&&this.expression.unbind(t,e,n,i)}accept(t){return t.visitBindingBehavior(this)}toString(){return Bd.unparse(this)}}class Ud{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.converterKey=Dd.keyFrom(e)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(t,e,n,i,s){const r=i.get(this.converterKey);if(null==r)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(null!==s&&"handleChange"in s){const t=r.signals;if(null!=t){const e=i.get(Ad);for(let n=0,i=t.length;n<i;++n)e.addSignalListener(t[n],s)}}return"toView"in r?r.toView(this.expression.evaluate(t,e,n,i,s),...this.args.map((r=>r.evaluate(t,e,n,i,s)))):this.expression.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){const r=i.get(this.converterKey);if(null==r)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);return"fromView"in r&&(s=r.fromView(s,...this.args.map((s=>s.evaluate(t,e,n,i,null))))),this.expression.assign(t,e,n,i,s)}unbind(t,e,n,i){const s=i.locator.get(this.converterKey);if(void 0===s.signals)return;const r=i.locator.get(Ad);for(let t=0;t<s.signals.length;++t)r.removeSignalListener(s.signals[t],i)}accept(t){return t.visitValueConverter(this)}toString(){return Bd.unparse(this)}}class zd{constructor(t,e){this.target=t,this.value=e}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.target.assign(t,e,n,i,this.value.evaluate(t,e,n,i,s))}assign(t,e,n,i,s){return this.value.assign(t,e,n,i,s),this.target.assign(t,e,n,i,s)}accept(t){return t.visitAssign(this)}toString(){return Bd.unparse(this)}}class _d{constructor(t,e,n){this.condition=t,this.yes=e,this.no=n}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.condition.evaluate(t,e,n,i,s)?this.yes.evaluate(t,e,n,i,s):this.no.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){}accept(t){return t.visitConditional(this)}toString(){return Bd.unparse(this)}}class Wd{constructor(t=0){this.ancestor=t}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){var r;this===Wd.$host&&(e=Vd(!0,e,n));let o=e.overrideContext,a=e,l=this.ancestor;for(;l--&&o;)a=a.parentScope,o=null!==(r=null==a?void 0:a.overrideContext)&&void 0!==r?r:null;return l<1&&o?o.bindingContext:void 0}assign(t,e,n,i,s){}accept(t){return t.visitAccessThis(this)}toString(){return Bd.unparse(this)}}Wd.$this=new Wd(0),Wd.$host=new Wd(0),Wd.$parent=new Wd(1);class Kd{constructor(t,e=0,n=!1){this.name=t,this.ancestor=e,this.accessHostScope=n}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r=Cd.get(Vd(this.accessHostScope,e,n),this.name,this.ancestor,t,n);null!==s&&s.observeProperty(r,this.name);const o=r[this.name];return 1&t?o:null==o?"":o}assign(t,e,n,i,s){var r;const o=Cd.get(Vd(this.accessHostScope,e,n),this.name,this.ancestor,t,n);if(o instanceof Object)return void 0!==(null===(r=o.$observers)||void 0===r?void 0:r[this.name])?(o.$observers[this.name].setValue(s,t),s):o[this.name]=s}accept(t){return t.visitAccessScope(this)}toString(){return Bd.unparse(this)}}class Gd{constructor(t,e){this.object=t,this.name=e}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r=this.object.evaluate(t,e,n,i,(128&t)>0?null:s);return 1&t?null==r?r:(null!==s&&s.observeProperty(r,this.name),r[this.name]):(null!==s&&r instanceof Object&&s.observeProperty(r,this.name),r?r[this.name]:"")}assign(t,e,n,i,s){const r=this.object.evaluate(t,e,n,i,null);return r instanceof Object?void 0!==r.$observers&&void 0!==r.$observers[this.name]?r.$observers[this.name].setValue(s,t):r[this.name]=s:this.object.assign(t,e,n,i,{[this.name]:s}),s}accept(t){return t.visitAccessMember(this)}toString(){return Bd.unparse(this)}}class Qd{constructor(t,e){this.object=t,this.key=e}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r=this.object.evaluate(t,e,n,i,(128&t)>0?null:s);if(r instanceof Object){const o=this.key.evaluate(t,e,n,i,(128&t)>0?null:s);return null!==s&&s.observeProperty(r,o),r[o]}}assign(t,e,n,i,s){return this.object.evaluate(t,e,n,i,null)[this.key.evaluate(t,e,n,i,null)]=s}accept(t){return t.visitAccessKeyed(this)}toString(){return Bd.unparse(this)}}class Yd{constructor(t,e,n=0,i=!1){this.name=t,this.args=e,this.ancestor=n,this.accessHostScope=i}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){e=Vd(this.accessHostScope,e,n);const r=this.args.map((r=>r.evaluate(t,e,n,i,s))),o=Cd.get(e,this.name,this.ancestor,t,n),a=dp(t,o,this.name);if(a)return a.apply(o,r)}assign(t,e,n,i,s){}accept(t){return t.visitCallScope(this)}toString(){return Bd.unparse(this)}}class Xd{constructor(t,e,n){this.object=t,this.name=e,this.args=n}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r=this.object.evaluate(t,e,n,i,(128&t)>0?null:s),o=this.args.map((r=>r.evaluate(t,e,n,i,s))),a=dp(t,r,this.name);if(a)return a.apply(r,o)}assign(t,e,n,i,s){}accept(t){return t.visitCallMember(this)}toString(){return Bd.unparse(this)}}class Zd{constructor(t,e){this.func=t,this.args=e}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r=this.func.evaluate(t,e,n,i,s);if("function"==typeof r)return r(...this.args.map((r=>r.evaluate(t,e,n,i,s))));if(8&t||null!=r)throw new Error("Expression is not a function.")}assign(t,e,n,i,s){}accept(t){return t.visitCallFunction(this)}toString(){return Bd.unparse(this)}}class Jd{constructor(t,e,n){this.operation=t,this.left=e,this.right=n}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){switch(this.operation){case"&&":return this.left.evaluate(t,e,n,i,s)&&this.right.evaluate(t,e,n,i,s);case"||":return this.left.evaluate(t,e,n,i,s)||this.right.evaluate(t,e,n,i,s);case"==":return this.left.evaluate(t,e,n,i,s)==this.right.evaluate(t,e,n,i,s);case"===":return this.left.evaluate(t,e,n,i,s)===this.right.evaluate(t,e,n,i,s);case"!=":return this.left.evaluate(t,e,n,i,s)!=this.right.evaluate(t,e,n,i,s);case"!==":return this.left.evaluate(t,e,n,i,s)!==this.right.evaluate(t,e,n,i,s);case"instanceof":{const r=this.right.evaluate(t,e,n,i,s);return"function"==typeof r&&this.left.evaluate(t,e,n,i,s)instanceof r}case"in":{const r=this.right.evaluate(t,e,n,i,s);return r instanceof Object&&this.left.evaluate(t,e,n,i,s)in r}case"+":{const r=this.left.evaluate(t,e,n,i,s),o=this.right.evaluate(t,e,n,i,s);if((1&t)>0)return r+o;if(!r||!o){if(yh(r)||yh(o))return(r||0)+(o||0);if(wh(r)||wh(o))return(r||"")+(o||"")}return r+o}case"-":return this.left.evaluate(t,e,n,i,s)-this.right.evaluate(t,e,n,i,s);case"*":return this.left.evaluate(t,e,n,i,s)*this.right.evaluate(t,e,n,i,s);case"/":return this.left.evaluate(t,e,n,i,s)/this.right.evaluate(t,e,n,i,s);case"%":return this.left.evaluate(t,e,n,i,s)%this.right.evaluate(t,e,n,i,s);case"<":return this.left.evaluate(t,e,n,i,s)<this.right.evaluate(t,e,n,i,s);case">":return this.left.evaluate(t,e,n,i,s)>this.right.evaluate(t,e,n,i,s);case"<=":return this.left.evaluate(t,e,n,i,s)<=this.right.evaluate(t,e,n,i,s);case">=":return this.left.evaluate(t,e,n,i,s)>=this.right.evaluate(t,e,n,i,s);default:throw new Error(`Unknown binary operator: '${this.operation}'`)}}assign(t,e,n,i,s){}accept(t){return t.visitBinary(this)}toString(){return Bd.unparse(this)}}class tp{constructor(t,e){this.operation=t,this.expression=e}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){switch(this.operation){case"void":return void this.expression.evaluate(t,e,n,i,s);case"typeof":return typeof this.expression.evaluate(1|t,e,n,i,s);case"!":return!this.expression.evaluate(t,e,n,i,s);case"-":return-this.expression.evaluate(t,e,n,i,s);case"+":return+this.expression.evaluate(t,e,n,i,s);default:throw new Error(`Unknown unary operator: '${this.operation}'`)}}assign(t,e,n,i,s){}accept(t){return t.visitUnary(this)}toString(){return Bd.unparse(this)}}class ep{constructor(t){this.value=t}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.value}assign(t,e,n,i,s){}accept(t){return t.visitPrimitiveLiteral(this)}toString(){return Bd.unparse(this)}}ep.$undefined=new ep(void 0),ep.$null=new ep(null),ep.$true=new ep(!0),ep.$false=new ep(!1),ep.$empty=new ep("");class np{constructor(t){this.elements=t}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.elements.map((r=>r.evaluate(t,e,n,i,s)))}assign(t,e,n,i,s){}accept(t){return t.visitArrayLiteral(this)}toString(){return Bd.unparse(this)}}np.$empty=new np(Su);class ip{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r={};for(let o=0;o<this.keys.length;++o)r[this.keys[o]]=this.values[o].evaluate(t,e,n,i,s);return r}assign(t,e,n,i,s){}accept(t){return t.visitObjectLiteral(this)}toString(){return Bd.unparse(this)}}ip.$empty=new ip(Su,Su);class sp{constructor(t,e=Su){this.cooked=t,this.expressions=e}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){let r=this.cooked[0];for(let o=0;o<this.expressions.length;++o)r+=String(this.expressions[o].evaluate(t,e,n,i,s)),r+=this.cooked[o+1];return r}assign(t,e,n,i,s){}accept(t){return t.visitTemplate(this)}toString(){return Bd.unparse(this)}}sp.$empty=new sp([""]);class rp{constructor(t,e,n,i=Su){this.cooked=t,this.func=n,this.expressions=i,t.raw=e}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){const r=this.expressions.map((r=>r.evaluate(t,e,n,i,s))),o=this.func.evaluate(t,e,n,i,s);if("function"!=typeof o)throw new Error("Left-hand side of tagged template expression is not a function.");return o(this.cooked,...r)}assign(t,e,n,i,s){}accept(t){return t.visitTaggedTemplate(this)}toString(){return Bd.unparse(this)}}class op{constructor(t){this.elements=t}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){}assign(t,e,n,i,s){}accept(t){return t.visitArrayBindingPattern(this)}toString(){return Bd.unparse(this)}}class ap{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){}assign(t,e,n,i,s){}accept(t){return t.visitObjectBindingPattern(this)}toString(){return Bd.unparse(this)}}class lp{constructor(t){this.name=t}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.name}accept(t){return t.visitBindingIdentifier(this)}toString(){return Bd.unparse(this)}}const cp=Object.prototype.toString;class hp{constructor(t,e){this.declaration=t,this.iterable=e}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){return this.iterable.evaluate(t,e,n,i,s)}assign(t,e,n,i,s){}count(t,e){switch(cp.call(e)){case"[object Array]":return e.length;case"[object Map]":case"[object Set]":return e.size;case"[object Number]":return e;case"[object Null]":case"[object Undefined]":return 0;default:throw new Error(`Cannot count ${cp.call(e)}`)}}iterate(t,e,n){switch(cp.call(e)){case"[object Array]":return pp(e,n);case"[object Map]":return function(t,e){const n=Array(t.size);let i=-1;for(const e of t.entries())n[++i]=e;pp(n,e)}(e,n);case"[object Set]":return function(t,e){const n=Array(t.size);let i=-1;for(const e of t.keys())n[++i]=e;pp(n,e)}(e,n);case"[object Number]":return function(t,e){const n=Array(t);for(let e=0;e<t;++e)n[e]=e;pp(n,e)}(e,n);case"[object Null]":case"[object Undefined]":return;default:throw new Error(`Cannot iterate over ${cp.call(e)}`)}}bind(t,e,n,i){this.iterable.hasBind&&this.iterable.bind(t,e,n,i)}unbind(t,e,n,i){this.iterable.hasUnbind&&this.iterable.unbind(t,e,n,i)}accept(t){return t.visitForOfStatement(this)}toString(){return Bd.unparse(this)}}class up{constructor(t,e=Su){this.parts=t,this.expressions=e,this.isMulti=e.length>1,this.firstExpression=e[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,n,i,s){if(this.isMulti){let r=this.parts[0];for(let o=0;o<this.expressions.length;++o)r+=String(this.expressions[o].evaluate(t,e,n,i,s)),r+=this.parts[o+1];return r}return`${this.parts[0]}${this.firstExpression.evaluate(t,e,n,i,s)}${this.parts[1]}`}assign(t,e,n,i,s){}accept(t){return t.visitInterpolation(this)}toString(){return Bd.unparse(this)}}function dp(t,e,n){const i=null==e?null:e[n];if("function"==typeof i)return i;if(!(8&t)&&null==i)return null;throw new Error(`Expected '${n}' to be a function`)}function pp(t,e){for(let n=0,i=t.length;n<i;++n)e(t,n,t[n])}const gp=Reflect.defineProperty;function fp(t,e,n){gp(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function vp(t,e,n,i=!1){!i&&Object.prototype.hasOwnProperty.call(t,e)||fp(t,e,n)}var mp,bp,yp,wp,xp,kp,Cp;function Sp(t=0){const e=Array(t);let n=0;for(;n<t;)e[n]=n++;return e.deletedItems=[],e.isIndexMap=!0,e}function $p(t){return null==t?Tp:Tp(t)}function Tp(t){const e=t.prototype;gp(e,"subs",{get:Ep}),vp(e,"subscribe",Pp),vp(e,"unsubscribe",Op)}(Cp=mp||(mp={}))[Cp.oneTime=1]="oneTime",Cp[Cp.toView=2]="toView",Cp[Cp.fromView=4]="fromView",Cp[Cp.twoWay=6]="twoWay",Cp[Cp.default=8]="default",function(t){t[t.none=0]="none",t[t.persistentBindingFlags=961]="persistentBindingFlags",t[t.allowParentScopeTraversal=64]="allowParentScopeTraversal",t[t.observeLeafPropertiesOnly=128]="observeLeafPropertiesOnly",t[t.targetObserverFlags=769]="targetObserverFlags",t[t.noFlush=256]="noFlush",t[t.persistentTargetObserverQueue=512]="persistentTargetObserverQueue",t[t.bindingStrategy=1]="bindingStrategy",t[t.isStrictBindingStrategy=1]="isStrictBindingStrategy",t[t.fromBind=2]="fromBind",t[t.fromUnbind=4]="fromUnbind",t[t.mustEvaluate=8]="mustEvaluate",t[t.isTraversingParentScope=16]="isTraversingParentScope",t[t.dispose=32]="dispose"}(bp||(bp={})),function(t){t[t.None=0]="None",t[t.Subscriber0=1]="Subscriber0",t[t.Subscriber1=2]="Subscriber1",t[t.Subscriber2=4]="Subscriber2",t[t.SubscribersRest=8]="SubscribersRest",t[t.Any=15]="Any"}(yp||(yp={})),function(t){t[t.none=0]="none",t[t.capturing=1]="capturing",t[t.bubbling=2]="bubbling"}(wp||(wp={})),function(t){t[t.indexed=8]="indexed",t[t.keyed=4]="keyed",t[t.array=9]="array",t[t.map=6]="map",t[t.set=7]="set"}(xp||(xp={})),function(t){t[t.None=0]="None",t[t.Observer=1]="Observer",t[t.Node=2]="Node",t[t.Layout=4]="Layout",t[t.Primtive=8]="Primtive",t[t.Array=18]="Array",t[t.Set=34]="Set",t[t.Map=66]="Map"}(kp||(kp={}));class Ap{constructor(){this._sf=0,this.count=0}add(t){if(this.has(t))return!1;const e=this._sf;return 0==(1&e)?(this._s0=t,this._sf|=1):0==(2&e)?(this._s1=t,this._sf|=2):0==(4&e)?(this._s2=t,this._sf|=4):0==(8&e)?(this._sr=[t],this._sf|=8):this._sr.push(t),++this.count,!0}has(t){const e=this._sf;if((1&e)>0&&this._s0===t)return!0;if((2&e)>0&&this._s1===t)return!0;if((4&e)>0&&this._s2===t)return!0;if((8&e)>0){const e=this._sr,n=e.length;let i=0;for(;i<n;++i)if(e[i]===t)return!0}return!1}any(){return 0!==this._sf}remove(t){const e=this._sf;if((1&e)>0&&this._s0===t)return this._s0=void 0,this._sf=1^(1|this._sf),--this.count,!0;if((2&e)>0&&this._s1===t)return this._s1=void 0,this._sf=2^(2|this._sf),--this.count,!0;if((4&e)>0&&this._s2===t)return this._s2=void 0,this._sf=4^(4|this._sf),--this.count,!0;if((8&e)>0){const e=this._sr,n=e.length;let i=0;for(;i<n;++i)if(e[i]===t)return e.splice(i,1),1===n&&(this._sf=8^(8|this._sf)),--this.count,!0}return!1}notify(t,e,n){const i=this._s0,s=this._s1,r=this._s2;let o=this._sr;if(void 0!==o&&(o=o.slice()),void 0!==i&&i.handleChange(t,e,n),void 0!==s&&s.handleChange(t,e,n),void 0!==r&&r.handleChange(t,e,n),void 0!==o){const i=o.length;let s,r=0;for(;r<i;++r)s=o[r],void 0!==s&&s.handleChange(t,e,n)}}notifyCollection(t,e){const n=this._s0,i=this._s1,s=this._s2;let r=this._sr;if(void 0!==r&&(r=r.slice()),void 0!==n&&n.handleCollectionChange(t,e),void 0!==i&&i.handleCollectionChange(t,e),void 0!==s&&s.handleCollectionChange(t,e),void 0!==r){const n=r.length;let i,s=0;for(;s<n;++s)i=r[s],void 0!==i&&i.handleCollectionChange(t,e)}}}function Ep(){const t=new Ap;return fp(this,"subs",t),t}function Pp(t){return this.subs.add(t)}function Op(t){return this.subs.remove(t)}class Rp{constructor(t){this.owner=t,this.type=18,this.value=(this.obj=t.collection).length}getValue(){return this.obj.length}setValue(t,e){const n=this.value;t!==n&&bh(t)&&(0==(256&e)&&(this.obj.length=t),this.value=t,this.subs.notify(t,n,e))}handleCollectionChange(t,e){const n=this.value,i=this.obj.length;(this.value=i)!==n&&this.subs.notify(i,n,e)}}class Ip{constructor(t){this.owner=t,this.value=(this.obj=t.collection).size,this.type=this.obj instanceof Map?66:34}getValue(){return this.obj.size}setValue(){throw new Error('Map/Set "size" is a readonly property')}handleCollectionChange(t,e){const n=this.value,i=this.obj.size;this.value=i,i!==n&&this.subs.notify(i,n,e)}}function jp(t){const e=t.prototype;vp(e,"subscribe",Fp,!0),vp(e,"unsubscribe",Lp,!0),$p(t)}function Fp(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function Lp(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}jp(Rp),jp(Ip);const Np=new WeakMap;function Dp(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function Mp(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function Bp(t,e,n,i,s){let r,o,a,l,c,h,u;for(h=n+1;h<i;h++){for(r=t[h],o=e[h],u=h-1;u>=n&&(a=t[u],l=e[u],c=s(a,r),c>0);u--)t[u+1]=a,e[u+1]=l;t[u+1]=r,e[u+1]=o}}function Vp(t,e,n,i,s){let r,o,a,l,c,h,u,d,p,g,f,v,m,b,y,w,x,k,C,S=0,$=0;for(;;){if(i-n<=10)return void Bp(t,e,n,i,s);S=n+(i-n>>1),r=t[n],l=e[n],o=t[i-1],c=e[i-1],a=t[S],h=e[S],u=s(r,o),u>0&&(g=r,f=l,r=o,l=c,o=g,c=f),d=s(r,a),d>=0?(g=r,f=l,r=a,l=h,a=o,h=c,o=g,c=f):(p=s(o,a),p>0&&(g=o,f=c,o=a,c=h,a=g,h=f)),t[n]=r,e[n]=l,t[i-1]=a,e[i-1]=h,v=o,m=c,b=n+1,y=i-1,t[S]=t[b],e[S]=e[b],t[b]=v,e[b]=m;t:for($=b+1;$<y;$++)if(w=t[$],x=e[$],k=s(w,v),k<0)t[$]=t[b],e[$]=e[b],t[b]=w,e[b]=x,b++;else if(k>0){do{if(y--,y==$)break t;C=t[y],k=s(C,v)}while(k>0);t[$]=t[y],e[$]=e[y],t[y]=w,e[y]=x,k<0&&(w=t[$],x=e[$],t[$]=t[b],e[$]=e[b],t[b]=w,e[b]=x,b++)}i-y<b-n?(Vp(t,e,y,i,s),i=b):(Vp(t,e,n,b,s),n=y)}}const Hp=Array.prototype,qp=Hp.push,Up=Hp.unshift,zp=Hp.pop,_p=Hp.shift,Wp=Hp.splice,Kp=Hp.reverse,Gp=Hp.sort,Qp=["push","unshift","pop","shift","splice","reverse","sort"],Yp={push:function(...t){const e=Np.get(this);if(void 0===e)return qp.apply(this,t);const n=this.length,i=t.length;if(0===i)return n;this.length=e.indexMap.length=n+i;let s=n;for(;s<this.length;)this[s]=t[s-n],e.indexMap[s]=-2,s++;return e.notify(),this.length},unshift:function(...t){const e=Np.get(this);if(void 0===e)return Up.apply(this,t);const n=t.length,i=new Array(n);let s=0;for(;s<n;)i[s++]=-2;Up.apply(e.indexMap,i);const r=Up.apply(this,t);return e.notify(),r},pop:function(){const t=Np.get(this);if(void 0===t)return zp.call(this);const e=t.indexMap,n=zp.call(this),i=e.length-1;return e[i]>-1&&e.deletedItems.push(e[i]),zp.call(e),t.notify(),n},shift:function(){const t=Np.get(this);if(void 0===t)return _p.call(this);const e=t.indexMap,n=_p.call(this);return e[0]>-1&&e.deletedItems.push(e[0]),_p.call(e),t.notify(),n},splice:function(...t){const e=t[0],n=t[1],i=Np.get(this);if(void 0===i)return Wp.apply(this,t);const s=this.length,r=0|e,o=r<0?Math.max(s+r,0):Math.min(r,s),a=i.indexMap,l=t.length,c=0===l?0:1===l?s-o:n;if(c>0){let t=o;const e=t+c;for(;t<e;)a[t]>-1&&a.deletedItems.push(a[t]),t++}if(l>2){const t=l-2,i=new Array(t);let s=0;for(;s<t;)i[s++]=-2;Wp.call(a,e,n,...i)}else Wp.apply(a,t);const h=Wp.apply(this,t);return i.notify(),h},reverse:function(){const t=Np.get(this);if(void 0===t)return Kp.call(this),this;const e=this.length,n=e/2|0;let i=0;for(;i!==n;){const n=e-i-1,s=this[i],r=t.indexMap[i],o=this[n],a=t.indexMap[n];this[i]=o,t.indexMap[i]=a,this[n]=s,t.indexMap[n]=r,i++}return t.notify(),this},sort:function(t){const e=Np.get(this);if(void 0===e)return Gp.call(this,t),this;const n=this.length;if(n<2)return this;Vp(this,e.indexMap,0,n,Mp);let i=0;for(;i<n&&void 0!==this[i];)i++;return void 0!==t&&"function"==typeof t||(t=Dp),Vp(this,e.indexMap,0,i,t),e.notify(),this}};for(const t of Qp)gp(Yp[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Xp=!1;class Zp{constructor(t){this.type=18,Xp||(Xp=!0,function(){for(const t of Qp)!0!==Hp[t].observing&&fp(Hp,t,Yp[t])}()),this.indexObservers={},this.collection=t,this.indexMap=Sp(t.length),this.lenObs=void 0,Np.set(t,this)}notify(){const t=this.indexMap,e=this.collection.length;this.indexMap=Sp(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new Rp(this)}getIndexObserver(t){var e,n;return null!==(e=(n=this.indexObservers)[t])&&void 0!==e?e:n[t]=new Jp(this,t)}}class Jp{constructor(t,e){this.owner=t,this.index=e,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t,e){if(t===this.getValue())return;const n=this.owner,i=this.index,s=n.indexMap;s[i]>-1&&s.deletedItems.push(s[i]),s[i]=-2,n.collection[i]=t,n.notify()}handleCollectionChange(t,e){const n=this.index;if(t[n]===n)return;const i=this.value,s=this.value=this.getValue();i!==s&&this.subs.notify(s,i,e)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function tg(t){let e=Np.get(t);return void 0===e&&(e=new Zp(t)),e}$p(Zp),$p(Jp);const eg=new WeakMap,ng=Set.prototype,ig=ng.add,sg=ng.clear,rg=ng.delete,og=["add","clear","delete"],ag={add:function(t){const e=eg.get(this);if(void 0===e)return ig.call(this,t),this;const n=this.size;return ig.call(this,t),this.size===n||(e.indexMap[n]=-2,e.notify()),this},clear:function(){const t=eg.get(this);if(void 0===t)return sg.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&e.deletedItems.push(e[n]),n++;sg.call(this),e.length=0,t.notify()}},delete:function(t){const e=eg.get(this);if(void 0===e)return rg.call(this,t);if(0===this.size)return!1;let n=0;const i=e.indexMap;for(const s of this.keys()){if(s===t){i[n]>-1&&i.deletedItems.push(i[n]),i.splice(n,1);const s=rg.call(this,t);return!0===s&&e.notify(),s}n++}return!1}},lg={writable:!0,enumerable:!1,configurable:!0};for(const t of og)gp(ag[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let cg=!1;class hg{constructor(t){this.type=34,cg||(cg=!0,function(){for(const t of og)!0!==ng[t].observing&&gp(ng,t,{...lg,value:ag[t]})}()),this.collection=t,this.indexMap=Sp(t.size),this.lenObs=void 0,eg.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=Sp(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new Ip(this)}}function ug(t){let e=eg.get(t);return void 0===e&&(e=new hg(t)),e}$p(hg);const dg=new WeakMap,pg=Map.prototype,gg=pg.set,fg=pg.clear,vg=pg.delete,mg=["set","clear","delete"],bg={set:function(t,e){const n=dg.get(this);if(void 0===n)return gg.call(this,t,e),this;const i=this.get(t),s=this.size;if(gg.call(this,t,e),this.size===s){let e=0;for(const s of this.entries()){if(s[0]===t)return s[1]!==i&&(n.indexMap.deletedItems.push(n.indexMap[e]),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[s]=-2,n.notify(),this},clear:function(){const t=dg.get(this);if(void 0===t)return fg.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&e.deletedItems.push(e[n]),n++;fg.call(this),e.length=0,t.notify()}},delete:function(t){const e=dg.get(this);if(void 0===e)return vg.call(this,t);if(0===this.size)return!1;let n=0;const i=e.indexMap;for(const s of this.keys()){if(s===t){i[n]>-1&&i.deletedItems.push(i[n]),i.splice(n,1);const s=vg.call(this,t);return!0===s&&e.notify(),s}++n}return!1}},yg={writable:!0,enumerable:!1,configurable:!0};for(const t of mg)gp(bg[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let wg=!1;class xg{constructor(t){this.type=66,wg||(wg=!0,function(){for(const t of mg)!0!==pg[t].observing&&gp(pg,t,{...yg,value:bg[t]})}()),this.collection=t,this.indexMap=Sp(t.size),this.lenObs=void 0,dg.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=Sp(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new Ip(this)}}function kg(t){let e=dg.get(t);return void 0===e&&(e=new xg(t)),e}$p(xg);const Cg=[],Sg=[];let $g=-1;function Tg(t){if(t===$g){$g+=5;const e=Cg.length=Sg.length=$g+1;let n=t+1;for(;n<e;++n)Cg[n]=`_o${n}`,Sg[n]=`_v${n}`}}function Ag(t,e){const n=this.observerLocator.getObserver(t,e);this.obs.add(n)}function Eg(){const t=new jg(this);return fp(this,"obs",t),t}function Pg(t){let e;if(t instanceof Array)e=tg(t);else if(t instanceof Set)e=ug(t);else{if(!(t instanceof Map))throw new Error("Unrecognised collection type.");e=kg(t)}this.obs.add(e)}function Og(t){this.obs.add(t)}function Rg(){throw new Error('method "handleChange" not implemented')}function Ig(){throw new Error('method "handleCollectionChange" not implemented')}Tg(-1);class jg{constructor(t){this.binding=t,this.version=0,this.count=0}handleChange(t,e,n){return this.binding.interceptor.handleChange(t,e,n)}handleCollectionChange(t,e){this.binding.interceptor.handleCollectionChange(t,e)}add(t){const e=null==this.count?0:this.count;let n=e;for(;n--&&this[Cg[n]]!==t;);if(-1===n){for(n=0;this[Cg[n]];)n++;this[Cg[n]]=t,t.subscribe(this),n===e&&(this.count=n+1)}this[Sg[n]]=this.version,Tg(n)}clear(t){const e=this.count;let n,i,s=0;if(!0===t){for(;s<e;++s)n=Cg[s],i=this[n],null!=i&&(this[n]=void 0,i.unsubscribe(this));this.count=0}else for(;s<e;++s)this[Sg[s]]!==this.version&&(n=Cg[s],i=this[n],null!=i&&(this[n]=void 0,i.unsubscribe(this),this.count--))}}function Fg(t){const e=t.prototype;return vp(e,"observeProperty",Ag,!0),vp(e,"observeCollection",Pg,!0),vp(e,"subscribeTo",Og,!0),gp(e,"obs",{get:Eg}),vp(e,"handleChange",Rg),vp(e,"handleCollectionChange",Ig),t}function Lg(t){return null==t?Fg:Fg(t)}Fg(class{constructor(t,e,n,i){this.key=t,this.binding=e,this.observerLocator=n,this.locator=i,this.interceptor=this}$bind(t,e,n,i){throw new Error("Method not implemented.")}$unbind(t){throw new Error("Method not implemented.")}handleChange(t,e,n){this.binding[this.key](t,e,n)}});const Ng=Gh.createInterface("IExpressionParser",(t=>t.singleton(Dg)));class Dg{constructor(){this.expressionLookup=Object.create(null),this.forOfLookup=Object.create(null),this.interpolationLookup=Object.create(null)}parse(t,e){switch(e){case 2048:{let n=this.interpolationLookup[t];return void 0===n&&(n=this.interpolationLookup[t]=this.$parse(t,e)),n}case 539:{let n=this.forOfLookup[t];return void 0===n&&(n=this.forOfLookup[t]=this.$parse(t,e)),n}default:{if(0===t.length&&55&e)return ep.$empty;let n=this.expressionLookup[t];return void 0===n&&(n=this.expressionLookup[t]=this.$parse(t,e)),n}}}$parse(t,e){return Xg.input=t,Xg.length=t.length,Xg.index=0,Xg.currentChar=t.charCodeAt(0),Zg(Xg,0,61,void 0===e?53:e)}}var Mg,Bg,Vg,Hg;function qg(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}!function(t){t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.VerticalTab=11]="VerticalTab",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.Exclamation=33]="Exclamation",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dollar=36]="Dollar",t[t.Percent=37]="Percent",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Minus=45]="Minus",t[t.Dot=46]="Dot",t[t.Slash=47]="Slash",t[t.Semicolon=59]="Semicolon",t[t.Backtick=96]="Backtick",t[t.OpenBracket=91]="OpenBracket",t[t.Backslash=92]="Backslash",t[t.CloseBracket=93]="CloseBracket",t[t.Caret=94]="Caret",t[t.Underscore=95]="Underscore",t[t.OpenBrace=123]="OpenBrace",t[t.Bar=124]="Bar",t[t.CloseBrace=125]="CloseBrace",t[t.Colon=58]="Colon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.Question=63]="Question",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.UpperA=65]="UpperA",t[t.UpperB=66]="UpperB",t[t.UpperC=67]="UpperC",t[t.UpperD=68]="UpperD",t[t.UpperE=69]="UpperE",t[t.UpperF=70]="UpperF",t[t.UpperG=71]="UpperG",t[t.UpperH=72]="UpperH",t[t.UpperI=73]="UpperI",t[t.UpperJ=74]="UpperJ",t[t.UpperK=75]="UpperK",t[t.UpperL=76]="UpperL",t[t.UpperM=77]="UpperM",t[t.UpperN=78]="UpperN",t[t.UpperO=79]="UpperO",t[t.UpperP=80]="UpperP",t[t.UpperQ=81]="UpperQ",t[t.UpperR=82]="UpperR",t[t.UpperS=83]="UpperS",t[t.UpperT=84]="UpperT",t[t.UpperU=85]="UpperU",t[t.UpperV=86]="UpperV",t[t.UpperW=87]="UpperW",t[t.UpperX=88]="UpperX",t[t.UpperY=89]="UpperY",t[t.UpperZ=90]="UpperZ",t[t.LowerA=97]="LowerA",t[t.LowerB=98]="LowerB",t[t.LowerC=99]="LowerC",t[t.LowerD=100]="LowerD",t[t.LowerE=101]="LowerE",t[t.LowerF=102]="LowerF",t[t.LowerG=103]="LowerG",t[t.LowerH=104]="LowerH",t[t.LowerI=105]="LowerI",t[t.LowerJ=106]="LowerJ",t[t.LowerK=107]="LowerK",t[t.LowerL=108]="LowerL",t[t.LowerM=109]="LowerM",t[t.LowerN=110]="LowerN",t[t.LowerO=111]="LowerO",t[t.LowerP=112]="LowerP",t[t.LowerQ=113]="LowerQ",t[t.LowerR=114]="LowerR",t[t.LowerS=115]="LowerS",t[t.LowerT=116]="LowerT",t[t.LowerU=117]="LowerU",t[t.LowerV=118]="LowerV",t[t.LowerW=119]="LowerW",t[t.LowerX=120]="LowerX",t[t.LowerY=121]="LowerY",t[t.LowerZ=122]="LowerZ"}(Mg||(Mg={})),function(t){t[t.Reset=0]="Reset",t[t.Ancestor=511]="Ancestor",t[t.This=512]="This",t[t.Scope=1024]="Scope",t[t.Member=2048]="Member",t[t.Keyed=4096]="Keyed"}(Bg||(Bg={})),function(t){t[t.Variadic=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.LogicalOR=64]="LogicalOR",t[t.LogicalAND=128]="LogicalAND",t[t.Equality=192]="Equality",t[t.Relational=256]="Relational",t[t.Additive=320]="Additive",t[t.Multiplicative=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.LeftHandSide=449]="LeftHandSide",t[t.Primary=450]="Primary",t[t.Unary=451]="Unary"}(Vg||(Vg={})),function(t){t[t.EOF=1572864]="EOF",t[t.ExpressionTerminal=1048576]="ExpressionTerminal",t[t.AccessScopeTerminal=524288]="AccessScopeTerminal",t[t.ClosingToken=262144]="ClosingToken",t[t.OpeningToken=131072]="OpeningToken",t[t.BinaryOp=65536]="BinaryOp",t[t.UnaryOp=32768]="UnaryOp",t[t.LeftHandSide=16384]="LeftHandSide",t[t.StringOrNumericLiteral=12288]="StringOrNumericLiteral",t[t.NumericLiteral=8192]="NumericLiteral",t[t.StringLiteral=4096]="StringLiteral",t[t.IdentifierName=3072]="IdentifierName",t[t.Keyword=2048]="Keyword",t[t.Identifier=1024]="Identifier",t[t.Contextual=512]="Contextual",t[t.Precedence=448]="Precedence",t[t.Type=63]="Type",t[t.FalseKeyword=2048]="FalseKeyword",t[t.TrueKeyword=2049]="TrueKeyword",t[t.NullKeyword=2050]="NullKeyword",t[t.UndefinedKeyword=2051]="UndefinedKeyword",t[t.ThisScope=3076]="ThisScope",t[t.HostScope=3077]="HostScope",t[t.ParentScope=3078]="ParentScope",t[t.OpenParen=671751]="OpenParen",t[t.OpenBrace=131080]="OpenBrace",t[t.Dot=16393]="Dot",t[t.CloseBrace=1835018]="CloseBrace",t[t.CloseParen=1835019]="CloseParen",t[t.Comma=1572876]="Comma",t[t.OpenBracket=671757]="OpenBracket",t[t.CloseBracket=1835022]="CloseBracket",t[t.Colon=1572879]="Colon",t[t.Question=1572880]="Question",t[t.Ampersand=1572883]="Ampersand",t[t.Bar=1572884]="Bar",t[t.BarBar=1638549]="BarBar",t[t.AmpersandAmpersand=1638614]="AmpersandAmpersand",t[t.EqualsEquals=1638679]="EqualsEquals",t[t.ExclamationEquals=1638680]="ExclamationEquals",t[t.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",t[t.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",t[t.LessThan=1638747]="LessThan",t[t.GreaterThan=1638748]="GreaterThan",t[t.LessThanEquals=1638749]="LessThanEquals",t[t.GreaterThanEquals=1638750]="GreaterThanEquals",t[t.InKeyword=1640799]="InKeyword",t[t.InstanceOfKeyword=1640800]="InstanceOfKeyword",t[t.Plus=623009]="Plus",t[t.Minus=623010]="Minus",t[t.TypeofKeyword=34851]="TypeofKeyword",t[t.VoidKeyword=34852]="VoidKeyword",t[t.Asterisk=1638885]="Asterisk",t[t.Percent=1638886]="Percent",t[t.Slash=1638887]="Slash",t[t.Equals=1048616]="Equals",t[t.Exclamation=32809]="Exclamation",t[t.TemplateTail=540714]="TemplateTail",t[t.TemplateContinuation=540715]="TemplateContinuation",t[t.OfKeyword=1051180]="OfKeyword"}(Hg||(Hg={}));const Ug=ep.$false,zg=ep.$true,_g=ep.$null,Wg=ep.$undefined,Kg=Wd.$this,Gg=Wd.$host,Qg=Wd.$parent;var Yg;!function(t){t[t.None=0]="None",t[t.IgnoreAttr=4096]="IgnoreAttr",t[t.Interpolation=2048]="Interpolation",t[t.IsRef=5376]="IsRef",t[t.IsIterator=512]="IsIterator",t[t.IsCustom=256]="IsCustom",t[t.IsFunction=128]="IsFunction",t[t.IsEvent=64]="IsEvent",t[t.IsProperty=32]="IsProperty",t[t.IsCommand=16]="IsCommand",t[t.IsPropertyCommand=48]="IsPropertyCommand",t[t.IsEventCommand=80]="IsEventCommand",t[t.DelegationStrategyDelta=6]="DelegationStrategyDelta",t[t.Command=15]="Command",t[t.OneTimeCommand=49]="OneTimeCommand",t[t.ToViewCommand=50]="ToViewCommand",t[t.FromViewCommand=51]="FromViewCommand",t[t.TwoWayCommand=52]="TwoWayCommand",t[t.BindCommand=53]="BindCommand",t[t.TriggerCommand=4182]="TriggerCommand",t[t.CaptureCommand=4183]="CaptureCommand",t[t.DelegateCommand=4184]="DelegateCommand",t[t.CallCommand=153]="CallCommand",t[t.OptionsCommand=26]="OptionsCommand",t[t.ForCommand=539]="ForCommand",t[t.CustomCommand=284]="CustomCommand"}(Yg||(Yg={}));const Xg=new class{constructor(t){this.input=t,this.index=0,this.startIndex=0,this.lastIndex=0,this.currentToken=1572864,this.tokenValue="",this.assignable=!0,this.length=t.length,this.currentChar=t.charCodeAt(0)}get tokenRaw(){return this.input.slice(this.startIndex,this.index)}}("");function Zg(t,e,n,i){if(284===i)return new Hd(t.input);if(0===t.index){if(2048&i)return function(t){const e=[],n=[],i=t.length;let s="";for(;t.index<i;){switch(t.currentChar){case 36:if(123===t.input.charCodeAt(t.index+1)){e.push(s),s="",t.index+=2,t.currentChar=t.input.charCodeAt(t.index),tf(t);const i=Zg(t,0,61,2048);n.push(i);continue}s+="$";break;case 92:s+=String.fromCharCode(qg(ef(t)));break;default:s+=String.fromCharCode(t.currentChar)}ef(t)}return n.length?(e.push(s),new up(e,n)):null}(t);if(tf(t),1048576&t.currentToken)throw new Error(`Invalid start of expression: '${t.input}'`)}let s;if(t.assignable=448>n,32768&t.currentToken){const n=lf[63&t.currentToken];tf(t),s=new tp(n,Zg(t,e,449,i)),t.assignable=!1}else{t:switch(t.currentToken){case 3078:t.assignable=!1;do{if(tf(t),e++,!of(t,16393)){if(524288&t.currentToken){const t=511&e;s=0===t?Kg:1===t?Qg:new Wd(t),e=512;break t}throw new Error(`Invalid member expression: '${t.input}'`)}if(16393===t.currentToken)throw new Error(`Double dot and spread operators are not supported: '${t.input}'`);if(1572864===t.currentToken)throw new Error(`Expected identifier: '${t.input}'`)}while(3078===t.currentToken);case 1024:512&i?s=new lp(t.tokenValue):(s=new Kd(t.tokenValue,511&e),e=1024),t.assignable=!0,tf(t);break;case 3076:t.assignable=!1,tf(t),s=Kg,e=512;break;case 3077:t.assignable=!1,tf(t),s=Gg,e=512;break;case 671751:tf(t),s=Zg(t,0,62,i),af(t,1835019),e=0;break;case 671757:s=function(t,e,n){tf(t);const i=new Array;for(;1835022!==t.currentToken;)if(of(t,1572876)){if(i.push(Wg),1835022===t.currentToken)break}else{if(i.push(Zg(t,e,62,-513&n)),!of(t,1572876))break;if(1835022===t.currentToken)break}return af(t,1835022),512&n?new op(i):(t.assignable=!1,new np(i))}(t,e,i),e=0;break;case 131080:s=function(t,e){const n=new Array,i=new Array;for(tf(t);1835018!==t.currentToken;){if(n.push(t.tokenValue),12288&t.currentToken)tf(t),af(t,1572879),i.push(Zg(t,0,62,-513&e));else{if(!(3072&t.currentToken))throw new Error(`Invalid or unsupported property definition in object literal: '${t.input}'`);{const{currentChar:n,currentToken:s,index:r}=t;tf(t),of(t,1572879)?i.push(Zg(t,0,62,-513&e)):(t.currentChar=n,t.currentToken=s,t.index=r,i.push(Zg(t,0,450,-513&e)))}}1835018!==t.currentToken&&af(t,1572876)}return af(t,1835018),512&e?new ap(n,i):(t.assignable=!1,new ip(n,i))}(t,i),e=0;break;case 540714:s=new sp([t.tokenValue]),t.assignable=!1,tf(t),e=0;break;case 540715:s=Jg(t,e,i,s,!1),e=0;break;case 4096:case 8192:s=new ep(t.tokenValue),t.assignable=!1,tf(t),e=0;break;case 2050:case 2051:case 2049:case 2048:s=lf[63&t.currentToken],t.assignable=!1,tf(t),e=0;break;default:throw t.index>=t.length?new Error(`Unexpected end of expression: '${t.input}'`):new Error(`Unconsumed token: '${t.input}'`)}if(512&i)return function(t,e){if(0==(65536&e.$kind))throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${t.input}'`);if(1051180!==t.currentToken)throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${t.input}'`);tf(t);const n=e,i=Zg(t,0,61,0);return new hp(n,i)}(t,s);if(449<n)return s;let r=t.tokenValue;for(;(16384&t.currentToken)>0;){const n=[];let o;switch(t.currentToken){case 16393:if(t.assignable=!0,tf(t),0==(3072&t.currentToken))throw new Error(`Expected identifier: '${t.input}'`);if(r=t.tokenValue,tf(t),e=(1536&e)<<1|2048&e|(4096&e)>>1,671751===t.currentToken){0===e&&(e=2048);continue}s=1024&e?new Kd(r,s.ancestor,s===Gg):new Gd(s,r);continue;case 671757:t.assignable=!0,tf(t),e=4096,s=new Qd(s,Zg(t,0,62,i)),af(t,1835022);break;case 671751:for(t.assignable=!1,tf(t);1835019!==t.currentToken&&(n.push(Zg(t,0,62,i)),of(t,1572876)););af(t,1835019),s=1024&e?new Yd(r,n,s.ancestor,s===Gg):2048&e?new Xd(s,r,n):new Zd(s,n),e=0;break;case 540714:t.assignable=!1,o=[t.tokenValue],s=new rp(o,o,s),tf(t);break;case 540715:s=Jg(t,e,i,s,!0)}}}if(448<n)return s;for(;(65536&t.currentToken)>0;){const r=t.currentToken;if((448&r)<=n)break;tf(t),s=new Jd(lf[63&r],s,Zg(t,e,448&r,i)),t.assignable=!1}if(63<n)return s;if(of(t,1572880)){const n=Zg(t,e,62,i);af(t,1572879),s=new _d(s,n,Zg(t,e,62,i)),t.assignable=!1}if(62<n)return s;if(of(t,1048616)){if(!t.assignable)throw new Error(`Left hand side of expression is not assignable: '${t.input}'`);s=new zd(s,Zg(t,e,62,i))}if(61<n)return s;for(;of(t,1572884);){if(1572864===t.currentToken)throw new Error(`Expected identifier to come after ValueConverter operator: '${t.input}'`);const n=t.tokenValue;tf(t);const r=new Array;for(;of(t,1572879);)r.push(Zg(t,e,62,i));s=new Ud(s,n,r)}for(;of(t,1572883);){if(1572864===t.currentToken)throw new Error(`Expected identifier to come after BindingBehavior operator: '${t.input}'`);const n=t.tokenValue;tf(t);const r=new Array;for(;of(t,1572879);)r.push(Zg(t,e,62,i));s=new qd(s,n,r)}if(1572864!==t.currentToken){if(2048&i)return s;if("of"===t.tokenRaw)throw new Error(`Unexpected keyword "of": '${t.input}'`);throw new Error(`Unconsumed token: '${t.input}'`)}return s}function Jg(t,e,n,i,s){const r=[t.tokenValue];af(t,540715);const o=[Zg(t,e,62,n)];for(;540714!==(t.currentToken=rf(t));)r.push(t.tokenValue),af(t,540715),o.push(Zg(t,e,62,n));return r.push(t.tokenValue),t.assignable=!1,s?(tf(t),new rp(r,r,i,o)):(tf(t),new sp(r,o))}function tf(t){for(;t.index<t.length;)if(t.startIndex=t.index,null!=(t.currentToken=vf[t.currentChar](t)))return;t.currentToken=1572864}function ef(t){return t.currentChar=t.input.charCodeAt(++t.index)}function nf(t,e){let n=t.currentChar;if(!1===e){do{n=ef(t)}while(n<=57&&n>=48);if(46!==n)return t.tokenValue=parseInt(t.tokenRaw,10),8192;if(n=ef(t),t.index>=t.length)return t.tokenValue=parseInt(t.tokenRaw.slice(0,-1),10),8192}if(n<=57&&n>=48)do{n=ef(t)}while(n<=57&&n>=48);else t.currentChar=t.input.charCodeAt(--t.index);return t.tokenValue=parseFloat(t.tokenRaw),8192}function sf(t){let e=!0,n="";for(;96!==ef(t);)if(36===t.currentChar){if(t.index+1<t.length&&123===t.input.charCodeAt(t.index+1)){t.index++,e=!1;break}n+="$"}else if(92===t.currentChar)n+=String.fromCharCode(qg(ef(t)));else{if(t.index>=t.length)throw new Error(`Unterminated template string: '${t.input}'`);n+=String.fromCharCode(t.currentChar)}return ef(t),t.tokenValue=n,e?540714:540715}function rf(t){if(t.index>=t.length)throw new Error(`Unterminated template string: '${t.input}'`);return t.index--,sf(t)}function of(t,e){return t.currentToken===e&&(tf(t),!0)}function af(t,e){if(t.currentToken!==e)throw new Error(`Missing expected token: '${t.input}'`);tf(t)}const lf=[Ug,zg,_g,Wg,"$this","$host","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],cf=Object.create(null);cf.true=2049,cf.null=2050,cf.false=2048,cf.undefined=2051,cf.$this=3076,cf.$host=3077,cf.$parent=3078,cf.in=1640799,cf.instanceof=1640800,cf.typeof=34851,cf.void=34852,cf.of=1051180;const hf=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],uf=[48,58];function df(t,e,n,i){const s=n.length;for(let r=0;r<s;r+=2){const s=n[r];let o=n[r+1];if(o=o>0?o:s+1,t&&t.fill(i,s,o),e)for(let t=s;t<o;t++)e.add(t)}}function pf(t){return e=>(ef(e),t)}const gf=t=>{throw new Error(`Unexpected character: '${t.input}'`)};gf.notMapped=!0,df(null,new Set,[36,0,48,58,65,91,95,0,97,123],!0);const ff=new Uint8Array(65535);df(ff,null,hf,1),df(ff,null,uf,1);const vf=new Array(65535);vf.fill(gf,0,65535),df(vf,null,[0,33,127,161],(t=>(ef(t),null))),df(vf,null,hf,(function(t){for(;ff[ef(t)];);const e=cf[t.tokenValue=t.tokenRaw];return void 0===e?1024:e})),df(vf,null,uf,(t=>nf(t,!1))),vf[34]=vf[39]=t=>function(t){const e=t.currentChar;ef(t);let n=0;const i=new Array;let s=t.index;for(;t.currentChar!==e;)if(92===t.currentChar)i.push(t.input.slice(s,t.index)),ef(t),n=qg(t.currentChar),ef(t),i.push(String.fromCharCode(n)),s=t.index;else{if(t.index>=t.length)throw new Error(`Unterminated quote in string literal: '${t.input}'`);ef(t)}const r=t.input.slice(s,t.index);ef(t),i.push(r);const o=i.join("");return t.tokenValue=o,4096}(t),vf[96]=t=>sf(t),vf[33]=t=>61!==ef(t)?32809:61!==ef(t)?1638680:(ef(t),1638682),vf[61]=t=>61!==ef(t)?1048616:61!==ef(t)?1638679:(ef(t),1638681),vf[38]=t=>38!==ef(t)?1572883:(ef(t),1638614),vf[124]=t=>124!==ef(t)?1572884:(ef(t),1638549),vf[46]=t=>ef(t)<=57&&t.currentChar>=48?nf(t,!0):16393,vf[60]=t=>61!==ef(t)?1638747:(ef(t),1638749),vf[62]=t=>61!==ef(t)?1638748:(ef(t),1638750),vf[37]=pf(1638886),vf[40]=pf(671751),vf[41]=pf(1835019),vf[42]=pf(1638885),vf[43]=pf(623009),vf[44]=pf(1572876),vf[45]=pf(623010),vf[47]=pf(1638887),vf[58]=pf(1572879),vf[63]=pf(1572880),vf[91]=pf(671757),vf[93]=pf(1835022),vf[123]=pf(131080),vf[125]=pf(1835018);let mf=null;const bf=[];let yf=!1;function wf(){return mf}function xf(t){if(null==t)throw new Error("Connectable cannot be null/undefined");if(null==mf)return mf=t,bf[0]=mf,void(yf=!0);if(mf===t)throw new Error("Trying to enter an active connectable");bf.push(mf),mf=t,yf=!0}function kf(t){if(null==t)throw new Error("Connectable cannot be null/undefined");if(mf!==t)throw new Error("Trying to exit an unactive connectable");bf.pop(),mf=bf.length>0?bf[bf.length-1]:null,yf=null!=mf}const Cf=Object.freeze({get current(){return mf},get connecting(){return yf},enter:xf,exit:kf,pause:function(){yf=!1},resume:function(){yf=!0}}),Sf=Reflect.get,$f=Object.prototype.toString,Tf=new WeakMap;function Af(t){switch($f.call(t)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Ef="__raw__";function Pf(t){return Af(t)?Of(t):t}function Of(t){var e;return null!==(e=Tf.get(t))&&void 0!==e?e:function(t){const e=t instanceof Array?Lf:t instanceof Map||t instanceof Set?iv:Ff,n=new Proxy(t,e);return Tf.set(t,n),n}(t)}function Rf(t){var e;return null!==(e=t.__raw__)&&void 0!==e?e:t}function If(t){return Af(t)&&t.__raw__||t}function jf(t){return"constructor"===t||"__proto__"===t||"$observers"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag}const Ff={get(t,e,n){if(e===Ef)return t;const i=wf();return!yf||jf(e)||null==i?Sf(t,e,n):(i.observeProperty(t,e),Pf(Sf(t,e,n)))}},Lf={get(t,e,n){if(e===Ef)return t;const i=wf();if(!yf||jf(e)||null==i)return Sf(t,e,n);switch(e){case"length":return i.observeProperty(t,"length"),t.length;case"map":return Nf;case"includes":return Bf;case"indexOf":return Vf;case"lastIndexOf":return Hf;case"every":return Df;case"filter":return Mf;case"findIndex":return qf;case"flat":return Uf;case"flatMap":return zf;case"join":return _f;case"push":return Kf;case"pop":return Wf;case"reduce":return ev;case"reduceRight":return nv;case"reverse":return Xf;case"shift":return Gf;case"unshift":return Qf;case"slice":return tv;case"splice":return Yf;case"some":return Zf;case"sort":return Jf;case"keys":return uv;case"values":case Symbol.iterator:return dv;case"entries":return pv}return i.observeProperty(t,e),Pf(Sf(t,e,n))},ownKeys(t){var e;return null===(e=wf())||void 0===e||e.observeProperty(t,"length"),Reflect.ownKeys(t)}};function Nf(t,e){var n;const i=Rf(this),s=i.map(((n,i)=>If(t.call(e,Pf(n),i,this))));return null===(n=wf())||void 0===n||n.observeCollection(i),Pf(s)}function Df(t,e){var n;const i=Rf(this),s=i.every(((n,i)=>t.call(e,Pf(n),i,this)));return null===(n=wf())||void 0===n||n.observeCollection(i),s}function Mf(t,e){var n;const i=Rf(this),s=i.filter(((n,i)=>If(t.call(e,Pf(n),i,this))));return null===(n=wf())||void 0===n||n.observeCollection(i),Pf(s)}function Bf(t){var e;const n=Rf(this),i=n.includes(If(t));return null===(e=wf())||void 0===e||e.observeCollection(n),i}function Vf(t){var e;const n=Rf(this),i=n.indexOf(If(t));return null===(e=wf())||void 0===e||e.observeCollection(n),i}function Hf(t){var e;const n=Rf(this),i=n.lastIndexOf(If(t));return null===(e=wf())||void 0===e||e.observeCollection(n),i}function qf(t,e){var n;const i=Rf(this),s=i.findIndex(((n,i)=>If(t.call(e,Pf(n),i,this))));return null===(n=wf())||void 0===n||n.observeCollection(i),s}function Uf(){var t;const e=Rf(this);return null===(t=wf())||void 0===t||t.observeCollection(e),Pf(e.flat())}function zf(t,e){var n;const i=Rf(this);return null===(n=wf())||void 0===n||n.observeCollection(i),Of(i.flatMap(((n,i)=>Pf(t.call(e,Pf(n),i,this)))))}function _f(t){var e;const n=Rf(this);return null===(e=wf())||void 0===e||e.observeCollection(n),n.join(t)}function Wf(){return Pf(Rf(this).pop())}function Kf(...t){return Rf(this).push(...t)}function Gf(){return Pf(Rf(this).shift())}function Qf(...t){return Rf(this).unshift(...t)}function Yf(...t){return Pf(Rf(this).splice(...t))}function Xf(...t){var e;const n=Rf(this),i=n.reverse();return null===(e=wf())||void 0===e||e.observeCollection(n),Pf(i)}function Zf(t,e){var n;const i=Rf(this),s=i.some(((n,i)=>If(t.call(e,Pf(n),i,this))));return null===(n=wf())||void 0===n||n.observeCollection(i),s}function Jf(t){var e;const n=Rf(this),i=n.sort(t);return null===(e=wf())||void 0===e||e.observeCollection(n),Pf(i)}function tv(t,e){var n;const i=Rf(this);return null===(n=wf())||void 0===n||n.observeCollection(i),Of(i.slice(t,e))}function ev(t,e){var n;const i=Rf(this),s=i.reduce(((e,n,i)=>t(e,Pf(n),i,this)),e);return null===(n=wf())||void 0===n||n.observeCollection(i),Pf(s)}function nv(t,e){var n;const i=Rf(this),s=i.reduceRight(((e,n,i)=>t(e,Pf(n),i,this)),e);return null===(n=wf())||void 0===n||n.observeCollection(i),Pf(s)}const iv={get(t,e,n){if(e===Ef)return t;const i=wf();if(!yf||jf(e)||null==i)return Sf(t,e,n);switch(e){case"size":return i.observeProperty(t,"size"),t.size;case"clear":return cv;case"delete":return hv;case"forEach":return sv;case"add":if(t instanceof Set)return lv;break;case"get":if(t instanceof Map)return ov;break;case"set":if(t instanceof Map)return av;break;case"has":return rv;case"keys":return uv;case"values":return dv;case"entries":return pv;case Symbol.iterator:return t instanceof Map?pv:dv}return Pf(Sf(t,e,n))}};function sv(t,e){var n;const i=Rf(this);return null===(n=wf())||void 0===n||n.observeCollection(i),i.forEach(((n,i)=>{t.call(e,Pf(n),Pf(i),this)}))}function rv(t){var e;const n=Rf(this);return null===(e=wf())||void 0===e||e.observeCollection(n),n.has(If(t))}function ov(t){var e;const n=Rf(this);return null===(e=wf())||void 0===e||e.observeCollection(n),Pf(n.get(If(t)))}function av(t,e){return Pf(Rf(this).set(If(t),If(e)))}function lv(t){return Pf(Rf(this).add(If(t)))}function cv(){return Pf(Rf(this).clear())}function hv(t){return Pf(Rf(this).delete(If(t)))}function uv(){var t;const e=Rf(this);null===(t=wf())||void 0===t||t.observeCollection(e);const n=e.keys();return{next(){const t=n.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Pf(e),done:i}},[Symbol.iterator](){return this}}}function dv(){var t;const e=Rf(this);null===(t=wf())||void 0===t||t.observeCollection(e);const n=e.values();return{next(){const t=n.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:Pf(e),done:i}},[Symbol.iterator](){return this}}}function pv(){var t;const e=Rf(this);null===(t=wf())||void 0===t||t.observeCollection(e);const n=e.entries();return{next(){const t=n.next(),e=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[Pf(e[0]),Pf(e[1])],done:i}},[Symbol.iterator](){return this}}}const gv=Object.freeze({getProxy:Of,getRaw:Rf,wrap:Pf,unwrap:If,rawKey:Ef});class fv{constructor(t,e,n,i,s){this.obj=t,this.get=e,this.set=n,this.useProxy=i,this.observerLocator=s,this.interceptor=this,this.type=1,this.value=void 0,this.running=!1,this.isDirty=!1}static create(t,e,n,i,s){const r=n.get,o=n.set,a=new fv(t,r,o,s,i),l=()=>a.getValue();return l.getObserver=()=>a,gp(t,e,{enumerable:n.enumerable,configurable:!0,get:l,set:t=>{a.setValue(t,0)}}),a}getValue(){return 0===this.subs.count?this.get.call(this.obj,this):(this.isDirty&&(this.compute(),this.isDirty=!1),this.value)}setValue(t,e){if("function"!=typeof this.set)throw new Error("Property is readonly");t!==this.value&&(this.running=!0,this.set.call(this.obj,t),this.running=!1,this.run())}handleChange(){this.isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.isDirty=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.isDirty=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.isDirty=!0,this.obs.clear(!0))}run(){if(this.running)return;const t=this.value,e=this.compute();this.isDirty=!1,Object.is(e,t)||this.subs.notify(e,t,0)}compute(){this.running=!0,this.obs.version++;try{return xf(this),this.value=If(this.get.call(this.useProxy?Pf(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,kf(this)}}}Lg(fv),$p(fv);const vv=Gh.createInterface("IDirtyChecker",(t=>t.singleton(yv))),mv={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},bv={persistent:!0};class yv{constructor(t){this.platform=t,this.tracked=[],this.task=null,this.elapsedFrames=0,this.check=()=>{if(mv.disabled)return;if(++this.elapsedFrames<mv.timeoutsPerCheck)return;this.elapsedFrames=0;const t=this.tracked,e=t.length;let n,i=0;for(;i<e;++i)n=t[i],n.isDirty()&&n.flush(0)}}createProperty(t,e){if(mv.throw)throw new Error(`Property '${e}' is being dirty-checked.`);return new wv(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.task=this.platform.taskQueue.queueTask(this.check,bv))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.task.cancel(),this.task=null)}}yv.inject=[Au];class wv{constructor(t,e,n){this.dirtyChecker=t,this.obj=e,this.propertyKey=n,this.type=0}getValue(){return this.obj[this.propertyKey]}setValue(t,e){throw new Error(`Trying to set value for property ${this.propertyKey} in dirty checker`)}isDirty(){return this.oldValue!==this.obj[this.propertyKey]}flush(t){const e=this.oldValue,n=this.getValue();this.subs.notify(n,e,t),this.oldValue=n}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.oldValue=this.obj[this.propertyKey],this.dirtyChecker.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.dirtyChecker.removeProperty(this)}}$p(wv);class xv{constructor(t,e){this.obj=t,this.propertyKey=e,this.type=0}get doNotCache(){return!0}getValue(){return this.obj[this.propertyKey]}setValue(){}subscribe(){}unsubscribe(){}}class kv{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,n,i){n[i]=t}}class Cv{constructor(t,e){this.obj=t,this.propertyKey=e,this.currentValue=void 0,this.oldValue=void 0,this.inBatch=!1,this.observing=!1,this.type=1}getValue(){return this.currentValue}setValue(t,e){if(this.observing){const n=this.currentValue;if(Object.is(t,n))return;this.currentValue=t,this.subs.notify(t,n,e)}else this.obj[this.propertyKey]=t}subscribe(t){!1===this.observing&&this.start(),this.subs.add(t)}start(){return!1===this.observing&&(this.observing=!0,this.currentValue=this.obj[this.propertyKey],gp(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:t=>{this.setValue(t,0)}})),this}stop(){return this.observing&&(gp(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,writable:!0,value:this.currentValue}),this.observing=!1),this}}$p(Cv),$p(class{constructor(t,e,n,i){this.type=1,this.v=void 0,this.obj=t,this.s=n;const s=t[e];this.cb="function"==typeof s?s:void 0,this.v=i}getValue(){return this.v}setValue(t,e){var n;"function"==typeof this.s&&(t=this.s(t));const i=this.v;Object.is(t,i)||(this.v=t,null===(n=this.cb)||void 0===n||n.call(this.obj,t,i,e),this.subs.notify(this.v,i,e))}});const Sv=new kv,$v=Gh.createInterface("IObserverLocator",(t=>t.singleton(Ev))),Tv=Gh.createInterface("INodeObserverLocator",(t=>t.cachedCallback((t=>(t.getAll(Xu).forEach((t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")})),new Av)))));class Av{handles(){return!1}getObserver(){return Sv}getAccessor(){return Sv}}class Ev{constructor(t,e){this.dirtyChecker=t,this.nodeObserverLocator=e,this.adapters=[]}addAdapter(t){this.adapters.push(t)}getObserver(t,e){var n,i;return null!==(i=null===(n=t.$observers)||void 0===n?void 0:n[e])&&void 0!==i?i:this.cache(t,e,this.createObserver(t,e))}getAccessor(t,e){var n;const i=null===(n=t.$observers)||void 0===n?void 0:n[e];return void 0!==i?i:this.nodeObserverLocator.handles(t,e,this)?this.nodeObserverLocator.getAccessor(t,e,this):Sv}getArrayObserver(t){return tg(t)}getMapObserver(t){return kg(t)}getSetObserver(t){return ug(t)}createObserver(t,e){var n,i,s,r;if(!(t instanceof Object))return new xv(t,e);if(this.nodeObserverLocator.handles(t,e,this))return this.nodeObserverLocator.getObserver(t,e,this);switch(e){case"length":if(t instanceof Array)return tg(t).getLengthObserver();break;case"size":if(t instanceof Map)return kg(t).getLengthObserver();if(t instanceof Set)return ug(t).getLengthObserver();break;default:if(t instanceof Array&&bh(e))return tg(t).getIndexObserver(Number(e))}let o=Object.getOwnPropertyDescriptor(t,e);if(void 0===o){let n=Object.getPrototypeOf(t);for(;null!==n&&(o=Object.getOwnPropertyDescriptor(n,e),void 0===o);)n=Object.getPrototypeOf(n)}if(void 0!==o&&!Object.prototype.hasOwnProperty.call(o,"value")){let a=this.getAdapterObserver(t,e,o);return null==a&&(a=null===(r=null!==(i=null===(n=o.get)||void 0===n?void 0:n.getObserver)&&void 0!==i?i:null===(s=o.set)||void 0===s?void 0:s.getObserver)||void 0===r?void 0:r(t,this)),null==a?o.configurable?fv.create(t,e,o,this,!0):this.dirtyChecker.createProperty(t,e):a}return new Cv(t,e)}getAdapterObserver(t,e,n){if(this.adapters.length>0)for(const i of this.adapters){const s=i.getObserver(t,e,n,this);if(null!=s)return s}return null}cache(t,e,n){return!0===n.doNotCache?n:void 0===t.$observers?(gp(t,"$observers",{value:{[e]:n}}),n):t.$observers[e]=n}}Ev.inject=[vv,Tv],Gh.createInterface("IObservation",(t=>t.singleton(Pv)));class Pv{constructor(t){this.observerLocator=t}static get inject(){return[$v]}run(t){const e=new Ov(this.observerLocator,t);return e.run(),e}}class Ov{constructor(t,e){this.observerLocator=t,this.fn=e,this.interceptor=this,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw new Error("Effect has already been stopped");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{xf(this),this.fn(this)}finally{this.obs.clear(!1),this.running=!1,kf(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,new Error("Maximum number of recursive effect run reached. Consider handle effect dependencies differently.");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clear(!0)}}function Rv(t,e){let n;function i(t,e){arguments.length>1&&(n.property=e),ph.define(jv.name,Fv.create(e,n),t.constructor,e),Bh.annotation.appendTo(t.constructor,jv.keyFrom(e))}return arguments.length>1?(n={},void i(t,e)):"string"==typeof t?(n={},i):(n=void 0===t?{}:t,i)}function Iv(t){return t.startsWith(jv.name)}Lg(Ov);const jv={name:Bh.annotation.keyFor("bindable"),keyFrom:t=>`${jv.name}:${t}`,from(...t){const e={},n=Array.isArray;function i(t){e[t]=Fv.create(t)}return t.forEach((function(t){n(t)?t.forEach(i):t instanceof Fv?e[t.property]=t:void 0!==t&&Object.keys(t).forEach((n=>function(t,n){e[t]=n instanceof Fv?n:Fv.create(t,n)}(n,t[n])))})),e},for(t){let e;const n={add(i){let s,r;return"string"==typeof i?(s=i,r={property:s}):(s=i.property,r=i),e=Fv.create(s,r),ph.hasOwn(jv.name,t,s)||Bh.annotation.appendTo(t,jv.keyFrom(s)),ph.define(jv.name,e,t,s),n},mode:t=>(e.mode=t,n),callback:t=>(e.callback=t,n),attribute:t=>(e.attribute=t,n),primary:()=>(e.primary=!0,n),set:t=>(e.set=t,n)};return n},getAll(t){const e=jv.name.length+1,n=[],i=Ih(t);let s,r,o,a=i.length,l=0;for(;--a>=0;){o=i[a],s=Bh.annotation.getKeys(o).filter(Iv),r=s.length;for(let t=0;t<r;++t)n[l++]=ph.getOwn(jv.name,o,s[t].slice(e))}return n}};class Fv{constructor(t,e,n,i,s,r){this.attribute=t,this.callback=e,this.mode=n,this.primary=i,this.property=s,this.set=r}static create(t,e={}){return new Fv(Rh(e.attribute,Sh(t)),Rh(e.callback,`${t}Changed`),Rh(e.mode,mp.toView),Rh(e.primary,!1),Rh(e.property,t),Rh(e.set,Tu))}}class Lv{constructor(t,e,n,i,s){this.obj=t,this.propertyKey=e,this.set=i,this.$controller=s,this.currentValue=void 0,this.oldValue=void 0;const r=t[n],o=t.propertyChanged,a=this.hasCb="function"==typeof r,l=this.hasCbAll="function"==typeof o,c=this.hasSetter=i!==Tu;if(this.cb=a?r:Tu,this.cbAll=l?o:Tu,void 0!==this.cb||l||c){this.observing=!0;const n=t[e];this.currentValue=c&&void 0!==n?i(n):n,this.createGetterSetter()}else this.observing=!1}get type(){return 1}getValue(){return this.currentValue}setValue(t,e){if(this.hasSetter&&(t=this.set(t)),this.observing){const n=this.currentValue;if(Object.is(t,n))return;this.currentValue=t,(null==this.$controller||this.$controller.isBound)&&(this.hasCb&&this.cb.call(this.obj,t,n,e),this.hasCbAll&&this.cbAll.call(this.obj,this.propertyKey,t,n,e)),this.subs.notify(t,n,e)}else this.obj[this.propertyKey]=t}subscribe(t){if(0==!this.observing){this.observing=!0;const t=this.obj[this.propertyKey];this.currentValue=this.hasSetter?this.set(t):t,this.createGetterSetter()}this.subs.add(t)}createGetterSetter(){Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.currentValue,set:t=>{this.setValue(t,0)}})}}$p(Lv);var Nv=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Dv=function(t,e){return function(n,i){e(n,i,t)}};class Mv{constructor(t,e,n,i){if(this.chars=t,this.repeat=e,this.isSymbol=n,this.isInverted=i,i)switch(t.length){case 0:this.has=this.hasOfNoneInverse;break;case 1:this.has=this.hasOfSingleInverse;break;default:this.has=this.hasOfMultipleInverse}else switch(t.length){case 0:this.has=this.hasOfNone;break;case 1:this.has=this.hasOfSingle;break;default:this.has=this.hasOfMultiple}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}hasOfMultiple(t){return this.chars.includes(t)}hasOfSingle(t){return this.chars===t}hasOfNone(t){return!1}hasOfMultipleInverse(t){return!this.chars.includes(t)}hasOfSingleInverse(t){return this.chars!==t}hasOfNoneInverse(t){return!0}}class Bv{constructor(){this.parts=Su,this._pattern="",this.currentRecord={},this.partsRecord={}}get pattern(){const t=this._pattern;return""===t?null:t}set pattern(t){null==t?(this._pattern="",this.parts=Su):(this._pattern=t,this.parts=this.partsRecord[t])}append(t,e){const{currentRecord:n}=this;void 0===n[t]?n[t]=e:n[t]+=e}next(t){const{currentRecord:e}=this;if(void 0!==e[t]){const{partsRecord:n}=this;void 0===n[t]?n[t]=[e[t]]:n[t].push(e[t]),e[t]=void 0}}}class Vv{constructor(t,...e){this.charSpec=t,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=e}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(t){const e=this.nextStates,n=e.length;let i=null;for(let s=0;s<n;++s)if(i=e[s],t.equals(i.charSpec))return i;return null}append(t,e){const{patterns:n}=this;n.includes(e)||n.push(e);let i=this.findChild(t);return null==i&&(i=new Vv(t,e),this.nextStates.push(i),t.repeat&&i.nextStates.push(i)),i}findMatches(t,e){const n=[],i=this.nextStates,s=i.length;let r=0,o=null,a=0,l=0;for(;a<s;++a)if(o=i[a],o.charSpec.has(t))if(n.push(o),r=o.patterns.length,l=0,o.charSpec.isSymbol)for(;l<r;++l)e.next(o.patterns[l]);else for(;l<r;++l)e.append(o.patterns[l],t);return n}}class Hv{constructor(t){this.text=t;const e=this.len=t.length,n=this.specs=[];for(let i=0;i<e;++i)n.push(new Mv(t[i],!1,!1,!1))}eachChar(t){const{len:e,specs:n}=this;for(let i=0;i<e;++i)t(n[i])}}class qv{constructor(t){this.text="PART",this.spec=new Mv(t,!0,!1,!0)}eachChar(t){t(this.spec)}}class Uv{constructor(t){this.text=t,this.spec=new Mv(t,!1,!0,!1)}eachChar(t){t(this.spec)}}class zv{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const _v=Gh.createInterface("ISyntaxInterpreter",(t=>t.singleton(Wv)));class Wv{constructor(){this.rootState=new Vv(null),this.initialStates=[this.rootState]}add(t){let e=0;if(Array.isArray(t)){const n=t.length;for(;e<n;++e)this.add(t[e]);return}let n=this.rootState;const i=t,s=i.pattern,r=new zv,o=this.parse(i,r),a=o.length,l=t=>{n=n.append(t,s)};for(e=0;e<a;++e)o[e].eachChar(l);n.types=r,n.isEndpoint=!0}interpret(t){const e=new Bv;let n=this.initialStates;const i=t.length;for(let s=0;s<i&&(n=this.getNextStates(n,t.charAt(s),e),0!==n.length);++s);if(n.sort(((t,e)=>{if(!t.isEndpoint)return e.isEndpoint?1:0;if(!e.isEndpoint)return-1;const n=t.types,i=e.types;return n.statics!==i.statics?i.statics-n.statics:n.dynamics!==i.dynamics?i.dynamics-n.dynamics:n.symbols!==i.symbols?i.symbols-n.symbols:0})),n.length>0){const t=n[0];t.charSpec.isSymbol||e.next(t.pattern),e.pattern=t.pattern}return e}getNextStates(t,e,n){const i=[];let s=null;const r=t.length;for(let o=0;o<r;++o)s=t[o],i.push(...s.findMatches(e,n));return i}parse(t,e){const n=[],i=t.pattern,s=i.length;let r=0,o=0,a="";for(;r<s;)a=i.charAt(r),t.symbols.includes(a)?r!==o?(n.push(new Hv(i.slice(o,r))),++e.statics,o=r):(n.push(new Uv(i.slice(o,r+1))),++e.symbols,o=++r):r===o&&"P"===a&&"PART"===i.slice(r,r+4)?(o=r+=4,n.push(new qv(t.symbols)),++e.dynamics):++r;return o!==r&&(n.push(new Hv(i.slice(o,r))),++e.statics),n}}class Kv{constructor(t,e,n,i){this.rawName=t,this.rawValue=e,this.target=n,this.command=i}}const Gv=Gh.createInterface("IAttributePattern"),Qv=Gh.createInterface("IAttributeParser",(t=>t.singleton(Yv)));let Yv=class{constructor(t,e){this.interpreter=t,this.cache={};const n=this.patterns={};e.forEach((e=>{const i=Jv.getPatternDefinitions(e.constructor);t.add(i),i.forEach((t=>{n[t.pattern]=e}))}))}parse(t,e){let n=this.cache[t];null==n&&(n=this.cache[t]=this.interpreter.interpret(t));const i=n.pattern;return null==i?new Kv(t,e,t,null):this.patterns[i][i](t,e,n.parts)}};function Xv(...t){return function(e){return Jv.define(t,e)}}Yv=Nv([Dv(0,_v),Dv(1,tu(Gv))],Yv);class Zv{constructor(t){this.Type=t,this.name=void 0}register(t){yu.singleton(Gv,this.Type).register(t)}}const Jv=Object.freeze({name:Bh.resource.keyFor("attribute-pattern"),definitionAnnotationKey:"attribute-pattern-definitions",define(t,e){const n=new Zv(e),{name:i,definitionAnnotationKey:s}=Jv;return ph.define(i,n,e),Bh.resource.appendTo(e,i),Bh.annotation.set(e,s,t),Bh.annotation.appendTo(e,s),e},getPatternDefinitions:t=>Bh.annotation.get(t,Jv.definitionAnnotationKey)});let tm=class{"PART.PART"(t,e,n){return new Kv(t,e,n[0],n[1])}"PART.PART.PART"(t,e,n){return new Kv(t,e,n[0],n[2])}};tm=Nv([Xv({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],tm);let em=class{ref(t,e,n){return new Kv(t,e,"element","ref")}"PART.ref"(t,e,n){return new Kv(t,e,n[0],"ref")}};em=Nv([Xv({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],em);let nm=class{":PART"(t,e,n){return new Kv(t,e,n[0],"bind")}};nm=Nv([Xv({pattern:":PART",symbols:":"})],nm);let im=class{"@PART"(t,e,n){return new Kv(t,e,n[0],"trigger")}};im=Nv([Xv({pattern:"@PART",symbols:"@"})],im);class sm{constructor(t,e,n,i,s){this.sourceExpression=t,this.target=e,this.targetProperty=n,this.locator=s,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.targetObserver=i.getObserver(e,n)}callSource(t){const e=this.$scope.overrideContext;Object.assign(e,t);const n=this.sourceExpression.evaluate(8,this.$scope,this.$hostScope,this.locator,null);for(const n in t)Reflect.deleteProperty(e,n);return n}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this.interceptor),this.targetObserver.setValue((t=>this.interceptor.callSource(t)),t,this.target,this.targetProperty),this.isBound=!0}$unbind(t){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,t,this.target,this.targetProperty),this.isBound=!1)}observeProperty(t,e){}handleChange(t,e,n){}}class rm{constructor(t,e,n,i,s){this.platform=t,this.observerLocator=e,this.obj=n,this.propertyKey=i,this.targetAttribute=s,this.currentValue=null,this.oldValue=null,this.hasChanges=!1,this.type=7}getValue(){return this.currentValue}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,0==(256&e)&&this.flushChanges(e)}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue;switch(this.oldValue=t,this.targetAttribute){case"class":t?this.obj.classList.add(this.propertyKey):this.obj.classList.remove(this.propertyKey);break;case"style":{let e="",n=t;"string"==typeof n&&n.includes("!important")&&(e="important",n=n.replace("!important","")),this.obj.style.setProperty(this.propertyKey,n,e)}}}}handleMutation(t){let e=!1;for(let n=0,i=t.length;i>n;++n){const i=t[n];if("attributes"===i.type&&i.attributeName===this.propertyKey){e=!0;break}}if(e){let t;switch(this.targetAttribute){case"class":t=this.obj.classList.contains(this.propertyKey);break;case"style":t=this.obj.style.getPropertyValue(this.propertyKey);break;default:throw new Error(`Unsupported targetAttribute: ${this.targetAttribute}`)}if(t!==this.currentValue){const{currentValue:e}=this;this.currentValue=this.oldValue=t,this.hasChanges=!1,this.subs.notify(t,e,0)}}}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.currentValue=this.oldValue=this.obj.getAttribute(this.propertyKey),om(this.obj.ownerDocument.defaultView.MutationObserver,this.obj,this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&am(this.obj,this)}}$p(rm);const om=(t,e,n)=>{void 0===e.$eMObservers&&(e.$eMObservers=new Set),void 0===e.$mObserver&&(e.$mObserver=new t(lm)).observe(e,{attributes:!0}),e.$eMObservers.add(n)},am=(t,e)=>{const n=t.$eMObservers;return!(!n||!n.delete(e)||(0===n.size&&(t.$mObserver.disconnect(),t.$mObserver=void 0),0))},lm=t=>{t[0].target.$eMObservers.forEach(cm,t)};function cm(t){t.handleMutation(this)}const hm=Au;class um{constructor(t){this.b=t}handleChange(t,e,n){const i=this.b;t!==i.sourceExpression.evaluate(n,i.$scope,i.$hostScope,i.locator,null)&&i.updateSource(t,n)}}const{oneTime:dm,toView:pm,fromView:gm}=mp,fm=pm|dm,vm={reusable:!1,preempt:!0};class mm{constructor(t,e,n,i,s,r,o){this.sourceExpression=t,this.targetAttribute=n,this.targetProperty=i,this.mode=s,this.observerLocator=r,this.locator=o,this.interceptor=this,this.isBound=!1,this.$scope=null,this.$hostScope=null,this.task=null,this.targetSubscriber=null,this.persistentFlags=0,this.value=void 0,this.target=e,this.$platform=o.get(hm)}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.$hostScope,this.locator,t)}handleChange(t,e,n){if(!this.isBound)return;n|=this.persistentFlags;const i=this.mode,s=this.interceptor,r=this.sourceExpression,o=this.$scope,a=this.locator,l=this.targetObserver,c=0==(2&n)&&(4&l.type)>0;if(10082!==r.$kind||this.obs.count>1){const e=0==(i&dm);e&&this.obs.version++,t=r.evaluate(n,o,this.$hostScope,a,s),e&&this.obs.clear(!1)}let h;t!==this.value&&(this.value=t,c?(h=this.task,this.task=this.$platform.domWriteQueue.queueTask((()=>{this.task=null,s.updateTarget(t,n)}),vm),null==h||h.cancel()):s.updateTarget(t,n))}$bind(t,e,n,i){var s;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.persistentFlags=961&t,this.$scope=e,this.$hostScope=n,this.projection=i;let r=this.sourceExpression;r.hasBind&&r.bind(t,e,n,this.interceptor);let o=this.targetObserver;o||(o=this.targetObserver=new rm(this.$platform,this.observerLocator,this.target,this.targetProperty,this.targetAttribute)),r=this.sourceExpression;const a=this.mode,l=this.interceptor;if(a&fm){const n=(a&pm)>0;l.updateTarget(this.value=r.evaluate(t,e,this.$hostScope,this.locator,n?l:null),t)}a&gm&&o.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new um(l)),this.isBound=!0}$unbind(t){var e;this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=this.$hostScope=null,this.value=void 0,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.obs.clear(!0),this.isBound=!1)}}Lg(mm);const{toView:bm}=mp,ym={reusable:!1,preempt:!0};class wm{constructor(t,e,n,i,s,r,o){this.observerLocator=t,this.interpolation=e,this.target=n,this.targetProperty=i,this.mode=s,this.locator=r,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.targetObserver=t.getAccessor(n,i);const a=e.expressions,l=this.partBindings=Array(a.length);for(let e=0,s=a.length;e<s;++e)l[e]=new xm(a[e],n,i,r,t,this)}updateTarget(t,e){const n=this.partBindings,i=this.interpolation.parts,s=n.length;let r="";if(1===s)r=i[0]+n[0].value+i[1];else{r=i[0];for(let t=0;s>t;++t)r+=n[t].value+i[t+1]}const o=this.targetObserver;if(0==(2&e)&&(4&o.type)>0){const t=this.task;this.task=this.taskQueue.queueTask((()=>{this.task=null,o.setValue(r,e,this.target,this.targetProperty)}),ym),null==t||t.cancel()}else o.setValue(r,e,this.target,this.targetProperty)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e;const i=this.partBindings;for(let s=0,r=i.length;r>s;++s)i[s].$bind(t,e,n);this.updateTarget(void 0,t)}$unbind(t){var e;if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const n=this.partBindings;for(let e=0,i=n.length;e<i;++e)n[e].interceptor.$unbind(t);null===(e=this.task)||void 0===e||e.cancel(),this.task=null}}class xm{constructor(t,e,n,i,s,r){this.sourceExpression=t,this.target=e,this.targetProperty=n,this.locator=i,this.observerLocator=s,this.owner=r,this.interceptor=this,this.mode=mp.toView,this.value="",this.$hostScope=null,this.task=null,this.isBound=!1}handleChange(t,e,n){if(!this.isBound)return;const i=this.sourceExpression,s=this.obs;if(10082!==i.$kind||1!==s.count){const e=(this.mode&bm)>0;e&&s.version++,t=i.evaluate(n,this.$scope,this.$hostScope,this.locator,e?this.interceptor:null),e&&s.clear(!1)}t!=this.value&&(this.value=t,t instanceof Array&&this.observeCollection(t),this.owner.updateTarget(t,n))}handleCollectionChange(t,e){this.owner.updateTarget(void 0,e)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this.interceptor);const i=this.value=this.sourceExpression.evaluate(t,e,n,this.locator,(this.mode&bm)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i)}$unbind(t){this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0))}}Lg(xm);class km{constructor(t,e,n,i,s){this.sourceExpression=t,this.target=e,this.locator=n,this.observerLocator=i,this.p=s,this.interceptor=this,this.mode=mp.toView,this.value="",this.$hostScope=null,this.task=null,this.isBound=!1}updateTarget(t,e){var n,i;const s=this.target,r=this.p.Node,o=this.value;this.value=t,o instanceof r&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o)),t instanceof r?(s.textContent="",null===(i=s.parentNode)||void 0===i||i.insertBefore(t,s)):s.textContent=String(t)}handleChange(t,e,n){var i;if(!this.isBound)return;const s=this.sourceExpression,r=this.obs;if(10082!==s.$kind||1!==r.count){const e=(this.mode&bm)>0;e&&r.version++,t=s.evaluate(n,this.$scope,this.$hostScope,this.locator,e?this.interceptor:null),e&&r.clear(!1)}if(t===this.value)return null===(i=this.task)||void 0===i||i.cancel(),void(this.task=null);0==(2&n)?this.queueUpdate(t,n):this.updateTarget(t,n)}handleCollectionChange(){this.queueUpdate(String(this.value),0)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this.interceptor);const i=this.value=this.sourceExpression.evaluate(t,e,n,this.locator,(this.mode&bm)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i),this.updateTarget(i,t)}$unbind(t){var e;this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0),null===(e=this.task)||void 0===e||e.cancel(),this.task=null)}queueUpdate(t,e){const n=this.task;this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,this.updateTarget(t,e)}),ym),null==n||n.cancel()}}Lg(km);class Cm{constructor(t,e,n,i,s=!1){this.sourceExpression=t,this.targetProperty=e,this.observerLocator=n,this.locator=i,this.toBindingContext=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.target=null}handleChange(t,e,n){if(!this.isBound)return;const i=this.target,s=this.targetProperty,r=i[s];this.obs.version++,t=this.sourceExpression.evaluate(n,this.$scope,this.$hostScope,this.locator,this.interceptor),this.obs.clear(!1),t!==r&&(i[s]=t)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n,this.target=this.toBindingContext?(null!=n?n:e).bindingContext:(null!=n?n:e).overrideContext;const i=this.sourceExpression;i.hasBind&&i.bind(t,e,n,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(2|t,e,n,this.locator,this.interceptor),this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.obs.clear(!0),this.isBound=!1}}Lg(Cm);const{oneTime:Sm,toView:$m,fromView:Tm}=mp,Am=$m|Sm,Em={reusable:!1,preempt:!0};class Pm{constructor(t,e,n,i,s,r,o){this.sourceExpression=t,this.target=e,this.targetProperty=n,this.mode=i,this.observerLocator=s,this.locator=r,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,this.targetSubscriber=null}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.$hostScope,this.locator,t)}handleChange(t,e,n){if(!this.isBound)return;n|=this.persistentFlags;const i=this.targetObserver,s=this.interceptor,r=this.sourceExpression,o=this.$scope,a=this.locator,l=0==(2&n)&&(4&i.type)>0,c=this.obs;if(10082!==r.$kind||c.count>1){const e=this.mode>Sm;e&&c.version++,t=r.evaluate(n,o,this.$hostScope,a,s),e&&c.clear(!1)}if(l){const e=this.task;this.task=this.taskQueue.queueTask((()=>{s.updateTarget(t,n),this.task=null}),Em),null==e||e.cancel()}else s.updateTarget(t,n)}$bind(t,e,n){var i;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}t|=1,this.persistentFlags=961&t,this.$scope=e,this.$hostScope=n;let s=this.sourceExpression;s.hasBind&&s.bind(t,e,n,this.interceptor);const r=this.mode;let o=this.targetObserver;if(!o){const t=this.observerLocator;o=r&Tm?t.getObserver(this.target,this.targetProperty):t.getAccessor(this.target,this.targetProperty),this.targetObserver=o}s=this.sourceExpression;const a=this.interceptor,l=(r&$m)>0;r&Am&&a.updateTarget(s.evaluate(t,e,this.$hostScope,this.locator,l?a:null),t),r&Tm&&(o.subscribe(null!==(i=this.targetSubscriber)&&void 0!==i?i:this.targetSubscriber=new um(a)),l||a.updateSource(o.getValue(this.target,this.targetProperty),t)),this.isBound=!0}$unbind(t){if(!this.isBound)return;this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null;const e=this.task;this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null!=e&&(e.cancel(),this.task=null),this.obs.clear(!0),this.isBound=!1}}Lg(Pm);class Om{constructor(t,e,n){this.sourceExpression=t,this.target=e,this.locator=n,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,n,this),this.sourceExpression.assign(t,this.$scope,n,this.locator,this.target),this.isBound=!0}$unbind(t){if(!this.isBound)return;let e=this.sourceExpression;e.evaluate(t,this.$scope,this.$hostScope,this.locator,null)===this.target&&e.assign(t,this.$scope,this.$hostScope,this.locator,null),e=this.sourceExpression,e.hasUnbind&&e.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.$hostScope=null,this.isBound=!1}observeProperty(t,e){}handleChange(t,e,n){}}const Rm=Gh.createInterface("IAppTask");class Im{constructor(t){this.key=t,this.slot=void 0,this.callback=void 0,this.container=void 0}static with(t){return new Im(t)}beforeCreate(){return this.at("beforeCreate")}hydrating(){return this.at("hydrating")}hydrated(){return this.at("hydrated")}beforeActivate(){return this.at("beforeActivate")}afterActivate(){return this.at("afterActivate")}beforeDeactivate(){return this.at("beforeDeactivate")}afterDeactivate(){return this.at("afterDeactivate")}at(t){return this.slot=t,this}call(t){return this.callback=t,this}register(t){return this.container=t.register(yu.instance(Rm,this))}run(){return(0,this.callback)(this.container.get(this.key))}}const jm=Im;function Fm(t){return t.startsWith(Lm.name)}const Lm={name:Bh.annotation.keyFor("children-observer"),keyFrom:t=>`${Lm.name}:${t}`,from(...t){const e={},n=Array.isArray;function i(t){e[t]=Dm.create(t)}return t.forEach((function(t){n(t)?t.forEach(i):t instanceof Dm?e[t.property]=t:void 0!==t&&Object.keys(t).forEach((n=>function(t,n){e[t]=Dm.create(t,n)}(n,t)))})),e},getAll(t){const e=Lm.name.length+1,n=[],i=Ih(t);let s,r,o,a=i.length,l=0;for(;--a>=0;){o=i[a],s=Bh.annotation.getKeys(o).filter(Fm),r=s.length;for(let t=0;t<r;++t)n[l++]=ph.getOwn(Lm.name,o,s[t].slice(e))}return n}},Nm={childList:!0};class Dm{constructor(t,e,n,i,s,r){this.callback=t,this.property=e,this.options=n,this.query=i,this.filter=s,this.map=r}static create(t,e={}){var n;return new Dm(Rh(e.callback,`${t}Changed`),Rh(e.property,t),null!==(n=e.options)&&void 0!==n?n:Nm,e.query,e.filter,e.map)}}let Mm=class{constructor(t,e,n,i,s=Bm,r=Vm,o=Hm,a){this.controller=t,this.obj=e,this.propertyKey=n,this.query=s,this.filter=r,this.map=o,this.options=a,this.observing=!1,this.children=void 0,this.callback=e[i],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.tryStartObserving(),this.children}setValue(t){}subscribe(t){this.tryStartObserving(),this.subs.add(t)}tryStartObserving(){this.observing||(this.observing=!0,this.children=Um(this.controller,this.query,this.filter,this.map),new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.onChildrenChanged()})).observe(this.controller.host,this.options))}onChildrenChanged(){this.children=Um(this.controller,this.query,this.filter,this.map),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0,0)}};function Bm(t){return t.host.childNodes}function Vm(t,e,n){return!!n}function Hm(t,e,n){return n}Mm=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([$p()],Mm);const qm={optional:!0};function Um(t,e,n,i){var s;const r=e(t),o=[];for(let t=0,e=r.length;t<e;++t){const e=r[t],a=Ym.for(e,qm),l=null!==(s=null==a?void 0:a.viewModel)&&void 0!==s?s:null;n(e,a,l)&&o.push(i(e,a,l))}return o}const zm=Su,_m={name:Bh.annotation.keyFor("watch"),add(t,e){let n=ph.getOwn(_m.name,t);null==n&&ph.define(_m.name,n=[],t),n.push(e)},getAnnotation(t){var e;return null!==(e=ph.getOwn(_m.name,t))&&void 0!==e?e:zm}};function Wm(t){return function(e){return Ym.define(t,e)}}const Km=new WeakMap;class Gm{constructor(t,e,n,i,s,r,o,a,l,c,h,u,d,p,g,f,v,m,b,y,w){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.cache=s,this.template=r,this.instructions=o,this.dependencies=a,this.injectable=l,this.needsCompile=c,this.surrogates=h,this.bindables=u,this.childrenObservers=d,this.containerless=p,this.isStrictBinding=g,this.shadowOptions=f,this.hasSlots=v,this.enhance=m,this.projectionsMap=b,this.watches=y,this.processContent=w}static create(t,e=null){if(null===e){const n=t;if("string"==typeof n)throw new Error(`Cannot create a custom element definition with only a name and no type: ${t}`);const i=Uh("name",n,Ym.generateName);return e="function"==typeof n.Type?n.Type:Ym.generateType(Ch(i)),new Gm(e,i,Oh(n.aliases),Uh("key",n,(()=>Ym.keyFrom(i))),Uh("cache",n,(()=>0)),Uh("template",n,(()=>null)),Oh(n.instructions),Oh(n.dependencies),Uh("injectable",n,(()=>null)),Uh("needsCompile",n,(()=>!0)),Oh(n.surrogates),jv.from(n.bindables),Lm.from(n.childrenObservers),Uh("containerless",n,(()=>!1)),Uh("isStrictBinding",n,(()=>!1)),Uh("shadowOptions",n,(()=>null)),Uh("hasSlots",n,(()=>!1)),Uh("enhance",n,(()=>!1)),Uh("projectionsMap",n,(()=>new Map)),Uh("watches",n,(()=>Su)),qh("processContent",e,(()=>null)))}if("string"==typeof t)return new Gm(e,t,Oh(Ym.getAnnotation(e,"aliases"),e.aliases),Ym.keyFrom(t),qh("cache",e,(()=>0)),qh("template",e,(()=>null)),Oh(Ym.getAnnotation(e,"instructions"),e.instructions),Oh(Ym.getAnnotation(e,"dependencies"),e.dependencies),qh("injectable",e,(()=>null)),qh("needsCompile",e,(()=>!0)),Oh(Ym.getAnnotation(e,"surrogates"),e.surrogates),jv.from(...jv.getAll(e),Ym.getAnnotation(e,"bindables"),e.bindables),Lm.from(...Lm.getAll(e),Ym.getAnnotation(e,"childrenObservers"),e.childrenObservers),qh("containerless",e,(()=>!1)),qh("isStrictBinding",e,(()=>!1)),qh("shadowOptions",e,(()=>null)),qh("hasSlots",e,(()=>!1)),qh("enhance",e,(()=>!1)),qh("projectionsMap",e,(()=>new Map)),Oh(_m.getAnnotation(e),e.watches),qh("processContent",e,(()=>null)));const n=Uh("name",t,Ym.generateName);return new Gm(e,n,Oh(Ym.getAnnotation(e,"aliases"),t.aliases,e.aliases),Ym.keyFrom(n),Hh("cache",t,e,(()=>0)),Hh("template",t,e,(()=>null)),Oh(Ym.getAnnotation(e,"instructions"),t.instructions,e.instructions),Oh(Ym.getAnnotation(e,"dependencies"),t.dependencies,e.dependencies),Hh("injectable",t,e,(()=>null)),Hh("needsCompile",t,e,(()=>!0)),Oh(Ym.getAnnotation(e,"surrogates"),t.surrogates,e.surrogates),jv.from(...jv.getAll(e),Ym.getAnnotation(e,"bindables"),e.bindables,t.bindables),Lm.from(...Lm.getAll(e),Ym.getAnnotation(e,"childrenObservers"),e.childrenObservers,t.childrenObservers),Hh("containerless",t,e,(()=>!1)),Hh("isStrictBinding",t,e,(()=>!1)),Hh("shadowOptions",t,e,(()=>null)),Hh("hasSlots",t,e,(()=>!1)),Hh("enhance",t,e,(()=>!1)),Hh("projectionsMap",t,e,(()=>new Map)),Oh(t.watches,_m.getAnnotation(e),e.watches),Hh("processContent",t,e,(()=>null)))}static getOrCreate(t){if(t instanceof Gm)return t;if(Km.has(t))return Km.get(t);const e=Gm.create(t);return Km.set(t,e),ph.define(Ym.name,e,e.Type),e}register(t){const{Type:e,key:n,aliases:i}=this;yu.transient(n,e).register(t),yu.aliasTo(n,e).register(t),xd(i,Ym,n,t)}}const Qm={name:void 0,searchParents:!1,optional:!1},Ym={name:Bh.resource.keyFor("custom-element"),keyFrom:t=>`${Ym.name}:${t}`,isType:t=>"function"==typeof t&&ph.hasOwn(Ym.name,t),for(t,e=Qm){if(void 0===e.name&&!0!==e.searchParents){const n=ky(t,Ym.name);if(null===n){if(!0===e.optional)return null;throw new Error("The provided node is not a custom element or containerless host.")}return n}if(void 0!==e.name){if(!0!==e.searchParents){const n=ky(t,Ym.name);if(null===n)throw new Error("The provided node is not a custom element or containerless host.");return n.is(e.name)?n:void 0}let n=t,i=!1;for(;null!==n;){const t=ky(n,Ym.name);if(null!==t&&(i=!0,t.is(e.name)))return t;n=Py(n)}if(i)return;throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")}let n=t;for(;null!==n;){const t=ky(n,Ym.name);if(null!==t)return t;n=Py(n)}throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")},define(t,e){const n=Gm.create(t,e);return ph.define(Ym.name,n,n.Type),ph.define(Ym.name,n,n),Bh.resource.appendTo(n.Type,Ym.name),n.Type},getDefinition(t){const e=ph.getOwn(Ym.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){ph.define(Bh.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>ph.getOwn(Bh.annotation.keyFor(e),t),generateName:function(){let t=0;return function(){return"unnamed-"+ ++t}}(),createInjectable(){const t=function(e,n,i){return Gh.getOrCreateAnnotationParamTypes(e)[i]=t,e};return t.register=function(e){return{resolve:(e,n)=>n.has(t,!0)?n.get(t):null}},t},generateType:function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(n,i=e){const s=class{};return t.value=n,Reflect.defineProperty(s,"name",t),i!==e&&Object.assign(s.prototype,i),s}}()},Xm=Bh.annotation.keyFor("processContent");function Zm(t,e){"string"==typeof e&&(e=t[e]);const n=typeof e;if("function"!==n)throw new Error(`Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a ${n}.`);return e}function Jm(t){return function(e){return nb.define(t,e)}}function tb(t){return function(e){return nb.define("string"==typeof t?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},e)}}class eb{constructor(t,e,n,i,s,r,o,a,l){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.defaultBindingMode=s,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=l}static create(t,e){let n,i;return"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t),new eb(e,Rh(nb.getAnnotation(e,"name"),n),Oh(nb.getAnnotation(e,"aliases"),i.aliases,e.aliases),nb.keyFrom(n),Rh(nb.getAnnotation(e,"defaultBindingMode"),i.defaultBindingMode,e.defaultBindingMode,mp.toView),Rh(nb.getAnnotation(e,"isTemplateController"),i.isTemplateController,e.isTemplateController,!1),jv.from(...jv.getAll(e),nb.getAnnotation(e,"bindables"),e.bindables,i.bindables),Rh(nb.getAnnotation(e,"noMultiBindings"),i.noMultiBindings,e.noMultiBindings,!1),Oh(_m.getAnnotation(e),e.watches))}register(t){const{Type:e,key:n,aliases:i}=this;yu.transient(n,e).register(t),yu.aliasTo(n,e).register(t),xd(i,nb,n,t)}}const nb={name:Bh.resource.keyFor("custom-attribute"),keyFrom:t=>`${nb.name}:${t}`,isType:t=>"function"==typeof t&&ph.hasOwn(nb.name,t),for(t,e){var n;return null!==(n=ky(t,nb.keyFrom(e)))&&void 0!==n?n:void 0},define(t,e){const n=eb.create(t,e);return ph.define(nb.name,n,n.Type),ph.define(nb.name,n,n),Bh.resource.appendTo(e,nb.name),n.Type},getDefinition(t){const e=ph.getOwn(nb.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){ph.define(Bh.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>ph.getOwn(Bh.annotation.keyFor(e),t)},ib=Gh.createInterface("IViewFactory");class sb{constructor(t,e,n,i=null){this.name=t,this.context=e,this.contentType=n,this.projectionScope=i,this.isCaching=!1,this.cache=null,this.cacheSize=-1}setCacheSize(t,e){t&&("*"===t?t=sb.maxCacheSize:"string"==typeof t&&(t=parseInt(t,10)),-1!==this.cacheSize&&e||(this.cacheSize=t)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}canReturnToCache(t){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.cache.push(t),!0)}create(t,e){const n=this.cache;let i;return null!=n&&n.length>0?(i=n.pop(),i):(i=ny.forSyntheticView(null,this.context,this,t,e),i)}}sb.maxCacheSize=65535;const rb=new WeakSet;function ob(t){return!rb.has(t)}function ab(t){return rb.add(t),Gm.create(t)}const lb={name:Bh.resource.keyFor("views"),has:t=>"function"==typeof t&&(ph.hasOwn(lb.name,t)||"$views"in t),get(t){if("function"==typeof t&&"$views"in t){const e=t.$views.filter(ob).map(ab);for(const n of e)lb.add(t,n)}let e=ph.getOwn(lb.name,t);return void 0===e&&ph.define(lb.name,e=[],t),e},add(t,e){const n=Gm.create(e);let i=ph.getOwn(lb.name,t);return void 0===i?ph.define(lb.name,i=[n],t):i.push(n),i}},cb=Gh.createInterface("IViewLocator",(t=>t.singleton(hb)));class hb{constructor(){this.modelInstanceToBoundComponent=new WeakMap,this.modelTypeToUnboundComponent=new Map}getViewComponentForObject(t,e){if(t){const n=lb.has(t.constructor)?lb.get(t.constructor):[],i="function"==typeof e?e(t,n):this.getViewName(n,e);return this.getOrCreateBoundComponent(t,n,i)}return null}getOrCreateBoundComponent(t,e,n){let i,s=this.modelInstanceToBoundComponent.get(t);if(void 0===s?(s={},this.modelInstanceToBoundComponent.set(t,s)):i=s[n],void 0===i){const r=this.getOrCreateUnboundComponent(t,e,n);i=Ym.define(Ym.getDefinition(r),class extends r{constructor(){super(t)}}),s[n]=i}return i}getOrCreateUnboundComponent(t,e,n){let i,s=this.modelTypeToUnboundComponent.get(t.constructor);if(void 0===s?(s={},this.modelTypeToUnboundComponent.set(t.constructor,s)):i=s[n],void 0===i){i=Ym.define(this.getView(e,n),class{constructor(t){this.viewModel=t}define(t,e,n){const i=this.viewModel;if(t.scope=$d.fromParent(t.scope,i),void 0!==i.define)return i.define(t,e,n)}});const r=i.prototype;"hydrating"in t&&(r.hydrating=function(t){this.viewModel.hydrating(t)}),"hydrated"in t&&(r.hydrated=function(t){this.viewModel.hydrated(t)}),"created"in t&&(r.created=function(t){this.viewModel.created(t)}),"binding"in t&&(r.binding=function(t,e,n){return this.viewModel.binding(t,e,n)}),"bound"in t&&(r.bound=function(t,e,n){return this.viewModel.bound(t,e,n)}),"attaching"in t&&(r.attaching=function(t,e,n){return this.viewModel.attaching(t,e,n)}),"attached"in t&&(r.attached=function(t,e){return this.viewModel.attached(t,e)}),"detaching"in t&&(r.detaching=function(t,e,n){return this.viewModel.detaching(t,e,n)}),"unbinding"in t&&(r.unbinding=function(t,e,n){return this.viewModel.unbinding(t,e,n)}),"dispose"in t&&(r.dispose=function(){this.viewModel.dispose()}),s[n]=i}return i}getViewName(t,e){return e||(1===t.length?t[0].name:"default-view")}getView(t,e){const n=t.find((t=>t.name===e));if(void 0===n)throw new Error(`Could not find view: ${e}`);return n}}var ub;Gh.createInterface("IProjections"),function(t){t[t.Projection=0]="Projection",t[t.Fallback=1]="Fallback"}(ub||(ub={}));class db{constructor(t,e,n){this.name=t,this.type=e,this.projectionContext=n}}class pb{constructor(t,e=null){this.content=t,this.scope=e}}class gb{constructor(t,e){this.scope=t,this.projections=e}}const fb=Gh.createInterface("IProjectionProvider",(t=>t.singleton(mb))),vb=new WeakMap;class mb{registerProjections(t,e){for(const[n,i]of t)vb.set(n,new gb(e,i))}getProjectionFor(t){var e;return null!==(e=vb.get(t))&&void 0!==e?e:null}}class bb{constructor(t,e){this.hostScope=null,this.view=t.create().setLocation(e),this.isProjection=t.contentType===ub.Projection,this.outerScope=t.projectionScope}static get inject(){return[ib,Ty]}binding(t,e,n){this.hostScope=this.$controller.scope.parentScope}attaching(t,e,n){var i;const{$controller:s}=this;return this.view.activate(t,s,n,null!==(i=this.outerScope)&&void 0!==i?i:this.hostScope,this.hostScope)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}Wm({name:"au-slot",template:null,containerless:!0})(bb);const yb=Gh.createInterface("AuSlotsInfo");class wb{constructor(t){this.projectedSlots=t}}const xb=new WeakMap,kb=new WeakMap,Cb=new WeakMap;function Sb(t,e,n){const i=Gm.getOrCreate(t);if(null!==i.injectable)return new Tb(i,e);if(null==n){let t=xb.get(i);void 0===t&&xb.set(i,t=new WeakMap);let n=t.get(e);return void 0===n&&t.set(e,n=new Tb(i,e)),n}let s=kb.get(i);void 0===s&&kb.set(i,s=new WeakMap);let r=s.get(e);void 0===r&&s.set(e,r=new WeakMap);let o=r.get(n);return void 0===o&&r.set(n,o=new Tb(i,e)),o}const $b=new WeakMap;class Tb{constructor(t,e){this.definition=t,this.parentContainer=e,this.viewModelProvider=void 0,this.fragment=null,this.factory=void 0,this.isCompiled=!1,this.renderers=Object.create(null),this.compiledDefinition=void 0,this.root=e.root;const n=this.container=e.createChild(),i=n.getAll(pw);for(let t=0;t<i.length;++t){const e=i[t];this.renderers[e.instructionType]=e}this.projectionProvider=n.get(fb);const s=this.platform=n.get(hm);n.registerResolver(ib,this.factoryProvider=new Ab,!0),n.registerResolver(gy,this.parentControllerProvider=new wu("IController"),!0),n.registerResolver(Ky,this.instructionProvider=new wu("IInstruction"),!0),n.registerResolver(Ty,this.renderLocationProvider=new wu("IRenderLocation"),!0),n.registerResolver(yb,this.auSlotsInfoProvider=new wu("IAuSlotsInfo"),!0);const r=this.elementProvider=new wu("ElementResolver");n.registerResolver(Sy,r),n.registerResolver(s.Node,r),n.registerResolver(s.Element,r),n.registerResolver(s.HTMLElement,r),n.register(...t.dependencies)}get id(){return this.container.id}has(t,e){return this.container.has(t,e)}get(t){return this.container.get(t)}getAll(t){return this.container.getAll(t)}register(...t){return this.container.register(...t)}registerResolver(t,e){return this.container.registerResolver(t,e)}registerTransformer(t,e){return this.container.registerTransformer(t,e)}getResolver(t,e){return this.container.getResolver(t,e)}invoke(t,e){return this.container.invoke(t,e)}getFactory(t){return this.container.getFactory(t)}registerFactory(t,e){this.container.registerFactory(t,e)}createChild(){return this.container.createChild()}find(t,e){return this.container.find(t,e)}create(t,e){return this.container.create(t,e)}disposeResolvers(){this.container.disposeResolvers()}compile(t){let e;if(this.isCompiled)return this;this.isCompiled=!0;const n=this.definition;if(n.needsCompile){const i=this.container,s=i.get(dw);e=this.compiledDefinition=s.compile(n,i,t)}else e=this.compiledDefinition=n;if(e.register(this),Cb.has(e))this.fragment=Cb.get(e);else{const t=this.platform.document,n=e.template;if(null===n||!0===this.definition.enhance)this.fragment=null;else if(n instanceof this.platform.Node)"TEMPLATE"===n.nodeName?this.fragment=t.adoptNode(n.content):(this.fragment=t.adoptNode(t.createDocumentFragment())).appendChild(n);else{const e=t.createElement("template");t.adoptNode(e.content),"string"==typeof n&&(e.innerHTML=n),this.fragment=e.content}Cb.set(e,this.fragment)}return this}getViewFactory(t,e,n){let i=this.factory;return void 0===i&&(void 0===t&&(t=this.definition.name),i=this.factory=new sb(t,this,e,n)),i}beginChildComponentOperation(t){const e=this.definition;return null!==e.injectable&&(void 0===this.viewModelProvider&&this.container.registerResolver(e.injectable,this.viewModelProvider=new wu("definition.injectable")),this.viewModelProvider.prepare(t)),this}createNodes(){if(!0===this.compiledDefinition.enhance)return new Iy(this.platform,this.compiledDefinition.template);if(null===this.fragment){let t=$b.get(this.platform);return void 0===t&&$b.set(this.platform,t=new Iy(this.platform,this.platform.document.createDocumentFragment())),t}return new Iy(this.platform,this.fragment.cloneNode(!0))}getComponentFactory(t,e,n,i,s,r){return void 0!==t&&this.parentControllerProvider.prepare(t),void 0!==e&&this.elementProvider.prepare(e),void 0!==n&&this.instructionProvider.prepare(n),void 0!==s&&this.renderLocationProvider.prepare(s),void 0!==i&&this.factoryProvider.prepare(i),void 0!==r&&this.auSlotsInfoProvider.prepare(r),this}createComponent(t){return this.container.get(t)}render(t,e,n,i,s){if(n.length!==i.instructions.length)throw new Error(`The compiled template is not aligned with the render instructions. There are ${n.length} targets and ${i.instructions.length} instructions.`);for(let s=0;s<n.length;++s)this.renderChildren(t,i.instructions[s],e,n[s]);null!=s&&this.renderChildren(t,i.surrogates,e,s)}renderChildren(t,e,n,i){for(let s=0;s<e.length;++s){const r=e[s];this.renderers[r.type].render(t,this,n,i,r)}}dispose(){this.elementProvider.dispose()}registerProjections(t,e){this.projectionProvider.registerProjections(t,e)}getProjectionFor(t){return this.projectionProvider.getProjectionFor(t)}}class Ab{constructor(){this.factory=null}prepare(t){this.factory=t}get $isResolver(){return!0}resolve(t,e){const n=this.factory;if(null===n)throw new Error("Cannot resolve ViewFactory before the provider was prepared.");if("string"!=typeof n.name||0===n.name.length)throw new Error("Cannot resolve ViewFactory without a (valid) name.");return n}dispose(){this.factory=null}}class Eb{constructor(t){this.obj=t,this.currentValue="",this.oldValue="",this.doNotCache=!0,this.nameIndex={},this.version=0,this.hasChanges=!1,this.isActive=!1,this.type=6}getValue(){return this.currentValue}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,0==(256&e)&&this.flushChanges(e)}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue,e=this.nameIndex;let n=this.version;this.oldValue=t;const i=Pb(t);if(i.length>0&&this.addClassesAndUpdateIndex(i),this.version+=1,0===n)return;n-=1;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t]===n&&this.obj.classList.remove(t)}}addClassesAndUpdateIndex(t){const e=this.obj;for(let n=0,i=t.length;n<i;n++){const i=t[n];0!==i.length&&(this.nameIndex[i]=this.version,e.classList.add(i))}}}function Pb(t){if("string"==typeof t)return Ob(t);if("object"!=typeof t)return Su;if(t instanceof Array){const e=t.length;if(e>0){const n=[];for(let i=0;i<e;++i)n.push(...Pb(t[i]));return n}return Su}const e=[];for(const n in t)Boolean(t[n])&&(n.includes(" ")?e.push(...Ob(n)):e.push(n));return e}function Ob(t){const e=t.match(/\S+/g);return null===e?Su:e}var Rb=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ib=function(t,e){return function(n,i){e(n,i,t)}};const jb=Gh.createInterface("IShadowDOMStyleFactory",(t=>t.cachedCallback((t=>Bb.supported(t.get(hm))?t.get(Lb):t.get(Nb)))));class Fb{constructor(t){this.css=t}register(t){const e=t.get(Mb),n=t.get(jb);t.register(yu.instance(Db,n.createStyles(this.css,e)))}}let Lb=class{constructor(t){this.p=t,this.cache=new Map}createStyles(t,e){return new Bb(this.p,t,this.cache,e)}};Lb=Rb([Ib(0,hm)],Lb);let Nb=class{constructor(t){this.p=t}createStyles(t,e){return new Vb(this.p,t,e)}};Nb=Rb([Ib(0,hm)],Nb);const Db=Gh.createInterface("IShadowDOMStyles"),Mb=Gh.createInterface("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:Tu})));class Bb{constructor(t,e,n,i=null){this.sharedStyles=i,this.styleSheets=e.map((e=>{let i;return e instanceof t.CSSStyleSheet?i=e:(i=n.get(e),void 0===i&&(i=new t.CSSStyleSheet,i.replaceSync(e),n.set(e,i))),i}))}static supported(t){return"adoptedStyleSheets"in t.ShadowRoot.prototype}applyTo(t){null!==this.sharedStyles&&this.sharedStyles.applyTo(t),t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets]}}class Vb{constructor(t,e,n=null){this.p=t,this.localStyles=e,this.sharedStyles=n}applyTo(t){const e=this.localStyles,n=this.p;for(let i=e.length-1;i>-1;--i){const s=n.document.createElement("style");s.innerHTML=e[i],t.prepend(s)}null!==this.sharedStyles&&this.sharedStyles.applyTo(t)}}const{enter:Hb,exit:qb}=Cf,{wrap:Ub,unwrap:zb}=gv;class _b{constructor(t,e,n,i,s){this.obj=t,this.observerLocator=e,this.get=n,this.cb=i,this.useProxy=s,this.interceptor=this,this.value=void 0,this.isBound=!1,this.running=!1}handleChange(){this.run()}handleCollectionChange(){this.run()}$bind(){this.isBound||(this.isBound=!0,this.compute())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0))}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.value,n=this.compute();Object.is(n,e)||this.cb.call(t,n,e,t)}compute(){this.running=!0,this.obs.version++;try{return Hb(this),this.value=zb(this.get.call(void 0,this.useProxy?Ub(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,qb(this)}}}class Wb{constructor(t,e,n,i,s){this.scope=t,this.locator=e,this.observerLocator=n,this.expression=i,this.callback=s,this.interceptor=this,this.isBound=!1,this.obj=t.bindingContext}handleChange(t){const e=this.expression,n=this.obj,i=this.value;10082===e.$kind&&1===this.obs.count||(this.obs.version++,t=e.evaluate(0,this.scope,null,this.locator,this),this.obs.clear(!1)),Object.is(t,i)||(this.value=t,this.callback.call(n,t,i,n))}$bind(){this.isBound||(this.isBound=!0,this.obs.version++,this.value=this.expression.evaluate(0,this.scope,null,this.locator,this),this.obs.clear(!1))}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0),this.value=void 0)}}Lg(_b),Lg(Wb);const Kb=Gh.createInterface("ILifecycleHooks");class Gb{constructor(t,e){this.definition=t,this.instance=e}}class Qb{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const n=new Set;let i=e.prototype;for(;i!==Object.prototype;){for(const t of Object.getOwnPropertyNames(i))"constructor"!==t&&n.add(t);i=Object.getPrototypeOf(i)}return new Qb(e,n)}register(t){yu.singleton(Kb,this.Type).register(t)}}const Yb=new WeakMap,Xb={name:Bh.annotation.keyFor("lifecycle-hooks"),define(t,e){const n=Qb.create(t,e);return ph.define(Xb.name,n,e),Bh.resource.appendTo(e,Xb.name),n.Type},resolve(t){let e=Yb.get(t);if(void 0===e){e={};const n=t.root.id===t.id?t.getAll(Kb,!1):[...t.root.getAll(Kb,!1),...t.getAll(Kb,!1)];for(const t of n){const n=ph.getOwn(Xb.name,t.constructor),i=new Gb(n,t);for(const t of n.propertyNames){const n=e[t];void 0===n?e[t]=[i]:n.push(i)}}}return e}};function Zb(t){t.dispose()}var Jb;!function(t){t[t.none=0]="none",t[t.host=1]="host",t[t.shadowRoot=2]="shadowRoot",t[t.location=3]="location"}(Jb||(Jb={}));const ty={optional:!0},ey=new WeakMap;class ny{constructor(t,e,n,i,s,r,o,a){switch(this.root=t,this.container=e,this.vmKind=n,this.flags=i,this.definition=s,this.viewFactory=r,this.viewModel=o,this.host=a,this.id=Ah("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.hostScope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.context=null,this.location=null,this.lifecycleHooks=null,this.state=0,this.logger=null,this.debug=!1,this.fullyNamed=!1,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.activatingStack=0,this.detachingStack=0,this.unbindingStack=0,null===t&&e.has(fy,!0)&&(this.root=e.get(fy)),this.platform=e.get(hm),n){case 1:case 0:this.hooks=new cy(o);break;case 2:this.hooks=cy.none}}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){var t;if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===(null===(t=this.parent.definition)||void 0===t?void 0:t.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}static getCached(t){return ey.get(t)}static getCachedOrThrow(t){const e=ny.getCached(t);if(void 0===e)throw new Error(`There is no cached controller for the provided ViewModel: ${String(t)}`);return e}static forCustomElement(t,e,n,i,s,r=0,o=!0,a){if(ey.has(n))return ey.get(n);a=null!=a?a:Ym.getDefinition(n.constructor);const l=new ny(t,e,0,r,a,null,n,i);return ey.set(n,l),o&&l.hydrateCustomElement(e,s),l}static forCustomAttribute(t,e,n,i,s=0){if(ey.has(n))return ey.get(n);const r=nb.getDefinition(n.constructor),o=new ny(t,e,1,s,r,null,n,i);return ey.set(n,o),o.hydrateCustomAttribute(),o}static forSyntheticView(t,e,n,i=0,s){const r=new ny(t,e,2,i,null,n,null,null);return r.parent=null!=s?s:null,r.hydrateSynthetic(e),r}hydrateCustomElement(t,e){var n;this.logger=t.get(Xu).root,this.debug=this.logger.config.level<=1,this.debug&&(this.logger=this.logger.scopeTo(this.name));let i=this.definition;this.flags;const s=this.viewModel;if(this.scope=$d.create(s,null,!0),i.watches.length>0&&oy(this,this.container,i,s),sy(this,i,0,s),function(t,e,n,i){const s=e.childrenObservers,r=Object.getOwnPropertyNames(s),o=r.length;if(o>0){const e=iy(i);let n;for(let a=0;a<o;++a)if(n=r[a],null==e[n]){const r=s[n];e[n]=new Mm(t,i,n,r.callback,r.query,r.filter,r.map,r.options)}}}(this,i,0,s),this.hooks.hasDefine){this.debug&&this.logger.trace("invoking define() hook");const e=s.define(this,t,i);void 0!==e&&e!==i&&(i=Gm.getOrCreate(e))}const r=this.context=Sb(i,t,null==e?void 0:e.projections);this.lifecycleHooks=Xb.resolve(r),i.register(r),null!==i.injectable&&r.beginChildComponentOperation(s),(null===(n=this.root)||void 0===n?void 0:n.controller)!==this&&(this.hydrate(e),this.hydrateChildren())}hydrate(t){this.hooks.hasHydrating&&(this.debug&&this.logger.trace("invoking hasHydrating() hook"),this.viewModel.hydrating(this));const e=this.context.compile(t),{projectionsMap:n,shadowOptions:i,isStrictBinding:s,hasSlots:r,containerless:o}=e.compiledDefinition;if(e.registerProjections(n,this.scope),n.clear(),this.isStrictBinding=s,null!==(this.hostController=Ym.for(this.host,ty))&&(this.host=this.platform.document.createElement(this.context.definition.name)),Cy(this.host,Ym.name,this),Cy(this.host,this.definition.key,this),null!==i||r){if(o)throw new Error("You cannot combine the containerless custom element option with Shadow DOM.");Cy(this.shadowRoot=this.host.attachShadow(null!=i?i:hy),Ym.name,this),Cy(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else o?(Cy(this.location=Oy(this.host),Ym.name,this),Cy(this.location,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.viewModel.$controller=this,this.nodes=e.createNodes(),this.hooks.hasHydrated&&(this.debug&&this.logger.trace("invoking hasHydrated() hook"),this.viewModel.hydrated(this))}hydrateChildren(){const t=this.nodes.findTargets();this.context.render(this.flags,this,t,this.context.compiledDefinition,this.host),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateCustomAttribute(){const t=this.definition,e=this.viewModel;t.watches.length>0&&oy(this,this.container,t,e),sy(this,t,this.flags,e),e.$controller=this,this.lifecycleHooks=Xb.resolve(this.container),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateSynthetic(t){this.context=t;const e=t.compile(null),n=e.compiledDefinition;this.isStrictBinding=n.isStrictBinding;const i=(this.nodes=e.createNodes()).findTargets();e.render(this.flags,this,i,n,void 0)}activate(t,e,n,i,s){switch(this.state){case 0:case 8:if(null!==e&&!e.isActive)return;this.state=1;break;case 2:return;case 32:throw new Error(`${this.name} trying to activate a controller that is disposed.`);default:throw new Error(`${this.name} unexpected state: ${py(this.state)}.`)}switch(this.parent=e,this.debug&&!this.fullyNamed&&(this.fullyNamed=!0,this.logger=this.context.get(Xu).root.scopeTo(this.name),this.logger.trace("activate()")),this.hostScope=null!=s?s:null,n|=2,this.vmKind){case 0:this.scope.parentScope=null!=i?i:null;break;case 1:this.scope=null!=i?i:null;break;case 2:if(null==i)throw new Error("Scope is null or undefined");this.hasLockedScope||(this.scope=i)}if(this.isStrictBinding&&(n|=1),this.$initiator=t,this.$flags=n,this.enterActivating(),this.hooks.hasBinding){this.debug&&this.logger.trace("binding()");const t=this.viewModel.binding(this.$initiator,this.parent,this.$flags);if(t instanceof Promise)return this.ensurePromise(),t.then((()=>{this.bind()})).catch((t=>{this.reject(t)})),this.$promise}return this.bind(),this.$promise}bind(){if(this.debug&&this.logger.trace("bind()"),null!==this.bindings)for(let t=0;t<this.bindings.length;++t)this.bindings[t].$bind(this.$flags,this.scope,this.hostScope);if(this.hooks.hasBound){this.debug&&this.logger.trace("bound()");const t=this.viewModel.bound(this.$initiator,this.parent,this.$flags);if(t instanceof Promise)return this.ensurePromise(),void t.then((()=>{this.isBound=!0,this.attach()})).catch((t=>{this.reject(t)}))}this.isBound=!0,this.attach()}append(...t){switch(this.mountTarget){case 1:this.host.append(...t);break;case 2:this.shadowRoot.append(...t);break;case 3:for(let e=0;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location)}}attach(){var t;if(this.debug&&this.logger.trace("attach()"),null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.append(this.host);break;case 3:this.hostController.append(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null===(t=this.definition)||void 0===t?void 0:t.enhance);break;case 2:(this.context.has(Db,!1)?this.context.get(Db):this.context.get(Mb)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break;case 3:this.nodes.insertBefore(this.location)}if(this.hooks.hasAttaching){this.debug&&this.logger.trace("attaching()");const t=this.viewModel.attaching(this.$initiator,this.parent,this.$flags);t instanceof Promise&&(this.ensurePromise(),this.enterActivating(),t.then((()=>{this.leaveActivating()})).catch((t=>{this.reject(t)})))}if(null!==this.children)for(let t=0;t<this.children.length;++t)this.children[t].activate(this.$initiator,this,this.$flags,this.scope,this.hostScope);this.leaveActivating()}deactivate(t,e,n){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw new Error(`${this.name} unexpected state: ${py(this.state)}.`)}if(this.debug&&this.logger.trace("deactivate()"),this.$initiator=t,this.$flags=n,t===this&&this.enterDetaching(),null!==this.children)for(let e=0;e<this.children.length;++e)this.children[e].deactivate(t,this,n);if(this.hooks.hasDetaching){this.debug&&this.logger.trace("detaching()");const e=this.viewModel.detaching(this.$initiator,this.parent,this.$flags);e instanceof Promise&&(this.ensurePromise(),t.enterDetaching(),e.then((()=>{t.leaveDetaching()})).catch((e=>{t.reject(e)})))}if(null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.leaveDetaching(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){this.debug&&this.logger.trace("unbind()");const t=4|this.$flags;if(null!==this.bindings)for(let e=0;e<this.bindings.length;++e)this.bindings[e].$unbind(t);switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parentScope=null}32==(32&t)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.resolve()}ensurePromise(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.ensurePromise())}resolve(){if(void 0!==this.$promise){const t=this.$resolve;this.$resolve=this.$reject=this.$promise=void 0,t()}}reject(t){if(void 0!==this.$promise){const e=this.$reject;this.$resolve=this.$reject=this.$promise=void 0,e(t)}this.$initiator!==this&&this.parent.reject(t)}enterActivating(){++this.activatingStack,this.$initiator!==this&&this.parent.enterActivating()}leaveActivating(){if(0==--this.activatingStack){if(this.hooks.hasAttached){this.debug&&this.logger.trace("attached()");const t=this.viewModel.attached(this.$initiator,this.$flags);if(t instanceof Promise)return this.ensurePromise(),void t.then((()=>{this.state=2,this.resolve(),this.$initiator!==this&&this.parent.leaveActivating()})).catch((t=>{this.reject(t)}))}this.state=2,this.resolve()}this.$initiator!==this&&this.parent.leaveActivating()}enterDetaching(){++this.detachingStack}leaveDetaching(){if(0==--this.detachingStack){this.debug&&this.logger.trace("detach()"),this.enterUnbinding(),this.removeNodes();let t=this.$initiator.head;for(;null!==t;){if(t!==this&&(t.debug&&t.logger.trace("detach()"),t.removeNodes()),t.hooks.hasUnbinding){t.debug&&t.logger.trace("unbinding()");const e=t.viewModel.unbinding(t.$initiator,t.parent,t.$flags);e instanceof Promise&&(this.ensurePromise(),this.enterUnbinding(),e.then((()=>{this.leaveUnbinding()})).catch((t=>{this.reject(t)})))}t=t.next}this.leaveUnbinding()}}enterUnbinding(){++this.unbindingStack}leaveUnbinding(){if(0==--this.unbindingStack){this.debug&&this.logger.trace("unbind()");let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addController(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case 1:return nb.getDefinition(this.viewModel.constructor).name===t;case 0:return Ym.getDefinition(this.viewModel.constructor).name===t;case 2:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return 0===this.vmKind&&(Cy(t,Ym.name,this),Cy(t,this.definition.key,this)),this.host=t,this.mountTarget=1,this}setShadowRoot(t){return 0===this.vmKind&&(Cy(t,Ym.name,this),Cy(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=2,this}setLocation(t){return 0===this.vmKind&&(Cy(t,Ym.name,this),Cy(t,this.definition.key,this)),this.location=t,this.mountTarget=3,this}release(){this.state|=16}dispose(){this.debug&&this.logger.trace("dispose()"),32!=(32&this.state)&&(this.state|=32,this.hooks.hasDispose&&this.viewModel.dispose(),null!==this.children&&(this.children.forEach(Zb),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.context=null,this.location=null,this.viewFactory=null,null!==this.viewModel&&(ey.delete(this.viewModel),this.viewModel=null),this.viewModel=null,this.host=null,this.shadowRoot=null,this.root=null)}accept(t){if(!0===t(this))return!0;if(this.hooks.hasAccept&&!0===this.viewModel.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let n=0,i=e.length;n<i;++n)if(!0===e[n].accept(t))return!0}}getTargetAccessor(t){const{bindings:e}=this;if(null!==e){const n=e.find((e=>e.targetProperty===t));if(void 0!==n)return n.targetObserver}}}function iy(t){let e=t.$observers;return void 0===e&&Reflect.defineProperty(t,"$observers",{enumerable:!1,value:e={}}),e}function sy(t,e,n,i){const s=e.bindables,r=Object.getOwnPropertyNames(s),o=r.length;if(o>0){let e,n;const a=iy(i);for(let l=0;l<o;++l)e=r[l],void 0===a[e]&&(n=s[e],a[e]=new Lv(i,e,n.callback,n.set,t))}}const ry={map:new Map,for(t){let e=ry.map.get(t);return null==e&&(e=new Kd(t,0),ry.map.set(t,e)),e}};function oy(t,e,n,i){const s=e.get($v),r=e.get(Ng),o=n.watches;let a,l;for(let n=0,c=o.length;c>n;++n){if(({expression:a,callback:l}=o[n]),l="function"==typeof l?l:Reflect.get(i,l),"function"!=typeof l)throw new Error(`Invalid callback for @watch decorator: ${String(l)}`);if("function"==typeof a)t.addBinding(new _b(i,s,a,l,!0));else{const n="string"==typeof a?r.parse(a,53):ry.for(a);t.addBinding(new Wb(t.scope,e,s,n,l))}}}function ay(t){return t instanceof ny&&0===t.vmKind}function ly(t){return zc(t)&&Ym.isType(t.constructor)}class cy{constructor(t){this.hasDefine="define"in t,this.hasHydrating="hydrating"in t,this.hasHydrated="hydrated"in t,this.hasCreated="created"in t,this.hasBinding="binding"in t,this.hasBound="bound"in t,this.hasAttaching="attaching"in t,this.hasAttached="attached"in t,this.hasDetaching="detaching"in t,this.hasUnbinding="unbinding"in t,this.hasDispose="dispose"in t,this.hasAccept="accept"in t}}cy.none=new cy({});const hy={mode:"open"};var uy,dy;function py(t){const e=[];return 1==(1&t)&&e.push("activating"),2==(2&t)&&e.push("activated"),4==(4&t)&&e.push("deactivating"),8==(8&t)&&e.push("deactivated"),16==(16&t)&&e.push("released"),32==(32&t)&&e.push("disposed"),0===e.length?"none":e.join("|")}!function(t){t[t.customElement=0]="customElement",t[t.customAttribute=1]="customAttribute",t[t.synthetic=2]="synthetic"}(uy||(uy={})),function(t){t[t.none=0]="none",t[t.activating=1]="activating",t[t.activated=2]="activated",t[t.deactivating=4]="deactivating",t[t.deactivated=8]="deactivated",t[t.released=16]="released",t[t.disposed=32]="disposed"}(dy||(dy={}));const gy=Gh.createInterface("IController");const fy=Gh.createInterface("IAppRoot"),vy=Gh.createInterface("IWorkTracker",(t=>t.singleton(my)));let my=class{constructor(t){this.logger=t,this.stack=0,this.promise=null,this.resolve=null,this.logger=t.scopeTo("WorkTracker")}start(){this.logger.trace(`start(stack:${this.stack})`),++this.stack}finish(){if(this.logger.trace(`finish(stack:${this.stack})`),0==--this.stack){const t=this.resolve;null!==t&&(this.resolve=this.promise=null,t())}}wait(){if(this.logger.trace(`wait(stack:${this.stack})`),null===this.promise){if(0===this.stack)return Promise.resolve();this.promise=new Promise((t=>{this.resolve=t}))}return this.promise}};var by,yy;my=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([(by=0,yy=Xu,function(t,e){yy(t,e,by)})],my);class wy{constructor(t,e,n,i,s=!1){if(this.config=t,this.platform=e,this.container=n,this.controller=void 0,this.hydratePromise=void 0,this.host=t.host,this.work=n.get(vy),i.prepare(this),n.has(Sy,!1)&&n.get(Sy)!==t.host&&(this.container=n.createChild()),this.container.register(yu.instance(Sy,t.host)),s){const e=t.component;this.enhanceDefinition=Ym.getDefinition(Ym.isType(e)?Ym.define({...Ym.getDefinition(e),template:this.host,enhance:!0},e):Ym.define({name:void 0,template:this.host,enhance:!0}))}this.hydratePromise=Lh(this.runAppTasks("beforeCreate"),(()=>{const e=Ym.isType(t.component)?this.container.get(t.component):t.component,i=this.controller=ny.forCustomElement(this,n,e,this.host,null,0,!1,this.enhanceDefinition);return i.hydrateCustomElement(n,null),Lh(this.runAppTasks("hydrating"),(()=>(i.hydrate(null),Lh(this.runAppTasks("hydrated"),(()=>{i.hydrateChildren(),this.hydratePromise=void 0})))))}))}activate(){return Lh(this.hydratePromise,(()=>Lh(this.runAppTasks("beforeActivate"),(()=>Lh(this.controller.activate(this.controller,null,2,void 0),(()=>this.runAppTasks("afterActivate")))))))}deactivate(){return Lh(this.runAppTasks("beforeDeactivate"),(()=>Lh(this.controller.deactivate(this.controller,null,0),(()=>this.runAppTasks("afterDeactivate")))))}runAppTasks(t){return Nh(...this.container.getAll(Rm).reduce(((e,n)=>(n.slot===t&&e.push(n.run()),e)),[]))}dispose(){var t;null===(t=this.controller)||void 0===t||t.dispose()}}class xy{}function ky(t,e){var n,i;return null!==(i=null===(n=t.$au)||void 0===n?void 0:n[e])&&void 0!==i?i:null}function Cy(t,e,n){var i,s;(null!==(i=(s=t).$au)&&void 0!==i?i:s.$au=new xy)[e]=n}const Sy=Gh.createInterface("INode"),$y=Gh.createInterface("IEventTarget",(t=>t.cachedCallback((t=>t.has(fy,!0)?t.get(fy).host:t.get(hm).document)))),Ty=Gh.createInterface("IRenderLocation");var Ay;!function(t){t[t.Element=1]="Element",t[t.Attr=2]="Attr",t[t.Text=3]="Text",t[t.CDATASection=4]="CDATASection",t[t.EntityReference=5]="EntityReference",t[t.Entity=6]="Entity",t[t.ProcessingInstruction=7]="ProcessingInstruction",t[t.Comment=8]="Comment",t[t.Document=9]="Document",t[t.DocumentType=10]="DocumentType",t[t.DocumentFragment=11]="DocumentFragment",t[t.Notation=12]="Notation"}(Ay||(Ay={}));const Ey=new WeakMap;function Py(t){if(Ey.has(t))return Ey.get(t);let e=0,n=t.nextSibling;for(;null!==n;){if(8===n.nodeType)switch(n.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return n}n=n.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=Ym.for(t);if(void 0===e)return null;if(2===e.mountTarget)return Py(e.host)}return t.parentNode}function Oy(t){if(Ry(t))return t;const e=t.ownerDocument.createComment("au-end"),n=t.ownerDocument.createComment("au-start");return null!==t.parentNode&&(t.parentNode.replaceChild(e,t),e.parentNode.insertBefore(n,e)),e.$start=n,e}function Ry(t){return"au-end"===t.textContent}class Iy{constructor(t,e){this.platform=t,this.fragment=e,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const n=e.querySelectorAll(".au");let i=0,s=n.length;const r=this.targets=Array(s);for(;i<s;){const t=n[i];"AU-M"===t.nodeName?r[i]=Oy(t):r[i]=t,++i}const o=e.childNodes;i=0,s=o.length;const a=this.childNodes=Array(s);for(;i<s;)a[i]=o[i],++i;this.firstChild=e.firstChild,this.lastChild=e.lastChild}findTargets(){return this.targets}insertBefore(t){if(this.isLinked&&this.refNode)this.addToLinked();else{const e=t.parentNode;if(this.isMounted){let n=this.firstChild;const i=this.lastChild;let s;for(;null!=n&&(s=n.nextSibling,e.insertBefore(n,t),n!==i);)n=s}else this.isMounted=!0,t.parentNode.insertBefore(this.fragment,t)}}appendTo(t,e=!1){if(this.isMounted){let e=this.firstChild;const n=this.lastChild;let i;for(;null!=e&&(i=e.nextSibling,t.appendChild(e),e!==n);)e=i}else this.isMounted=!0,e||t.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;null!==i&&(n=i.nextSibling,t.appendChild(i),i!==e);)i=n}}addToLinked(){const t=this.refNode,e=t.parentNode;if(this.isMounted){let n=this.firstChild;const i=this.lastChild;let s;for(;null!=n&&(s=n.nextSibling,e.insertBefore(n,t),n!==i);)n=s}else this.isMounted=!0,e.insertBefore(this.fragment,t)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(t){this.isLinked=!0,Ry(t)?this.refNode=t:(this.next=t,this.obtainRefNode())}obtainRefNode(){void 0!==this.next?this.refNode=this.next.firstChild:this.refNode=void 0}}const jy=Gh.createInterface("IWindow",(t=>t.callback((t=>t.get(hm).window)))),Fy=Gh.createInterface("ILocation",(t=>t.callback((t=>t.get(jy).location)))),Ly=Gh.createInterface("IHistory",(t=>t.callback((t=>t.get(jy).history)))),Ny={[wp.capturing]:{capture:!0},[wp.bubbling]:{capture:!1}};class Dy{constructor(t,e,n,i,s,r,o,a){this.platform=t,this.targetEvent=e,this.delegationStrategy=n,this.sourceExpression=i,this.target=s,this.preventDefault=r,this.eventDelegator=o,this.locator=a,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.handler=null}callSource(t){const e=this.$scope.overrideContext;e.$event=t;const n=this.sourceExpression.evaluate(8,this.$scope,this.$hostScope,this.locator,null);return Reflect.deleteProperty(e,"$event"),!0!==n&&this.preventDefault&&t.preventDefault(),n}handleEvent(t){this.interceptor.callSource(t)}$bind(t,e,n){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.$hostScope=n;const i=this.sourceExpression;if(i.hasBind&&i.bind(t,e,n,this.interceptor),this.delegationStrategy===wp.none)this.target.addEventListener(this.targetEvent,this);else{const t=this.locator.get($y);this.handler=this.eventDelegator.addEventListener(t,this.target,this.targetEvent,this,Ny[this.delegationStrategy])}this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.$hostScope,this.interceptor),this.$scope=null,this.delegationStrategy===wp.none?this.target.removeEventListener(this.targetEvent,this):(this.handler.dispose(),this.handler=null),this.isBound=!1}observeProperty(t,e){}handleChange(t,e,n){}}const My={capture:!1};class By{constructor(t,e,n=My){this.publisher=t,this.eventName=e,this.options=n,this.count=0,this.captureLookups=new Map,this.bubbleLookups=new Map}increment(){1==++this.count&&this.publisher.addEventListener(this.eventName,this,this.options)}decrement(){0==--this.count&&this.publisher.removeEventListener(this.eventName,this,this.options)}dispose(){this.count>0&&(this.count=0,this.publisher.removeEventListener(this.eventName,this,this.options)),this.captureLookups.clear(),this.bubbleLookups.clear()}getLookup(t){const e=!0===this.options.capture?this.captureLookups:this.bubbleLookups;let n=e.get(t);return void 0===n&&e.set(t,n=Object.create(null)),n}handleEvent(t){const e=!0===this.options.capture?this.captureLookups:this.bubbleLookups,n=t.composedPath();!0===this.options.capture&&n.reverse();for(const i of n){const n=e.get(i);if(void 0===n)continue;const s=n[this.eventName];if(void 0!==s&&("function"==typeof s?s(t):s.handleEvent(t),!0===t.cancelBubble))return}}}class Vy{constructor(t,e,n,i){this.tracker=t,this.lookup=e,this.eventName=n,t.increment(),e[n]=i}dispose(){this.tracker.decrement(),this.lookup[this.eventName]=void 0}}class Hy{constructor(t){this.config=t,this.target=null,this.handler=null}subscribe(t,e){this.target=t,this.handler=e;for(const n of this.config.events)t.addEventListener(n,e)}dispose(){const{target:t,handler:e}=this;if(null!==t&&null!==e)for(const n of this.config.events)t.removeEventListener(n,e);this.target=this.handler=null}}const qy=Gh.createInterface("IEventDelegator",(t=>t.singleton(Uy)));class Uy{constructor(){this.trackerMaps=Object.create(null)}addEventListener(t,e,n,i,s){var r,o;const a=null!==(r=(o=this.trackerMaps)[n])&&void 0!==r?r:o[n]=new Map;let l=a.get(t);return void 0===l&&a.set(t,l=new By(t,n,s)),new Vy(l,l.getLookup(e),n,i)}dispose(){for(const t in this.trackerMaps){const e=this.trackerMaps[t];for(const t of e.values())t.dispose();e.clear()}}}var zy,_y=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Wy=function(t,e){return function(n,i){e(n,i,t)}};!function(t){t.hydrateElement="ra",t.hydrateAttribute="rb",t.hydrateTemplateController="rc",t.hydrateLetElement="rd",t.setProperty="re",t.interpolation="rf",t.propertyBinding="rg",t.callBinding="rh",t.letBinding="ri",t.refBinding="rj",t.iteratorBinding="rk",t.textBinding="ha",t.listenerBinding="hb",t.attributeBinding="hc",t.stylePropertyBinding="hd",t.setAttribute="he",t.setClassAttribute="hf",t.setStyleAttribute="hg"}(zy||(zy={}));const Ky=Gh.createInterface("Instruction");function Gy(t){const e=t.type;return"string"==typeof e&&2===e.length}class Qy{constructor(t,e){this.from=t,this.to=e}get type(){return"rf"}}class Yy{constructor(t,e,n){this.from=t,this.to=e,this.mode=n}get type(){return"rg"}}class Xy{constructor(t,e){this.from=t,this.to=e}get type(){return"rk"}}class Zy{constructor(t,e){this.from=t,this.to=e}get type(){return"rh"}}class Jy{constructor(t,e){this.from=t,this.to=e}get type(){return"rj"}}class tw{constructor(t,e){this.value=t,this.to=e}get type(){return"re"}}class ew{constructor(t,e,n,i){this.res=t,this.alias=e,this.instructions=n,this.slotInfo=i}get type(){return"ra"}}class nw{constructor(t,e,n){this.res=t,this.alias=e,this.instructions=n}get type(){return"rb"}}class iw{constructor(t,e,n,i){this.def=t,this.res=e,this.alias=n,this.instructions=i}get type(){return"rc"}}class sw{constructor(t,e){this.instructions=t,this.toBindingContext=e}get type(){return"rd"}}class rw{constructor(t,e){this.from=t,this.to=e}get type(){return"ri"}}class ow{constructor(t){this.from=t}get type(){return"ha"}}class aw{constructor(t,e,n,i){this.from=t,this.to=e,this.preventDefault=n,this.strategy=i}get type(){return"hb"}}class lw{constructor(t,e){this.value=t,this.to=e}get type(){return"he"}}class cw{constructor(t){this.value=t,this.type="hf"}}class hw{constructor(t){this.value=t,this.type="hg"}}class uw{constructor(t,e,n){this.attr=t,this.from=e,this.to=n}get type(){return"hc"}}const dw=Gh.createInterface("ITemplateCompiler"),pw=Gh.createInterface("IRenderer");function gw(t){return function(e){const n=function(...n){const i=new e(...n);return i.instructionType=t,i};n.register=function(t){yu.singleton(pw,n).register(t)};const i=ph.getOwnKeys(e);for(const t of i)ph.define(t,ph.getOwn(t,e),n);const s=Object.getOwnPropertyDescriptors(e);return Object.keys(s).filter((t=>"prototype"!==t)).forEach((t=>{Reflect.defineProperty(n,t,s[t])})),n}}function fw(t,e,n){return"string"==typeof e?t.parse(e,n):e}function vw(t){return null!=t.viewModel?t.viewModel:t}let mw=class{render(t,e,n,i,s){const r=vw(i);void 0!==r.$observers&&void 0!==r.$observers[s.to]?r.$observers[s.to].setValue(s.value,2):r[s.to]=s.value}};mw=_y([gw("re")],mw);let bw=class{render(t,e,n,i,s){var r;let o;const a=s.slotInfo;if(null!==a){const t=a.projectionContext;o=Sb(t.content,e).getViewFactory(void 0,a.type,t.scope)}const l=e.getProjectionFor(s),c=e.getComponentFactory(n,i,s,o,i,new wb(Object.keys(null!==(r=null==l?void 0:l.projections)&&void 0!==r?r:{}))),h=Ym.keyFrom(s.res),u=c.createComponent(h),d=ny.forCustomElement(n.root,e,u,i,l,t);t=d.flags,Cy(i,h,d),e.renderChildren(t,s.instructions,n,d),n.addController(d),c.dispose()}};bw=_y([gw("ra")],bw);let yw=class{render(t,e,n,i,s){const r=e.getComponentFactory(n,i,s,void 0,void 0),o=nb.keyFrom(s.res),a=r.createComponent(o),l=ny.forCustomAttribute(n.root,e,a,i,t);Cy(i,o,l),e.renderChildren(t,s.instructions,n,l),n.addController(l),r.dispose()}};yw=_y([gw("rb")],yw);let ww=class{render(t,e,n,i,s){var r;const o=Sb(s.def,e).getViewFactory(),a=Oy(i),l=e.getComponentFactory(n,i,s,o,a),c=nb.keyFrom(s.res),h=l.createComponent(c),u=ny.forCustomAttribute(n.root,e,h,i,t);Cy(a,c,u),null===(r=h.link)||void 0===r||r.call(h,t,e,n,u,i,s),e.renderChildren(t,s.instructions,n,u),n.addController(u),l.dispose()}};ww=_y([gw("rc")],ww);let xw=class{constructor(t,e){this.parser=t,this.observerLocator=e}render(t,e,n,i,s){i.remove();const r=s.instructions,o=s.toBindingContext;let a,l,c;for(let t=0,i=r.length;t<i;++t)a=r[t],l=fw(this.parser,a.from,48),c=Pw(new Cm(l,a.to,this.observerLocator,e,o),l,e),n.addBinding(c)}};xw=_y([gw("rd"),Wy(0,Ng),Wy(1,$v)],xw);let kw=class{constructor(t,e){this.parser=t,this.observerLocator=e}render(t,e,n,i,s){const r=fw(this.parser,s.from,153),o=Pw(new sm(r,vw(i),s.to,this.observerLocator,e),r,e);n.addBinding(o)}};kw=_y([gw("rh"),Wy(0,Ng),Wy(1,$v)],kw);let Cw=class{constructor(t){this.parser=t}render(t,e,n,i,s){const r=fw(this.parser,s.from,5376),o=Pw(new Om(r,function(t,e){if("element"===e)return t;switch(e){case"controller":return Ym.for(t);case"view":throw new Error("Not supported API");case"view-model":return Ym.for(t).viewModel;default:{const n=nb.for(t,e);if(void 0!==n)return n.viewModel;const i=Ym.for(t,{name:e});if(void 0===i)throw new Error(`Attempted to reference "${e}", but it was not found amongst the target's API.`);return i.viewModel}}}(i,s.to),e),r,e);n.addBinding(o)}};Cw=_y([gw("rj"),Wy(0,Ng)],Cw);let Sw=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const r=fw(this.parser,s.from,2048),o=new wm(this.observerLocator,r,vw(i),s.to,mp.toView,e,this.platform.domWriteQueue),a=o.partBindings,l=a.length;let c,h=0;for(;l>h;++h)c=a[h],a[h]=Pw(c,c.sourceExpression,e);n.addBinding(o)}};Sw=_y([gw("rf"),Wy(0,Ng),Wy(1,$v),Wy(2,hm)],Sw);let $w=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const r=fw(this.parser,s.from,48|s.mode),o=Pw(new Pm(r,vw(i),s.to,s.mode,this.observerLocator,e,this.platform.domWriteQueue),r,e);n.addBinding(o)}};$w=_y([gw("rg"),Wy(0,Ng),Wy(1,$v),Wy(2,hm)],$w);let Tw=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const r=fw(this.parser,s.from,539),o=Pw(new Pm(r,vw(i),s.to,mp.toView,this.observerLocator,e,this.platform.domWriteQueue),r,e);n.addBinding(o)}};Tw=_y([gw("rk"),Wy(0,Ng),Wy(1,$v),Wy(2,hm)],Tw);let Aw=0;const Ew=[];function Pw(t,e,n){for(;e instanceof qd;)Ew[Aw++]=e,e=e.expression;for(;Aw>0;){const e=Ew[--Aw],i=n.get(e.behaviorKey);i instanceof Id&&(t=i.construct(t,e))}return Ew.length=0,t}let Ow=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const r=i.nextSibling,o=i.parentNode,a=this.platform.document,l=fw(this.parser,s.from,2048),c=l.parts,h=l.expressions,u=h.length;let d=0,p=c[0];for(""!==p&&o.insertBefore(a.createTextNode(p),r);u>d;++d)n.addBinding(Pw(new km(h[d],o.insertBefore(a.createTextNode(""),r),e,this.observerLocator,this.platform),h[d],e)),p=c[d+1],""!==p&&o.insertBefore(a.createTextNode(p),r);"AU-M"===i.nodeName&&i.remove()}};Ow=_y([gw("ha"),Wy(0,Ng),Wy(1,$v),Wy(2,hm)],Ow);let Rw=class{constructor(t,e){this.parser=t,this.eventDelegator=e}render(t,e,n,i,s){const r=fw(this.parser,s.from,80|s.strategy+6),o=Pw(new Dy(e.platform,s.to,s.strategy,r,i,s.preventDefault,this.eventDelegator,e),r,e);n.addBinding(o)}};Rw=_y([gw("hb"),Wy(0,Ng),Wy(1,qy)],Rw);let Iw=class{render(t,e,n,i,s){i.setAttribute(s.to,s.value)}};Iw=_y([gw("he")],Iw);let jw=class{render(t,e,n,i,s){!function(t,e){const n=e.length;let i=0;for(let s=0;s<n;++s)32===e.charCodeAt(s)?(s!==i&&t.add(e.slice(i,s)),i=s+1):s+1===n&&t.add(e.slice(i))}(i.classList,s.value)}};jw=_y([gw("hf")],jw);let Fw=class{render(t,e,n,i,s){i.style.cssText+=s.value}};Fw=_y([gw("hg")],Fw);let Lw=class{constructor(t,e,n){this.parser=t,this.observerLocator=e,this.platform=n}render(t,e,n,i,s){const r=fw(this.parser,s.from,48|mp.toView),o=Pw(new Pm(r,i.style,s.to,mp.toView,this.observerLocator,e,this.platform.domWriteQueue),r,e);n.addBinding(o)}};Lw=_y([gw("hd"),Wy(0,Ng),Wy(1,$v),Wy(2,hm)],Lw);let Nw=class{constructor(t,e){this.parser=t,this.observerLocator=e}render(t,e,n,i,s){const r=fw(this.parser,s.from,48|mp.toView),o=Pw(new mm(r,i,s.attr,s.to,mp.toView,this.observerLocator,e),r,e);n.addBinding(o)}};var Dw;function Mw(t){const e=t.document.createElement("au-m");return e.className="au",e}Nw=_y([gw("hc"),Wy(0,Ng),Wy(1,$v)],Nw),function(t){t[t.type=1023]="type",t[t.isTemplateController=1]="isTemplateController",t[t.isProjection=2]="isProjection",t[t.isCustomAttribute=4]="isCustomAttribute",t[t.isPlainAttribute=8]="isPlainAttribute",t[t.isCustomElement=16]="isCustomElement",t[t.isLetElement=32]="isLetElement",t[t.isPlainElement=64]="isPlainElement",t[t.isText=128]="isText",t[t.isBinding=256]="isBinding",t[t.isAuSlot=512]="isAuSlot",t[t.hasMarker=1024]="hasMarker",t[t.hasTemplate=2048]="hasTemplate",t[t.hasAttributes=4096]="hasAttributes",t[t.hasBindings=8192]="hasBindings",t[t.hasChildNodes=16384]="hasChildNodes",t[t.hasProjections=32768]="hasProjections"}(Dw||(Dw={}));class Bw{constructor(t,e,n,i=n.name){this.syntax=e,this.info=n,this.res=i,this.flags=1025,this.physicalNode=null,this.template=null,this.templateController=null,this._bindings=null,this.marker=Mw(t)}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class Vw{constructor(t,e){this.name=t,this.template=e,this.flags=2}}class Hw{constructor(t,e,n=e.name){this.syntax=t,this.info=e,this.res=n,this.flags=4,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class qw{constructor(t,e,n){this.syntax=t,this.command=e,this.expression=n,this.flags=8}}class Uw{constructor(t,e,n,i,s){this.command=t,this.bindable=e,this.expression=n,this.rawValue=i,this.target=s,this.flags=256}}class zw{constructor(t,e,n,i=n.name,s=n.bindables){this.physicalNode=e,this.info=n,this.res=i,this.bindables=s,this.flags=16,this.isTarget=!0,this.templateController=null,this._customAttributes=null,this._plainAttributes=null,this._bindings=null,this._childNodes=null,this._projections=null,n.containerless?(this.isContainerless=!0,this.marker=Mw(t),this.flags|=1024):(this.isContainerless=!1,this.marker=null)}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}get projections(){return null===this._projections&&(this._projections=[],this.flags|=32768),this._projections}}class _w{constructor(t,e,n=Mw(t)){this.physicalNode=e,this.marker=n,this.flags=1056,this.toBindingContext=!1,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class Ww{constructor(t){this.physicalNode=t,this.flags=64,this.isTarget=!1,this.templateController=null,this.hasSlots=!1,this._customAttributes=null,this._plainAttributes=null,this._childNodes=null}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}}class Kw{constructor(t,e,n,i=Mw(t)){this.physicalNode=e,this.interpolation=n,this.marker=i,this.flags=1152}}class Gw{constructor(t,e){this.propName=t,this.mode=e}}const Qw=new WeakMap;class Yw{constructor(t,e,n){this.name=t,this.alias=e,this.containerless=n,this.bindables=Object.create(null)}static from(t,e){if(null===t)return null;let n=Qw.get(t);void 0===n&&Qw.set(t,n=Object.create(null));let i=n[e];if(void 0===i){i=n[e]=new Yw(t.name,e===t.name?void 0:e,t.containerless);const s=t.bindables,r=mp.toView;let o,a,l,c;for(a in s)o=s[a],void 0!==o.property&&(a=o.property),l=void 0!==o.attribute?o.attribute:Sh(a),c=void 0!==o.mode&&o.mode!==mp.default?o.mode:r,i.bindables[l]=new Gw(a,c)}return i}}const Xw=new WeakMap;class Zw{constructor(t,e,n,i){this.name=t,this.alias=e,this.isTemplateController=n,this.noMultiBindings=i,this.bindables=Object.create(null),this.bindable=null}static from(t,e){if(null===t)return null;let n=Xw.get(t);void 0===n&&Xw.set(t,n=Object.create(null));let i=n[e];if(void 0===i){i=n[e]=new Zw(t.name,e===t.name?void 0:e,t.isTemplateController,t.noMultiBindings);const s=t.bindables,r=void 0!==t.defaultBindingMode&&t.defaultBindingMode!==mp.default?t.defaultBindingMode:mp.toView;let o,a,l,c,h=!1,u=!1;for(a in s){if(o=s[a],void 0!==o.property&&(a=o.property),l=void 0!==o.mode&&o.mode!==mp.default?o.mode:r,u=!0===o.primary,c=i.bindables[a]=new Gw(a,l),u){if(h)throw new Error("primary already exists");h=!0,i.bindable=c}null===i.bindable&&(i.bindable=c)}null===i.bindable&&(i.bindable=new Gw("value",r))}return i}}var Jw=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};function tx(t){return function(e){return nx.define(t,e)}}class ex{constructor(t,e,n,i,s){this.Type=t,this.name=e,this.aliases=n,this.key=i,this.type=s}static create(t,e){let n,i;return"string"==typeof t?(n=t,i={name:n}):(n=t.name,i=t),new ex(e,Rh(nx.getAnnotation(e,"name"),n),Oh(nx.getAnnotation(e,"aliases"),i.aliases,e.aliases),nx.keyFrom(n),Rh(nx.getAnnotation(e,"type"),i.type,e.type,null))}register(t){const{Type:e,key:n,aliases:i}=this;yu.singleton(n,e).register(t),yu.aliasTo(n,e).register(t),xd(i,nx,n,t)}}const nx={name:Bh.resource.keyFor("binding-command"),keyFrom:t=>`${nx.name}:${t}`,isType:t=>"function"==typeof t&&ph.hasOwn(nx.name,t),define(t,e){const n=ex.create(t,e);return ph.define(nx.name,n,n.Type),ph.define(nx.name,n,n),Bh.resource.appendTo(e,nx.name),n.Type},getDefinition(t){const e=ph.getOwn(nx.name,t);if(void 0===e)throw new Error(`No definition found for type ${t.name}`);return e},annotate(t,e,n){ph.define(Bh.annotation.keyFor(e),n,t)},getAnnotation:(t,e)=>ph.getOwn(Bh.annotation.keyFor(e),t)};function ix(t,e){return 256&t.flags?t.bindable.propName:e?kh(t.syntax.target):t.syntax.target}let sx=class{constructor(){this.bindingType=49}compile(t){return new Yy(t.expression,ix(t,!1),mp.oneTime)}};sx=Jw([tx("one-time")],sx);let rx=class{constructor(){this.bindingType=50}compile(t){return new Yy(t.expression,ix(t,!1),mp.toView)}};rx=Jw([tx("to-view")],rx);let ox=class{constructor(){this.bindingType=51}compile(t){return new Yy(t.expression,ix(t,!1),mp.fromView)}};ox=Jw([tx("from-view")],ox);let ax=class{constructor(){this.bindingType=52}compile(t){return new Yy(t.expression,ix(t,!1),mp.twoWay)}};ax=Jw([tx("two-way")],ax);let lx=class{constructor(){this.bindingType=53}compile(t){let e=mp.default;if(t instanceof Uw)e=t.bindable.mode;else switch(t.syntax.command){case"bind":case"to-view":e=mp.toView;break;case"one-time":e=mp.oneTime;break;case"from-view":e=mp.fromView;break;case"two-way":e=mp.twoWay}return new Yy(t.expression,ix(t,!1),e===mp.default?mp.toView:e)}};lx=Jw([tx("bind")],lx);let cx=class{constructor(){this.bindingType=153}compile(t){return new Zy(t.expression,ix(t,!0))}};cx=Jw([tx("call")],cx);let hx=class{constructor(){this.bindingType=539}compile(t){return new Xy(t.expression,ix(t,!1))}};hx=Jw([tx("for")],hx);let ux=class{constructor(){this.bindingType=4182}compile(t){return new aw(t.expression,ix(t,!1),!0,wp.none)}};ux=Jw([tx("trigger")],ux);let dx=class{constructor(){this.bindingType=4184}compile(t){return new aw(t.expression,ix(t,!1),!1,wp.bubbling)}};dx=Jw([tx("delegate")],dx);let px=class{constructor(){this.bindingType=4183}compile(t){return new aw(t.expression,ix(t,!1),!1,wp.capturing)}};px=Jw([tx("capture")],px);let gx=class{constructor(){this.bindingType=32}compile(t){const e=ix(t,!1);return new uw(e,t.expression,e)}};gx=Jw([tx("attr")],gx);let fx=class{constructor(){this.bindingType=4128}compile(t){return new uw("style",t.expression,ix(t,!1))}};fx=Jw([tx("style")],fx);let vx=class{constructor(){this.bindingType=4128}compile(t){return new uw("class",t.expression,ix(t,!1))}};vx=Jw([tx("class")],vx);let mx=class{constructor(){this.bindingType=4128}compile(t){return new Jy(t.expression,ix(t,!1))}};mx=Jw([tx("ref")],mx);const bx=wx();function yx(t,e,n){if(!0===bx[e])return!0;if("string"!=typeof e)return!1;const i=e.slice(0,5);return bx[e]="aria-"===i||"data-"===i||n.isStandardSvgAttribute(t,e)}function wx(){return Object.create(null)}const xx=Gh.createInterface("ISVGAnalyzer",(t=>t.singleton(kx)));class kx{isStandardSvgAttribute(t,e){return!1}}function Cx(t){const e=Object.create(null);for(const n of t)e[n]=!0;return e}class Sx{constructor(t){this.svgElements=Object.assign(Object.create(null),{a:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),altGlyph:Cx(["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),altglyph:Object.create(null),altGlyphDef:Cx(["id","xml:base","xml:lang","xml:space"]),altglyphdef:Object.create(null),altGlyphItem:Cx(["id","xml:base","xml:lang","xml:space"]),altglyphitem:Object.create(null),animate:Cx(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateColor:Cx(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateMotion:Cx(["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateTransform:Cx(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),circle:Cx(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),clipPath:Cx(["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),"color-profile":Cx(["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),cursor:Cx(["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),defs:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),desc:Cx(["class","id","style","xml:base","xml:lang","xml:space"]),ellipse:Cx(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),feBlend:Cx(["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feColorMatrix:Cx(["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"]),feComponentTransfer:Cx(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feComposite:Cx(["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feConvolveMatrix:Cx(["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"]),feDiffuseLighting:Cx(["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feDisplacementMap:Cx(["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"]),feDistantLight:Cx(["azimuth","elevation","id","xml:base","xml:lang","xml:space"]),feFlood:Cx(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feFuncA:Cx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncB:Cx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncG:Cx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncR:Cx(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feGaussianBlur:Cx(["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"]),feImage:Cx(["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),feMerge:Cx(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feMergeNode:Cx(["id","xml:base","xml:lang","xml:space"]),feMorphology:Cx(["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feOffset:Cx(["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),fePointLight:Cx(["id","x","xml:base","xml:lang","xml:space","y","z"]),feSpecularLighting:Cx(["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feSpotLight:Cx(["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"]),feTile:Cx(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feTurbulence:Cx(["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"]),filter:Cx(["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),font:Cx(["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),"font-face":Cx(["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"]),"font-face-format":Cx(["id","string","xml:base","xml:lang","xml:space"]),"font-face-name":Cx(["id","name","xml:base","xml:lang","xml:space"]),"font-face-src":Cx(["id","xml:base","xml:lang","xml:space"]),"font-face-uri":Cx(["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),foreignObject:Cx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),g:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),glyph:Cx(["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),glyphRef:Cx(["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),glyphref:Object.create(null),hkern:Cx(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]),image:Cx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),line:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"]),linearGradient:Cx(["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"]),marker:Cx(["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"]),mask:Cx(["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"]),metadata:Cx(["id","xml:base","xml:lang","xml:space"]),"missing-glyph":Cx(["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),mpath:Cx(["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),path:Cx(["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),pattern:Cx(["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),polygon:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),polyline:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),radialGradient:Cx(["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),rect:Cx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),script:Cx(["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),set:Cx(["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),stop:Cx(["class","id","offset","style","xml:base","xml:lang","xml:space"]),style:Cx(["id","media","title","type","xml:base","xml:lang","xml:space"]),svg:Cx(["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"]),switch:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),symbol:Cx(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"]),text:Cx(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"]),textPath:Cx(["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),title:Cx(["class","id","style","xml:base","xml:lang","xml:space"]),tref:Cx(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),tspan:Cx(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"]),use:Cx(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),view:Cx(["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"]),vkern:Cx(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"])}),this.svgPresentationElements=Cx(["a","altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"]),this.svgPresentationAttributes=Cx(["alignment-baseline","baseline-shift","clip-path","clip-rule","clip","color-interpolation-filters","color-interpolation","color-profile","color-rendering","color","cursor","direction","display","dominant-baseline","enable-background","fill-opacity","fill-rule","fill","filter","flood-color","flood-opacity","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","text-rendering","unicode-bidi","visibility","word-spacing","writing-mode"]),this.SVGElement=t.globalThis.SVGElement;const e=t.document.createElement("div");if(e.innerHTML="<svg><altGlyph /></svg>","altglyph"===e.firstElementChild.nodeName){const t=this.svgElements;let e=t.altGlyph;t.altGlyph=t.altglyph,t.altglyph=e,e=t.altGlyphDef,t.altGlyphDef=t.altglyphdef,t.altglyphdef=e,e=t.altGlyphItem,t.altGlyphItem=t.altglyphitem,t.altglyphitem=e,e=t.glyphRef,t.glyphRef=t.glyphref,t.glyphref=e}}static register(t){return yu.singleton(xx,this).register(t)}isStandardSvgAttribute(t,e){var n;return t instanceof this.SVGElement&&(!0===this.svgPresentationElements[t.nodeName]&&!0===this.svgPresentationAttributes[e]||!0===(null===(n=this.svgElements[t.nodeName])||void 0===n?void 0:n[e]))}}Sx.inject=[hm];const $x=Gh.createInterface("IAttrSyntaxTransformer",(t=>t.singleton(Tx)));class Tx{constructor(t){this.svg=t,this.fns=[],this.tagAttrMap=wx(),this.globalAttrMap=wx(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[xx]}useMapping(t){var e,n;let i,s,r,o;for(r in t)for(o in i=t[r],s=null!==(e=(n=this.tagAttrMap)[r])&&void 0!==e?e:n[r]=wx(),i){if(void 0!==s[o])throw Ax(o,r);s[o]=i[o]}}useGlobalMapping(t){const e=this.globalAttrMap;for(const n in t){if(void 0!==e[n])throw Ax(n,"*");e[n]=t[n]}}useTwoWay(t){this.fns.push(t)}transform(t,e){var n,i,s;"bind"===e.command&&(function(t,e){switch(t.tagName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e.target)||this.fns.length>0&&this.fns.some((n=>n(t,e.target))))&&(e.command="two-way");const r=e.target;e.target=null!==(s=null!==(i=null===(n=this.tagAttrMap[t.tagName])||void 0===n?void 0:n[r])&&void 0!==i?i:this.globalAttrMap[r])&&void 0!==s?s:yx(t,r,this.svg)?r:kh(r)}}function Ax(t,e){return new Error(`Attribute ${t} has been already registered for ${"*"===e?"all elements":`<${e}/>`}`)}const Ex=Object.assign(Object.create(null),{id:!0,"au-slot":!0}),Px=Object.assign(Object.create(null),{"as-element":!0});function Ox(t){const e=t.length;let n=0;for(let i=0;i<e;++i)if(n=t.charCodeAt(i),92===n)++i;else{if(58===n)return!0;if(36===n&&123===t.charCodeAt(i+1))return!1}return!1}function Rx(t,e){return t!==e}var Ix;!function(t){t[t.none=0]="none",t[t.remove=1]="remove"}(Ix||(Ix={}));class jx{constructor(t,e,n,i,s){this.platform=t,this.container=e,this.attrParser=n,this.exprParser=i,this.attrSyntaxTransformer=s,this.commandLookup=Object.create(null)}bind(t){const e=new Ww(t),n=t.attributes;let i,s,r=0,o=null,a=null;for(;r<n.length;){if(i=n[r],s=this.attrParser.parse(i.name,i.value),!0===Ex[s.target])throw new Error(`Invalid surrogate attribute: ${s.target}`);if(o=this.getBindingCommand(s,!0),null===o||0==(4096&o.bindingType))if(a=Zw.from(this.container.find(nb,s.target),s.target),null===a)this.bindPlainAttribute(t,s,i,e,e);else{if(a.isTemplateController)throw new Error("Cannot have template controller on surrogate element.");this.bindCustomAttribute(s,a,o,e)}else this.bindPlainAttribute(t,s,i,e,e);++r}return this.bindChildNodes(t,e,e,null,null),e}bindManifest(t,e,n,i,s,r){var o,a,l,c;switch(e.nodeName){case"LET":return void this.bindLetElement(t,e);case"SLOT":n.hasSlots=!0}let h=e.getAttribute("as-element");null===h&&(h=e.nodeName.toLowerCase());const u="au-slot"===h,d=this.container.find(Ym,h),p=Yw.from(d,h);let g=!0;if(null===p)i=new Ww(e);else{g=null===(l=null===(a=null===(o=null==d?void 0:d.processContent)||void 0===o?void 0:o.bind(d.Type))||void 0===a?void 0:a(e,this.platform))||void 0===l||l,r=s;const t=new zw(this.platform,e,p);u&&(t.flags=512,t.slotName=null!==(c=e.getAttribute("name"))&&void 0!==c?c:"default"),s=i=t}g&&this.bindChildNodes(e,n,i,s,r),this.bindAttributes(e,t,n,i,s,r),s===i&&i.isContainerless?e.parentNode.replaceChild(i.marker,e):i.isTarget&&e.classList.add("au")}bindLetElement(t,e){const n=new _w(this.platform,e);t.childNodes.push(n);const i=e.attributes;let s=0;for(;s<i.length;){const t=i[s];if("to-binding-context"===t.name){e.removeAttribute("to-binding-context"),n.toBindingContext=!0;continue}const r=this.attrParser.parse(t.name,t.value),o=this.getBindingCommand(r,!1),a=null===o?2048:o.bindingType,l=this.exprParser.parse(r.rawValue,a),c=kh(r.target),h=new Gw(c,mp.toView);n.bindings.push(new Uw(o,h,l,r.rawValue,c)),++s}e.parentNode.replaceChild(n.marker,e)}bindAttributes(t,e,n,i,s,r){var o,a,l;let c,h,u=i;const d=t.attributes;let p,g,f,v=0,m=null,b=null;for(;v<d.length;)p=d[v],++v,!0!==Px[p.name]&&(f=this.attrParser.parse(p.name,p.value),m=this.getBindingCommand(f,!0),null===m||0==(4096&m.bindingType)?(b=Zw.from(this.container.find(nb,f.target),f.target),null===b?(g=this.bindPlainAttribute(t,f,p,n,i),1===g&&(t.removeAttributeNode(p),--v)):b.isTemplateController?(h=i.templateController=this.declareTemplateController(f,b),u===i?(h.template=i,u=h):(h.templateController=c,h.template=c.template,c.template=h),c=h):this.bindCustomAttribute(f,b,m,i)):(g=this.bindPlainAttribute(t,f,p,n,i),1===g&&(t.removeAttributeNode(p),--v)));if("INPUT"===t.tagName){const e=t.type;"checkbox"!==e&&"radio"!==e||this.ensureAttributeOrder(i)}let y=t.getAttribute("au-slot");""===y&&(y="default");const w=null!==y;if(w&&Rx(u,i))throw new Error(`Unsupported usage of [au-slot="${y}"] along with a template controller (if, else, repeat.for etc.) found (example: <some-el au-slot if.bind="true"></some-el>).`);const x=null!==(a=null===(o=t.parentElement)||void 0===o?void 0:o.getAttribute("as-element"))&&void 0!==a?a:null===(l=t.parentNode)||void 0===l?void 0:l.nodeName.toLowerCase();if(w&&(null===s||void 0===x||null===this.container.find(Ym,x)))throw new Error(`Unsupported usage of [au-slot="${y}"]. It seems that projection is attempted, but not for a custom element.`);!function(t,e,n){const i=n.physicalNode;let s,r=e;for(;Rx(r,n);)r.template===n?(i.parentNode.replaceChild(r.marker,i),"TEMPLATE"===i.nodeName?(r.physicalNode=i,i.remove()):(s=r.physicalNode=t.document.createElement("template"),s.content.appendChild(i))):(s=r.physicalNode=t.document.createElement("template"),s.content.appendChild(r.marker)),i.removeAttribute(r.syntax.rawName),r=r.template}(this.platform,u,i);const k=i===s?r:s;w&&null!==k?w&&(k.projections.push(new Vw(y,u)),t.removeAttribute("au-slot"),t.remove()):e.childNodes.push(u)}ensureAttributeOrder(t){const e=t.plainAttributes;let n,i,s=0;for(let t=0;t<e.length&&s<3;t++)switch(e[t].syntax.target){case"model":case"value":case"matcher":n=t,s++;break;case"checked":i=t,s++}void 0!==i&&void 0!==n&&i<n&&([e[n],e[i]]=[e[i],e[n]])}bindChildNodes(t,e,n,i,s){let r,o;for(r="TEMPLATE"===t.nodeName?t.content.firstChild:t.firstChild;null!==r;)switch(r.nodeType){case 1:o=r.nextSibling,this.bindManifest(n,r,e,n,i,s),r=o;break;case 3:r=this.bindText(r,n).nextSibling;break;case 4:case 7:case 8:case 10:r=r.nextSibling;break;case 9:case 11:r=r.firstChild}}bindText(t,e){const n=this.exprParser.parse(t.wholeText,2048);if(null!==n){const i=new Kw(this.platform,t,n);e.childNodes.push(i),function(t){const e=t.physicalNode,n=e.parentNode;for(;null!==e.nextSibling&&3===e.nextSibling.nodeType;)n.removeChild(e.nextSibling);e.textContent="",n.insertBefore(t.marker,e)}(i)}let i=t;for(;null!==i.nextSibling&&3===i.nextSibling.nodeType;)i=i.nextSibling;return i}declareTemplateController(t,e){let n;const i=t.rawValue,s=this.getBindingCommand(t,!1);if(!1===e.noMultiBindings&&null===s&&Ox(i))n=new Bw(this.platform,t,e),this.bindMultiAttribute(n,e,i);else{n=new Bw(this.platform,t,e);const r=null===s?2048:s.bindingType,o=this.exprParser.parse(i,r);n.bindings.push(new Uw(s,e.bindable,o,i,t.target))}return n}bindCustomAttribute(t,e,n,i){let s;const r=t.rawValue;if(!1===e.noMultiBindings&&null===n&&Ox(r))s=new Hw(t,e),this.bindMultiAttribute(s,e,r);else{s=new Hw(t,e);const i=null===n?2048:n.bindingType,o=this.exprParser.parse(r,i);s.bindings.push(new Uw(n,e.bindable,o,r,t.target))}i.customAttributes.push(s),i.isTarget=!0}bindMultiAttribute(t,e,n){const i=e.bindables,s=n.length;let r,o,a=0,l=0;for(let e=0;e<s;++e)if(l=n.charCodeAt(e),92===l)++e;else if(58===l){for(r=n.slice(a,e);n.charCodeAt(++e)<=32;);for(a=e;e<s;++e)if(l=n.charCodeAt(e),92===l)++e;else if(59===l){o=n.slice(a,e);break}void 0===o&&(o=n.slice(a));const c=this.attrParser.parse(r,o),h=kh(c.target),u=this.getBindingCommand(c,!1),d=null===u?2048:u.bindingType,p=this.exprParser.parse(o,d);let g=i[h];for(void 0===g&&(g=i[h]=new Gw(h,mp.toView)),t.bindings.push(new Uw(u,g,p,o,h));e<s&&n.charCodeAt(++e)<=32;);a=e,r=void 0,o=void 0}}bindPlainAttribute(t,e,n,i,s){const r=e.target,o=e.rawValue,a=this.getBindingCommand(e,!1),l=null===a?2048:a.bindingType;let c,h=!1;if((16&s.flags)>0){const t=s.bindables[r];if(null!=t){const e=0===o.length&&(55&l)>0?kh(r):o;return c=this.exprParser.parse(e,l),s.bindings.push(new Uw(a,t,c,o,r)),h=2048===l&&null!=c,s.isTarget=!0,h?1:0}}return c=this.exprParser.parse(o,l),h=2048===l&&null!=c,0==(4096&l)&&this.attrSyntaxTransformer.transform(t,e),null!=c?(s.plainAttributes.push(new qw(e,a,c)),s.isTarget=!0):s===i&&s.plainAttributes.push(new qw(e,a,c)),h?1:0}getBindingCommand(t,e){const n=t.command;if(null===n)return null;let i=this.commandLookup[n];if(void 0===i){if(i=this.container.create(nx,n),null===i){if(e)return null;throw new Error(`Unknown binding command: ${n}`)}this.commandLookup[n]=i}return i}}const Fx=Gh.createInterface("ITemplateElementFactory",(t=>t.singleton(Nx))),Lx={};let Nx=class{constructor(t){this.p=t,this.template=t.document.createElement("template")}createTemplate(t){var e;if("string"==typeof t){let e=Lx[t];if(void 0===e){const n=this.template;n.innerHTML=t;const i=n.content.firstElementChild;null==i||"TEMPLATE"!==i.nodeName||null!=i.nextElementSibling?(this.template=this.p.document.createElement("template"),e=n):(n.content.removeChild(i),e=i),Lx[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.p.document.createElement("template");return e.content.appendChild(t),e}return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.cloneNode(!0)}};Nx=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([function(t,e){return function(n,i){e(n,i,t)}}(0,hm)],Nx);var Dx,Mx=function(t,e){return function(n,i){e(n,i,t)}};class Bx{constructor(t,e,n){this.partialDefinition=t,this.surrogate=e,this.template=n,this.instructions=[],this.surrogates=[],this.projectionsMap=new Map}toDefinition(){const t=this.partialDefinition;return Gm.create({...t,instructions:Oh(t.instructions,this.instructions),surrogates:Oh(t.surrogates,this.surrogates),template:this.template,needsCompile:!1,hasSlots:this.surrogate.hasSlots,projectionsMap:this.projectionsMap})}}!function(t){t.property="property",t.attribute="attribute",t.mode="mode"}(Dx||(Dx={}));const Vx=Object.freeze(["property","attribute","mode"]),Hx="as-custom-element";let qx=class{constructor(t,e,n,i,s,r){this.factory=t,this.attrParser=e,this.exprParser=n,this.attrSyntaxModifier=i,this.p=r,this.logger=s.scopeTo("TemplateCompiler")}get name(){return"default"}static register(t){return yu.singleton(dw,this).register(t)}compile(t,e,n){const i=Gm.getOrCreate(t);if(null===i.template||void 0===i.template)return i;const{attrParser:s,exprParser:r,attrSyntaxModifier:o,factory:a}=this,l=e.get(hm),c=new jx(l,e,s,r,o),h=!0===i.enhance?i.template:a.createTemplate(i.template);!function(t,e,n,i,s){let r;if("TEMPLATE"===t.nodeName){if(t.hasAttribute(Hx))throw new Error("The root cannot be a local template itself.");r=t.content}else r=t;const o=$h(r.querySelectorAll("template[as-custom-element]")),a=o.length;if(0===a)return;if(a===r.childElementCount)throw new Error("The custom element does not have any content other than local template(s).");const l=new Set;for(const t of o){if(t.parentNode!==r)throw new Error("Local templates needs to be defined directly under root.");const i=Ux(t,l),o=class{},a=t.content,c=$h(a.querySelectorAll("bindable")),h=jv.for(o),u=new Set,d=new Set;for(const t of c){if(t.parentNode!==a)throw new Error("Bindable properties of local templates needs to be defined directly under root.");const e=t.getAttribute("property");if(null===e)throw new Error(`The attribute 'property' is missing in ${t.outerHTML}`);const n=t.getAttribute("attribute");if(null!==n&&d.has(n)||u.has(e))throw new Error(`Bindable property and attribute needs to be unique; found property: ${e}, attribute: ${n}`);null!==n&&d.add(n),u.add(e),h.add({property:e,attribute:null!=n?n:void 0,mode:zx(t)});const i=t.getAttributeNames().filter((t=>!Vx.includes(t)));i.length>0&&s.warn(`The attribute(s) ${i.join(", ")} will be ignored for ${t.outerHTML}. Only ${Vx.join(", ")} are processed.`),a.removeChild(t)}const p=Ym.define({name:i,template:t},o);e.dependencies.push(p),n.register(p),r.removeChild(t)}}(h,i,e,0,this.logger);const u=c.bind(h),d=this.compilation=new Bx(i,u,h),p=u.customAttributes,g=u.plainAttributes,f=p.length,v=g.length;if(f+v>0){let t=0;for(let e=0;f>e;++e)d.surrogates[t]=this.compileCustomAttribute(p[e]),t++;for(let e=0;e<v;++e)d.surrogates[t]=this.compilePlainAttribute(g[e],!0),t++}this.compileChildNodes(u,d.instructions,d.projectionsMap,n);const m=d.toDefinition();return this.compilation=null,m}compileChildNodes(t,e,n,i){if((16384&t.flags)>0){const s=t.childNodes,r=s.length;let o;for(let t=0;t<r;++t)if(o=s[t],(128&o.flags)>0)e.push([new ow(o.interpolation)]);else if((32&o.flags)>0){const t=o.bindings,n=[];let i;const s=t.length;for(let e=0;e<s;++e)i=t[e],n[e]=new rw(i.expression,i.target);e.push([new sw(n,o.toBindingContext)])}else this.compileParentNode(o,e,n,i)}}compileCustomElement(t,e,n,i){var s;const r=(512&t.flags)>0,o=this.compileAttributes(t,1),a=t.slotName;let l=null;if(r){const e=null===(s=null==i?void 0:i.projections)||void 0===s?void 0:s[a];l=void 0!==e?new db(a,ub.Projection,new pb(e,null==i?void 0:i.scope)):new db(a,ub.Fallback,new pb(this.compileProjectionFallback(t,n,i)))}const c=o[0]=new ew(t.res,t.info.alias,this.compileBindings(t),l),h=this.compileProjections(t,n,i);null!==h&&n.set(c,h),e.push(o),r||this.compileChildNodes(t,e,n,i)}compilePlainElement(t,e,n,i){const s=this.compileAttributes(t,0);s.length>0&&e.push(s),this.compileChildNodes(t,e,n,i)}compileParentNode(t,e,n,i){switch(1023&t.flags){case 16:case 512:this.compileCustomElement(t,e,n,i);break;case 64:this.compilePlainElement(t,e,n,i);break;case 1:this.compileTemplateController(t,e,n,i)}}compileTemplateController(t,e,n,i){var s;const r=this.compileBindings(t),o=[];this.compileParentNode(t.template,o,n,i);const a=Gm.create({name:null!==(s=t.info.alias)&&void 0!==s?s:t.info.name,template:t.physicalNode,instructions:o,needsCompile:!1});e.push([new iw(a,t.res,t.info.alias,r)])}compileBindings(t){let e;if((8192&t.flags)>0){const{bindings:n}=t,i=n.length;e=Array(i);let s=0;for(;s<i;++s)e[s]=this.compileBinding(n[s])}else e=Su;return e}compileBinding(t){return null===t.command?null===t.expression?new tw(t.rawValue,t.bindable.propName):new Qy(t.expression,t.bindable.propName):t.command.compile(t)}compileAttributes(t,e){let n;if((4096&t.flags)>0){const i=t.customAttributes,s=t.plainAttributes,r=i.length,o=s.length;n=Array(e+r+o);for(let t=0;r>t;++t)n[e]=this.compileCustomAttribute(i[t]),e++;for(let t=0;o>t;++t)n[e]=this.compilePlainAttribute(s[t],!1),e++}else n=e>0?Array(e):Su;return n}compileCustomAttribute(t){const e=this.compileBindings(t);return new nw(t.res,t.info.alias,e)}compilePlainAttribute(t,e){if(null===t.command){const n=t.syntax;if(null===t.expression){const t=n.rawValue;if(e)switch(n.target){case"class":return new cw(t);case"style":return new hw(t)}return new lw(t,n.target)}return new Qy(t.expression,n.target)}return t.command.compile(t)}compileProjections(t,e,n){if(0==(32768&t.flags))return null;const i=this.p,s=Object.create(null),r=t.projections,o=r.length;for(let t=0;t<o;++t){const o=r[t],a=o.name,l=[];this.compileParentNode(o.template,l,e,n);const c=s[a];if(void 0===c){let t=o.template.physicalNode;if("TEMPLATE"!==t.tagName){const e=i.document.createElement("template");e.content.appendChild(t),t=e}s[a]=Gm.create({name:a,template:t,instructions:l,needsCompile:!1})}else c.template.content.appendChild(o.template.physicalNode),c.instructions.push(...l)}return s}compileProjectionFallback(t,e,n){const i=[];this.compileChildNodes(t,i,e,n);const s=this.p.document.createElement("template");return s.content.append(...$h(t.physicalNode.childNodes)),Gm.create({name:Ym.generateName(),template:s,instructions:i,needsCompile:!1})}};function Ux(t,e){const n=t.getAttribute(Hx);if(null===n||""===n)throw new Error('The value of "as-custom-element" attribute cannot be empty for local template');if(e.has(n))throw new Error(`Duplicate definition of the local template named ${n}`);return e.add(n),t.removeAttribute(Hx),n}function zx(t){switch(t.getAttribute("mode")){case"oneTime":return mp.oneTime;case"toView":return mp.toView;case"fromView":return mp.fromView;case"twoWay":return mp.twoWay;case"default":default:return mp.default}}qx=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Mx(0,Fx),Mx(1,Qv),Mx(2,Ng),Mx(3,$x),Mx(4,Xu),Mx(5,hm)],qx);class _x{constructor(t){this.mode=t,this.originalModes=new Map}bind(t,e,n,i){this.originalModes.set(i,i.mode),i.mode=this.mode}unbind(t,e,n,i){i.mode=this.originalModes.get(i),this.originalModes.delete(i)}}class Wx extends _x{constructor(){super(mp.oneTime)}}class Kx extends _x{constructor(){super(mp.toView)}}class Gx extends _x{constructor(){super(mp.fromView)}}class Qx extends _x{constructor(){super(mp.twoWay)}}Od("oneTime")(Wx),Od("toView")(Kx),Od("fromView")(Gx),Od("twoWay")(Qx);class Yx extends jd{constructor(t,e){super(t,e),this.opts={delay:0},this.firstArg=null,this.task=null,this.taskQueue=t.locator.get(Au).taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.queueTask((()=>this.binding.callSource(t)))}handleChange(t,e,n){null!==this.task&&(this.task.cancel(),this.task=null),this.binding.handleChange(t,e,n)}updateSource(t,e){this.queueTask((()=>this.binding.updateSource(t,e)))}queueTask(t){const e=this.task;this.task=this.taskQueue.queueTask((()=>(this.task=null,t())),this.opts),null==e||e.cancel()}$bind(t,e,n){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(t,e,n,this.locator,null));this.opts.delay=isNaN(i)?200:i}this.binding.$bind(t,e,n)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.binding.$unbind(t)}}Od("debounce")(Yx);let Xx=class{constructor(t){this.signaler=t,this.lookup=new Map}bind(t,e,n,i,...s){if(!("handleChange"in i))throw new Error("The signal behavior can only be used with bindings that have a 'handleChange' method");if(0===s.length)throw new Error("At least one signal name must be passed to the signal behavior, e.g. `expr & signal:'my-signal'`");this.lookup.set(i,s);for(const t of s)this.signaler.addSignalListener(t,i)}unbind(t,e,n,i){const s=this.lookup.get(i);this.lookup.delete(i);for(const t of s)this.signaler.removeSignalListener(t,i)}};Xx=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([function(t,e){return function(n,i){e(n,i,t)}}(0,Ad)],Xx),Od("signal")(Xx);class Zx extends jd{constructor(t,e){super(t,e),this.opts={delay:0},this.firstArg=null,this.task=null,this.lastCall=0,this.delay=0,this.platform=t.locator.get(Au),this.taskQueue=this.platform.taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.queueTask((()=>this.binding.callSource(t)))}handleChange(t,e,n){null!==this.task&&(this.task.cancel(),this.task=null,this.lastCall=this.platform.performanceNow()),this.binding.handleChange(t,e,n)}updateSource(t,e){this.queueTask((()=>this.binding.updateSource(t,e)))}queueTask(t){const e=this.opts,n=this.platform,i=this.lastCall+e.delay-n.performanceNow();if(i>0){const s=this.task;e.delay=i,this.task=this.taskQueue.queueTask((()=>{this.lastCall=n.performanceNow(),this.task=null,e.delay=this.delay,t()}),e),null==s||s.cancel()}else this.lastCall=n.performanceNow(),t()}$bind(t,e,n){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(t,e,n,this.locator,null));this.opts.delay=this.delay=isNaN(i)?200:i}this.binding.$bind(t,e,n)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,super.$unbind(t)}}Od("throttle")(Zx);const Jx=new class{constructor(){this.propertyKey="",this.currentValue=null,this.type=6}getValue(t,e){return t.getAttribute(e)}setValue(t,e,n,i){null==t?n.removeAttribute(i):n.setAttribute(i,t)}};let tk=class{bind(t,e,n,i){i.targetObserver=Jx}unbind(t,e,n,i){}};tk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Od("attr")],tk);function ek(t){const e=t.composedPath()[0];if(this.target===e)return this.selfEventCallSource(t)}let nk=class{bind(t,e,n,i){if(!i.callSource||!i.targetEvent)throw new Error("Self binding behavior only supports events.");i.selfEventCallSource=i.callSource,i.callSource=ek}unbind(t,e,n,i){i.callSource=i.selfEventCallSource,i.selfEventCallSource=null}};nk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Od("self")],nk);const ik=Object.create(null);class sk{constructor(t){this.namespace=t,this.currentValue=null,this.type=6}static forNs(t){var e;return null!==(e=ik[t])&&void 0!==e?e:ik[t]=new sk(t)}getValue(t,e){return t.getAttributeNS(this.namespace,e)}setValue(t,e,n,i){null==t?n.removeAttributeNS(this.namespace,i):n.setAttributeNS(this.namespace,i,t)}}function rk(t,e){return t===e}class ok{constructor(t,e,n,i){this.handler=n,this.observerLocator=i,this.value=void 0,this.oldValue=void 0,this.type=7,this.collectionObserver=void 0,this.valueObserver=void 0,this.obj=t}getValue(){return this.value}setValue(t,e){const n=this.value;t!==n&&(this.value=t,this.oldValue=n,this.observe(),this.synchronizeElement(),this.subs.notify(t,n,e))}handleCollectionChange(t,e){this.synchronizeElement()}handleChange(t,e,n){this.synchronizeElement()}synchronizeElement(){const t=this.value,e=this.obj,n=Object.prototype.hasOwnProperty.call(e,"model")?e.model:e.value,i="radio"===e.type,s=void 0!==e.matcher?e.matcher:rk;if(i)e.checked=!!s(t,n);else if(!0===t)e.checked=!0;else{let i=!1;if(t instanceof Array)i=-1!==t.findIndex((t=>!!s(t,n)));else if(t instanceof Set){for(const e of t)if(s(e,n)){i=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(s(t,n)&&!0===r){i=!0;break}}e.checked=i}}handleEvent(){let t=this.oldValue=this.value;const e=this.obj,n=Object.prototype.hasOwnProperty.call(e,"model")?e.model:e.value,i=e.checked,s=void 0!==e.matcher?e.matcher:rk;if("checkbox"===e.type){if(t instanceof Array){const e=t.findIndex((t=>!!s(t,n)));return void(i&&-1===e?t.push(n):i||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===s(e,n)){r=e;break}return void(i&&r===e?t.add(n):i||r===e||t.delete(r))}if(t instanceof Map){let e;for(const i of t){const t=i[0];if(!0===s(t,n)){e=t;break}}return void t.set(e,i)}t=i}else{if(!i)return;t=n}this.value=t,this.subs.notify(this.value,this.oldValue,0)}start(){this.handler.subscribe(this.obj,this),this.observe()}stop(){var t,e;this.handler.dispose(),null===(t=this.collectionObserver)||void 0===t||t.unsubscribe(this),this.collectionObserver=void 0,null===(e=this.valueObserver)||void 0===e||e.unsubscribe(this)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.start()}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.stop()}observe(){var t,e,n,i,s,r,o;const a=this.obj;var l,c;null===(s=null!==(t=this.valueObserver)&&void 0!==t?t:this.valueObserver=null!==(n=null===(e=a.$observers)||void 0===e?void 0:e.model)&&void 0!==n?n:null===(i=a.$observers)||void 0===i?void 0:i.value)||void 0===s||s.subscribe(this),null===(r=this.collectionObserver)||void 0===r||r.unsubscribe(this),this.collectionObserver=void 0,"checkbox"===a.type&&(null===(o=this.collectionObserver=(l=this.value,c=this.observerLocator,l instanceof Array?c.getArrayObserver(l):l instanceof Map?c.getMapObserver(l):l instanceof Set?c.getSetObserver(l):void 0))||void 0===o||o.subscribe(this))}}$p(ok);const ak=Object.prototype.hasOwnProperty,lk={childList:!0,subtree:!0,characterData:!0};function ck(t,e){return t===e}class hk{constructor(t,e,n,i){this.handler=n,this.observerLocator=i,this.currentValue=void 0,this.oldValue=void 0,this.hasChanges=!1,this.type=7,this.arrayObserver=void 0,this.nodeObserver=void 0,this.observing=!1,this.obj=t}getValue(){return this.observing?this.currentValue:this.obj.multiple?Array.from(this.obj.options).map((t=>t.value)):this.obj.value}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,this.observeArray(t instanceof Array?t:null),0==(256&e)&&this.flushChanges(e)}flushChanges(t){this.hasChanges&&(this.hasChanges=!1,this.synchronizeOptions())}handleCollectionChange(){this.synchronizeOptions()}notify(t){if((2&t)>0)return;const e=this.oldValue,n=this.currentValue;n!==e&&this.subs.notify(n,e,t)}handleEvent(){this.synchronizeValue()&&this.subs.notify(this.currentValue,this.oldValue,0)}synchronizeOptions(t){const{currentValue:e,obj:n}=this,i=Array.isArray(e),s=void 0!==n.matcher?n.matcher:ck,r=n.options;let o=r.length;for(;o-- >0;){const t=r[o],n=ak.call(t,"model")?t.model:t.value;t.selected=i?-1!==e.findIndex((t=>!!s(n,t))):!!s(n,e)}}synchronizeValue(){const t=this.obj,e=t.options,n=e.length,i=this.currentValue;let s=0;if(t.multiple){if(!(i instanceof Array))return!0;let r;const o=t.matcher||ck,a=[];for(;s<n;)r=e[s],r.selected&&a.push(ak.call(r,"model")?r.model:r.value),++s;for(s=0;s<i.length;){const t=i[s];-1===a.findIndex((e=>!!o(t,e)))?i.splice(s,1):++s}for(s=0;s<a.length;){const t=a[s];-1===i.findIndex((e=>!!o(t,e)))&&i.push(t),++s}return!1}let r=null;for(;s<n;){const t=e[s];if(t.selected){r=ak.call(t,"model")?t.model:t.value;break}++s}return this.oldValue=this.currentValue,this.currentValue=r,!0}start(){(this.nodeObserver=new this.obj.ownerDocument.defaultView.MutationObserver(this.handleNodeChange.bind(this))).observe(this.obj,lk),this.observeArray(this.currentValue instanceof Array?this.currentValue:null),this.observing=!0}stop(){var t;this.nodeObserver.disconnect(),null===(t=this.arrayObserver)||void 0===t||t.unsubscribe(this),this.nodeObserver=this.arrayObserver=void 0,this.observing=!1}observeArray(t){var e;if(null===(e=this.arrayObserver)||void 0===e||e.unsubscribe(this),this.arrayObserver=void 0,null!=t){if(!this.obj.multiple)throw new Error("Only null or Array instances can be bound to a multi-select.");(this.arrayObserver=this.observerLocator.getArrayObserver(t)).subscribe(this)}}handleNodeChange(){this.synchronizeOptions(),this.synchronizeValue()&&this.notify(0)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.start())}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.handler.dispose(),this.stop())}}$p(hk);class uk{constructor(t){this.obj=t,this.currentValue="",this.oldValue="",this.styles={},this.version=0,this.hasChanges=!1,this.type=6}getValue(){return this.obj.style.cssText}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,0==(256&e)&&this.flushChanges(e)}getStyleTuplesFromString(t){const e=[],n=/url\([^)]+$/;let i,s,r,o,a=0,l="";for(;a<t.length;)i=t.indexOf(";",a),-1===i&&(i=t.length),l+=t.substring(a,i),a=i+1,n.test(l)?l+=";":(s=l.indexOf(":"),r=l.substring(0,s).trim(),o=l.substring(s+1).trim(),e.push([r,o]),l="");return e}getStyleTuplesFromObject(t){let e;const n=[];for(const i in t)if(e=t[i],null!=e)if("string"!=typeof e)n.push(...this.getStyleTuples(e));else{if(i.startsWith("--")){n.push([i,e]);continue}n.push([Sh(i),e])}return n}getStyleTuplesFromArray(t){const e=t.length;if(e>0){const n=[];for(let i=0;i<e;++i)n.push(...this.getStyleTuples(t[i]));return n}return Su}getStyleTuples(t){return"string"==typeof t?this.getStyleTuplesFromString(t):t instanceof Array?this.getStyleTuplesFromArray(t):t instanceof Object?this.getStyleTuplesFromObject(t):Su}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue,e=this.styles,n=this.getStyleTuples(t);let i,s,r,o,a=this.version;this.oldValue=t;const l=n.length;for(let t=0;t<l;++t)s=n[t],r=s[0],o=s[1],this.setProperty(r,o),e[r]=a;if(this.styles=e,this.version+=1,0===a)return;for(i in a-=1,e)Object.prototype.hasOwnProperty.call(e,i)&&e[i]===a&&this.obj.style.removeProperty(i)}}setProperty(t,e){let n="";null!=e&&"function"==typeof e.indexOf&&e.includes("!important")&&(n="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,n)}bind(t){this.currentValue=this.oldValue=this.obj.style.cssText}}class dk{constructor(t,e,n){this.propertyKey=e,this.handler=n,this.currentValue="",this.oldValue="",this.hasChanges=!1,this.type=7,this.obj=t}getValue(){return this.currentValue}setValue(t,e){this.currentValue=t,this.hasChanges=t!==this.oldValue,this.handler.config.readonly||0!=(256&e)||this.flushChanges(e)}flushChanges(t){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue,n=this.oldValue;this.oldValue=e,this.obj[this.propertyKey]=null!=e?e:this.handler.config.default,0==(2&t)&&this.subs.notify(e,n,t)}}handleEvent(){const t=this.oldValue=this.currentValue,e=this.currentValue=this.obj[this.propertyKey];t!==e&&(this.oldValue=e,this.subs.notify(e,t,0))}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.currentValue=this.oldValue=this.obj[this.propertyKey])}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.handler.dispose()}}$p(dk);const pk="http://www.w3.org/1999/xlink",gk="http://www.w3.org/XML/1998/namespace",fk="http://www.w3.org/2000/xmlns/",vk=Object.assign(wx(),{"xlink:actuate":["actuate",pk],"xlink:arcrole":["arcrole",pk],"xlink:href":["href",pk],"xlink:role":["role",pk],"xlink:show":["show",pk],"xlink:title":["title",pk],"xlink:type":["type",pk],"xml:lang":["lang",gk],"xml:space":["space",gk],xmlns:["xmlns",fk],"xmlns:xlink":["xlink",fk]}),mk=new kv;mk.type=6;class bk{constructor(t){var e;this.type=null!==(e=t.type)&&void 0!==e?e:dk,this.events=t.events,this.readonly=t.readonly,this.default=t.default}}class yk{constructor(t,e,n,i){this.locator=t,this.platform=e,this.dirtyChecker=n,this.svgAnalyzer=i,this.allowDirtyCheck=!0,this.events=wx(),this.globalEvents=wx(),this.overrides=wx(),this.globalOverrides=wx();const s=["change","input"],r={events:s,default:""};this.useConfig({INPUT:{value:r,valueAsNumber:{events:s,default:0},checked:{type:ok,events:s},files:{events:s,readonly:!0}},SELECT:{value:{type:hk,events:["change"],default:""}},TEXTAREA:{value:r}});const o={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:o,innerHTML:o}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(t){yu.aliasTo(Tv,yk).register(t),yu.singleton(Tv,yk).register(t)}handles(t,e){return t instanceof this.platform.Node}useConfig(t,e,n){var i,s;const r=this.events;let o;if("string"==typeof t)o=null!==(i=r[t])&&void 0!==i?i:r[t]=wx(),null==o[e]?o[e]=new bk(n):wk(t,e);else for(const n in t){o=null!==(s=r[n])&&void 0!==s?s:r[n]=wx();const i=t[n];for(e in i)null==o[e]?o[e]=new bk(i[e]):wk(n,e)}}useConfigGlobal(t,e){const n=this.globalEvents;if("object"==typeof t)for(const e in t)null==n[e]?n[e]=new bk(t[e]):wk("*",e);else null==n[t]?n[t]=new bk(e):wk("*",t)}getAccessor(t,e,n){var i;if(e in this.globalOverrides||e in(null!==(i=this.overrides[t.tagName])&&void 0!==i?i:$u))return this.getObserver(t,e,n);switch(e){case"src":case"href":case"role":return Jx;default:{const n=vk[e];return void 0!==n?sk.forNs(n[1]):yx(t,e,this.svgAnalyzer)?Jx:mk}}}overrideAccessor(t,e){var n,i,s,r;let o;if("string"==typeof t)o=null!==(n=(s=this.overrides)[t])&&void 0!==n?n:s[t]=wx(),o[e]=!0;else for(const e in t)for(const n of t[e])o=null!==(i=(r=this.overrides)[e])&&void 0!==i?i:r[e]=wx(),o[n]=!0}overrideAccessorGlobal(...t){for(const e of t)this.globalOverrides[e]=!0}getObserver(t,e,n){var i,s;switch(e){case"role":return Jx;case"class":return new Eb(t);case"css":case"style":return new uk(t)}const r=null!==(s=null===(i=this.events[t.tagName])||void 0===i?void 0:i[e])&&void 0!==s?s:this.globalEvents[e];if(null!=r)return new r.type(t,e,new Hy(r),n,this.locator);const o=vk[e];if(void 0!==o)return sk.forNs(o[1]);if(yx(t,e,this.svgAnalyzer))return Jx;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(t,e);throw new Error(`Unable to observe property ${String(e)}. Register observation mapping with .useConfig().`)}return new Cv(t,e)}}function wk(t,e){throw new Error(`Mapping for property ${String(e)} of <${t} /> already exists`)}yk.inject=[Yh,hm,vv,xx];let xk=class{constructor(t){this.observerLocator=t}bind(t,e,n,i,...s){if(0===s.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(i.mode!==mp.twoWay&&i.mode!==mp.fromView)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");const r=this.observerLocator.getObserver(i.target,i.targetProperty);if(!r.handler)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");i.targetObserver=r;const o=r.handler;r.originalHandler=o,r.handler=new Hy(new bk({default:o.config.default,events:s,readonly:o.config.readonly}))}unbind(t,e,n,i){i.targetObserver.handler.dispose(),i.targetObserver.handler=i.targetObserver.originalHandler,i.targetObserver.originalHandler=null}};xk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Od("updateTrigger"),function(t,e){return function(n,i){e(n,i,t)}}(0,$v)],xk);var kk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ck=function(t,e){return function(n,i){e(n,i,t)}};const Sk=Symbol(),$k={passive:!0,capture:!0},Tk={passive:!0},Ak=new WeakMap;class Ek{constructor(t){this.platform=t,this.blurs=[],Ak.set(t.document,this),this.handler=Rk(this,this.blurs)}static createFor(t){return Ak.get(t.document)||new Ek(t)}register(t){const e=this.blurs;e.includes(t)||1!==e.push(t)||this.addListeners()}unregister(t){const e=this.blurs,n=e.indexOf(t);n>-1&&e.splice(n,1),0===e.length&&this.removeListeners()}addListeners(){const t=this.platform,e=t.document,n=t.window,i=this.handler;n.navigator.pointerEnabled&&e.addEventListener("pointerdown",i,$k),e.addEventListener("touchstart",i,$k),e.addEventListener("mousedown",i,$k),e.addEventListener("focus",i,$k),n.addEventListener("blur",i,Tk)}removeListeners(){const t=this.platform,e=t.document,n=t.window,i=this.handler;n.navigator.pointerEnabled&&e.removeEventListener("pointerdown",i,$k),e.removeEventListener("touchstart",i,$k),e.removeEventListener("mousedown",i,$k),e.removeEventListener("focus",i,$k),n.removeEventListener("blur",i,Tk)}}let Pk=class{constructor(t,e){this.element=t,this.p=e,this.linkedMultiple=!0,this.searchSubTree=!0,this.linkingContext=null,this.value=Sk,this.manager=Ek.createFor(e)}attached(){this.manager.register(this)}detaching(){this.manager.unregister(this)}handleEventTarget(t){if(!1===this.value)return;const e=this.p;t!==e.window&&t!==e.document&&this.contains(t)||this.triggerBlur()}contains(t){if(!this.value)return!1;let e,n,i,s,r;const o=this.element;if(Ok(o,t))return!0;if(!this.linkedWith)return!1;const a=this.p.document,l=this.linkedWith,c=this.linkingContext,h=this.searchSubTree,u=this.linkedMultiple,d=Array.isArray(l)?l:[l],p=("string"==typeof c?a.querySelector(c):c)||a.body,g=d.length;for(n=0;g>n;++n)if(r=d[n],"string"==typeof r){if(h){if(u)e=p.querySelectorAll(r);else{const t=p.querySelector(r);e=null!==t?[t]:Su}for(s=e.length,i=0;s>i;++i)if(e[i].contains(t))return!0}else for(e=p.children,s=e.length,i=0;s>i;++i)if(e[i].matches(r))return!0}else if(r&&r.contains(t))return!0;return!1}triggerBlur(){this.value=!1,"function"==typeof this.onBlur&&this.onBlur.call(null)}};kk([Rv()],Pk.prototype,"value",void 0),kk([Rv()],Pk.prototype,"onBlur",void 0),kk([Rv()],Pk.prototype,"linkedWith",void 0),kk([Rv()],Pk.prototype,"linkedMultiple",void 0),kk([Rv()],Pk.prototype,"searchSubTree",void 0),kk([Rv()],Pk.prototype,"linkingContext",void 0),Pk=kk([Jm("blur"),Ck(0,Sy),Ck(1,hm)],Pk);const Ok=(t,e)=>{if(t.contains(e))return!0;let n=null;for(;null!=e;){if(e===t)return!0;n=e.parentNode,e=null!==n||11!==e.nodeType?n:e.host}return!1},Rk=(t,e)=>{let n=!1;const i=()=>{n=!1},s=()=>{n=!0,t.platform.domWriteQueue.queueTask(i,{preempt:!0})},r=t=>{n||(o(t),s())},o=t=>{const n=t.composed?t.composedPath()[0]:t.target;if(null!==n)for(let t=0,i=e.length;t<i;++t)e[t].handleEventTarget(n)};return{onpointerdown:r,ontouchstart:r,onmousedown:r,onfocus:i=>{if(!n){if(i.target===t.platform.window)for(let t=0,n=e.length;n>t;++t)e[t].triggerBlur();else o(i);s()}},onblur:()=>{n=!1;for(let t=0,n=e.length;t<n;++t)e[t].triggerBlur()},handleEvent(t){this[`on${t.type}`](t)}}};var Ik=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},jk=function(t,e){return function(n,i){e(n,i,t)}};let Fk=class{constructor(t,e){this.element=t,this.p=e,this.needsApply=!1}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.apply():this.needsApply=!0}attached(){this.needsApply&&(this.needsApply=!1,this.apply());const t=this.element;t.addEventListener("focus",this),t.addEventListener("blur",this)}afterDetachChildren(){const t=this.element;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.isElFocused||(this.value=!1)}apply(){const t=this.element,e=this.isElFocused,n=this.value;n&&!e?t.focus():!n&&e&&t.blur()}get isElFocused(){return this.element===this.p.document.activeElement}};Ik([Rv({mode:mp.twoWay})],Fk.prototype,"value",void 0),Fk=Ik([Jm("focus"),jk(0,Sy),jk(1,hm)],Fk);var Lk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Nk=function(t,e){return function(n,i){e(n,i,t)}};let Dk=class{constructor(t,e,n){this.el=t,this.p=e,this.isActive=!1,this.task=null,this.$val="",this.$prio="",this.update=()=>{this.task=null,Boolean(this.value)!==this.isToggled&&(this.isToggled===this.base?(this.isToggled=!this.base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.isToggled=this.base,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.isToggled=this.base="hide"!==n.alias}binding(){this.isActive=!0,this.update()}detaching(){var t;this.isActive=!1,null===(t=this.task)||void 0===t||t.cancel(),this.task=null}valueChanged(){this.isActive&&null===this.task&&(this.task=this.p.domWriteQueue.queueTask(this.update))}};Lk([Rv],Dk.prototype,"value",void 0),Dk=Lk([Jm("show"),function(...t){return function(e){const n=Bh.annotation.keyFor("aliases"),i=ph.getOwn(n,e);void 0===i?ph.define(n,t,e):i.push(...t)}}("hide"),Nk(0,Sy),Nk(1,hm),Nk(2,Ky)],Dk);var Mk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Bk=function(t,e){return function(n,i){e(n,i,t)}};let Vk=class{constructor(t,e,n){this.factory=t,this.originalLoc=e,this.p=n,this.id=Ah("au$component"),this.strict=!1,this.currentTarget=n.document.createElement("div"),this.view=this.factory.create(),function(t,e){if(void 0===t.platform||t instanceof t.platform.Node)Ey.set(t,e);else{const n=t.childNodes;for(let t=0,i=n.length;t<i;++t)Ey.set(n[t],e)}}(this.view.nodes,e)}attaching(t,e,n){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const i=this.currentTarget=this.resolveTarget();return this.view.setHost(i),this.$activating(t,i,n)}detaching(t,e,n){return this.$deactivating(t,this.currentTarget,n)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.currentTarget,n=this.currentTarget=this.resolveTarget();if(e===n)return;this.view.setHost(n);const i=Lh(this.$deactivating(null,n,t.flags),(()=>this.$activating(null,n,t.flags)));i instanceof Promise&&i.catch((t=>{throw t}))}$activating(t,e,n){const{activating:i,callbackContext:s,view:r}=this;return r.setHost(e),Lh(null==i?void 0:i.call(s,e,r),(()=>this.activate(t,e,n)))}activate(t,e,n){const{$controller:i,view:s}=this;return null!==t?Lh(s.activate(null!=t?t:s,i,n,i.scope),(()=>this.$activated(e))):(s.nodes.appendTo(e),this.$activated(e))}$activated(t){const{activated:e,callbackContext:n,view:i}=this;return null==e?void 0:e.call(n,t,i)}$deactivating(t,e,n){const{deactivating:i,callbackContext:s,view:r}=this;return Lh(null==i?void 0:i.call(s,e,r),(()=>this.deactivate(t,e,n)))}deactivate(t,e,n){const{$controller:i,view:s}=this;return null!==t?Lh(s.deactivate(t,i,n),(()=>this.$deactivated(e))):(s.nodes.remove(),this.$deactivated(e))}$deactivated(t){const{deactivated:e,callbackContext:n,view:i}=this;return null==e?void 0:e.call(n,t,i)}resolveTarget(){const t=this.p,e=t.document;let n=this.target,i=this.renderContext;if(""===n){if(this.strict)throw new Error("Empty querySelector");return e.body}if("string"==typeof n){let s=e;"string"==typeof i&&(i=e.querySelector(i)),i instanceof t.Node&&(s=i),n=s.querySelector(n)}if(n instanceof t.Node)return n;if(null==n){if(this.strict)throw new Error("Portal target not found");return e.body}return n}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};Mk([Rv({primary:!0})],Vk.prototype,"target",void 0),Mk([Rv({callback:"targetChanged"})],Vk.prototype,"renderContext",void 0),Mk([Rv()],Vk.prototype,"strict",void 0),Mk([Rv()],Vk.prototype,"deactivating",void 0),Mk([Rv()],Vk.prototype,"activating",void 0),Mk([Rv()],Vk.prototype,"deactivated",void 0),Mk([Rv()],Vk.prototype,"activated",void 0),Mk([Rv()],Vk.prototype,"callbackContext",void 0),Vk=Mk([tb("portal"),Bk(0,ib),Bk(1,Ty),Bk(2,hm)],Vk);class Hk{constructor(t,e,n){this.factory=t,this.flags=n,this.id=Ah("au$component"),this.view=this.factory.create().setLocation(e)}attaching(t,e,n){const{$controller:i}=this;return this.view.activate(t,i,n|this.flags,i.scope,i.hostScope)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}class qk extends Hk{constructor(t,e){super(t,e,512)}}qk.inject=[ib,Ty];class Uk extends Hk{constructor(t,e){super(t,e,128)}}Uk.inject=[ib,Ty],tb("frequent-mutations")(qk),tb("observe-shallow")(Uk);var zk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},_k=function(t,e){return function(n,i){e(n,i,t)}};let Wk=class{constructor(t,e,n){this.ifFactory=t,this.location=e,this.work=n,this.id=Ah("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.pending=void 0,this.wantsDeactivate=!1}attaching(t,e,n){return Lh(this.pending,(()=>{var e;this.pending=void 0,null===(e=this.view=this.updateView(this.value,n))||void 0===e||e.activate(t,this.$controller,n,this.$controller.scope,this.$controller.hostScope)}))}detaching(t,e,n){return this.wantsDeactivate=!0,Lh(this.pending,(()=>{var e;this.wantsDeactivate=!1,this.pending=void 0,null===(e=this.view)||void 0===e||e.deactivate(t,this.$controller,n)}))}valueChanged(t,e,n){this.$controller.isActive&&(this.pending=Lh(this.pending,(()=>this.swap(n))))}swap(t){var e;if(this.view===this.updateView(this.value,t))return;this.work.start();const n=this.$controller;return Lh(null===(e=this.view)||void 0===e?void 0:e.deactivate(this.view,n,t),(()=>{if(this.wantsDeactivate)return;const e=this.view=this.updateView(this.value,t);return Lh(null==e?void 0:e.activate(e,n,t,n.scope,n.hostScope),(()=>{this.work.finish(),this.view===this.updateView(this.value,t)&&(this.pending=void 0)}))}))}updateView(t,e){return t?this.ifView=this.ensureView(this.ifView,this.ifFactory,e):void 0!==this.elseFactory?this.elseView=this.ensureView(this.elseView,this.elseFactory,e):void 0}ensureView(t,e,n){return void 0===t&&(t=e.create(n)).setLocation(this.location),t}dispose(){var t,e;null===(t=this.ifView)||void 0===t||t.dispose(),this.ifView=void 0,null===(e=this.elseView)||void 0===e||e.dispose(),this.elseView=void 0,this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};zk([Rv],Wk.prototype,"value",void 0),Wk=zk([tb("if"),_k(0,ib),_k(1,Ty),_k(2,vy)],Wk);let Kk=class{constructor(t){this.factory=t,this.id=Ah("au$component")}link(t,e,n,i,s,r){const o=n.children,a=o[o.length-1];if(a instanceof Wk)a.elseFactory=this.factory;else{if(!(a.viewModel instanceof Wk))throw new Error("Unsupported IfBehavior");a.viewModel.elseFactory=this.factory}}};Kk=zk([tb({name:"else"}),_k(0,ib)],Kk);var Gk=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Qk=function(t,e){return function(n,i){e(n,i,t)}};function Yk(t){t.dispose()}let Xk=class{constructor(t,e,n){this.location=t,this.parent=e,this.factory=n,this.id=Ah("au$component"),this.hasPendingInstanceMutation=!1,this.observer=void 0,this.views=[],this.key=void 0,this.normalizedItems=void 0}binding(t,e,n){this.checkCollectionObserver(n);const i=this.parent.bindings;let s;for(let t=0,e=i.length;t<e;++t)if(s=i[t],s.target===this&&"items"===s.targetProperty){this.forOf=s.sourceExpression;break}this.local=this.forOf.declaration.evaluate(n,this.$controller.scope,null,s.locator,null)}attaching(t,e,n){return this.normalizeToArray(n),this.activateAllViews(t,n)}detaching(t,e,n){return this.checkCollectionObserver(n),this.deactivateAllViews(t,n)}itemsChanged(t){const{$controller:e}=this;if(!e.isActive)return;t|=e.flags,this.checkCollectionObserver(t),this.normalizeToArray(t);const n=Lh(this.deactivateAllViews(null,t),(()=>this.activateAllViews(null,t)));n instanceof Promise&&n.catch((t=>{throw t}))}handleCollectionChange(t,e){const{$controller:n}=this;if(n.isActive)if(e|=n.flags,this.normalizeToArray(e),void 0===t){const t=Lh(this.deactivateAllViews(null,e),(()=>this.activateAllViews(null,e)));t instanceof Promise&&t.catch((t=>{throw t}))}else{const n=this.views.length;if(function(t){let e=0,n=0;const i=t.length;for(let s=0;s<i;++s){for(;t.deletedItems[n]<=s-e;)++n,--e;-2===t[s]?++e:t[s]+=e}}(t),t.deletedItems.length>0){t.deletedItems.sort(Eh);const i=Lh(this.deactivateAndRemoveViewsByKey(t,e),(()=>this.createAndActivateAndSortViewsByKey(n,t,e)));i instanceof Promise&&i.catch((t=>{throw t}))}else this.createAndActivateAndSortViewsByKey(n,t,e)}}checkCollectionObserver(t){const e=this.observer;if(4&t)void 0!==e&&e.unsubscribe(this);else if(this.$controller.isActive){const t=this.observer=function(t){let e;return t instanceof Array?e=tg(t):t instanceof Map?e=kg(t):t instanceof Set&&(e=ug(t)),e}(this.items);e!==t&&e&&e.unsubscribe(this),t&&t.subscribe(this)}}normalizeToArray(t){const e=this.items;if(e instanceof Array)return void(this.normalizedItems=e);if(void 0===this.forOf)return;const n=[];this.forOf.iterate(t,e,((t,e,i)=>{n[e]=i})),this.normalizedItems=n}activateAllViews(t,e){let n,i,s,r;const{$controller:o,factory:a,local:l,location:c,items:h}=this,u=o.scope,d=o.hostScope,p=this.forOf.count(e,h),g=this.views=Array(p);if(this.forOf.iterate(e,h,((h,f,v)=>{s=g[f]=a.create(e).setLocation(c),s.nodes.unlink(),r=$d.fromParent(u,Cd.create(l,v)),eC(r.overrideContext,f,p),i=s.activate(null!=t?t:s,o,e,r,d),i instanceof Promise&&(null!=n?n:n=[]).push(i)})),void 0!==n)return 1===n.length?n[0]:Promise.all(n)}deactivateAllViews(t,e){let n,i,s;const{views:r,$controller:o}=this;for(let a=0,l=r.length;a<l;++a)s=r[a],s.release(),i=s.deactivate(null!=t?t:s,o,e),i instanceof Promise&&(null!=n?n:n=[]).push(i);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}deactivateAndRemoveViewsByKey(t,e){let n,i,s;const{$controller:r,views:o}=this,a=t.deletedItems,l=a.length;let c=0;for(;c<l;++c)s=o[a[c]],s.release(),i=s.deactivate(s,r,e),i instanceof Promise&&(null!=n?n:n=[]).push(i);c=0;let h=0;for(;c<l;++c)h=a[c]-c,o.splice(h,1);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}createAndActivateAndSortViewsByKey(t,e,n){var i;let s,r,o,a;const{$controller:l,factory:c,local:h,normalizedItems:u,location:d,views:p}=this,g=e.length;for(let t=0;t<g;++t)-2===e[t]&&(o=c.create(n),p.splice(t,0,o));if(p.length!==g)throw new Error(`viewsLen=${p.length}, mapLen=${g}`);const f=l.scope,v=l.hostScope,m=e.length;!function(t,e){const n=t.slice(),i=e.length;let s=0,r=0;for(;s<i;)r=e[s],-2!==r&&(t[s]=n[r]),++s}(p,e);const b=function(t){const e=t.length;e>Zk&&(Zk=e,Jk=new Int32Array(e),tC=new Int32Array(e));let n=0,i=0,s=0,r=0,o=0,a=0,l=0,c=0;for(;r<e;r++)if(i=t[r],-2!==i){if(o=Jk[n],s=t[o],-2!==s&&s<i){tC[r]=o,Jk[++n]=r;continue}for(a=0,l=n;a<l;)c=a+l>>1,s=t[Jk[c]],-2!==s&&s<i?a=c+1:l=c;s=t[Jk[a]],(i<s||-2===s)&&(a>0&&(tC[r]=Jk[a-1]),Jk[a]=r)}r=++n;const h=new Int32Array(r);for(i=Jk[n-1];n-- >0;)h[n]=i,i=tC[i];for(;r-- >0;)Jk[r]=0;return h}(e),y=b.length;let w,x=y-1,k=m-1;for(;k>=0;--k)o=p[k],w=p[k+1],o.nodes.link(null!==(i=null==w?void 0:w.nodes)&&void 0!==i?i:d),-2===e[k]?(a=$d.fromParent(f,Cd.create(h,u[k])),eC(a.overrideContext,k,m),o.setLocation(d),r=o.activate(o,l,n,a,v),r instanceof Promise&&(null!=s?s:s=[]).push(r)):x<0||1===y||k!==b[x]?(eC(o.scope.overrideContext,k,m),o.nodes.insertBefore(o.location)):(t!==m&&eC(o.scope.overrideContext,k,m),--x);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}dispose(){this.views.forEach(Yk),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let n=0,i=e.length;n<i;++n)if(!0===e[n].accept(t))return!0}};Gk([Rv],Xk.prototype,"items",void 0),Xk=Gk([tb("repeat"),Qk(0,Ty),Qk(1,gy),Qk(2,ib)],Xk);let Zk=16,Jk=new Int32Array(Zk),tC=new Int32Array(Zk);function eC(t,e,n){const i=0===e,s=e===n-1,r=e%2==0;t.$index=e,t.$first=i,t.$last=s,t.$middle=!i&&!s,t.$even=r,t.$odd=!r,t.$length=n}var nC=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},iC=function(t,e){return function(n,i){e(n,i,t)}};let sC=class{constructor(t,e){this.factory=t,this.location=e,this.id=Ah("au$component"),this.id=Ah("au$component"),this.view=this.factory.create().setLocation(e)}valueChanged(t,e,n){this.$controller.isActive&&this.activateView(this.view,2)}attaching(t,e,n){return this.activateView(t,n)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}activateView(t,e){const{$controller:n,value:i}=this,s=$d.fromParent(n.scope,void 0===i?{}:i);return this.view.activate(t,n,e,s,n.hostScope)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};nC([Rv],sC.prototype,"value",void 0),sC=nC([tb("with"),iC(0,ib),iC(1,Ty)],sC);var rC=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},oC=function(t,e){return function(n,i){e(n,i,t)}};let aC=class{constructor(t,e){this.factory=t,this.location=e,this.id=Ah("au$component"),this.cases=[],this.activeCases=[],this.promise=void 0}link(t,e,n,i,s,r){this.view=this.factory.create(t,this.$controller).setLocation(this.location)}attaching(t,e,n){const i=this.view,s=this.$controller;return this.queue((()=>i.activate(t,s,n,s.scope,s.hostScope))),this.queue((()=>this.swap(t,n,this.value))),this.promise}detaching(t,e,n){return this.queue((()=>this.view.deactivate(t,this.$controller,n))),this.promise}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}valueChanged(t,e,n){this.$controller.isActive&&this.queue((()=>this.swap(null,n,this.value)))}caseChanged(t,e){this.queue((()=>this.handleCaseChange(t,e)))}handleCaseChange(t,e){const n=t.isMatch(this.value,e),i=this.activeCases,s=i.length;if(!n)return s>0&&i[0].id===t.id?this.clearActiveCases(null,e):void 0;if(s>0&&i[0].id<t.id)return;const r=[];let o=t.fallThrough;if(o){const e=this.cases;for(let n=e.indexOf(t),i=e.length;n<i&&o;n++){const t=e[n];r.push(t),o=t.fallThrough}}else r.push(t);return Lh(this.clearActiveCases(null,e,r),(()=>(this.activeCases=r,this.activateCases(null,e))))}swap(t,e,n){const i=[];let s=!1;for(const t of this.cases)if((s||t.isMatch(n,e))&&(i.push(t),s=t.fallThrough),i.length>0&&!s)break;const r=this.defaultCase;return 0===i.length&&void 0!==r&&i.push(r),Lh(this.activeCases.length>0?this.clearActiveCases(t,e,i):void 0,(()=>{if(this.activeCases=i,0!==i.length)return this.activateCases(t,e)}))}activateCases(t,e){const n=this.$controller;if(!n.isActive)return;const i=this.activeCases,s=i.length;if(0===s)return;const r=n.scope,o=n.hostScope;return 1===s?i[0].activate(t,e,r,o):Nh(...i.map((n=>n.activate(t,e,r,o))))}clearActiveCases(t,e,n=[]){const i=this.activeCases,s=i.length;if(0!==s){if(1===s){const s=i[0];return n.includes(s)?void 0:(i.length=0,s.deactivate(t,e))}return Lh(Nh(...i.reduce(((i,s)=>(n.includes(s)||i.push(s.deactivate(t,e)),i)),[])),(()=>{i.length=0}))}}queue(t){const e=this.promise;let n;n=this.promise=Lh(Lh(e,t),(()=>{this.promise===n&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some((e=>e.accept(t)))||void 0}};rC([Rv],aC.prototype,"value",void 0),aC=rC([tb("switch"),oC(0,ib),oC(1,Ty)],aC);let lC=class{constructor(t,e,n,i){this.factory=t,this.locator=e,this.id=Ah("au$component"),this.fallThrough=!1,this.debug=i.config.level<=1,this.logger=i.scopeTo(`${this.constructor.name}-#${this.id}`),this.view=this.factory.create().setLocation(n)}link(t,e,n,i,s,r){const o=n.parent,a=null==o?void 0:o.viewModel;if(!(a instanceof aC))throw new Error("The parent switch not found; only `*[switch] > *[case|default-case]` relation is supported.");this.$switch=a,this.linkToSwitch(a)}detaching(t,e,n){return this.deactivate(t,n)}isMatch(t,e){this.debug&&this.logger.debug("isMatch()");const n=this.value;return Array.isArray(n)?(void 0===this.observer&&(this.observer=this.observeCollection(e,n)),n.includes(t)):n===t}valueChanged(t,e,n){var i;Array.isArray(t)?(null===(i=this.observer)||void 0===i||i.unsubscribe(this),this.observer=this.observeCollection(n,t)):void 0!==this.observer&&this.observer.unsubscribe(this),this.$switch.caseChanged(this,n)}handleCollectionChange(t,e){this.$switch.caseChanged(this,e)}activate(t,e,n,i){const s=this.view;if(!s.isActive)return s.activate(null!=t?t:s,this.$controller,e,n,i)}deactivate(t,e){const n=this.view;if(n.isActive)return n.deactivate(null!=t?t:n,this.$controller,e)}dispose(){var t,e;null===(t=this.observer)||void 0===t||t.unsubscribe(this),null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}observeCollection(t,e){const n=this.locator.getArrayObserver(e);return n.subscribe(this),n}accept(t){var e;return!0===this.$controller.accept(t)||(null===(e=this.view)||void 0===e?void 0:e.accept(t))}};rC([Rv],lC.prototype,"value",void 0),rC([Rv({set:t=>{switch(t){case"true":return!0;case"false":return!1;default:return!!t}},mode:mp.oneTime})],lC.prototype,"fallThrough",void 0),lC=rC([tb("case"),oC(0,ib),oC(1,$v),oC(2,Ty),oC(3,Xu)],lC);let cC=class extends lC{linkToSwitch(t){if(void 0!==t.defaultCase)throw new Error("Multiple 'default-case's are not allowed.");t.defaultCase=this}};cC=rC([tb("default-case")],cC);class hC{constructor(t,e,n){this.node=t,this.instructions=e,this.dependencies=n,this.lazyDefinition=void 0}get definition(){return void 0===this.lazyDefinition&&(this.lazyDefinition=Gm.create({name:Ym.generateName(),template:this.node,needsCompile:"string"==typeof this.node,instructions:this.instructions,dependencies:this.dependencies})),this.lazyDefinition}getContext(t){return Sb(this.definition,t)}createView(t){return this.getViewFactory(t).create()}getViewFactory(t){return this.getContext(t).getViewFactory()}mergeInto(t,e,n){t.appendChild(this.node),e.push(...this.instructions),n.push(...this.dependencies)}}function uC(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const o=n[r];switch(typeof o){case"string":e.appendChild(t.document.createTextNode(o));break;case"object":o instanceof t.Node?e.appendChild(o):"mergeInto"in o&&o.mergeInto(e,i,s)}}}var dC=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},pC=function(t,e){return function(n,i){e(n,i,t)}};function gC(t,e){const n=e.to;return void 0!==n&&"subject"!==n&&"composing"!==n&&(t[n]=e),t}let fC=class{constructor(t,e){this.p=t,this.id=Ah("au$component"),this.subject=void 0,this.composing=!1,this.view=void 0,this.lastSubject=void 0,this.properties=e.instructions.reduce(gC,{})}attaching(t,e,n){const{subject:i,view:s}=this;return void 0===s||this.lastSubject!==i?(this.lastSubject=i,this.composing=!0,this.compose(void 0,i,t,n)):this.compose(s,i,t,n)}detaching(t,e,n){return this.deactivate(this.view,t,n)}subjectChanged(t,e,n){const{$controller:i}=this;if(!i.isActive)return;if(this.lastSubject===t)return;this.lastSubject=t,this.composing=!0,n|=i.flags;const s=Lh(this.deactivate(this.view,null,n),(()=>this.compose(void 0,t,null,n)));s instanceof Promise&&s.catch((t=>{throw t}))}compose(t,e,n,i){return Lh(void 0===t?Lh(e,(t=>this.resolveView(t,i))):t,(t=>this.activate(t,n,i)))}deactivate(t,e,n){return null==t?void 0:t.deactivate(null!=e?e:t,this.$controller,n)}activate(t,e,n){const{$controller:i}=this;return Lh(null==t?void 0:t.activate(null!=e?e:t,i,n,i.scope,i.hostScope),(()=>{this.composing=!1}))}resolveView(t,e){const n=this.provideViewFor(t,e);if(n)return n.setLocation(this.$controller.location),n.lockScope(this.$controller.scope),n}provideViewFor(t,e){if(t)return function(t){return"lockScope"in t}(t)?t:"createView"in t?t.createView(this.$controller.context):"create"in t?t.create(e):"template"in t?Sb(Gm.getOrCreate(t),this.$controller.context).getViewFactory().create(e):function(t,e,n,i){if("string"==typeof e)return function(t,e,n,i){const s=[],r=[],o=[],a=t.document.createElement(e);let l=!1;return n&&Object.keys(n).forEach((t=>{const e=n[t];Gy(e)?(l=!0,s.push(e)):a.setAttribute(t,e)})),l&&(a.className="au",r.push(s)),i&&uC(t,a,i,r,o),new hC(a,r,o)}(t,e,n,i);if(Ym.isType(e))return function(t,e,n,i){const s=Ym.getDefinition(e),r=s.name,o=[],a=[o],l=[],c=[],h=s.bindables,u=t.document.createElement(r);return u.className="au",l.includes(e)||l.push(e),o.push(new ew(r,void 0,c,null)),n&&Object.keys(n).forEach((t=>{const e=n[t];Gy(e)?c.push(e):void 0!==h[t]?c.push({type:"re",to:t,value:e}):c.push(new lw(e,t))})),i&&uC(t,u,i,a,l),new hC(u,a,l)}(t,e,n,i);throw new Error("Invalid tagOrType.")}(this.p,t,this.properties,this.$controller.host.childNodes).createView(this.$controller.context)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}};dC([Rv],fC.prototype,"subject",void 0),dC([Rv({mode:mp.fromView})],fC.prototype,"composing",void 0),fC=dC([Wm({name:"au-compose",template:null,containerless:!0}),pC(0,hm),pC(1,Ky)],fC);const vC=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,mC=Gh.createInterface("ISanitizer",(t=>t.singleton(class{sanitize(t){return t.replace(vC,"")}})));let bC=class{constructor(t){this.sanitizer=t}toView(t){return null==t?null:this.sanitizer.sanitize(t)}};bC=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([function(t,e){return function(n,i){e(n,i,t)}}(0,mC)],bC),Ld("sanitize")(bC);let yC=class{constructor(t){this.viewLocator=t}toView(t,e){return this.viewLocator.getViewComponentForObject(t,e)}};yC=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([function(t,e){return function(n,i){e(n,i,t)}}(0,cb)],yC),Ld("view")(yC);const wC=[qx,yk],xC=Sx,kC=[em,tm],CC=[lx,sx,ox,rx,ax,cx,hx,mx,ux,dx,px,vx,fx,gx],SC=[Yx,Wx,Kx,Gx,Xx,Zx,Qx,bC,yC,qk,Uk,Wk,Kk,Xk,sC,aC,lC,cC,tk,nk,xk,fC,Vk,Fk,Pk,Dk,bb],$C=[$w,Tw,kw,Cw,Sw,mw,bw,yw,ww,xw,Rw,Nw,Iw,jw,Fw,Lw,Ow],TC={register:t=>t.register(...wC,...SC,...kC,...CC,...$C),createContainer(){return this.register(Gh.createContainer())}},AC=Gh.createInterface("IAurelia"),EC={maxRetries:3,interval:1e3,strategy:0};class PC{constructor(t){if(this.retryConfig={...EC,...void 0!==t?t:{}},2===this.retryConfig.strategy&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(t){return t.retryConfig||(t.retryConfig={...this.retryConfig},t.retryConfig.counter=0),t.retryConfig.requestClone=t.clone(),t}response(t,e){return Reflect.deleteProperty(e,"retryConfig"),t}responseError(t,e,n){const{retryConfig:i}=e,{requestClone:s}=i;return Promise.resolve().then((()=>{if(i.counter<i.maxRetries){const r=void 0===i.doRetry||i.doRetry(t,e);return Promise.resolve(r).then((r=>{if(r){i.counter++;const t=function(t){const{interval:e,strategy:n,minRandomInterval:i,maxRandomInterval:s,counter:r}=t;if("function"==typeof n)return t.strategy(r);switch(n){case 0:return OC[0](e);case 1:return OC[1](r,e);case 2:return OC[2](r,e);case 3:return OC[3](r,e,i,s);default:throw new Error("Unrecognized retry strategy")}}(i);return new Promise((e=>setTimeout(e,isNaN(t)?0:t))).then((()=>{const t=s.clone();return"function"==typeof i.beforeRetry?i.beforeRetry(t,n):t})).then((t=>{const e={...t,retryConfig:i};return n.fetch(e)}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}}const OC=[t=>t,(t,e)=>e*t,(t,e)=>1===t?e:e**t/1e3,(t,e,n=0,i=6e4)=>Math.random()*(i-n)+n];class RC{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[],this.dispatcher=null}withBaseUrl(t){return this.baseUrl=t,this}withDefaults(t){return this.defaults=t,this}withInterceptor(t){return this.interceptors.push(t),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:IC})}withRetry(t){const e=new PC(t);return this.withInterceptor(e)}withDispatcher(t){return this.dispatcher=t,this}}function IC(t){if(!t.ok)throw t;return t}const jC=/^([a-z][a-z0-9+\-.]*:)?\/\//i;Gh.createInterface("IHttpClient",(t=>t.singleton(FC)));class FC{constructor(){this.dispatcher=null,this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[]}configure(t){let e;if("object"==typeof t)e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");{e=new RC,e.baseUrl=this.baseUrl,e.defaults={...this.defaults},e.interceptors=this.interceptors,e.dispatcher=this.dispatcher;const n=t(e);Object.prototype.isPrototypeOf.call(RC.prototype,n)&&(e=n)}}const n=e.defaults;if(void 0!==n&&Object.prototype.isPrototypeOf.call(Headers.prototype,n.headers))throw new Error("Default headers must be a plain object.");const i=e.interceptors;if(void 0!==i&&i.length){if(i.filter((t=>Object.prototype.isPrototypeOf.call(PC.prototype,t))).length>1)throw new Error("Only one RetryInterceptor is allowed.");const t=i.findIndex((t=>Object.prototype.isPrototypeOf.call(PC.prototype,t)));if(t>=0&&t!==i.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=void 0!==e.interceptors?e.interceptors:[],this.dispatcher=e.dispatcher,this.isConfigured=!0,this}fetch(t,e){this.trackRequestStart();let n=this.buildRequest(t,e);return this.processRequest(n,this.interceptors).then((t=>{let e;if(Object.prototype.isPrototypeOf.call(Response.prototype,t))e=Promise.resolve(t);else{if(!Object.prototype.isPrototypeOf.call(Request.prototype,t))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${t}]`);n=t,e=fetch(n)}return this.processResponse(e,this.interceptors,n)})).then((t=>Object.prototype.isPrototypeOf.call(Request.prototype,t)?this.fetch(t):t)).then((t=>(this.trackRequestEnd(),t)),(t=>{throw this.trackRequestEnd(),t}))}buildRequest(t,e){const n=null!==this.defaults?this.defaults:{};let i,s,r;const o=function(t){const e={},n=void 0!==t?t:{};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]="function"==typeof n[t]?n[t]():n[t]);return e}(n.headers);if(Object.prototype.isPrototypeOf.call(Request.prototype,t))i=t,r=new Headers(i.headers).get("Content-Type");else{e||(e={}),s=e.body;const o=void 0!==s?{body:s}:null,c={...n,headers:{},...e,...o};r=new Headers(c.headers).get("Content-Type"),i=new Request((a=this.baseUrl,l=t,jC.test(l)?l:(void 0!==a?a:"")+l),c)}var a,l;return r||(new Headers(o).has("content-type")?i.headers.set("Content-Type",new Headers(o).get("content-type")):void 0!==s&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(s)&&i.headers.set("Content-Type","application/json")),function(t,e){const n=void 0!==e?e:{};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&!t.has(e)&&t.set(e,n[e])}(i.headers,o),void 0!==s&&Object.prototype.isPrototypeOf.call(Blob.prototype,s)&&s.type&&i.headers.set("Content-Type",s.type),i}get(t,e){return this.fetch(t,e)}post(t,e,n){return this.callFetch(t,e,n,"POST")}put(t,e,n){return this.callFetch(t,e,n,"PUT")}patch(t,e,n){return this.callFetch(t,e,n,"PATCH")}delete(t,e,n){return this.callFetch(t,e,n,"DELETE")}trackRequestStart(){if(this.isRequesting=!!++this.activeRequestCount,this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}trackRequestEnd(){if(this.isRequesting=!!--this.activeRequestCount,!this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}processRequest(t,e){return this.applyInterceptors(t,e,"request","requestError",this)}processResponse(t,e,n){return this.applyInterceptors(t,e,"response","responseError",n,this)}applyInterceptors(t,e,n,i,...s){return(void 0!==e?e:[]).reduce(((t,e)=>{const r=e[n],o=e[i];return t.then(r?t=>r.call(e,t,...s):LC,o?t=>o.call(e,t,...s):NC)}),Promise.resolve(t))}callFetch(t,e,n,i){return n||(n={}),n.method=i,e&&(n.body=e),this.fetch(t,n)}}function LC(t){return t}function NC(t){throw t}class DC{constructor(t,e,n){this.path=t,this.caseSensitive=e,this.handler=n}}class MC{constructor(t,e){this.route=t,this.paramNames=e}}class BC{constructor(t,e){this.endpoint=t,this.params=e}}class VC{constructor(t,e,n,i){var s;this.chars=t,this.states=e,this.skippedStates=n,this.result=i,this.head=e[e.length-1],this.endpoint=null===(s=this.head)||void 0===s?void 0:s.endpoint}advance(t){const{chars:e,states:n,skippedStates:i,result:s}=this;let r=null,o=0;const a=n[n.length-1];function l(c,h){if(c.isMatch(t)&&(1==++o?r=c:s.add(new VC(e.concat(t),n.concat(c),null===h?i:i.concat(h),s))),null===a.segment&&c.isOptional&&null!==c.nextStates){if(c.nextStates.length>1)throw new Error(`${c.nextStates.length} nextStates`);const t=c.nextStates[0];if(!t.isSeparator)throw new Error("Not a separator");if(null!==t.nextStates)for(const e of t.nextStates)l(e,c)}}if(a.isDynamic&&l(a,null),null!==a.nextStates)for(const t of a.nextStates)l(t,null);null!==r&&(n.push(this.head=r),e.push(t),null!==r.endpoint&&(this.endpoint=r.endpoint)),0===o&&s.remove(this)}finalize(){!function t(e,n){const i=n.nextStates;if(null!==i)if(1===i.length&&null===i[0].segment)t(e,i[0]);else for(const n of i)if(n.isOptional&&null!==n.endpoint){if(e.push(n),null!==n.nextStates)for(const i of n.nextStates)t(e,i);break}}(this.skippedStates,this.head)}getParams(){const{states:t,chars:e,endpoint:n}=this,i={};for(const t of n.paramNames)i[t]=void 0;for(let n=0,s=t.length;n<s;++n){const s=t[n];if(s.isDynamic){const t=s.segment.name;void 0===i[t]?i[t]=e[n]:i[t]+=e[n]}}return i}compareTo(t){const e=this.states,n=t.states;for(let t=0,i=0,s=Math.max(e.length,n.length);t<s;++t){let s=e[t];if(void 0===s)return 1;let r=n[i];if(void 0===r)return-1;let o=s.segment,a=r.segment;if(null===o){if(null===a){++i;continue}if(void 0===(s=e[++t]))return 1;o=s.segment}else if(null===a){if(void 0===(r=n[++i]))return-1;a=r.segment}if(o.kind<a.kind)return 1;if(o.kind>a.kind)return-1;++i}const i=this.skippedStates,s=t.skippedStates,r=i.length,o=s.length;if(r<o)return 1;if(r>o)return-1;for(let t=0;t<r;++t){const e=i[t],n=s[t];if(e.length<n.length)return 1;if(e.length>n.length)return-1}return 0}}function HC(t){return null!==t.head.endpoint}function qC(t,e){return t.compareTo(e)}class UC{constructor(t){this.candidates=[],this.candidates=[new VC([""],[t],[],this)]}get isEmpty(){return 0===this.candidates.length}getSolution(){const t=this.candidates.filter(HC);if(0===t.length)return null;for(const e of t)e.finalize();return t.sort(qC),t[0]}add(t){this.candidates.push(t)}remove(t){this.candidates.splice(this.candidates.indexOf(t),1)}advance(t){const e=this.candidates.slice();for(const n of e)n.advance(t)}}class zC{constructor(){this.rootState=new _C(null,null,""),this.cache=new Map}add(t){if(t instanceof Array)for(const e of t)this.$add(e);else this.$add(t);this.cache.clear()}$add(t){const e=t.path,n=new DC(t.path,!0===t.caseSensitive,t.handler),i=""===e?[""]:e.split("/").filter(WC),s=[];let r=this.rootState;for(const t of i)switch(r=r.append(null,"/"),t.charAt(0)){case":":{const e=t.endsWith("?"),n=e?t.slice(1,-1):t.slice(1);s.push(n),r=new QC(n,e).appendTo(r);break}case"*":{const e=t.slice(1);s.push(e),r=new YC(e).appendTo(r);break}default:r=new GC(t,n.caseSensitive).appendTo(r)}const o=new MC(n,s);r.setEndpoint(o)}recognize(t){let e=this.cache.get(t);return void 0===e&&this.cache.set(t,e=this.$recognize(t)),e}$recognize(t){(t=decodeURI(t)).startsWith("/")||(t=`/${t}`),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1));const e=new UC(this.rootState);for(let n=0,i=t.length;n<i;++n){const i=t.charAt(n);if(e.advance(i),e.isEmpty)return null}const n=e.getSolution();if(null===n)return null;const{endpoint:i}=n,s=n.getParams();return new BC(i,s)}}class _C{constructor(t,e,n){switch(this.prevState=t,this.segment=e,this.value=n,this.nextStates=null,this.endpoint=null,null==e?void 0:e.kind){case 2:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=e.optional;break;case 1:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 3:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=null===t?0:t.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1}}append(t,e){let n,i=this.nextStates;return null===i?(n=void 0,i=this.nextStates=[]):n=null===t?i.find((t=>t.value===e)):i.find((e=>{var n;return null===(n=e.segment)||void 0===n?void 0:n.equals(t)})),void 0===n&&i.push(n=new _C(this,t,e)),n}setEndpoint(t){if(null!==this.endpoint)throw new Error(`Cannot add ambiguous route. The pattern '${t.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=t,this.isOptional&&(this.prevState.setEndpoint(t),this.prevState.isSeparator&&null!==this.prevState.prevState&&this.prevState.prevState.setEndpoint(t))}isMatch(t){const e=this.segment;switch(null==e?void 0:e.kind){case 2:return!this.value.includes(t);case 1:return!0;case 3:case void 0:return this.value.includes(t)}}}function WC(t){return t.length>0}var KC;!function(t){t[t.star=1]="star",t[t.dynamic=2]="dynamic",t[t.static=3]="static"}(KC||(KC={}));class GC{constructor(t,e){this.value=t,this.caseSensitive=e}get kind(){return 3}appendTo(t){const{value:e,value:{length:n}}=this;if(this.caseSensitive)for(let i=0;i<n;++i)t=t.append(this,e.charAt(i));else for(let i=0;i<n;++i){const n=e.charAt(i);t=t.append(this,n.toUpperCase()+n.toLowerCase())}return t}equals(t){return 3===t.kind&&t.caseSensitive===this.caseSensitive&&t.value===this.value}}class QC{constructor(t,e){this.name=t,this.optional=e}get kind(){return 2}appendTo(t){return t.append(this,"/")}equals(t){return 2===t.kind&&t.optional===this.optional&&t.name===this.name}}class YC{constructor(t){this.name=t}get kind(){return 1}appendTo(t){return t.append(this,"")}equals(t){return 1===t.kind&&t.name===this.name}}class XC{constructor(t,e,n){this.stack=t,this.cb=e,this.done=!1,this.next=null,this.head=null!=n?n:this}static start(t){return new XC(0,t,null)}push(){let t=this;do{++t.stack,t=t.next}while(null!==t)}pop(){let t=this;do{0==--t.stack&&t.invoke(),t=t.next}while(null!==t)}invoke(){const t=this.cb;null!==t&&(this.cb=null,t(this),this.done=!0)}continueWith(t){return null===this.next?this.next=new XC(this.stack,t,this.head):this.next.continueWith(t)}start(){return this.head.push(),this.head.pop(),this}}function ZC(t,e){t=t.slice(),e=e.slice();const n=[];for(;t.length>0;){const i=t.shift();if(n.every((t=>t.context.vpa!==i.context.vpa))){const t=e.findIndex((t=>t.context.vpa===i.context.vpa));t>=0?n.push(...e.splice(0,t+1)):n.push(i)}}return n.push(...e),n}function JC(t){try{return JSON.stringify(t)}catch(e){return Object.prototype.toString.call(t)}}function tS(t){return"string"==typeof t?[t]:t}function eS(t){return"object"==typeof t&&null!==t&&!ly(t)}function nS(t){return eS(t)&&!0===Object.prototype.hasOwnProperty.call(t,"name")}function iS(t){return eS(t)&&!0===Object.prototype.hasOwnProperty.call(t,"component")}function sS(t){return eS(t)&&!0===Object.prototype.hasOwnProperty.call(t,"redirectTo")}function rS(t){return eS(t)&&!0===Object.prototype.hasOwnProperty.call(t,"component")}function oS(t,e,n){throw new Error(`Invalid route config property: "${e}". Expected ${t}, but got ${JC(n)}.`)}function aS(t,e){if(null==t)throw new Error(`Invalid route config: expected an object or string, but got: ${String(t)}.`);const n=Object.keys(t);for(const i of n){const n=t[i],s=[e,i].join(".");switch(i){case"id":case"viewport":case"redirectTo":"string"!=typeof n&&oS("string",s,n);break;case"caseSensitive":"boolean"!=typeof n&&oS("boolean",s,n);break;case"data":"object"==typeof n&&null!==n||oS("object",s,n);break;case"title":switch(typeof n){case"string":case"function":break;default:oS("string or function",s,n)}break;case"path":if(n instanceof Array)for(let t=0;t<n.length;++t)"string"!=typeof n[t]&&oS("string",`${s}[${t}]`,n[t]);else"string"!=typeof n&&oS("string or Array of strings",s,n);break;case"component":lS(n,s);break;case"routes":n instanceof Array||oS("Array",s,n);for(const t of n)lS(t,`${s}[${n.indexOf(t)}]`);break;case"transitionPlan":switch(typeof n){case"string":switch(n){case"none":case"replace":case"invoke-lifecycles":break;default:oS("string('none'|'replace'|'invoke-lifecycles') or function",s,n)}break;case"function":break;default:oS("string('none'|'replace'|'invoke-lifecycles') or function",s,n)}break;default:throw new Error(`Unknown route config property: "${e}.${i}". Please specify known properties only.`)}}}function lS(t,e){switch(typeof t){case"function":break;case"object":if(t instanceof Promise)break;if(sS(t)){!function(t,e){if(null==t)throw new Error(`Invalid route config: expected an object or string, but got: ${String(t)}.`);const n=Object.keys(t);for(const i of n){const n=t[i],s=[e,i].join(".");switch(i){case"path":case"redirectTo":"string"!=typeof n&&oS("string",s,n);break;default:throw new Error(`Unknown redirect config property: "${e}.${i}". Only 'path' and 'redirectTo' should be specified for redirects.`)}}}(t,e);break}if(iS(t)){aS(t,e);break}ly(t)||nS(t)||oS("an object with at least a 'component' property (see Routeable)",e,t);break;case"string":break;default:oS("function, object or string (see Routeable)",e,t)}}function cS(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let s=0,r=n.length;s<r;++s){const r=n[s];if(r!==i[s])return!1;if(t[r]!==e[r])return!1}return!0}var hS=function(t,e){return function(n,i){e(n,i,t)}};class uS{constructor(t,e,n){this.events=t,this.serial=e,this.inner=n,this.disposed=!1}dispose(){if(!this.disposed){this.disposed=!0,this.inner.dispose();const t=this.events.subscriptions;t.splice(t.indexOf(this),1)}}}const dS=Gh.createInterface("IRouterEvents",(t=>t.singleton(pS)));let pS=class{constructor(t,e){this.ea=t,this.logger=e,this.subscriptionSerial=0,this.subscriptions=[],this.logger=e.scopeTo("RouterEvents")}publish(t){this.logger.trace("publishing %s",t),this.ea.publish(t.name,t)}subscribe(t,e){const n=new uS(this,++this.subscriptionSerial,this.ea.subscribe(t,(i=>{this.logger.trace(`handling %s for subscription #${n.serial}`,t),e(i)})));return this.subscriptions.push(n),n}};pS=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([hS(0,vd),hS(1,Xu)],pS);class gS{constructor(t,e,n,i){this.id=t,this.url=e,this.trigger=n,this.state=i}get name(){return"au:router:location-change"}toString(){return`LocationChangeEvent(id:${this.id},url:'${this.url}',trigger:'${this.trigger}')`}}class fS{constructor(t,e,n,i){this.id=t,this.instructions=e,this.trigger=n,this.managedState=i}get name(){return"au:router:navigation-start"}toString(){return`NavigationStartEvent(id:${this.id},instructions:'${this.instructions}',trigger:'${this.trigger}')`}}class vS{constructor(t,e,n){this.id=t,this.instructions=e,this.finalInstructions=n}get name(){return"au:router:navigation-end"}toString(){return`NavigationEndEvent(id:${this.id},instructions:'${this.instructions}',finalInstructions:'${this.finalInstructions}')`}}class mS{constructor(t,e,n){this.id=t,this.instructions=e,this.reason=n}get name(){return"au:router:navigation-cancel"}toString(){return`NavigationCancelEvent(id:${this.id},instructions:'${this.instructions}',reason:${String(this.reason)})`}}var bS=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},yS=function(t,e){return function(n,i){e(n,i,t)}};const wS=Gh.createInterface("IBaseHrefProvider",(t=>t.singleton(xS)));let xS=class{constructor(t){this.window=t}getBaseHref(){const t=this.window.document.head.querySelector("base");return null===t?null:SS(t.href)}};xS=bS([yS(0,jy)],xS);const kS=Gh.createInterface("ILocationManager",(t=>t.singleton(CS)));let CS=class{constructor(t,e,n,i,s,r){var o;this.logger=t,this.events=e,this.history=n,this.location=i,this.window=s,this.baseHrefProvider=r,this.eventId=0,this.logger=t.root.scopeTo("LocationManager");const a=r.getBaseHref();if(null===a){const t=null!==(o=i.origin)&&void 0!==o?o:"",e=this.baseHref=SS(t);this.logger.warn(`no baseHref provided, defaulting to origin '${e}' (normalized from '${t}')`)}else{const t=this.baseHref=SS(a);this.logger.debug(`baseHref set to '${t}' (normalized from '${a}')`)}}startListening(){this.logger.trace("startListening()"),this.window.addEventListener("popstate",this.onPopState,!1),this.window.addEventListener("hashchange",this.onHashChange,!1)}stopListening(){this.logger.trace("stopListening()"),this.window.removeEventListener("popstate",this.onPopState,!1),this.window.removeEventListener("hashchange",this.onHashChange,!1)}onPopState(t){this.logger.trace("onPopState()"),this.events.publish(new gS(++this.eventId,this.getPath(),"popstate",t.state))}onHashChange(t){this.logger.trace("onHashChange()"),this.events.publish(new gS(++this.eventId,this.getPath(),"hashchange",null))}pushState(t,e,n){try{const i=JSON.stringify(t);this.logger.trace(`pushState(state:${i},title:'${e}',url:'${n}')`)}catch(t){this.logger.warn(`pushState(state:NOT_SERIALIZABLE,title:'${e}',url:'${n}')`)}this.history.pushState(t,e,n)}replaceState(t,e,n){try{const i=JSON.stringify(t);this.logger.trace(`replaceState(state:${i},title:'${e}',url:'${n}')`)}catch(t){this.logger.warn(`replaceState(state:NOT_SERIALIZABLE,title:'${e}',url:'${n}')`)}this.history.replaceState(t,e,n)}getPath(){const{pathname:t,search:e,hash:n}=this.location,i=this.normalize(`${t}${s=e,s.length>0&&!s.startsWith("?")?`?${s}`:s}${n}`);var s;return this.logger.trace(`getPath() -> '${i}'`),i}currentPathEquals(t){const e=this.getPath()===this.normalize(t);return this.logger.trace(`currentPathEquals(path:'${t}') -> ${e}`),e}getExternalURL(t){const e=t;let n=this.baseHref;n.endsWith("/")&&(n=n.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1));const i=`${n}/${t}`;return this.logger.trace(`getExternalURL(path:'${e}') -> '${i}'`),i}normalize(t){const e=t;return t.startsWith(this.baseHref)&&(t=t.slice(this.baseHref.length)),t=SS(t),this.logger.trace(`normalize(path:'${e}') -> '${t}'`),t}};function SS(t){let e,n,i;return(i=t.indexOf("?"))>=0||(i=t.indexOf("#"))>=0?(e=t.slice(0,i),n=t.slice(i)):(e=t,n=""),e.endsWith("/")?e=e.slice(0,-1):e.endsWith("/index.html")&&(e=e.slice(0,-11)),`${e}${n}`}bS([Ph],CS.prototype,"onPopState",null),bS([Ph],CS.prototype,"onHashChange",null),CS=bS([yS(0,Xu),yS(1,dS),yS(2,Ly),yS(3,Fy),yS(4,jy),yS(5,wS)],CS);class $S{constructor(t,e,n,i){this.viewportName=t,this.componentName=e,this.resolution=n,this.append=i}static create(t){return new $S(t.viewportName,t.componentName,t.resolution,t.append)}toString(){return`VR(viewport:'${this.viewportName}',component:'${this.componentName}',resolution:'${this.resolution}',append:${this.append})`}}const TS=new WeakMap;class AS{constructor(t,e,n){this.viewport=t,this.hostController=e,this.ctx=n,this.isActive=!1,this.curCA=null,this.nextCA=null,this.state=8256,this.$resolution="dynamic",this.$plan="replace",this.currNode=null,this.nextNode=null,this.currTransition=null,this.prevTransition=null,this.logger=n.get(Xu).scopeTo(`ViewportAgent<${n.friendlyPath}>`),this.logger.trace("constructor()")}get $state(){return function(t){let e=RS.get(t);return void 0===e&&RS.set(t,e=function(t){const e=[];return 8192==(8192&t)&&e.push("currIsEmpty"),4096==(4096&t)&&e.push("currIsActive"),2048==(2048&t)&&e.push("currCanUnload"),1024==(1024&t)&&e.push("currCanUnloadDone"),512==(512&t)&&e.push("currUnload"),256==(256&t)&&e.push("currUnloadDone"),128==(128&t)&&e.push("currDeactivate"),64==(64&t)&&e.push("nextIsEmpty"),32==(32&t)&&e.push("nextIsScheduled"),16==(16&t)&&e.push("nextCanLoad"),8==(8&t)&&e.push("nextCanLoadDone"),4==(4&t)&&e.push("nextLoad"),2==(2&t)&&e.push("nextLoadDone"),1==(1&t)&&e.push("nextActivate"),e.join("|")}(t)),e}(this.state)}get currState(){return 16256&this.state}set currState(t){this.state=127&this.state|t}get nextState(){return 127&this.state}set nextState(t){this.state=16256&this.state|t}static for(t,e){let n=TS.get(t);if(void 0===n){const i=ny.getCachedOrThrow(t);TS.set(t,n=new AS(t,i,e))}return n}activateFromViewport(t,e,n){const i=this.currTransition;switch(null!==i&&PS(i),this.isActive=!0,this.nextState){case 64:switch(this.currState){case 8192:return void this.logger.trace("activateFromViewport() - nothing to activate at %s",this);case 4096:return this.logger.trace("activateFromViewport() - activating existing componentAgent at %s",this),this.curCA.activate(t,e,n);default:this.unexpectedState("activateFromViewport 1")}case 2:{if(null===this.currTransition)throw new Error(`Unexpected viewport activation outside of a transition context at ${this}`);if("static"!==this.$resolution)throw new Error(`Unexpected viewport activation at ${this}`);this.logger.trace("activateFromViewport() - running ordinary activate at %s",this);const e=XC.start((e=>{this.activate(t,this.currTransition,e)})),n=new Promise((t=>{e.continueWith((()=>{t()}))}));return e.start().done?void 0:n}default:this.unexpectedState("activateFromViewport 2")}}deactivateFromViewport(t,e,n){const i=this.currTransition;switch(null!==i&&PS(i),this.isActive=!1,this.currState){case 8192:return void this.logger.trace("deactivateFromViewport() - nothing to deactivate at %s",this);case 4096:return this.logger.trace("deactivateFromViewport() - deactivating existing componentAgent at %s",this),this.curCA.deactivate(t,e,n);case 128:return void this.logger.trace("deactivateFromViewport() - already deactivating at %s",this);default:{if(null===this.currTransition)throw new Error(`Unexpected viewport deactivation outside of a transition context at ${this}`);this.logger.trace("deactivateFromViewport() - running ordinary deactivate at %s",this);const e=XC.start((e=>{this.deactivate(t,this.currTransition,e)})),n=new Promise((t=>{e.continueWith((()=>{t()}))}));return e.start().done?void 0:n}}}handles(t){return!(!this.isAvailable(t.resolution)||(t.append&&4096===this.currState?(this.logger.trace("handles(req:%s) -> false (append mode, viewport already has content %s)",t,this.curCA),1):t.viewportName.length>0&&this.viewport.name!==t.viewportName?(this.logger.trace("handles(req:%s) -> false (names don't match)",t),1):this.viewport.usedBy.length>0&&!this.viewport.usedBy.split(",").includes(t.componentName)?(this.logger.trace("handles(req:%s) -> false (componentName not included in usedBy)",t),1):(this.logger.trace("handles(req:%s) -> true",t),0)))}isAvailable(t){return"dynamic"!==t||this.isActive?64===this.nextState||(this.logger.trace("isAvailable(resolution:%s) -> false (update already scheduled for %s)",t,this.nextNode),!1):(this.logger.trace("isAvailable(resolution:%s) -> false (viewport is not active and we're in dynamic resolution resolution)",t),!1)}canUnload(t,e){null===this.currTransition&&(this.currTransition=t),PS(t),!0===t.guardsResult&&(e.push(),XC.start((e=>{this.logger.trace("canUnload() - invoking on children at %s",this);for(const n of this.currNode.children)n.context.vpa.canUnload(t,e)})).continueWith((e=>{switch(this.currState){case 4096:switch(this.logger.trace("canUnload() - invoking on existing component at %s",this),this.$plan){case"none":return void(this.currState=1024);case"invoke-lifecycles":case"replace":return this.currState=2048,e.push(),void XC.start((e=>{this.logger.trace("canUnload() - finished invoking on children, now invoking on own component at %s",this),this.curCA.canUnload(t,this.nextNode,e)})).continueWith((()=>{this.logger.trace("canUnload() - finished at %s",this),this.currState=1024,e.pop()})).start()}case 8192:return void this.logger.trace("canUnload() - nothing to unload at %s",this);default:t.handleError(new Error(`Unexpected state at canUnload of ${this}`))}})).continueWith((()=>{e.pop()})).start())}canLoad(t,e){null===this.currTransition&&(this.currTransition=t),PS(t),!0===t.guardsResult&&(e.push(),XC.start((e=>{switch(this.nextState){case 32:switch(this.logger.trace("canLoad() - invoking on new component at %s",this),this.nextState=16,this.$plan){case"none":return;case"invoke-lifecycles":return this.curCA.canLoad(t,this.nextNode,e);case"replace":return this.nextCA=this.nextNode.context.createComponentAgent(this.hostController,this.nextNode),this.nextCA.canLoad(t,this.nextNode,e)}case 64:return void this.logger.trace("canLoad() - nothing to load at %s",this);default:this.unexpectedState("canLoad")}})).continueWith((t=>{const e=this.nextNode;switch(this.$plan){case"none":case"invoke-lifecycles":return this.logger.trace("canLoad(next:%s) - plan set to '%s', compiling residue",e,this.$plan),t.push(),void Lh(ZS(e),(()=>{t.pop()}));case"replace":switch(this.$resolution){case"dynamic":return void this.logger.trace("canLoad(next:%s) - (resolution: 'dynamic'), delaying residue compilation until activate",e,this.$plan);case"static":return this.logger.trace(`canLoad(next:%s) - (resolution: '${this.$resolution}'), creating nextCA and compiling residue`,e,this.$plan),t.push(),void Lh(ZS(e),(()=>{t.pop()}))}}})).continueWith((e=>{switch(this.nextState){case 16:this.logger.trace("canLoad() - finished own component, now invoking on children at %s",this),this.nextState=8;for(const n of this.nextNode.children)n.context.vpa.canLoad(t,e);return;case 64:return;default:this.unexpectedState("canLoad")}})).continueWith((()=>{this.logger.trace("canLoad() - finished at %s",this),e.pop()})).start())}unload(t,e){PS(t),ES(this,t),e.push(),XC.start((e=>{this.logger.trace("unload() - invoking on children at %s",this);for(const n of this.currNode.children)n.context.vpa.unload(t,e)})).continueWith((n=>{switch(this.currState){case 1024:switch(this.logger.trace("unload() - invoking on existing component at %s",this),this.$plan){case"none":return void(this.currState=256);case"invoke-lifecycles":case"replace":return this.currState=512,n.push(),void XC.start((e=>{this.logger.trace("unload() - finished invoking on children, now invoking on own component at %s",this),this.curCA.unload(t,this.nextNode,e)})).continueWith((()=>{this.logger.trace("unload() - finished at %s",this),this.currState=256,n.pop()})).start()}case 8192:this.logger.trace("unload() - nothing to unload at %s",this);for(const n of this.currNode.children)n.context.vpa.unload(t,e);return;default:this.unexpectedState("unload")}})).continueWith((()=>{e.pop()})).start()}load(t,e){PS(t),ES(this,t),e.push(),XC.start((e=>{switch(this.nextState){case 8:switch(this.logger.trace("load() - invoking on new component at %s",this),this.nextState=4,this.$plan){case"none":return;case"invoke-lifecycles":return this.curCA.load(t,this.nextNode,e);case"replace":return this.nextCA.load(t,this.nextNode,e)}case 64:return void this.logger.trace("load() - nothing to load at %s",this);default:this.unexpectedState("load")}})).continueWith((e=>{switch(this.nextState){case 4:this.logger.trace("load() - finished own component, now invoking on children at %s",this),this.nextState=2;for(const n of this.nextNode.children)n.context.vpa.load(t,e);return;case 64:return;default:this.unexpectedState("load")}})).continueWith((()=>{this.logger.trace("load() - finished at %s",this),e.pop()})).start()}deactivate(t,e,n){switch(PS(e),ES(this,e),n.push(),this.currState){case 256:switch(this.logger.trace("deactivate() - invoking on existing component at %s",this),this.currState=128,this.$plan){case"none":case"invoke-lifecycles":return void n.pop();case"replace":{const i=this.hostController,s=this.viewport.stateful?0:32;e.run((()=>this.curCA.deactivate(t,i,s)),(()=>{n.pop()}))}}return;case 8192:return this.logger.trace("deactivate() - nothing to deactivate at %s",this),void n.pop();case 128:return this.logger.trace("deactivate() - already deactivating at %s",this),void n.pop();default:this.unexpectedState("deactivate")}}activate(t,e,n){if(PS(e),ES(this,e),n.push(),32===this.nextState&&"dynamic"===this.$resolution)return this.logger.trace("activate() - invoking canLoad(), load() and activate() on new component due to resolution 'dynamic' at %s",this),void XC.start((t=>{this.canLoad(e,t)})).continueWith((t=>{this.load(e,t)})).continueWith((n=>{this.activate(t,e,n)})).continueWith((()=>{n.pop()})).start();switch(this.nextState){case 2:return this.logger.trace("activate() - invoking on existing component at %s",this),this.nextState=1,void XC.start((n=>{switch(this.$plan){case"none":case"invoke-lifecycles":return;case"replace":{const i=this.hostController,s=0;e.run((()=>(n.push(),this.nextCA.activate(t,i,s))),(()=>{n.pop()}))}}})).continueWith((t=>{this.processDynamicChildren(e,t)})).continueWith((()=>{n.pop()})).start();case 64:return this.logger.trace("activate() - nothing to activate at %s",this),void n.pop();default:this.unexpectedState("activate")}}swap(t,e){if(8192===this.currState)return this.logger.trace("swap() - running activate on next instead, because there is nothing to deactivate at %s",this),void this.activate(null,t,e);if(64===this.nextState)return this.logger.trace("swap() - running deactivate on current instead, because there is nothing to activate at %s",this),void this.deactivate(null,t,e);switch(PS(t),ES(this,t),256===this.currState&&2===this.nextState||this.unexpectedState("swap"),this.currState=128,this.nextState=1,this.$plan){case"none":case"invoke-lifecycles":{this.logger.trace("swap() - skipping this level and swapping children instead at %s",this);const n=ZC(this.nextNode.children,this.currNode.children);for(const i of n)i.context.vpa.swap(t,e);return}case"replace":{this.logger.trace("swap() - running normally at %s",this);const n=this.hostController,i=this.curCA,s=this.nextCA,r=this.viewport.stateful?0:32,o=0;switch(e.push(),t.options.swapStrategy){case"sequential-add-first":return void XC.start((e=>{t.run((()=>(e.push(),s.activate(null,n,o))),(()=>{e.pop()}))})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{t.run((()=>i.deactivate(null,n,r)),(()=>{e.pop()}))})).start();case"sequential-remove-first":return void XC.start((e=>{t.run((()=>(e.push(),i.deactivate(null,n,r))),(()=>{e.pop()}))})).continueWith((e=>{t.run((()=>(e.push(),s.activate(null,n,o))),(()=>{e.pop()}))})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{e.pop()})).start();case"parallel-remove-first":return t.run((()=>(e.push(),i.deactivate(null,n,r))),(()=>{e.pop()})),void XC.start((e=>{t.run((()=>(e.push(),s.activate(null,n,o))),(()=>{e.pop()}))})).continueWith((e=>{this.processDynamicChildren(t,e)})).continueWith((()=>{e.pop()})).start()}}}}processDynamicChildren(t,e){this.logger.trace("processDynamicChildren() - %s",this);const n=this.nextNode;t.run((()=>(e.push(),function(t){const e=t.context,n=e.get(Xu).scopeTo("RouteTree"),i=e.resolved instanceof Promise?" - awaiting promise":"";return n.trace(`getDynamicChildren(node:%s)${i}`,t),Lh(e.resolved,(()=>{const i=t.children.slice();return Lh(Nh(...t.residue.splice(0).map((e=>JS(n,t,e,t.append))),...e.getAvailableViewportAgents("dynamic").map((e=>{const i=p$.create({component:e.viewport.default,viewport:e.viewport.name});return JS(n,t,i,t.append)}))),(()=>t.children.filter((t=>!i.includes(t)))))}))}(n))),(n=>{XC.start((e=>{for(const i of n)t.run((()=>(e.push(),i.context.vpa.canLoad(t,e))),(()=>{e.pop()}))})).continueWith((e=>{for(const i of n)t.run((()=>(e.push(),i.context.vpa.load(t,e))),(()=>{e.pop()}))})).continueWith((e=>{for(const i of n)t.run((()=>(e.push(),i.context.vpa.activate(null,t,e))),(()=>{e.pop()}))})).continueWith((()=>{e.pop()})).start()}))}scheduleUpdate(t,e){var n,i;switch(this.nextState){case 64:this.nextNode=e,this.nextState=32,this.$resolution=t.resolutionMode;break;default:this.unexpectedState("scheduleUpdate 1")}switch(this.currState){case 8192:case 4096:case 1024:break;default:this.unexpectedState("scheduleUpdate 2")}const s=null!==(i=null===(n=this.curCA)||void 0===n?void 0:n.routeNode)&&void 0!==i?i:null;if(null===s||s.component!==e.component)this.$plan="replace";else{const t=e.context.definition.config.transitionPlan;this.$plan="function"==typeof t?t(s,e):t}this.logger.trace("scheduleUpdate(next:%s) - plan set to '%s'",e,this.$plan)}cancelUpdate(){switch(null!==this.currNode&&this.currNode.children.forEach((function(t){t.context.vpa.cancelUpdate()})),null!==this.nextNode&&this.nextNode.children.forEach((function(t){t.context.vpa.cancelUpdate()})),this.logger.trace("cancelUpdate(nextNode:%s)",this.nextNode),this.currState){case 8192:case 4096:break;case 2048:case 1024:this.currState=4096}switch(this.nextState){case 64:case 32:case 16:case 8:this.nextNode=null,this.nextState=64}}endTransition(){if(null!==this.currNode&&this.currNode.children.forEach((function(t){t.context.vpa.endTransition()})),null!==this.nextNode&&this.nextNode.children.forEach((function(t){t.context.vpa.endTransition()})),null!==this.currTransition){switch(PS(this.currTransition),this.nextState){case 64:switch(this.currState){case 128:this.logger.trace("endTransition() - setting currState to State.nextIsEmpty at %s",this),this.currState=8192,this.curCA=null;break;default:this.unexpectedState("endTransition 1")}break;case 1:switch(this.currState){case 8192:case 128:switch(this.$plan){case"none":case"invoke-lifecycles":this.logger.trace("endTransition() - setting currState to State.currIsActive at %s",this),this.currState=4096;break;case"replace":this.logger.trace("endTransition() - setting currState to State.currIsActive and reassigning curCA at %s",this),this.currState=4096,this.curCA=this.nextCA}this.currNode=this.nextNode;break;default:this.unexpectedState("endTransition 2")}break;default:this.unexpectedState("endTransition 3")}this.$plan="replace",this.nextState=64,this.nextNode=null,this.nextCA=null,this.prevTransition=this.currTransition,this.currTransition=null}}toString(){return`VPA(state:${this.$state},plan:'${this.$plan}',resolution:'${this.$resolution}',n:${this.nextNode},c:${this.currNode},viewport:${this.viewport})`}dispose(){var t;this.viewport.stateful?this.logger.trace("dispose() - not disposing stateful viewport at %s",this):(this.logger.trace("dispose() - disposing %s",this),null===(t=this.curCA)||void 0===t||t.dispose())}unexpectedState(t){throw new Error(`Unexpected state at ${t} of ${this}`)}}function ES(t,e){if(!0!==e.guardsResult)throw new Error(`Unexpected guardsResult ${e.guardsResult} at ${t}`)}function PS(t){if(void 0!==t.error)throw t.error}var OS;!function(t){t[t.curr=16256]="curr",t[t.currIsEmpty=8192]="currIsEmpty",t[t.currIsActive=4096]="currIsActive",t[t.currCanUnload=2048]="currCanUnload",t[t.currCanUnloadDone=1024]="currCanUnloadDone",t[t.currUnload=512]="currUnload",t[t.currUnloadDone=256]="currUnloadDone",t[t.currDeactivate=128]="currDeactivate",t[t.next=127]="next",t[t.nextIsEmpty=64]="nextIsEmpty",t[t.nextIsScheduled=32]="nextIsScheduled",t[t.nextCanLoad=16]="nextCanLoad",t[t.nextCanLoadDone=8]="nextCanLoadDone",t[t.nextLoad=4]="nextLoad",t[t.nextLoadDone=2]="nextLoadDone",t[t.nextActivate=1]="nextActivate",t[t.bothAreEmpty=8256]="bothAreEmpty"}(OS||(OS={}));const RS=new Map,IS=["?","#","/","+","(",")",".","@","!","=",",","&","'","~",";"];class jS{constructor(t){this.input=t,this.buffers=[],this.bufferIndex=0,this.index=0,this.rest=t}get done(){return 0===this.rest.length}startsWith(...t){const e=this.rest;return t.some((function(t){return e.startsWith(t)}))}consumeOptional(t){return!!this.startsWith(t)&&(this.rest=this.rest.slice(t.length),this.index+=t.length,this.append(t),!0)}consume(t){this.consumeOptional(t)||this.expect(`'${t}'`)}expect(t){throw new Error(`Expected ${t} at index ${this.index} of '${this.input}', but got: '${this.rest}' (rest='${this.rest}')`)}ensureDone(){if(!this.done)throw new Error(`Unexpected '${this.rest}' at index ${this.index} of '${this.input}'`)}advance(){const t=this.rest[0];this.rest=this.rest.slice(1),++this.index,this.append(t)}record(){this.buffers[this.bufferIndex++]=""}playback(){const t=--this.bufferIndex,e=this.buffers,n=e[t];return e[t]="",n}discard(){this.buffers[--this.bufferIndex]=""}append(t){const e=this.bufferIndex,n=this.buffers;for(let i=0;i<e;++i)n[i]+=t}}var FS;!function(t){t[t.Route=0]="Route",t[t.CompositeSegment=1]="CompositeSegment",t[t.ScopedSegment=2]="ScopedSegment",t[t.SegmentGroup=3]="SegmentGroup",t[t.Segment=4]="Segment",t[t.Component=5]="Component",t[t.Action=6]="Action",t[t.Viewport=7]="Viewport",t[t.ParameterList=8]="ParameterList",t[t.Parameter=9]="Parameter"}(FS||(FS={}));const LS=new Map,NS=new Map;class DS{constructor(t,e,n,i,s,r){this.raw=t,this.isAbsolute=e,this.root=n,this.queryParams=i,this.fragment=s,this.fragmentIsRoute=r}get kind(){return 0}static parse(t,e){const n=e?LS:NS;let i=n.get(t);return void 0===i&&n.set(t,i=DS.$parse(t,e)),i}static $parse(t,e){let n;const i=t.indexOf("#");if(i>=0){const s=t.slice(i+1);n=decodeURIComponent(s),t=e?n:t.slice(0,i)}else e&&(t=""),n=null;let s=null;const r=t.indexOf("?");if(r>=0){const e=t.slice(r+1);t=t.slice(0,r),s=new URLSearchParams(e)}if(""===t)return new DS("",!1,HS.EMPTY,Object.freeze(null!=s?s:new URLSearchParams),n,e);const o=new jS(t);o.record();const a=o.consumeOptional("/"),l=MS.parse(o);o.ensureDone();const c=o.playback();return new DS(c,a,l,Object.freeze(null!=s?s:new URLSearchParams),n,e)}toInstructionTree(t){return new f$(t,this.isAbsolute,this.root.toInstructions(t.append,0,0),this.queryParams,this.fragment)}toString(){return this.raw}}class MS{constructor(t,e,n){this.raw=t,this.siblings=e,this.append=n}get kind(){return 1}static parse(t){t.record();const e=t.consumeOptional("+"),n=[];do{n.push(BS.parse(t))}while(t.consumeOptional("+"));if(!e&&1===n.length)return t.discard(),n[0];const i=t.playback();return new MS(i,n,e)}toInstructions(t,e,n){switch(this.siblings.length){case 0:return[];case 1:return this.siblings[0].toInstructions(t,e,n);case 2:return[...this.siblings[0].toInstructions(t,e,0),...this.siblings[1].toInstructions(t,0,n)];default:return[...this.siblings[0].toInstructions(t,e,0),...this.siblings.slice(1,-1).flatMap((function(e){return e.toInstructions(t,0,0)})),...this.siblings[this.siblings.length-1].toInstructions(t,0,n)]}}toString(){return this.raw}}class BS{constructor(t,e,n){this.raw=t,this.left=e,this.right=n}get kind(){return 2}static parse(t){t.record();const e=VS.parse(t);if(t.consumeOptional("/")){const n=BS.parse(t),i=t.playback();return new BS(i,e,n)}return t.discard(),e}toInstructions(t,e,n){const i=this.left.toInstructions(t,e,0),s=this.right.toInstructions(!1,0,n);let r=i[i.length-1];for(;r.children.length>0;)r=r.children[r.children.length-1];return r.children.push(...s),i}toString(){return this.raw}}class VS{constructor(t,e){this.raw=t,this.expression=e}get kind(){return 3}static parse(t){if(t.record(),t.consumeOptional("(")){const e=MS.parse(t);t.consume(")");const n=t.playback();return new VS(n,e)}return t.discard(),HS.parse(t)}toInstructions(t,e,n){return this.expression.toInstructions(t,e+1,n+1)}toString(){return this.raw}}class HS{constructor(t,e,n,i,s){this.raw=t,this.component=e,this.action=n,this.viewport=i,this.scoped=s}get kind(){return 4}static get EMPTY(){return new HS("",qS.EMPTY,US.EMPTY,zS.EMPTY,!0)}static parse(t){t.record();const e=qS.parse(t),n=US.parse(t),i=zS.parse(t),s=!t.consumeOptional("!"),r=t.playback();return new HS(r,e,n,i,s)}toInstructions(t,e,n){return[p$.create({component:this.component.name,params:this.component.parameterList.toObject(),viewport:this.viewport.name,append:t,open:e,close:n})]}toString(){return this.raw}}class qS{constructor(t,e,n){switch(this.raw=t,this.name=e,this.parameterList=n,e.charAt(0)){case":":this.isParameter=!0,this.isStar=!1,this.isDynamic=!0,this.parameterName=e.slice(1);break;case"*":this.isParameter=!1,this.isStar=!0,this.isDynamic=!0,this.parameterName=e.slice(1);break;default:this.isParameter=!1,this.isStar=!1,this.isDynamic=!1,this.parameterName=e}}get kind(){return 5}static get EMPTY(){return new qS("","",_S.EMPTY)}static parse(t){if(t.record(),t.record(),!t.done)if(t.startsWith("./"))t.advance();else if(t.startsWith("../"))t.advance(),t.advance();else for(;!t.done&&!t.startsWith(...IS);)t.advance();const e=decodeURIComponent(t.playback());0===e.length&&t.expect("component name");const n=_S.parse(t),i=t.playback();return new qS(i,e,n)}toString(){return this.raw}}class US{constructor(t,e,n){this.raw=t,this.name=e,this.parameterList=n}get kind(){return 6}static get EMPTY(){return new US("","",_S.EMPTY)}static parse(t){t.record();let e="";if(t.consumeOptional(".")){for(t.record();!t.done&&!t.startsWith(...IS);)t.advance();e=decodeURIComponent(t.playback()),0===e.length&&t.expect("method name")}const n=_S.parse(t),i=t.playback();return new US(i,e,n)}toString(){return this.raw}}class zS{constructor(t,e){this.raw=t,this.name=e}get kind(){return 7}static get EMPTY(){return new zS("","")}static parse(t){t.record();let e="";if(t.consumeOptional("@")){for(t.record();!t.done&&!t.startsWith(...IS);)t.advance();e=decodeURIComponent(t.playback()),0===e.length&&t.expect("viewport name")}const n=t.playback();return new zS(n,e)}toString(){return this.raw}}class _S{constructor(t,e){this.raw=t,this.expressions=e}get kind(){return 8}static get EMPTY(){return new _S("",[])}static parse(t){t.record();const e=[];if(t.consumeOptional("(")){do{if(e.push(WS.parse(t,e.length)),!t.consumeOptional(","))break}while(!t.done&&!t.startsWith(")"));t.consume(")")}const n=t.playback();return new _S(n,e)}toObject(){const t={};for(const e of this.expressions)t[e.key]=e.value;return t}toString(){return this.raw}}class WS{constructor(t,e,n){this.raw=t,this.key=e,this.value=n}get kind(){return 9}static get EMPTY(){return new WS("","","")}static parse(t,e){for(t.record(),t.record();!t.done&&!t.startsWith(...IS);)t.advance();let n,i=decodeURIComponent(t.playback());if(0===i.length&&t.expect("parameter key"),t.consumeOptional("=")){for(t.record();!t.done&&!t.startsWith(...IS);)t.advance();n=decodeURIComponent(t.playback()),0===n.length&&t.expect("parameter value")}else n=i,i=e.toString();const s=t.playback();return new WS(s,i,n)}toString(){return this.raw}}Object.freeze({RouteExpression:DS,CompositeSegmentExpression:MS,ScopedSegmentExpression:BS,SegmentGroupExpression:VS,SegmentExpression:HS,ComponentExpression:qS,ActionExpression:US,ViewportExpression:zS,ParameterListExpression:_S,ParameterExpression:WS});let KS=0;class GS{constructor(t,e,n,i,s,r,o,a,l,c,h,u,d,p,g,f){this.id=t,this.path=e,this.finalPath=n,this.context=i,this.originalInstruction=s,this.instruction=r,this.params=o,this.queryParams=a,this.fragment=l,this.data=c,this.viewport=h,this.title=u,this.component=d,this.append=p,this.children=g,this.residue=f,this.version=1,this.originalInstruction=r}get root(){return this.tree.root}static create(t){var e,n,i,s,r,o,a,l;return new GS(++KS,t.path,t.finalPath,t.context,t.instruction,t.instruction,null!==(e=t.params)&&void 0!==e?e:{},null!==(n=t.queryParams)&&void 0!==n?n:Object.freeze(new URLSearchParams),null!==(i=t.fragment)&&void 0!==i?i:null,null!==(s=t.data)&&void 0!==s?s:{},null!==(r=t.viewport)&&void 0!==r?r:null,null!==(o=t.title)&&void 0!==o?o:null,t.component,t.append,null!==(a=t.children)&&void 0!==a?a:[],null!==(l=t.residue)&&void 0!==l?l:[])}contains(t){var e,n;if(this.context===t.options.context){const i=this.children,s=t.children;for(let t=0,r=i.length;t<r;++t)for(let o=0,a=s.length;o<a&&t+o<r&&null!==(n=null===(e=i[t+o].instruction)||void 0===e?void 0:e.contains(s[o]))&&void 0!==n&&n;++o)if(o+1===a)return!0}return this.children.some((function(e){return e.contains(t)}))}appendChild(t){this.children.push(t),t.setTree(this.tree)}appendChildren(...t){for(const e of t)this.appendChild(e)}clearChildren(){for(const t of this.children)t.clearChildren(),t.context.vpa.cancelUpdate();this.children.length=0}getTitle(t){const e=[...this.children.map((e=>e.getTitle(t))),this.getTitlePart()].filter((t=>null!==t));return 0===e.length?null:e.join(t)}getTitlePart(){return"function"==typeof this.title?this.title.call(void 0,this):this.title}computeAbsolutePath(){if(this.context.isRoot)return"";const t=this.context.parent.node.computeAbsolutePath(),e=this.instruction.toUrlComponent(!1);return t.length>0?e.length>0?[t,e].join("/"):t:e}setTree(t){this.tree=t;for(const e of this.children)e.setTree(t)}finalizeInstruction(){const t=this.children.map((t=>t.finalizeInstruction())),e=this.instruction.clone();return e.children.splice(0,e.children.length,...t),this.instruction=e}clone(){const t=new GS(this.id,this.path,this.finalPath,this.context,this.originalInstruction,this.instruction,{...this.params},{...this.queryParams},this.fragment,{...this.data},this.viewport,this.title,this.component,this.append,this.children.map((t=>t.clone())),[...this.residue]);return t.version=this.version+1,t.context.node===this&&(t.context.node=t),t}toString(){var t,e,n,i,s;const r=[],o=null!==(n=null===(e=null===(t=this.context)||void 0===t?void 0:t.definition.component)||void 0===e?void 0:e.name)&&void 0!==n?n:"";o.length>0&&r.push(`c:'${o}'`);const a=null!==(s=null===(i=this.context)||void 0===i?void 0:i.definition.config.path)&&void 0!==s?s:"";return a.length>0&&r.push(`path:'${a}'`),this.children.length>0&&r.push(`children:[${this.children.map(String).join(",")}]`),this.residue.length>0&&r.push(`residue:${this.residue.map((function(t){return"string"==typeof t?`'${t}'`:String(t)})).join(",")}`),`RN(ctx:'${this.context.friendlyPath}',${r.join(",")})`}}class QS{constructor(t,e,n,i){this.options=t,this.queryParams=e,this.fragment=n,this.root=i}contains(t){return this.root.contains(t)}clone(){const t=new QS(this.options.clone(),{...this.queryParams},this.fragment,this.root.clone());return t.root.setTree(this),t}finalizeInstructions(){return new f$(this.options,!0,this.root.children.map((t=>t.finalizeInstruction())),this.queryParams,this.fragment)}toString(){return this.root.toString()}}function YS(t,e,n){const i=n.get(Xu).scopeTo("RouteTree"),s=n.root;t.options=e.options,t.queryParams=e.queryParams,t.fragment=e.fragment,e.isAbsolute&&(n=s),n===s&&(t.root.setTree(t),s.node=t.root);const r=n.resolved instanceof Promise?" - awaiting promise":"";return i.trace(`updateRouteTree(rootCtx:%s,rt:%s,vit:%s)${r}`,s,t,e),Lh(n.resolved,(()=>XS(i,e,n,s.node)))}function XS(t,e,n,i){let s;return t.trace("updateNode(ctx:%s,node:%s)",n,i),i.queryParams=e.queryParams,i.fragment=e.fragment,s=i.context.isRoot?void 0:i.context.vpa.scheduleUpdate(i.tree.options,i),Lh(s,(()=>i.context===n?(i.clearChildren(),Lh(Nh(...e.children.map((e=>JS(t,i,e,i.tree.options.append||e.append)))),(()=>Nh(...n.getAvailableViewportAgents("dynamic").map((e=>{const n=p$.create({component:e.viewport.default,viewport:e.viewport.name});return JS(t,i,n,i.append)})))))):Nh(...i.children.map((i=>XS(t,e,n,i))))))}function ZS(t){const e=t.context,n=e.get(Xu).scopeTo("RouteTree"),i=e.resolved instanceof Promise?" - awaiting promise":"";return n.trace(`processResidue(node:%s)${i}`,t),Lh(e.resolved,(()=>Nh(...t.residue.splice(0).map((e=>JS(n,t,e,t.append))),...e.getAvailableViewportAgents("static").map((e=>{const i=p$.create({component:e.viewport.default,viewport:e.viewport.name});return JS(n,t,i,t.append)})))))}function JS(t,e,n,i){var s,r;switch(t.trace(`createAndAppendNodes(node:%s,vi:%s,append:${i})`,e,n),n.component.type){case 0:switch(n.component.value){case"..":e.clearChildren(),e=null!==(r=null===(s=e.context.parent)||void 0===s?void 0:s.node)&&void 0!==r?r:e;case".":return Nh(...n.children.map((n=>JS(t,e,n,n.append))));default:{const s=function(t,e,n,i){const s=e.context;let r=0,o=n.component.value,a=n;for(;1===a.children.length&&(a=a.children[0],0===a.component.type);)++r,o=`${o}/${a.component.value}`;const l=s.recognize(o);if(null===l){const r=n.component.value;let o=s.find(Ym,r);switch(e.tree.options.routingMode){case"configured-only":if(null===o){if(""===r)return null;throw new Error(`'${r}' did not match any configured route or registered component name at '${s.friendlyPath}' - did you forget to add '${r}' to the routes list of the route decorator of '${s.component.name}'?`)}throw new Error(`'${r}' did not match any configured route, but it does match a registered component name at '${s.friendlyPath}' - did you forget to add a @route({ path: '${r}' }) decorator to '${r}' or unintentionally set routingMode to 'configured-only'?`);case"configured-first":if(null===o){if(""===r)return null;const t=null===n.viewport||0===n.viewport.length?"default":n.viewport,e=s.getFallbackViewportAgent("dynamic",t);if(null===e)throw new Error(`'${r}' did not match any configured route or registered component name at '${s.friendlyPath}' and no fallback was provided for viewport '${t}' - did you forget to add the component '${r}' to the dependencies of '${s.component.name}' or to register it as a global dependency?`);const i=e.viewport.fallback;if(o=s.find(Ym,i),null===o)throw new Error(`the requested component '${r}' and the fallback '${i}' at viewport '${t}' did not match any configured route or registered component name at '${s.friendlyPath}' - did you forget to add the component '${r}' to the dependencies of '${s.component.name}' or to register it as a global dependency?`)}return e$(t,e,n,i,o)}}const c=null===l.residue?o:o.slice(0,-(l.residue.length+1));n.component.value=c;for(let t=0;t<r;++t)n.children=n.children[0].children;return t$(t,e,n,i,l)}(t,e,n,i);if(null===s)return;return n$(t,e,s)}}case 4:case 2:{const s=k$.resolve(n.component.value),r=e$(t,e,n,i,s.component);return n$(t,e,r)}}}function t$(t,e,n,i,s,r=s.route.endpoint.route){const o=e.context,a=e.tree;return Lh(r.handler,(l=>{if(r.handler=l,null===l.redirectTo){const c=l.viewport,h=l.component,u=o.resolveViewportAgent($S.create({viewportName:c,componentName:h.name,append:i,resolution:a.options.resolutionMode})),d=o.get(u$).getRouteContext(u,h,u.hostController.context);return d.node=GS.create({path:s.route.endpoint.route.path,finalPath:r.path,context:d,instruction:n,params:{...e.params,...s.route.params},queryParams:a.queryParams,fragment:a.fragment,data:l.data,viewport:c,component:h,append:i,title:l.config.title,residue:null===s.residue?[]:[p$.create(s.residue)]}),d.node.setTree(e.tree),t.trace("createConfiguredNode(vi:%s) -> %s",n,d.node),d.node}const c=DS.parse(r.path,!1),h=DS.parse(l.redirectTo,!1);let u,d;const p=[];switch(c.root.kind){case 2:case 4:u=c.root;break;default:throw new Error(`Unexpected expression kind ${c.root.kind}`)}switch(h.root.kind){case 2:case 4:d=h.root;break;default:throw new Error(`Unexpected expression kind ${h.root.kind}`)}let g,f,v=!1,m=!1;for(;!v||!m;){if(v)g=null;else if(4===u.kind)g=u,v=!0;else{if(4!==u.left.kind)throw new Error(`Unexpected expression kind ${u.left.kind}`);switch(g=u.left,u.right.kind){case 2:case 4:u=u.right;break;default:throw new Error(`Unexpected expression kind ${u.right.kind}`)}}if(m)f=null;else if(4===d.kind)f=d,m=!0;else{if(4!==d.left.kind)throw new Error(`Unexpected expression kind ${d.left.kind}`);switch(f=d.left,d.right.kind){case 2:case 4:d=d.right;break;default:throw new Error(`Unexpected expression kind ${d.right.kind}`)}}null!==f&&(f.component.isDynamic&&(null==g?void 0:g.component.isDynamic)?p.push(s.route.params[g.component.name]):p.push(f.raw))}const b=p.filter(Boolean).join("/"),y=o.recognize(b);if(null===y){const s=b,r=o.find(Ym,b);switch(a.options.routingMode){case"configured-only":if(null===r)throw new Error(`'${s}' did not match any configured route or registered component name at '${o.friendlyPath}' - did you forget to add '${s}' to the routes list of the route decorator of '${o.component.name}'?`);throw new Error(`'${s}' did not match any configured route, but it does match a registered component name at '${o.friendlyPath}' - did you forget to add a @route({ path: '${s}' }) decorator to '${s}' or unintentionally set routingMode to 'configured-only'?`);case"configured-first":if(null===r)throw new Error(`'${s}' did not match any configured route or registered component name at '${o.friendlyPath}' - did you forget to add the component '${s}' to the dependencies of '${o.component.name}' or to register it as a global dependency?`);return e$(t,e,n,i,r)}}return t$(t,e,n,i,s,y.route.endpoint.route)}))}function e$(t,e,n,i,s){var r;const o=e.context,a=e.tree,l=null!==(r=n.viewport)&&void 0!==r?r:"default",c=o.resolveViewportAgent($S.create({viewportName:l,componentName:s.name,append:i,resolution:a.options.resolutionMode})),h=o.get(u$).getRouteContext(c,s,c.hostController.context),u=k$.resolve(s);return h.node=GS.create({path:s.name,finalPath:s.name,context:h,instruction:n,params:{...o.node.params,...n.params},queryParams:a.queryParams,fragment:a.fragment,data:u.data,viewport:l,component:s,append:i,title:u.config.title,residue:[...n.children]}),h.node.setTree(o.node.tree),t.trace("createDirectNode(vi:%s) -> %s",n,h.node),h.node}function n$(t,e,n){return Lh(n,(n=>(t.trace("appendNode($childNode:%s)",n),e.appendChild(n),n.context.vpa.scheduleUpdate(e.tree.options,n))))}var i$=function(t,e){return function(n,i){e(n,i,t)}};const s$="au-nav-id";function r$(t,e){return{...t,[s$]:e}}function o$(t,e){return"function"==typeof e?e(t):e}class a${constructor(t,e,n,i,s,r,o,a,l,c){this.useUrlFragmentHash=t,this.useHref=e,this.statefulHistoryLength=n,this.routingMode=i,this.swapStrategy=s,this.resolutionMode=r,this.queryParamsStrategy=o,this.fragmentStrategy=a,this.historyStrategy=l,this.sameUrlStrategy=c}static get DEFAULT(){return a$.create({})}static create(t){var e,n,i,s,r,o,a,l,c,h;return new a$(null!==(e=t.useUrlFragmentHash)&&void 0!==e&&e,null===(n=t.useHref)||void 0===n||n,null!==(i=t.statefulHistoryLength)&&void 0!==i?i:0,null!==(s=t.routingMode)&&void 0!==s?s:"configured-first",null!==(r=t.swapStrategy)&&void 0!==r?r:"sequential-remove-first",null!==(o=t.resolutionMode)&&void 0!==o?o:"dynamic",null!==(a=t.queryParamsStrategy)&&void 0!==a?a:"overwrite",null!==(l=t.fragmentStrategy)&&void 0!==l?l:"overwrite",null!==(c=t.historyStrategy)&&void 0!==c?c:"push",null!==(h=t.sameUrlStrategy)&&void 0!==h?h:"ignore")}getQueryParamsStrategy(t){return o$(t,this.queryParamsStrategy)}getFragmentStrategy(t){return o$(t,this.fragmentStrategy)}getHistoryStrategy(t){return o$(t,this.historyStrategy)}getSameUrlStrategy(t){return o$(t,this.sameUrlStrategy)}stringifyProperties(){return[["routingMode","mode"],["swapStrategy","swap"],["resolutionMode","resolution"],["queryParamsStrategy","queryParams"],["fragmentStrategy","fragment"],["historyStrategy","history"],["sameUrlStrategy","sameUrl"]].map((([t,e])=>{const n=this[t];return`${e}:${"function"==typeof n?n:`'${n}'`}`})).join(",")}clone(){return new a$(this.useUrlFragmentHash,this.useHref,this.statefulHistoryLength,this.routingMode,this.swapStrategy,this.resolutionMode,this.queryParamsStrategy,this.fragmentStrategy,this.historyStrategy,this.sameUrlStrategy)}toString(){return`RO(${this.stringifyProperties()})`}}class l$ extends a${constructor(t,e,n,i,s,r,o,a){super(t.useUrlFragmentHash,t.useHref,t.statefulHistoryLength,t.routingMode,t.swapStrategy,t.resolutionMode,t.queryParamsStrategy,t.fragmentStrategy,t.historyStrategy,t.sameUrlStrategy),this.title=e,this.titleSeparator=n,this.append=i,this.context=s,this.queryParams=r,this.fragment=o,this.state=a}static get DEFAULT(){return l$.create({})}static create(t){var e,n,i,s,r,o,a;return new l$(a$.create(t),null!==(e=t.title)&&void 0!==e?e:null,null!==(n=t.titleSeparator)&&void 0!==n?n:" | ",null!==(i=t.append)&&void 0!==i&&i,null!==(s=t.context)&&void 0!==s?s:null,null!==(r=t.queryParams)&&void 0!==r?r:null,null!==(o=t.fragment)&&void 0!==o?o:"",null!==(a=t.state)&&void 0!==a?a:null)}clone(){return new l$(super.clone(),this.title,this.titleSeparator,this.append,this.context,{...this.queryParams},this.fragment,null===this.state?null:{...this.state})}toString(){return`NO(${super.stringifyProperties()})`}}class c${constructor(t,e,n,i,s,r){this.id=t,this.instructions=e,this.trigger=n,this.options=i,this.prevNavigation=s,this.finalInstructions=r}static create(t){return new c$(t.id,t.instructions,t.trigger,t.options,t.prevNavigation,t.finalInstructions)}toString(){return`N(id:${this.id},instructions:${this.instructions},trigger:'${this.trigger}')`}}class h${constructor(t,e,n,i,s,r,o,a,l,c,h,u,d,p,g){this.id=t,this.prevInstructions=e,this.instructions=n,this.finalInstructions=i,this.instructionsChanged=s,this.trigger=r,this.options=o,this.managedState=a,this.previousRouteTree=l,this.routeTree=c,this.promise=h,this.resolve=u,this.reject=d,this.guardsResult=p,this.error=g}static create(t){return new h$(t.id,t.prevInstructions,t.instructions,t.finalInstructions,t.instructionsChanged,t.trigger,t.options,t.managedState,t.previousRouteTree,t.routeTree,t.promise,t.resolve,t.reject,t.guardsResult,void 0)}run(t,e){if(!0===this.guardsResult)try{const n=t();n instanceof Promise?n.then(e).catch((t=>{this.handleError(t)})):e(n)}catch(t){this.handleError(t)}}handleError(t){this.reject(this.error=t)}toString(){return`T(id:${this.id},trigger:'${this.trigger}',instructions:${this.instructions},options:${this.options})`}}const u$=Gh.createInterface("IRouter",(t=>t.singleton(d$)));let d$=class{constructor(t,e,n,i,s){this.container=t,this.p=e,this.logger=n,this.events=i,this.locationMgr=s,this._ctx=null,this._routeTree=null,this._currentTr=null,this.options=a$.DEFAULT,this.navigated=!1,this.navigationId=0,this.lastSuccessfulNavigation=null,this.activeNavigation=null,this.instructions=f$.create(""),this.nextTr=null,this.locationChangeSubscription=null,this.vpaLookup=new Map,this.logger=n.root.scopeTo("Router")}get ctx(){let t=this._ctx;if(null===t){if(!this.container.has($$,!0))throw new Error("Root RouteContext is not set. Did you forget to register RouteConfiguration, or try to navigate before calling Aurelia.start()?");t=this._ctx=this.container.get($$)}return t}get routeTree(){let t=this._routeTree;if(null===t){const e=this.ctx;t=this._routeTree=new QS(l$.create({...this.options}),Object.freeze(new URLSearchParams),null,GS.create({path:"",finalPath:"",context:e,instruction:null,component:e.definition.component,append:!1}))}return t}get currentTr(){let t=this._currentTr;return null===t&&(t=this._currentTr=h$.create({id:0,prevInstructions:this.instructions,instructions:this.instructions,finalInstructions:this.instructions,instructionsChanged:!0,trigger:"api",options:l$.DEFAULT,managedState:null,previousRouteTree:this.routeTree.clone(),routeTree:this.routeTree,resolve:null,reject:null,promise:null,guardsResult:!0,error:void 0})),t}set currentTr(t){this._currentTr=t}resolveContext(t){return A$.resolve(this.ctx,t)}start(t,e){if(this.options=a$.create(t),this.locationMgr.startListening(),this.locationChangeSubscription=this.events.subscribe("au:router:location-change",(t=>{this.p.taskQueue.queueTask((()=>{const e=function(t){return zc(t)&&!0===Object.prototype.hasOwnProperty.call(t,s$)}(t.state)?t.state:null,n=l$.create({...this.options,historyStrategy:"replace"}),i=f$.create(t.url,n);this.enqueue(i,t.trigger,e,null)}))})),!this.navigated&&e)return this.load(this.locationMgr.getPath(),{historyStrategy:"replace"})}stop(){var t;this.locationMgr.stopListening(),null===(t=this.locationChangeSubscription)||void 0===t||t.dispose()}load(t,e){const n=this.createViewportInstructions(t,e);return this.logger.trace("load(instructions:%s)",n),this.enqueue(n,"api",null,null)}isActive(t,e){const n=this.resolveContext(e),i=this.createViewportInstructions(t,{context:n});return this.logger.trace("isActive(instructions:%s,ctx:%s)",i,n),this.routeTree.contains(i)}getRouteContext(t,e,n){const i=n.get(Xu).scopeTo("RouteContext"),s=k$.resolve(e.Type);let r=this.vpaLookup.get(t);void 0===r&&this.vpaLookup.set(t,r=new WeakMap);let o=r.get(s);if(void 0===o){i.trace("creating new RouteContext for %s",s);const a=n.has($$,!0)?n.get($$):null;r.set(s,o=new A$(t,a,e,s,n))}else i.trace("returning existing RouteContext for %s",s),null!==t&&(o.vpa=t);return o}createViewportInstructions(t,e){return f$.create(t,this.getNavigationOptions(e))}enqueue(t,e,n,i){const s=this.currentTr;if("api"!==e&&"api"===s.trigger&&s.instructions.equals(t))return this.logger.debug("Ignoring navigation triggered by '%s' because it is the same URL as the previous navigation which was triggered by 'api'.",e),!0;let r,o,a;null===i?a=new Promise((function(t,e){r=t,o=e})):(this.logger.debug("Reusing promise/resolve/reject from the previously failed transition %s",i),a=i.promise,r=i.resolve,o=i.reject);const l=this.nextTr=h$.create({id:++this.navigationId,trigger:e,managedState:n,prevInstructions:s.finalInstructions,finalInstructions:t,instructionsChanged:!s.finalInstructions.equals(t),instructions:t,options:t.options,promise:a,resolve:r,reject:o,previousRouteTree:this.routeTree,routeTree:this._routeTree=this.routeTree.clone(),guardsResult:!0,error:void 0});if(this.logger.debug("Scheduling transition: %s",l),null===this.activeNavigation)try{this.run(l)}catch(t){l.handleError(t)}return l.promise.then((t=>(this.logger.debug("Transition succeeded: %s",l),t))).catch((t=>{throw this.logger.error("Navigation failed: %s",l,t),t}))}run(t){this.currentTr=t,this.nextTr=null;const e=null===this.lastSuccessfulNavigation?null:c$.create({...this.lastSuccessfulNavigation,prevNavigation:null});this.activeNavigation=c$.create({id:t.id,instructions:t.instructions,trigger:t.trigger,options:t.options,prevNavigation:e,finalInstructions:t.finalInstructions});const n=this.resolveContext(t.options.context);return!this.navigated||t.instructions.children.length!==n.node.children.length||t.instructions.children.some(((t,e)=>{var i,s;return!(null!==(s=null===(i=n.node.children[e])||void 0===i?void 0:i.originalInstruction.equals(t))&&void 0!==s&&s)}))||"reload"===t.options.getSameUrlStrategy(this.instructions)?(this.logger.trace("run(tr:%s) - processing route",t),this.events.publish(new fS(t.id,t.instructions,t.trigger,t.managedState)),null!==this.nextTr?(this.logger.debug("run(tr:%s) - aborting because a new transition was queued in response to the NavigationStartEvent",t),this.run(this.nextTr)):(this.activeNavigation=c$.create({...this.activeNavigation,finalInstructions:t.finalInstructions}),void t.run((()=>(this.logger.trace("run() - compiling route tree: %s",t.finalInstructions),YS(t.routeTree,t.finalInstructions,n))),(()=>{const e=t.previousRouteTree.root.children,n=t.routeTree.root.children,i=ZC(e,n);XC.start((n=>{this.logger.trace(`run() - invoking canUnload on ${e.length} nodes`);for(const i of e)i.context.vpa.canUnload(t,n)})).continueWith((e=>{!0!==t.guardsResult&&(e.push(),this.cancelNavigation(t))})).continueWith((e=>{this.logger.trace(`run() - invoking canLoad on ${n.length} nodes`);for(const i of n)i.context.vpa.canLoad(t,e)})).continueWith((e=>{!0!==t.guardsResult&&(e.push(),this.cancelNavigation(t))})).continueWith((n=>{this.logger.trace(`run() - invoking unload on ${e.length} nodes`);for(const i of e)i.context.vpa.unload(t,n)})).continueWith((e=>{this.logger.trace(`run() - invoking load on ${n.length} nodes`);for(const i of n)i.context.vpa.load(t,e)})).continueWith((e=>{this.logger.trace(`run() - invoking swap on ${i.length} nodes`);for(const n of i)n.context.vpa.swap(t,e)})).continueWith((()=>{this.logger.trace("run() - finalizing transition"),i.forEach((function(t){t.context.vpa.endTransition()})),this.navigated=!0,this.instructions=t.finalInstructions=t.routeTree.finalizeInstructions(),this.events.publish(new vS(t.id,t.instructions,this.instructions)),this.lastSuccessfulNavigation=this.activeNavigation,this.activeNavigation=null,this.applyHistoryState(t),t.resolve(!0),this.runNextTransition(t)})).start()})))):(this.logger.trace("run(tr:%s) - NOT processing route",t),this.navigated=!0,this.activeNavigation=null,t.resolve(!1),void this.runNextTransition(t))}applyHistoryState(t){switch(t.options.getHistoryStrategy(this.instructions)){case"none":break;case"push":this.locationMgr.pushState(r$(t.options.state,t.id),this.updateTitle(t),t.finalInstructions.toUrl());break;case"replace":this.locationMgr.replaceState(r$(t.options.state,t.id),this.updateTitle(t),t.finalInstructions.toUrl())}}getTitle(t){var e,n;switch(typeof t.options.title){case"function":return null!==(e=t.options.title.call(void 0,t.routeTree.root))&&void 0!==e?e:"";case"string":return t.options.title;default:return null!==(n=t.routeTree.root.getTitle(t.options.titleSeparator))&&void 0!==n?n:""}}updateTitle(t){const e=this.getTitle(t);return e.length>0&&(this.p.document.title=e),this.p.document.title}cancelNavigation(t){this.logger.trace("cancelNavigation(tr:%s)",t),ZC(t.previousRouteTree.root.children,t.routeTree.root.children).forEach((function(t){t.context.vpa.cancelUpdate()})),this.activeNavigation=null,this.instructions=t.prevInstructions,this._routeTree=t.previousRouteTree,this.events.publish(new mS(t.id,t.instructions,`guardsResult is ${t.guardsResult}`)),!1===t.guardsResult?(t.resolve(!1),this.runNextTransition(t)):Lh(this.enqueue(t.guardsResult,"api",t.managedState,t),(()=>{this.logger.trace("cancelNavigation(tr:%s) - finished redirect",t)}))}runNextTransition(t){null!==this.nextTr&&(this.logger.trace("runNextTransition(tr:%s) -> scheduling nextTransition: %s",t,this.nextTr),this.p.taskQueue.queueTask((()=>{const t=this.nextTr;if(null!==t)try{this.run(t)}catch(e){t.handleError(e)}})))}getNavigationOptions(t){return l$.create({...this.options,...t})}};d$=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([i$(0,Qh),i$(1,hm),i$(2,Xu),i$(3,dS),i$(4,kS)],d$),Gh.createInterface("IViewportInstruction");class p${constructor(t,e,n,i,s,r,o,a){this.context=t,this.append=e,this.open=n,this.close=i,this.component=s,this.viewport=r,this.params=o,this.children=a}static create(t,e){var n,i,s,r,o,a,l,c,h;if(t instanceof p$)return t;if(rS(t)){const u=m$.create(t.component),d=null!==(i=null===(n=t.children)||void 0===n?void 0:n.map(p$.create))&&void 0!==i?i:[];return new p$(null!==(r=null!==(s=t.context)&&void 0!==s?s:e)&&void 0!==r?r:null,null!==(o=t.append)&&void 0!==o&&o,null!==(a=t.open)&&void 0!==a?a:0,null!==(l=t.close)&&void 0!==l?l:0,u,null!==(c=t.viewport)&&void 0!==c?c:null,null!==(h=t.params)&&void 0!==h?h:null,d)}const u=m$.create(t);return new p$(null!=e?e:null,!1,0,0,u,null,null,[])}contains(t){const e=this.children,n=t.children;if(e.length<n.length)return!1;if(!this.component.equals(t.component))return!1;for(let t=0,i=n.length;t<i;++t)if(!e[t].contains(n[t]))return!1;return!0}equals(t){const e=this.children,n=t.children;if(e.length!==n.length)return!1;if(!this.component.equals(t.component)||this.viewport!==t.viewport||!cS(this.params,t.params))return!1;for(let t=0,i=e.length;t<i;++t)if(!e[t].equals(n[t]))return!1;return!0}clone(){return new p$(this.context,this.append,this.open,this.close,this.component.clone(),this.viewport,null===this.params?null:{...this.params},[...this.children])}toUrlComponent(t=!0){const e=this.component.toUrlComponent(),n=null===this.params||0===Object.keys(this.params).length?"":`(${function(t){const e=Object.keys(t),n=Array(e.length),i=[],s=[];for(const t of e)bh(t)?i.push(Number(t)):s.push(t);for(let r=0;r<e.length;++r){const e=i.indexOf(r);if(e>-1)n[r]=t[r],i.splice(e,1);else{const e=s.shift();n[r]=`${e}=${t[e]}`}}return n.join(",")}(this.params)})`,i=null===this.viewport||0===this.viewport.length?"":`@${this.viewport}`,s=`${"(".repeat(this.open)}${e}${n}${i}${")".repeat(this.close)}`,r=t?this.children.map((t=>t.toUrlComponent())).join("+"):"";return s.length>0?r.length>0?[s,r].join("/"):s:r}toString(){return`VPI(${[`c:${this.component}`,null===this.viewport||0===this.viewport.length?"":`viewport:${this.viewport}`,0===this.children.length?"":`children:[${this.children.map(String).join(",")}]`].filter(Boolean).join(",")})`}}const g$=function(){let t=0;const e=new Map;return function(n){let i=e.get(n);return void 0===i&&e.set(n,i=++t),i}}();class f${constructor(t,e,n,i,s){this.options=t,this.isAbsolute=e,this.children=n,this.queryParams=i,this.fragment=s}static create(t,e){const n=l$.create({...e});return t instanceof f$?new f$(n,t.isAbsolute,t.children.map((t=>p$.create(t,n.context))),t.queryParams,t.fragment):t instanceof Array?new f$(n,!1,t.map((t=>p$.create(t,n.context))),Object.freeze(new URLSearchParams),null):"string"==typeof t?DS.parse(t,n.useUrlFragmentHash).toInstructionTree(n):new f$(n,!1,[p$.create(t,n.context)],Object.freeze(new URLSearchParams),null)}equals(t){const e=this.children,n=t.children;if(e.length!==n.length)return!1;for(let t=0,i=e.length;t<i;++t)if(!e[t].equals(n[t]))return!1;return!0}toUrl(){const t=this.children.map((t=>t.toUrlComponent())).join("+"),e=this.queryParams.toString();return""!==e?`${t}?${e}`:t}toString(){return`[${this.children.map(String).join(",")}]`}}var v$;!function(t){t[t.string=0]="string",t[t.ViewportInstruction=1]="ViewportInstruction",t[t.CustomElementDefinition=2]="CustomElementDefinition",t[t.Promise=3]="Promise",t[t.IRouteViewModel=4]="IRouteViewModel"}(v$||(v$={}));class m${constructor(t,e){this.type=t,this.value=e}static create(t){if(t instanceof m$)return t;if("string"==typeof t)return new m$(0,t);if(zc(t)){if("function"==typeof t){const e=Ym.getDefinition(t);return new m$(2,e)}if(t instanceof Promise)return new m$(3,t);if(rS(t)){const e=p$.create(t);return new m$(1,e)}if(ly(t))return new m$(4,t);if(t instanceof Gm)return new m$(2,t);if(nS(t)){const e=Ym.define(t),n=Ym.getDefinition(e);return new m$(2,n)}throw new Error(`Invalid component ${JC(t)}: must be either a class, a custom element ViewModel, or a (partial) custom element definition`)}oS("function/class or object","",t)}equals(t){switch(this.type){case 2:case 4:case 3:case 0:return this.type===t.type&&this.value===t.value;case 1:return this.type===t.type&&this.value.equals(t.value)}}clone(){return new m$(this.type,this.value)}toUrlComponent(){switch(this.type){case 2:return this.value.name;case 4:case 3:return`au$obj${g$(this.value)}`;case 1:return this.value.toUrlComponent();case 0:return this.value}}toString(){switch(this.type){case 2:return`CEDef(name:'${this.value.name}')`;case 3:return"Promise";case 4:return`VM(name:'${Ym.getDefinition(this.value.constructor).name}')`;case 1:return this.value.toString();case 0:return`'${this.value}'`}}}const b$=Su;function y$(t,e){return cS(t.params,e.params)?"none":"invoke-lifecycles"}class w${constructor(t,e,n,i,s,r,o,a,l){this.id=t,this.path=e,this.title=n,this.redirectTo=i,this.caseSensitive=s,this.transitionPlan=r,this.viewport=o,this.data=a,this.routes=l}static create(t,e){var n,i,s,r,o,a,l,c,h,u,d,p,g,f,v,m,b,y,w,x,k,C,S,$;if("string"==typeof t||t instanceof Array){const h=t,u=null!==(n=null==e?void 0:e.redirectTo)&&void 0!==n?n:null,d=null!==(i=null==e?void 0:e.caseSensitive)&&void 0!==i&&i,p=null!==(s=null==e?void 0:e.id)&&void 0!==s?s:h instanceof Array?h[0]:h,g=null!==(r=null==e?void 0:e.title)&&void 0!==r?r:null,f=null!==(o=null==e?void 0:e.transitionPlan)&&void 0!==o?o:y$,v=null!==(a=null==e?void 0:e.viewport)&&void 0!==a?a:null,m=null!==(l=null==e?void 0:e.data)&&void 0!==l?l:{},b=null!==(c=null==e?void 0:e.routes)&&void 0!==c?c:b$;return new w$(p,h,g,u,d,f,v,m,b)}if("object"==typeof t){const n=t;aS(n,"");const i=null!==(u=null!==(h=n.path)&&void 0!==h?h:null==e?void 0:e.path)&&void 0!==u?u:null,s=null!==(p=null!==(d=n.title)&&void 0!==d?d:null==e?void 0:e.title)&&void 0!==p?p:null,r=null!==(f=null!==(g=n.redirectTo)&&void 0!==g?g:null==e?void 0:e.redirectTo)&&void 0!==f?f:null,o=null!==(m=null!==(v=n.caseSensitive)&&void 0!==v?v:null==e?void 0:e.caseSensitive)&&void 0!==m&&m,a=null!==(y=null!==(b=n.id)&&void 0!==b?b:null==e?void 0:e.id)&&void 0!==y?y:i instanceof Array?i[0]:i,l=null!==(x=null!==(w=n.transitionPlan)&&void 0!==w?w:null==e?void 0:e.transitionPlan)&&void 0!==x?x:y$,c=null!==(C=null!==(k=n.viewport)&&void 0!==k?k:null==e?void 0:e.viewport)&&void 0!==C?C:null,T={...null==e?void 0:e.data,...n.data},A=[...null!==(S=n.routes)&&void 0!==S?S:b$,...null!==($=null==e?void 0:e.routes)&&void 0!==$?$:b$];return new w$(a,i,s,r,o,l,c,T,A)}oS("string, function/class or object","",t)}static configure(t,e){const n=w$.create(t,e);return ph.define(x$.name,n,e),e}static getConfig(t){return ph.hasOwn(x$.name,t)||x$.configure({},t),ph.getOwn(x$.name,t)}saveTo(t){ph.define(x$.name,this,t)}}const x$={name:Bh.resource.keyFor("route"),isConfigured:t=>ph.hasOwn(x$.name,t),configure(t,e){const n=w$.create(t,e);return ph.define(x$.name,n,e),e},getConfig:t=>(x$.isConfigured(t)||x$.configure({},t),ph.getOwn(x$.name,t))};class k${constructor(t,e){var n,i,s,r,o,a;this.config=t,this.component=e,this.hasExplicitPath=null!==t.path,this.caseSensitive=t.caseSensitive,this.path=tS(null!==(n=t.path)&&void 0!==n?n:e.name),this.redirectTo=null!==(i=t.redirectTo)&&void 0!==i?i:null,this.viewport=null!==(s=t.viewport)&&void 0!==s?s:"default",this.id="string"==typeof(a=null!==(r=t.id)&&void 0!==r?r:this.path)?a:a[0],this.data=null!==(o=t.data)&&void 0!==o?o:{}}static resolve(t,e){return sS(t)?new k$(t,null):Lh(this.resolveCustomElementDefinition(t,e),(e=>{const n=iS(t)?{...x$.getConfig(e.Type),...t}:x$.getConfig(e.Type);if(ph.hasOwn(x$.name,e)){let t=ph.getOwn(x$.name,e);t.config!==n&&(t=new k$(n,e),ph.define(x$.name,t,e))}else{const t=new k$(n,e);ph.define(x$.name,t,e)}return ph.getOwn(x$.name,e)}))}static resolveCustomElementDefinition(t,e){if(iS(t))return this.resolveCustomElementDefinition(t.component,e);const n=m$.create(t);switch(n.type){case 0:{if(void 0===e)throw new Error("When retrieving the RouteDefinition for a component name, a RouteContext (that can resolve it) must be provided");const t=e.find(Ym,n.value);if(null===t)throw new Error(`Could not find a CustomElement named '${n.value}' in the current container scope of ${e}. This means the component is neither registered at Aurelia startup nor via the 'dependencies' decorator or static property.`);return t}case 2:return n.value;case 4:return Ym.getDefinition(n.value.constructor);case 3:if(void 0===e)throw new Error("RouteContext must be provided when resolving an imported module");return e.resolveLazy(n.value)}}register(t){var e;null===(e=this.component)||void 0===e||e.register(t)}toUrlComponent(){return"not-implemented"}toString(){const t=null===this.config.path?"null":`'${this.config.path}'`;return null!==this.component?`RD(config.path:${t},c.name:'${this.component.name}')`:`RD(config.path:${t},redirectTo:'${this.redirectTo}')`}}const C$=new WeakMap;class S${constructor(t,e,n,i,s){var r,o,a,l;this.instance=t,this.controller=e,this.definition=n,this.routeNode=i,this.ctx=s,this.logger=s.get(Xu).scopeTo(`ComponentAgent<${s.friendlyPath}>`),this.logger.trace("constructor()");const c=e.lifecycleHooks;this.canLoadHooks=(null!==(r=c.canLoad)&&void 0!==r?r:[]).map((t=>t.instance)),this.loadHooks=(null!==(o=c.load)&&void 0!==o?o:[]).map((t=>t.instance)),this.canUnloadHooks=(null!==(a=c.canUnload)&&void 0!==a?a:[]).map((t=>t.instance)),this.unloadHooks=(null!==(l=c.unload)&&void 0!==l?l:[]).map((t=>t.instance)),this.hasCanLoad="canLoad"in t,this.hasLoad="load"in t,this.hasCanUnload="canUnload"in t,this.hasUnload="unload"in t}static for(t,e,n,i){let s=C$.get(t);if(void 0===s){const r=k$.resolve(t.constructor),o=ny.forCustomElement(i.get(fy),i,t,e.host,null);C$.set(t,s=new S$(t,o,r,n,i))}return s}activate(t,e,n){if(null===t)return this.logger.trace("activate() - initial"),this.controller.activate(this.controller,e,n);this.logger.trace("activate()"),this.controller.activate(t,e,n)}deactivate(t,e,n){if(null===t)return this.logger.trace("deactivate() - initial"),this.controller.deactivate(this.controller,e,n);this.logger.trace("deactivate()"),this.controller.deactivate(t,e,n)}dispose(){this.logger.trace("dispose()"),this.controller.dispose()}canUnload(t,e,n){this.logger.trace(`canUnload(next:%s) - invoking ${this.canUnloadHooks.length} hooks`,e),n.push();for(const i of this.canUnloadHooks)t.run((()=>(n.push(),i.canUnload(this.instance,e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1),n.pop()}));this.hasCanUnload&&t.run((()=>(n.push(),this.instance.canUnload(e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1),n.pop()})),n.pop()}canLoad(t,e,n){this.logger.trace(`canLoad(next:%s) - invoking ${this.canLoadHooks.length} hooks`,e),n.push();for(const i of this.canLoadHooks)t.run((()=>(n.push(),i.canLoad(this.instance,e.params,e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1!==e&&f$.create(e)),n.pop()}));this.hasCanLoad&&t.run((()=>(n.push(),this.instance.canLoad(e.params,e,this.routeNode))),(e=>{!0===t.guardsResult&&!0!==e&&(t.guardsResult=!1!==e&&f$.create(e)),n.pop()})),n.pop()}unload(t,e,n){this.logger.trace(`unload(next:%s) - invoking ${this.unloadHooks.length} hooks`,e),n.push();for(const i of this.unloadHooks)t.run((()=>(n.push(),i.unload(this.instance,e,this.routeNode))),(()=>{n.pop()}));this.hasUnload&&t.run((()=>(n.push(),this.instance.unload(e,this.routeNode))),(()=>{n.pop()})),n.pop()}load(t,e,n){this.logger.trace(`load(next:%s) - invoking ${this.loadHooks.length} hooks`,e),n.push();for(const i of this.loadHooks)t.run((()=>(n.push(),i.load(this.instance,e.params,e,this.routeNode))),(()=>{n.pop()}));this.hasLoad&&t.run((()=>(n.push(),this.instance.load(e.params,e,this.routeNode))),(()=>{n.pop()})),n.pop()}toString(){return`CA(ctx:'${this.ctx.friendlyPath}',c:'${this.definition.component.name}')`}}const $$=Gh.createInterface("IRouteContext"),T$="au$residue";class A${constructor(t,e,n,i,s){var r;this.parent=e,this.component=n,this.definition=i,this.parentContainer=s,this.childViewportAgents=[],this.childRoutes=[],this._resolved=null,this._allResolved=null,this.prevNode=null,this._node=null,this._vpa=null,this._vpa=t,null===e?(this.root=this,this.path=[this],this.friendlyPath=n.name):(this.root=e.root,this.path=[...e.path,this],this.friendlyPath=`${e.friendlyPath}/${n.name}`),this.logger=s.get(Xu).scopeTo(`RouteContext<${this.friendlyPath}>`),this.logger.trace("constructor()"),this.moduleLoader=s.get(cd);const o=this.container=s.createChild({inheritParentResources:!0});o.registerResolver(gy,this.hostControllerProvider=new wu,!0);const a=new wu;o.registerResolver($$,a,!0),a.prepare(this),o.register(i),o.register(...n.dependencies),this.recognizer=new zC;const l=[],c=[];for(const t of i.config.routes)if(t instanceof Promise){const e=this.addRoute(t);l.push(e),c.push(e)}else{const e=k$.resolve(t,this);if(e instanceof Promise){if(!iS(t)||null==t.path)throw new Error("Invalid route config. When the component property is a lazy import, the path must be specified. To use lazy loading without specifying the path (e.g. in direct routing), pass the import promise as a direct value to the routes array instead of providing it as the component property on an object literal.");{for(const n of tS(t.path))this.$addRoute(n,null!==(r=t.caseSensitive)&&void 0!==r&&r,e);const n=this.childRoutes.length,i=e.then((t=>this.childRoutes[n]=t));this.childRoutes.push(i),c.push(i.then(Tu))}}else{for(const t of e.path)this.$addRoute(t,e.caseSensitive,e);this.childRoutes.push(e)}}l.length>0&&(this._resolved=Promise.all(l).then((()=>{this._resolved=null}))),c.length>0&&(this._allResolved=Promise.all(c).then((()=>{this._allResolved=null})))}get id(){return this.container.id}get isRoot(){return null===this.parent}get depth(){return this.path.length-1}get resolved(){return this._resolved}get allResolved(){return this._allResolved}get node(){const t=this._node;if(null===t)throw new Error(`Invariant violation: RouteNode should be set immediately after the RouteContext is created. Context: ${this}`);return t}set node(t){(this.prevNode=this._node)!==t&&(this._node=t,this.logger.trace("Node changed from %s to %s",this.prevNode,t))}get vpa(){const t=this._vpa;if(null===t)throw new Error(`RouteContext has no ViewportAgent: ${this}`);return t}set vpa(t){if(null==t)throw new Error(`Cannot set ViewportAgent to ${t} for RouteContext: ${this}`);const e=this._vpa;e!==t&&(this._vpa=t,this.logger.trace("ViewportAgent changed from %s to %s",e,t))}static setRoot(t){const e=t.get(Xu).scopeTo("RouteContext");t.has(fy,!0)||E$(new Error("The provided container has no registered IAppRoot. RouteContext.setRoot can only be used after Aurelia.app was called, on a container that is within that app's component tree."),e),t.has($$,!0)&&E$(new Error('A root RouteContext is already registered. A possible cause is the RouterConfiguration being registered more than once in the same container tree. If you have a multi-rooted app, make sure you register RouterConfiguration only in the "forked" containers and not in the common root.'),e);const{controller:n}=t.get(fy);void 0===n&&E$(new Error("The provided IAppRoot does not (yet) have a controller. A possible cause is calling this API manually before Aurelia.start() is called"),e);const i=t.get(u$),s=i.getRouteContext(null,n.context.definition,n.context);t.register(yu.instance($$,s)),s.node=i.routeTree.root}static resolve(t,e){const n=t.get(Xu).scopeTo("RouteContext");if(null==e)return n.trace("resolve(context:%s) - returning root RouteContext",e),t;if(e instanceof A$)return n.trace("resolve(context:%s) - returning provided RouteContext",e),e;if(e instanceof t.get(hm).Node)try{const t=Ym.for(e,{searchParents:!0});return n.trace(`resolve(context:Node(nodeName:'${e.nodeName}'),controller:'${t.context.definition.name}') - resolving RouteContext from controller's RenderContext`),t.context.get($$)}catch(t){throw n.error(`Failed to resolve RouteContext from Node(nodeName:'${e.nodeName}')`,t),t}if(ly(e)){const t=e.$controller;return n.trace(`resolve(context:CustomElementViewModel(name:'${t.context.definition.name}')) - resolving RouteContext from controller's RenderContext`),t.context.get($$)}if(ay(e)){const t=e;return n.trace(`resolve(context:CustomElementController(name:'${t.context.definition.name}')) - resolving RouteContext from controller's RenderContext`),t.context.get($$)}E$(new Error(`Invalid context type: ${Object.prototype.toString.call(e)}`),n)}has(t,e){return this.container.has(t,e)}get(t){return this.container.get(t)}getAll(t){return this.container.getAll(t)}register(...t){return this.container.register(...t)}registerResolver(t,e){return this.container.registerResolver(t,e)}registerTransformer(t,e){return this.container.registerTransformer(t,e)}getResolver(t,e){return this.container.getResolver(t,e)}invoke(t,e){return this.container.invoke(t,e)}getFactory(t){return this.container.getFactory(t)}registerFactory(t,e){this.container.registerFactory(t,e)}createChild(){return this.container.createChild()}disposeResolvers(){this.container.disposeResolvers()}find(t,e){return this.container.find(t,e)}create(t,e){return this.container.create(t,e)}dispose(){this.container.dispose()}resolveViewportAgent(t){this.logger.trace("resolveViewportAgent(req:%s)",t);const e=this.childViewportAgents.find((e=>e.handles(t)));if(void 0===e)throw new Error(`Failed to resolve ${t} at:\n${this.printTree()}`);return e}getAvailableViewportAgents(t){return this.childViewportAgents.filter((e=>e.isAvailable(t)))}getFallbackViewportAgent(t,e){var n;return null!==(n=this.childViewportAgents.find((n=>n.isAvailable(t)&&n.viewport.name===e&&n.viewport.fallback.length>0)))&&void 0!==n?n:null}createComponentAgent(t,e){this.logger.trace("createComponentAgent(routeNode:%s)",e),this.hostControllerProvider.prepare(t);const n=k$.resolve(e.component),i=this.container.get(n.component.key),s=S$.for(i,t,e,this);return this.hostControllerProvider.dispose(),s}registerViewport(t){const e=AS.for(t,this);return this.childViewportAgents.includes(e)?this.logger.trace("registerViewport(agent:%s) -> already registered, so skipping",e):(this.logger.trace("registerViewport(agent:%s) -> adding",e),this.childViewportAgents.push(e)),e}unregisterViewport(t){const e=AS.for(t,this);this.childViewportAgents.includes(e)?(this.logger.trace("unregisterViewport(agent:%s) -> unregistering",e),this.childViewportAgents.splice(this.childViewportAgents.indexOf(e),1)):this.logger.trace("unregisterViewport(agent:%s) -> not registered, so skipping",e)}recognize(t){var e;this.logger.trace(`recognize(path:'${t}')`);const n=this.recognizer.recognize(t);if(null===n)return null;let i;return Reflect.has(n.params,T$)?(i=null!==(e=n.params[T$])&&void 0!==e?e:null,Reflect.deleteProperty(n.params,T$)):i=null,new O$(n,i)}addRoute(t){return this.logger.trace(`addRoute(routeable:'${t}')`),Lh(k$.resolve(t,this),(t=>{for(const e of t.path)this.$addRoute(e,t.caseSensitive,t);this.childRoutes.push(t)}))}$addRoute(t,e,n){this.recognizer.add({path:t,caseSensitive:e,handler:n}),this.recognizer.add({path:`${t}/*au$residue`,caseSensitive:e,handler:n})}resolveLazy(t){return this.moduleLoader.load(t,(e=>{let n,i;for(const t of e.items)if(t.isConstructable){const e=t.definitions.find(P$);void 0!==e&&("default"===t.key?n=e:void 0===i&&(i=e))}if(void 0===n){if(void 0===i)throw new Error(`${t} does not appear to be a component or CustomElement recognizable by Aurelia`);return i}return n}))}toString(){const t=this.childViewportAgents.map(String).join(",");return`RC(path:'${this.friendlyPath}',viewports:[${t}])`}printTree(){const t=[];for(let e=0;e<this.path.length;++e)t.push(`${" ".repeat(e)}${this.path[e]}`);return t.join("\n")}}function E$(t,e){throw e.error(t),t}function P$(t){return Ym.isType(t.Type)}class O${constructor(t,e){this.route=t,this.residue=e}}var R$=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},I$=function(t,e){return function(n,i){e(n,i,t)}};let j$=class{constructor(t,e){this.logger=t,this.ctx=e,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noHistory=!1,this.stateful=!1,this.agent=void 0,this.controller=void 0,this.logger=t.scopeTo(`au-viewport<${e.friendlyPath}>`),this.logger.trace("constructor()")}hydrated(t){this.logger.trace("hydrated()"),this.controller=t,this.agent=this.ctx.registerViewport(this)}attaching(t,e,n){return this.logger.trace("attaching()"),this.agent.activateFromViewport(t,this.controller,n)}detaching(t,e,n){return this.logger.trace("detaching()"),this.agent.deactivateFromViewport(t,this.controller,n)}dispose(){this.logger.trace("dispose()"),this.ctx.unregisterViewport(this),this.agent.dispose(),this.agent=void 0}toString(){const t=[];for(const e of F$){const n=this[e];switch(typeof n){case"string":""!==n&&t.push(`${e}:'${n}'`);break;case"boolean":n&&t.push(`${e}:${n}`);break;default:t.push(`${e}:${String(n)}`)}}return`VP(ctx:'${this.ctx.friendlyPath}',${t.join(",")})`}};R$([Rv],j$.prototype,"name",void 0),R$([Rv],j$.prototype,"usedBy",void 0),R$([Rv],j$.prototype,"default",void 0),R$([Rv],j$.prototype,"fallback",void 0),R$([Rv],j$.prototype,"noScope",void 0),R$([Rv],j$.prototype,"noLink",void 0),R$([Rv],j$.prototype,"noHistory",void 0),R$([Rv],j$.prototype,"stateful",void 0),j$=R$([Wm({name:"au-viewport"}),I$(0,Xu),I$(1,$$)],j$);const F$=["name","usedBy","default","fallback","noScope","noLink","noHistory","stateful"];var L$=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},N$=function(t,e){return function(n,i){e(n,i,t)}};let D$=class{constructor(t,e,n,i,s,r){this.target=t,this.el=e,this.router=n,this.events=i,this.delegator=s,this.ctx=r,this.attribute="href",this.active=!1,this.href=null,this.instructions=null,this.eventListener=null,this.navigationEndListener=null,this.onClick=t=>{null!==this.instructions&&(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey||0!==t.button||(t.preventDefault(),this.router.load(this.instructions,{context:this.ctx})))},this.isEnabled=!e.hasAttribute("external")&&!e.hasAttribute("data-external")}binding(){this.isEnabled&&(this.eventListener=this.delegator.addEventListener(this.target,this.el,"click",this.onClick)),this.valueChanged(),this.navigationEndListener=this.events.subscribe("au:router:navigation-end",(t=>{this.valueChanged(),this.active=null!==this.instructions&&this.router.isActive(this.instructions,this.ctx)}))}attaching(){if(null!==this.ctx.allResolved)return this.ctx.allResolved.then((()=>{this.valueChanged()}))}unbinding(){this.isEnabled&&this.eventListener.dispose(),this.navigationEndListener.dispose()}valueChanged(){if(null!==this.route&&void 0!==this.route&&null===this.ctx.allResolved){const t=this.ctx.childRoutes.find((t=>t.id===this.route));if(void 0!==t){const e=this.ctx.node.computeAbsolutePath();let n=t.path[0];if("object"==typeof this.params&&null!==this.params){const t=Object.keys(this.params);for(const e of t){const t=this.params[e];null!=t&&String(t).length>0&&(n=n.replace(new RegExp(`[*:]${e}[?]?`),t))}}n=n.replace(/\/[*:][^/]+[?]/g,"").replace(/[*:][^/]+[?]\//g,""),this.href=e?n?[e,n].join("/"):e:n,this.instructions=this.router.createViewportInstructions(n,{context:this.ctx})}else"object"==typeof this.params&&null!==this.params?this.instructions=this.router.createViewportInstructions({component:this.route,params:this.params},{context:this.ctx}):this.instructions=this.router.createViewportInstructions(this.route,{context:this.ctx}),this.href=this.instructions.toUrl()}else this.instructions=null,this.href=null;const t=Ym.for(this.el,{optional:!0});null!==t?t.viewModel[this.attribute]=this.instructions:null===this.href?this.el.removeAttribute(this.attribute):this.el.setAttribute(this.attribute,this.href)}};L$([Rv({mode:mp.toView,primary:!0,callback:"valueChanged"})],D$.prototype,"route",void 0),L$([Rv({mode:mp.toView,callback:"valueChanged"})],D$.prototype,"params",void 0),L$([Rv({mode:mp.toView})],D$.prototype,"attribute",void 0),L$([Rv({mode:mp.fromView})],D$.prototype,"active",void 0),D$=L$([Jm("load"),N$(0,$y),N$(1,Sy),N$(2,u$),N$(3,dS),N$(4,qy),N$(5,$$)],D$);var M$=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},B$=function(t,e){return function(n,i){e(n,i,t)}};let V$=class{constructor(t,e,n,i,s,r){if(this.target=t,this.el=e,this.router=n,this.delegator=i,this.ctx=s,this.eventListener=null,this.isInitialized=!1,this.onClick=t=>{if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey||0!==t.button)return;const e=this.el.getAttribute("href");null!==e&&(t.preventDefault(),this.router.load(e,{context:this.ctx}))},!n.options.useHref||"A"!==e.nodeName||e.hasAttribute("external")||e.hasAttribute("data-external"))this.isEnabled=!1;else switch(e.getAttribute("target")){case null:case r.name:case"_self":this.isEnabled=!0;break;default:this.isEnabled=!1}}binding(){this.isInitialized||(this.isInitialized=!0,this.isEnabled=this.isEnabled&&null===ky(this.el,nb.getDefinition(D$).key)),this.isEnabled&&(this.el.setAttribute("href",this.value),this.eventListener=this.delegator.addEventListener(this.target,this.el,"click",this.onClick))}unbinding(){this.isEnabled&&this.eventListener.dispose()}valueChanged(t){this.el.setAttribute("href",t)}};M$([Rv({mode:mp.toView})],V$.prototype,"value",void 0),V$=M$([Jm({name:"href",noMultiBindings:!0}),B$(0,$y),B$(1,Sy),B$(2,u$),B$(3,qy),B$(4,$$),B$(5,jy)],V$);class H${constructor(t){this.el=t,this.top=t.scrollTop,this.left=t.scrollLeft}static has(t){return t.scrollTop>0||t.scrollLeft>0}restore(){this.el.scrollTo(this.left,this.top),this.el=null}}function q$(t){t.restore()}class U${constructor(t){this.scrollStates=[],this.save(t.children)}save(t){let e;for(let n=0,i=t.length;n<i;++n)e=t[n],H$.has(e)&&this.scrollStates.push(new H$(e)),this.save(e.children)}restore(){this.scrollStates.forEach(q$),this.scrollStates=null}}Gh.createInterface("IStateManager",(t=>t.singleton(z$)));class z${constructor(){this.cache=new WeakMap}saveState(t){this.cache.set(t.host,new U$(t.host))}restoreState(t){const e=this.cache.get(t.host);void 0!==e&&(e.restore(),this.cache.delete(t.host))}}const _$=wd.getOrCreate(globalThis);class W$ extends class{constructor(t=Gh.createContainer()){if(this.container=t,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this.startPromise=void 0,this.stopPromise=void 0,t.has(AC,!0))throw new Error("An instance of Aurelia is already registered with the container or an ancestor of it.");t.register(yu.instance(AC,this)),t.registerResolver(fy,this.rootProvider=new wu("IAppRoot"))}get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(null==this._root){if(null==this.next)throw new Error("root is not defined");return this.next}return this._root}register(...t){return this.container.register(...t),this}app(t){return this.next=new wy(t,this.initPlatform(t.host),this.container,this.rootProvider,!1),this}enhance(t){return this.next=new wy(t,this.initPlatform(t.host),this.container,this.rootProvider,!0),this}async waitForIdle(){const t=this.root.platform;await t.domWriteQueue.yield(),await t.domReadQueue.yield(),await t.taskQueue.yield()}initPlatform(t){let e;if(this.container.has(hm,!1))e=this.container.get(hm);else{if(null===t.ownerDocument.defaultView)throw new Error("Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView");e=new wd(t.ownerDocument.defaultView),this.container.register(yu.instance(hm,e))}return e}start(t=this.next){if(null==t)throw new Error("There is no composition root");return this.startPromise instanceof Promise?this.startPromise:this.startPromise=Lh(this.stop(),(()=>(Reflect.set(t.host,"$aurelia",this),this.rootProvider.prepare(this._root=t),this._isStarting=!0,Lh(t.activate(),(()=>{this._isRunning=!0,this._isStarting=!1,this.startPromise=void 0,this.dispatchEvent(t,"au-started",t.host)})))))}stop(t=!1){if(this.stopPromise instanceof Promise)return this.stopPromise;if(!0===this._isRunning){const e=this._root;return this._isRunning=!1,this._isStopping=!0,this.stopPromise=Lh(e.deactivate(),(()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this._root=void 0,this.rootProvider.dispose(),this._isStopping=!1,this.dispatchEvent(e,"au-stopped",e.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw new Error("The aurelia instance must be fully stopped before it can be disposed");this.container.dispose()}dispatchEvent(t,e,n){const i=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});n.dispatchEvent(i)}}{constructor(t=function(){return Gh.createContainer().register(yu.instance(hm,_$),TC)}()){super(t)}static start(t){return(new W$).start(t)}static app(t){return(new W$).app(t)}static enhance(t){return(new W$).enhance(t)}static register(...t){return(new W$).register(...t)}app(t){if(Ym.isType(t)){const e=Ym.getDefinition(t);let n=document.querySelector(e.name);return null===n&&(n=document.body),super.app({host:n,component:t})}return super.app(t)}}const K$=W$;class G${static register(t){G$.extendTemplatingSyntax(t)}static extendTemplatingSyntax(t){jm.with(Qh).beforeCreate().call((t=>{const e=t.get($x),n=t.get(yk);e.useTwoWay(((t,e)=>{switch(t.tagName){case"ECOS-SELECT":case"ECOS-SLIDER":case"ECOS-TEXT-FIELD":case"ECOS-TEXT-AREA":return"value"===e;case"ECOS-CHECKBOX":case"ECOS-RADIO":case"ECOS-RADIO-GROUP":case"ECOS-SWITCH":return"checked"===e;case"ECOS-TABS":return"activeid"===e;default:return!1}}));const i={events:["input","change"]};n.useConfig({"ECOS-CHECKBOX":{value:i},"ECOS-RADIO":{value:i},"ECOS-RADIO-GROUP":{value:i},"ECOS-SELECT":{value:i},"ECOS-SLIDER":{value:i},"ECOS-SWITCH":{checked:i},"ECOS-TABS":{activeid:i},"ECOS-TEXT-FIELD":{value:i},"ECOS-TEXT-AREA":{value:i}})})).register(t)}}var Q$=n(998);m()(Q$.Z,{insert:"head",singleton:!1}),Q$.Z.locals;var Y$=n(208);m()(Y$.Z,{insert:"head",singleton:!1}),Y$.Z.locals;var X$=n(818);m()(X$.Z,{insert:"head",singleton:!1}),X$.Z.locals;const Z$=document.createElement("style");Z$.innerHTML=`.navbar-content {padding-top: calc((${Pl}) * 1px)}`,document.head.appendChild(Z$);Gh.createInterface("IEventManager",(t=>t.singleton(J$)));let J$=class{constructor(t){this.ea=t,this.subscriptions=new Map}publish(t,e){this.ea.publish(t,e)}subscribe(t,e,n){this.subscribes(t,e)&&this.unsubscribe(t,e);const i=this.ea.subscribe(e,n);let s=this.subscriptions.get(t);void 0===s&&(s=new Map),s.set(e,i),this.subscriptions.set(t,s)}unsubscribe(t,e){const n=this.subscriptions.get(t);if(void 0!==e)n.get(e).dispose(),n.delete(e),this.subscriptions.set(t,n);else for(const e of n.keys())this.unsubscribe(t,e)}subscribes(t,e){const n=this.subscriptions.get(t);return void 0!==n&&(void 0===e||n.has(e))}};J$=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([function(t,e){return function(n,i){e(n,i,t)}}(0,vd)],J$);class tT{constructor(t,e,n,i={}){this.router=t,this.name=e,this.connectedCE=n,this.options=i,this.contents=[],this.transitionAction="",this.path=null}getContent(){return this.contents[0]}getNextContent(){return this.contents.length>1?this.contents[this.contents.length-1]:null}getTimeContent(t=1/0){return this.getContent()}get activeContent(){var t;return null!==(t=this.getNextContent())&&void 0!==t?t:this.getContent()}get connectedScope(){var t;return null===(t=this.activeContent)||void 0===t?void 0:t.connectedScope}get scope(){return this.connectedScope.scope}get owningScope(){return this.connectedScope.owningScope}get connectedController(){var t,e;return null!==(e=null===(t=this.connectedCE)||void 0===t?void 0:t.$controller)&&void 0!==e?e:null}get isViewport(){return this instanceof $T}get isViewportScope(){return this instanceof bT}get isEmpty(){return!1}get pathname(){return this.connectedScope.pathname}toString(){throw new Error("Method 'toString' needs to be implemented in all endpoints!")}setNextContent(t,e){throw new Error("Method 'setNextContent' needs to be implemented in all endpoints!")}setConnectedCE(t,e){throw new Error("Method 'setConnectedCE' needs to be implemented in all endpoints!")}transition(t){throw new Error("Method 'transition' needs to be implemented in all endpoints!")}finalizeContentChange(t){throw new Error("Method 'finalizeContentChange' needs to be implemented in all endpoints!")}cancelContentChange(t,e){throw new Error("Method 'cancelContentChange' needs to be implemented in all endpoints!")}getRoutes(){throw new Error("Method 'getRoutes' needs to be implemented in all endpoints!")}getTitle(t){throw new Error("Method 'getTitle' needs to be implemented in all endpoints!")}removeEndpoint(t,e){var n;return this.getContent().delete(),null===(n=this.getNextContent())||void 0===n||n.delete(),!0}canUnload(t){return!0}canLoad(t){return!0}unload(t){}load(t){}}class eT{constructor(t,e,n,i,s=AT.create(""),r=wT.create({instruction:"",fullStateInstruction:""})){var o,a,l;this.router=t,this.endpoint=e,this.instruction=s,this.navigation=r,this.completed=!1,this.connectedScope=new FT(t,i,n,this),null!==this.router.rootScope&&(null!==(a=null===(o=this.endpoint.connectedScope)||void 0===o?void 0:o.parent)&&void 0!==a?a:null===(l=this.router.rootScope)||void 0===l?void 0:l.scope).addChild(this.connectedScope)}get isActive(){return this.endpoint.activeContent===this}delete(){var t;null===(t=this.connectedScope.parent)||void 0===t||t.removeChild(this.connectedScope)}}class nT{static parse(t,e,n,i){if(!e)return{instructions:[],remaining:""};if(e.startsWith(t.sibling)&&!nT.isAdd(t,e))throw new Error(`Instruction parser error: Unnecessary siblings separator ${t.sibling} in beginning of instruction part "${e}".`);const s=[];let r=1e3;for(;e.length&&r;)if(r--,e.startsWith(t.scope)){if(0===s.length)throw new Error(`Instruction parser error: Children without parent in instruction part "(${e}" is not allowed.`);i=!1;const r=(e=e.slice(t.scope.length)).startsWith(t.groupStart);r&&(e=e.slice(t.groupStart.length),n=!0);const{instructions:o,remaining:a}=nT.parse(t,e,r,!1);s[s.length-1].nextScopeInstructions=o,e=a}else if(e.startsWith(t.groupStart)){e=e.slice(t.groupStart.length);const{instructions:n,remaining:r}=nT.parse(t,e,!0,i);s.push(...n),e=r}else if(e.startsWith(t.groupEnd)){n&&(e=e.slice(t.groupEnd.length));let i=0;const r=e.length;for(;i<r;i++){if(e.slice(i,i+t.sibling.length)===t.sibling)return{instructions:s,remaining:e};if(e.slice(i,i+t.groupEnd.length)!==t.groupEnd){if(s.length>1)throw new Error(`Instruction parser error: Children below scope ${t.groupStart}${t.groupEnd} in instruction part "(${e}" is not allowed.`);e=e.slice(i);break}}if(i>=r)return{instructions:s,remaining:e}}else if(e.startsWith(t.sibling)&&!nT.isAdd(t,e)){if(!n)return{instructions:s,remaining:e};e=e.slice(t.sibling.length)}else{const{instruction:n,remaining:i}=nT.parseOne(t,e);s.push(n),e=i}return{instructions:s,remaining:e}}static isAdd(t,e){return e===t.add||e.startsWith(`${t.add}${t.viewport}`)}static parseOne(t,e){const n=[t.parameters,t.viewport,t.noScope,t.groupEnd,t.scope,t.sibling];let i,s,r,o,a,l=!0;const c=[t.add,t.clear];for(const s of c)if(e===s){i=e,e="",n.shift(),n.shift(),o=t.viewport;break}if(void 0===i)for(const s of c)if(e.startsWith(`${s}${t.viewport}`)){i=s,e=e.slice(`${s}${t.viewport}`.length),n.shift(),n.shift(),o=t.viewport;break}if(void 0===i&&(({token:o,pos:a}=nT.findNextToken(e,n)),i=-1!==a?e.slice(0,a):e,e=-1!==a?e.slice(a+o.length):"",n.shift(),o===t.parameters&&(({token:o,pos:a}=nT.findNextToken(e,[t.parametersEnd])),s=e.slice(0,a),e=e.slice(a+o.length),({token:o}=nT.findNextToken(e,n)),e=e.slice(o.length)),n.shift()),o===t.viewport&&(({token:o,pos:a}=nT.findNextToken(e,n)),r=-1!==a?e.slice(0,a):e,e=-1!==a?e.slice(a+o.length):""),n.shift(),o===t.noScope&&(l=!1),o!==t.groupEnd&&o!==t.scope&&o!==t.sibling||(e=`${o}${e}`),""===(null!=i?i:""))throw new Error(`Instruction parser error: No component specified in instruction part "${e}".`);return{instruction:AT.create(i,r,s,l),remaining:e}}static findNextToken(t,e){const n={};for(const i of e)t.indexOf(i)>-1&&(n[i]=t.indexOf(i));const i=Math.min(...Object.values(n));for(const t in n)if(n[t]===i)return{token:t,pos:i};return{token:"",pos:-1}}}class iT{constructor(t="${componentTitles}${appTitleSeparator}Aurelia",e=" | ",n="top-down",i=" > ",s=!0,r="app-",o){this.appTitle=t,this.appTitleSeparator=e,this.componentTitleOrder=n,this.componentTitleSeparator=i,this.useComponentNames=s,this.componentPrefix=r,this.transformTitle=o}static create(t={}){return new iT((t="string"==typeof t?{appTitle:t}:t).appTitle,t.appTitleSeparator,t.componentTitleOrder,t.componentTitleSeparator,t.useComponentNames,t.componentPrefix,t.transformTitle)}static for(t){return oT.for(t).title}apply(t={}){var e,n,i,s,r,o;t="string"==typeof t?{appTitle:t}:t,this.appTitle=null!==(e=t.appTitle)&&void 0!==e?e:this.appTitle,this.appTitleSeparator=null!==(n=t.appTitleSeparator)&&void 0!==n?n:this.appTitleSeparator,this.componentTitleOrder=null!==(i=t.componentTitleOrder)&&void 0!==i?i:this.componentTitleOrder,this.componentTitleSeparator=null!==(s=t.componentTitleSeparator)&&void 0!==s?s:this.componentTitleSeparator,this.useComponentNames=null!==(r=t.useComponentNames)&&void 0!==r?r:this.useComponentNames,this.componentPrefix=null!==(o=t.componentPrefix)&&void 0!==o?o:this.componentPrefix,this.transformTitle="transformTitle"in t?t.transformTitle:this.transformTitle}}class sT{constructor(t="@",e="+",n="/",i="(",s=")",r="!",o="(",a=")",l=",",c="=",h="+",u="-",d="."){this.viewport=t,this.sibling=e,this.scope=n,this.groupStart=i,this.groupEnd=s,this.noScope=r,this.parameters=o,this.parametersEnd=a,this.parameterSeparator=l,this.parameterKeySeparator=c,this.add=h,this.clear=u,this.action=d}static create(t={}){return new sT(t.viewport,t.sibling,t.scope,t.groupStart,t.groupEnd,t.noScope,t.parameters,t.parametersEnd,t.parameterSeparator,t.parameterKeySeparator,t.add,t.clear,t.action)}static for(t){return oT.for(t).separators}apply(t={}){var e,n,i,s,r,o,a,l,c,h,u,d,p;this.viewport=null!==(e=t.viewport)&&void 0!==e?e:this.viewport,this.sibling=null!==(n=t.sibling)&&void 0!==n?n:this.sibling,this.scope=null!==(i=t.scope)&&void 0!==i?i:this.scope,this.groupStart=null!==(s=t.groupStart)&&void 0!==s?s:this.groupStart,this.groupEnd=null!==(r=t.groupEnd)&&void 0!==r?r:this.groupEnd,this.noScope=null!==(o=t.noScope)&&void 0!==o?o:this.noScope,this.parameters=null!==(a=t.parameters)&&void 0!==a?a:this.parameters,this.parametersEnd=null!==(l=t.parametersEnd)&&void 0!==l?l:this.parametersEnd,this.parameterSeparator=null!==(c=t.parameterSeparator)&&void 0!==c?c:this.parameterSeparator,this.parameterKeySeparator=null!==(h=t.parameterKeySeparator)&&void 0!==h?h:this.parameterKeySeparator,this.add=null!==(u=t.add)&&void 0!==u?u:this.add,this.clear=null!==(d=t.clear)&&void 0!==d?d:this.clear,this.action=null!==(p=t.action)&&void 0!==p?p:this.action}}class rT{constructor(t="active",e="viewport-active"){this.loadActive=t,this.viewportActive=e}static create(t={}){return new rT(t.loadActive,t.viewportActive)}static for(t){return oT.for(t).indicators}apply(t={}){var e,n;this.loadActive=null!==(e=t.loadActive)&&void 0!==e?e:this.loadActive,this.viewportActive=null!==(n=t.viewportActive)&&void 0!==n?n:this.viewportActive}}class oT{constructor(t=sT.create(),e=rT.create(),n=!0,i=null,s=!0,r=0,o=!0,a=!0,l=!0,c=iT.create(),h=["guardedUnload","swapped","completed"],u="attach-next-detach-current"){this.separators=t,this.indicators=e,this.useUrlFragmentHash=n,this.basePath=i,this.useHref=s,this.statefulHistoryLength=r,this.useDirectRouting=o,this.useConfiguredRoutes=a,this.additiveInstructionDefault=l,this.title=c,this.navigationSyncStates=h,this.swapOrder=u,this.registrationHooks=[]}static create(t={}){return new oT(sT.create(t.separators),rT.create(t.indicators),t.useUrlFragmentHash,t.basePath,t.useHref,t.statefulHistoryLength,t.useDirectRouting,t.useConfiguredRoutes,t.additiveInstructionDefault,iT.create(t.title),t.navigationSyncStates,t.swapOrder)}static for(t){return t instanceof BA?t.options:(t=t instanceof KT?t.configuration:t.get(NA)).options}apply(t){var e,n,i,s,r,o,a,l;t=null!=t?t:{},this.separators.apply(t.separators),this.indicators.apply(t.indicators),this.useUrlFragmentHash=null!==(e=t.useUrlFragmentHash)&&void 0!==e?e:this.useUrlFragmentHash,this.useHref=null!==(n=t.useHref)&&void 0!==n?n:this.useHref,this.statefulHistoryLength=null!==(i=t.statefulHistoryLength)&&void 0!==i?i:this.statefulHistoryLength,this.useDirectRouting=null!==(s=t.useDirectRouting)&&void 0!==s?s:this.useDirectRouting,this.useConfiguredRoutes=null!==(r=t.useConfiguredRoutes)&&void 0!==r?r:this.useConfiguredRoutes,this.additiveInstructionDefault=null!==(o=t.additiveInstructionDefault)&&void 0!==o?o:this.additiveInstructionDefault,this.title.apply(t.title),this.navigationSyncStates=null!==(a=t.navigationSyncStates)&&void 0!==a?a:this.navigationSyncStates,this.swapOrder=null!==(l=t.swapOrder)&&void 0!==l?l:this.swapOrder,Array.isArray(t.hooks)&&(void 0!==this.routerConfiguration?t.hooks.forEach((t=>this.routerConfiguration.addHook(t.hook,t.options))):this.registrationHooks=t.hooks)}setRouterConfiguration(t){this.routerConfiguration=t,this.registrationHooks.forEach((t=>this.routerConfiguration.addHook(t.hook,t.options))),this.registrationHooks.length=0}}var aT;!function(t){t.none="none",t.string="string",t.array="array",t.object="object"}(aT||(aT={}));class lT{constructor(){this.parametersString=null,this.parametersRecord=null,this.parametersList=null,this.parametersType="none"}get none(){return"none"===this.parametersType}static create(t){const e=new lT;return e.set(t),e}static parse(t,e,n=!1){if(null==e||0===e.length)return[];const i=sT.for(t),s=i.parameterSeparator,r=i.parameterKeySeparator;if("string"==typeof e){const t=[],i=e.split(s);for(const e of i){let i,s;[i,s]=e.split(r),void 0===s?(s=n?decodeURIComponent(i):i,i=void 0):n&&(i=decodeURIComponent(i),s=decodeURIComponent(s)),t.push({key:i,value:s})}return t}if(Array.isArray(e))return e.map((t=>({key:void 0,value:t})));const o=Object.keys(e);return o.sort(),o.map((t=>({key:t,value:e[t]})))}static parseQuery(t){const e={};return null==t||0===t.length||new URLSearchParams(t).forEach(((t,n)=>{t=decodeURIComponent(t),n=decodeURIComponent(n),t in e?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n)):e[t]=n})),e}get typedParameters(){switch(this.parametersType){case"string":return this.parametersString;case"array":return this.parametersList;case"object":return this.parametersRecord;default:return null}}static stringify(t,e,n=!1){if(!Array.isArray(e)||0===e.length)return"";const i=sT.for(t);return e.map((t=>{const e=void 0!==t.key&&n?encodeURIComponent(t.key):t.key,s=n?encodeURIComponent(t.value):t.value;return void 0!==e&&e!==s?e+i.parameterKeySeparator+s:s})).join(i.parameterSeparator)}static contains(t,e){return Object.keys(e).every((n=>e[n]===t[n]))}parameters(t){return lT.parse(t,this.typedParameters)}set(t){this.parametersString=null,this.parametersList=null,this.parametersRecord=null,null==t||""===t?(this.parametersType="none",t=null):"string"==typeof t?(this.parametersType="string",this.parametersString=t):Array.isArray(t)?(this.parametersType="array",this.parametersList=t):(this.parametersType="object",this.parametersRecord=t)}get(t,e){if(void 0===e)return this.parameters(t);const n=this.parameters(t).filter((t=>t.key===e)).map((t=>t.value));return 0!==n.length?1===n.length?n[0]:n:void 0}addParameters(t){if("none"===this.parametersType)return this.set(t);if("object"!==this.parametersType)throw new Error("Can't add object parameters to existing non-object parameters!");this.set({...this.parametersRecord,...t})}toSpecifiedParameters(t,e){e=null!=e?e:[];const n=this.parameters(t),i={};for(const t of e){let e=n.findIndex((e=>e.key===t));if(e>=0){const[s]=n.splice(e,1);i[t]=s.value}else if(e=n.findIndex((t=>void 0===t.key)),e>=0){const[s]=n.splice(e,1);i[t]=s.value}}for(const t of n.filter((t=>void 0!==t.key)))i[t.key]=t.value;let s=e.length;for(const t of n.filter((t=>void 0===t.key)))i[s++]=t.value;return i}toSortedParameters(t,e){e=e||[];const n=this.parameters(t),i=[];for(const t of e){let e=n.findIndex((e=>e.key===t));if(e>=0){const t={...n.splice(e,1)[0]};t.key=void 0,i.push(t)}else if(e=n.findIndex((t=>void 0===t.key)),e>=0){const t={...n.splice(e,1)[0]};i.push(t)}else i.push({value:void 0})}const s=n.filter((t=>void 0!==t.key));return s.sort(((t,e)=>(t.key||"")<(e.key||"")?1:(e.key||"")<(t.key||"")?-1:0)),i.push(...s),i.push(...n.filter((t=>void 0===t.key))),i}same(t,e,n){const i=null!==n?n.parameters:[],s=this.toSpecifiedParameters(t,i),r=e.toSpecifiedParameters(t,i);return Object.keys(s).every((t=>s[t]===r[t]))&&Object.keys(r).every((t=>r[t]===s[t]))}}class cT{constructor(){this.name=null,this.type=null,this.instance=null,this.promise=null}static create(t){const e=new cT;return e.set(t),e}static isName(t){return"string"==typeof t}static isDefinition(t){return Ym.isType(t.Type)}static isType(t){return Ym.isType(t)}static isInstance(t){return ly(t)}static isAppelation(t){return cT.isName(t)||cT.isType(t)||cT.isInstance(t)}static getName(t){return cT.isName(t)?t:cT.isType(t)?Ym.getDefinition(t).name:cT.getName(t.constructor)}static getType(t){return cT.isName(t)?null:cT.isType(t)?t:t.constructor}static getInstance(t){return cT.isName(t)||cT.isType(t)?null:t}set(t){let e=null,n=null,i=null,s=null;t instanceof Promise?s=t:cT.isName(t)?e=cT.getName(t):cT.isType(t)?(e=this.getNewName(t),n=cT.getType(t)):cT.isInstance(t)&&(e=this.getNewName(cT.getType(t)),n=cT.getType(t),i=cT.getInstance(t)),this.name=e,this.type=n,this.instance=i,this.promise=s}resolve(){if(this.promise instanceof Promise)return this.promise.then((t=>{if(cT.isAppelation(t))return void this.set(t);if(null!=t.default)return void this.set(t.default);if(0===Object.keys(t).length)throw new Error("Failed to load component Type from resolved Promise since no export was specified.");if(Object.keys(t).length>1)throw new Error("Failed to load component Type from resolved Promise since no 'default' export was specified when having multiple exports.");const e=Object.keys(t)[0];this.set(t[e])}))}get none(){return!this.isName()&&!this.isType()&&!this.isInstance()}isName(){return!!this.name&&!this.isType()&&!this.isInstance()}isType(){return null!==this.type&&!this.isInstance()}isInstance(){return null!==this.instance}isPromise(){return null!==this.promise}toType(t){if(null!==this.type)return this.type;if(null!==this.name&&"string"==typeof this.name){if(null===t)throw new Error(`No container available when trying to resolve component '${this.name}'!`);if(t.has(Ym.keyFrom(this.name),!0)){const e=t.getResolver(Ym.keyFrom(this.name));if(null!==e&&void 0!==e.getFactory){const n=e.getFactory(t);if(n)return n.Type}}}return null}toInstance(t){if(null!==this.instance)return this.instance;if(null!=t){const e=this.isType()?t.get(this.type):t.get(Ym.keyFrom(this.name));return!this.isType()||e instanceof this.type||console.warn("Failed to instantiate",this.type,e),null!=e?e:null}return null}same(t,e=!1){return e?this.type===t.type:this.name===t.name}getNewName(t){return null===this.name?cT.getName(t):this.name}}function hT(t,e){const n=[];let i=t.findIndex(e);for(;i>=0;)n.push(t.splice(i,1)[0]),i=t.findIndex(e);return n}function uT(t,e=!1){return t.filter(((t,n,i)=>(e||null!=t)&&i.indexOf(t)===n))}class dT{constructor(){this.isPending=!0,this.promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e}))}resolve(t){this._resolve(t),this.isPending=!1}reject(t){this._reject(t),this.isPending=!1}}class pT{constructor(){this.isDone=!1,this.isCancelled=!1,this.isResolved=!1,this.isRejected=!1,this.isAsync=!1}static run(t,...e){var n,i;if(0===(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0))return null==e?void 0:e[0];let s=!1;null===t&&(t=new gT,s=!0);const r=new gT(e.shift());return pT.connect(t,r,null!==(i=null==t?void 0:t.runParallel)&&void 0!==i&&i||s),e.length>0&&pT.add(r,!1,...e),s?(pT.process(t),t.result instanceof Promise&&this.runners.set(t.result,t),t.result):r}static runParallel(t,...e){var n,i;if(0===(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0))return[];let s=!1;return null===t?(t=new gT,s=!0):t=pT.connect(t,new gT,!0),pT.add(t,!0,...e),s&&pT.process(t),t.result instanceof Promise&&this.runners.set(t.result,t),s?null!==(i=t.result)&&void 0!==i?i:[]:t}static step(t){if(t instanceof Promise)return pT.runners.get(t)}static cancel(t){const e=pT.step(t);void 0!==e&&e.cancel()}static add(t,e,...n){let i=new gT(n.shift(),e);null!==t&&(i=pT.connect(t,i,e));const s=i;for(;n.length>0;)i=pT.connect(i,new gT(n.shift(),e),!1);return s}static connect(t,e,n){if(n){const n=t.child;t.child=e,e.parent=t,e.next=n,null!==n&&(n.parent=null,n.previous=e)}else{const n=t.next;t.next=e,e.previous=t,e.next=n,null!==n&&(n.previous=e,n.parent=null)}return e}static process(t){const e=t.root;for(;null!==t&&!t.isDoing&&!t.isDone;)if(t.isParallelParent){t.isDone=!0;let e=t.child;for(;null!==e;)pT.process(e),e=e.next}else{for(t.isDoing=!0,t.value=t.step;t.value instanceof Function&&!t.isCancelled&&!t.isDone;)t.value=t.value(t);if(!t.isCancelled)if(t.value instanceof Promise){const n=t.value;pT.ensurePromise(e),((t,e)=>{e.then((e=>{t.value=e,pT.settlePromise(t),t.isDone=!0,t.isDoing=!1;const n=t.nextToDo();null!==n?pT.process(n):t.root.doneAll&&pT.settlePromise(t.root)})).catch((t=>{throw t}))})(t,n)}else t.isDone=!0,t.isDoing=!1,t=t.nextToDo()}e.isCancelled?pT.settlePromise(e,"reject"):e.doneAll&&pT.settlePromise(e)}static ensurePromise(t){return null===t.finally&&(t.finally=new dT,t.promise=t.finally.promise,!0)}static settlePromise(t,e="resolve"){var n,i,s,r;if(null!==(i=null===(n=t.finally)||void 0===n?void 0:n.isPending)&&void 0!==i&&i)switch(t.promise=null,e){case"resolve":null===(s=t.finally)||void 0===s||s.resolve(t.result);break;case"reject":null===(r=t.finally)||void 0===r||r.reject(t.result)}}}pT.runners=new WeakMap,pT.roots={};class gT{constructor(t,e=!1){this.step=t,this.runParallel=e,this.promise=null,this.previous=null,this.next=null,this.parent=null,this.child=null,this.finally=null,this.isDoing=!1,this.isDone=!1,this.isCancelled=!1,this.id="-1",this.id=""+gT.id++}get isParallelParent(){var t,e;return null!==(e=null===(t=this.child)||void 0===t?void 0:t.runParallel)&&void 0!==e&&e}get result(){var t,e;if(null!==this.promise)return this.promise;if(null!==this.child){if(this.isParallelParent){const t=[];let e=this.child;for(;null!==e;)t.push(e.result),e=e.next;return t}return null===(e=null===(t=this.child)||void 0===t?void 0:t.tail)||void 0===e?void 0:e.result}let n=this.value;for(;n instanceof gT;)n=n.result;return n}get asValue(){return this.result}get previousValue(){var t,e,n,i;return this.runParallel?null===(n=null===(e=null===(t=this.head.parent)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.previous)||void 0===n?void 0:n.result:null===(i=this.previous)||void 0===i?void 0:i.result}get name(){let t=`${this.id}`;return this.runParallel&&(t=`:${t}`),(this.value instanceof Promise||this.promise instanceof Promise)&&(t=`${t}*`),null!==this.finally&&(t=`${t}*`),null!==this.child&&(t=`${t}>`),this.isDone&&(t=`(${t})`),t}get root(){let t=this.head;for(;null!==t.parent;)t=t.parent.head;return t}get head(){let t=this;for(;null!==t.previous;)t=t.previous;return t}get tail(){let t=this;for(;null!==t.next;)t=t.next;return t}get done(){if(!this.isDone)return!1;let t=this.child;for(;null!==t;){if(!t.done)return!1;t=t.next}return!0}get doneAll(){return!(!this.isDone||null!==this.child&&!this.child.doneAll||null!==this.next&&!this.next.doneAll)}cancel(t=!0){var e,n;return t?this.root.cancel(!1):!this.isCancelled&&(this.isCancelled=!0,null===(e=this.child)||void 0===e||e.cancel(!1),null===(n=this.next)||void 0===n||n.cancel(!1),!0)}nextToDo(){return null===this.child||this.child.isDoing||this.child.isDone?this.runParallel&&!this.head.parent.done?null:this.nextOrUp():this.child}nextOrUp(){var t;let e=this.next;for(;null!==e;){if(!e.isDoing&&!e.isDone)return e;e=e.next}const n=null!==(t=this.head.parent)&&void 0!==t?t:null;return null!==n&&n.done?n.nextOrUp():null}get path(){var t,e;return`${null!==(e=null===(t=this.head.parent)||void 0===t?void 0:t.path)&&void 0!==e?e:""}/${this.name}`}get tree(){let t="",e=this.head,n=e.parent,i="";for(;null!==n;)i=`${n.path}${i}`,n=n.head.parent;do{if(t+=`${i}/${e.name}\n`,e===this)break;e=e.next}while(null!==e);return t}get report(){var t,e,n,i;let s=`${this.path}\n`;return s+=null!==(e=null===(t=this.child)||void 0===t?void 0:t.report)&&void 0!==e?e:"",s+=null!==(i=null===(n=this.next)||void 0===n?void 0:n.report)&&void 0!==i?i:"",s}}gT.id=0;class fT{constructor(t,e,n,i,s,r,o,a){this.path=t,this.id=e,this.redirectTo=n,this.instructions=i,this.caseSensitive=s,this.title=r,this.reloadBehavior=o,this.data=a}static isConfigured(t){return ph.hasOwn(fT.resourceKey,t)||"parameters"in t||"title"in t}static configure(t,e){const n=fT.create(t,e);return ph.define(fT.resourceKey,n,e),e}static getConfiguration(t){var e;const n=null!==(e=ph.getOwn(fT.resourceKey,t))&&void 0!==e?e:{};return Array.isArray(t.parameters)&&(n.parameters=t.parameters),"title"in t&&(n.title=t.title),n instanceof fT?n:fT.create(n,t)}static create(t,e=null){var n,i,s,r,o,a,l,c,h;null!==e&&(t=fT.transferTypeToComponent(t,e)),Ym.isType(t)?t=fT.getConfiguration(t):null===e&&(t={...t});const u=fT.transferIndividualIntoInstructions(t);fT.validateRouteConfiguration(u);let d=u.path;return Array.isArray(d)&&(d=d.join(",")),new fT(null!==(n=u.path)&&void 0!==n?n:"",null!==(s=null!==(i=u.id)&&void 0!==i?i:d)&&void 0!==s?s:null,null!==(r=u.redirectTo)&&void 0!==r?r:null,null!==(o=u.instructions)&&void 0!==o?o:null,null!==(a=u.caseSensitive)&&void 0!==a&&a,null!==(l=u.title)&&void 0!==l?l:null,null!==(c=u.reloadBehavior)&&void 0!==c?c:null,null!==(h=u.data)&&void 0!==h?h:null)}static transferTypeToComponent(t,e){var n;if(Ym.isType(t))throw new Error("Invalid route configuration: A component can't be specified in a component route configuration.");const i=null!==(n={...t})&&void 0!==n?n:{};if("component"in i||"instructions"in i)throw new Error("Invalid route configuration: The 'component' and 'instructions' properties can't be specified in a component route configuration.");return"redirectTo"in i||(i.component=e),"path"in i||"redirectTo"in i||(i.path=Ym.getDefinition(e).name),i}static transferIndividualIntoInstructions(t){var e,n,i,s;if(null==t)throw new Error("Invalid route configuration: expected an object.");if(null!==(null!==(e=t.component)&&void 0!==e?e:null)||null!==(null!==(n=t.viewport)&&void 0!==n?n:null)||null!==(null!==(i=t.parameters)&&void 0!==i?i:null)||null!==(null!==(s=t.children)&&void 0!==s?s:null)){if(null!=t.instructions)throw new Error("Invalid route configuration: The 'instructions' property can't be used together with the 'component', 'viewport', 'parameters' or 'children' properties.");t.instructions=[{component:t.component,viewport:t.viewport,parameters:t.parameters,children:t.children}]}return t}static validateRouteConfiguration(t){if(null===t.redirectTo&&null===t.instructions)throw new Error("Invalid route configuration: either 'redirectTo' or 'instructions' need to be specified.")}}fT.resourceKey=Bh.resource.keyFor("route");const vT={name:Bh.resource.keyFor("routes"),isConfigured:t=>ph.hasOwn(vT.name,t)||"routes"in t,configure(t,e){const n=t.map((t=>fT.create(t)));return ph.define(vT.name,n,e),e},getConfiguration(t){const e=t,n=[],i=ph.getOwn(vT.name,t);return Array.isArray(i)&&n.push(...i),Array.isArray(e.routes)&&n.push(...e.routes),n.map((t=>t instanceof fT?t:fT.create(t)))}};class mT extends eT{}class bT extends tT{constructor(t,e,n,i,s,r=null,o={catches:[],source:null}){super(t,e,n),this.rootComponentType=r,this.options=o,this.instruction=null,this.available=!0,this.sourceItem=null,this.sourceItemIndex=-1,this.remove=!1,this.add=!1,this.contents.push(new mT(t,this,i,s)),this.catches.length>0&&(this.instruction=AT.create(this.catches[0],this.name))}get isEmpty(){return null===this.instruction}get passThroughScope(){return null===this.rootComponentType&&0===this.catches.length}get siblings(){const t=this.connectedScope.parent;return null===t?[this]:t.enabledChildren.filter((t=>t.isViewportScope&&t.endpoint.name===this.name)).map((t=>t.endpoint))}get source(){var t;return null!==(t=this.options.source)&&void 0!==t?t:null}get catches(){var t;let e=null!==(t=this.options.catches)&&void 0!==t?t:[];return"string"==typeof e&&(e=e.split(",")),e}get default(){if(this.catches.length>0)return this.catches[0]}toString(){var t,e,n,i;const s=null!==(e=null===(t=this.instruction)||void 0===t?void 0:t.component.name)&&void 0!==e?e:"",r=null!==(i=null===(n=this.getNextContent())||void 0===n?void 0:n.instruction.component.name)&&void 0!==i?i:"";return`vs:${this.name}[${s}->${r}]`}setNextContent(t,e){return t.endpoint.set(this),this.remove=t.isClear(this.router)||t.isClearAll(this.router),this.add=t.isAdd(this.router)&&Array.isArray(this.source),this.add&&(t.component.name=null),void 0!==this.default&&null===t.component.name&&(t.component.name=this.default),this.contents.push(new mT(this.router,this,this.owningScope,this.scope.hasScope,t,e)),"swap"}transition(t){pT.run(null,(()=>t.addEndpointState(this,"guardedUnload")),(()=>t.addEndpointState(this,"guardedLoad")),(()=>t.addEndpointState(this,"guarded")),(()=>t.addEndpointState(this,"loaded")),(()=>t.addEndpointState(this,"unloaded")),(()=>t.addEndpointState(this,"routed")),(()=>t.addEndpointState(this,"swapped")),(()=>{t.addEndpointState(this,"completed")}))}finalizeContentChange(t){var e;const n=this.contents.findIndex((e=>e.navigation===t.navigation));let i=this.contents[n];if(this.remove){const t=new mT(this.router,this,this.owningScope,this.scope.hasScope);this.contents.splice(n,1,t),i.delete(),i=t}i.completed=!0;let s=0;for(let t=0,i=n;t<i&&null!==(e=this.contents[0].navigation.completed)&&void 0!==e&&e;t++)s++;this.contents.splice(0,s),this.remove&&Array.isArray(this.source)&&this.removeSourceItem()}cancelContentChange(t,e){const n=this.contents.findIndex((e=>e.navigation===t.navigation));if(this.contents.splice(n,1),this.add){const t=this.source.indexOf(this.sourceItem);this.source.splice(t,1),this.sourceItem=null}}acceptSegment(t){return null===t&&void 0===t||0===t.length||t===AT.clear(this.router)||t===AT.add(this.router)||t===this.name||0===this.catches.length||!!this.catches.includes(t)||!!this.catches.filter((t=>t.includes("*"))).length}binding(){(this.source||[]).length>0&&null===this.sourceItem&&(this.sourceItem=this.getAvailableSourceItem())}unbinding(){null!==this.sourceItem&&null!==this.source&&hT(this.source,(t=>t===this.sourceItem)),this.sourceItem=null}getAvailableSourceItem(){if(null===this.source)return null;const t=this.siblings;for(const e of this.source)if(t.every((t=>t.sourceItem!==e)))return e;return null}addSourceItem(){const t={};return this.source.push(t),t}removeSourceItem(){this.sourceItemIndex=this.source.indexOf(this.sourceItem),this.sourceItemIndex>=0&&this.source.splice(this.sourceItemIndex,1)}getRoutes(){if(null!==this.rootComponentType){const t=this.rootComponentType.constructor===this.rootComponentType.constructor.constructor?this.rootComponentType:this.rootComponentType.constructor;return vT.getConfiguration(t)}return null}}class yT{constructor(){this.first=!1,this.new=!1,this.refresh=!1,this.forward=!1,this.back=!1,this.replace=!1}}class wT extends class{constructor(t={instruction:"",fullStateInstruction:""}){this.instruction=t.instruction,this.fullStateInstruction=t.fullStateInstruction,this.scope=t.scope,this.index=t.index,this.firstEntry=t.firstEntry,this.path=t.path,this.title=t.title,this.query=t.query,this.parameters=t.parameters,this.data=t.data}toStoredNavigation(){return{instruction:this.instruction,fullStateInstruction:this.fullStateInstruction,scope:this.scope,index:this.index,firstEntry:this.firstEntry,path:this.path,title:this.title,query:this.query,parameters:this.parameters,data:this.data}}}{constructor(t={instruction:"",fullStateInstruction:""}){var e,n,i,s,r,o;super(t),this.navigation=new yT,this.repeating=!1,this.previous=null,this.fromBrowser=!1,this.origin=null,this.replacing=!1,this.refreshing=!1,this.untracked=!1,this.process=null,this.completed=!0,this.fromBrowser=null!==(e=t.fromBrowser)&&void 0!==e?e:this.fromBrowser,this.origin=null!==(n=t.origin)&&void 0!==n?n:this.origin,this.replacing=null!==(i=t.replacing)&&void 0!==i?i:this.replacing,this.refreshing=null!==(s=t.refreshing)&&void 0!==s?s:this.refreshing,this.untracked=null!==(r=t.untracked)&&void 0!==r?r:this.untracked,this.historyMovement=null!==(o=t.historyMovement)&&void 0!==o?o:this.historyMovement,this.process=null,this.timestamp=Date.now()}get useFullStateInstruction(){var t,e,n;return null!==(t=this.navigation.back)&&void 0!==t&&t||null!==(e=this.navigation.forward)&&void 0!==e&&e||null!==(n=this.navigation.refresh)&&void 0!==n&&n}static create(t={instruction:"",fullStateInstruction:""}){return new wT(t)}}class xT{constructor(){this.map=new Map}set(t,e){const n=this.map.get(t);n instanceof dT&&n.resolve(e),this.map.set(t,e)}delete(t){const e=this.map.get(t);e instanceof dT&&e.reject(),this.map.delete(t)}await(t){if(!this.map.has(t)){const e=new dT;return this.map.set(t,e),e.promise}const e=this.map.get(t);return e instanceof dT?e.promise:e}has(t){return this.map.has(t)&&!(this.map.get(t)instanceof dT)}clone(){const t=new xT;return t.map=new Map(this.map),t}}class kT{constructor(t=null,e="",n=[],i="",s={}){this.match=t,this.matching=e,this.instructions=n,this.remaining=i,this.params=s}get foundConfiguration(){return null!==this.match}get foundInstructions(){return this.instructions.length>0}get hasRemaining(){return null!==this.remaining&&this.remaining.length>0}}class CT extends eT{constructor(t,e,n,i,s=AT.create(""),r=wT.create({instruction:"",fullStateInstruction:""}),o=null){super(t,e,n,i,s,r),this.router=t,this.instruction=s,this.navigation=r,this.contentStates=new xT,this.fromCache=!1,this.fromHistory=!1,this.reload=!1,this.activatedResolve=null,this.instruction.component.isType()||null==(null==o?void 0:o.container)||(this.instruction.component.type=this.toComponentType(o.container))}get componentInstance(){return this.instruction.component.instance}get reloadBehavior(){var t,e;return this.instruction.route instanceof kT&&null!==(null===(t=this.instruction.route.match)||void 0===t?void 0:t.reloadBehavior)?null===(e=this.instruction.route.match)||void 0===e?void 0:e.reloadBehavior:null!==this.instruction.component.instance&&"reloadBehavior"in this.instruction.component.instance&&void 0!==this.instruction.component.instance.reloadBehavior?this.instruction.component.instance.reloadBehavior:"default"}equalComponent(t){return this.instruction.sameComponent(this.router,t.instruction)}equalParameters(t){var e,n;return this.instruction.sameComponent(this.router,t.instruction,!0)&&(null!==(e=this.navigation.query)&&void 0!==e?e:"")===(null!==(n=t.navigation.query)&&void 0!==n?n:"")}isCacheEqual(t){return this.instruction.sameComponent(this.router,t.instruction,!0)}contentController(t){return ny.forCustomElement(null,t.container,this.instruction.component.instance,t.element,null,void 0)}createComponent(t,e){if(!this.contentStates.has("created")){if(!this.fromCache&&!this.fromHistory)try{this.instruction.component.set(this.toComponentInstance(t.container))}catch(n){if(""===(null!=e?e:""))throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`);this.instruction.parameters.set({id:this.instruction.component.name}),this.instruction.component.set(e);try{this.instruction.component.set(this.toComponentInstance(t.container))}catch(t){throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`)}}this.contentStates.set("created",void 0),this.contentStates.has("loaded")||!this.instruction.component.instance||this.fromCache&&this.fromHistory||(this.contentController(t).parent=t.controller)}}canLoad(){var t,e,n;if(!this.contentStates.has("created")||this.contentStates.has("checkedLoad")&&!this.reload)return!0;if(this.contentStates.set("checkedLoad",void 0),null==this.instruction.component.instance.canLoad)return!0;const i=null===(n=null===(e=null===(t=this.endpoint.parentViewport)||void 0===t?void 0:t.getTimeContent(this.navigation.timestamp))||void 0===e?void 0:e.instruction)||void 0===n?void 0:n.typeParameters(this.router),s=this.instruction.typeParameters(this.router),r={...this.navigation.parameters,...i,...s},o=this.instruction.component.instance.canLoad(r,this.instruction,this.navigation);return"boolean"==typeof o?o:"string"==typeof o?[AT.create(o,this.endpoint)]:o}canUnload(t){if(this.contentStates.has("checkedUnload")&&!this.reload)return!0;if(this.contentStates.set("checkedUnload",void 0),!this.contentStates.has("loaded"))return!0;if(!this.instruction.component.instance.canUnload)return!0;null===t&&(t=wT.create({instruction:"",fullStateInstruction:"",previous:this.navigation}));const e=this.instruction.component.instance.canUnload(this.instruction,t);if("boolean"!=typeof e&&!(e instanceof Promise))throw new Error(`Method 'canUnload' in component "${this.instruction.component.name}" needs to return true or false or a Promise resolving to true or false.`);return e}load(t){return pT.run(t,(()=>this.contentStates.await("checkedLoad")),(()=>{var t,e,n,i;if(this.contentStates.has("created")&&(!this.contentStates.has("loaded")||this.reload)&&(this.reload=!1,this.contentStates.set("loaded",void 0),null!=(null===(t=this.instruction.component.instance)||void 0===t?void 0:t.load))){const t=null===(i=null===(n=null===(e=this.endpoint.parentViewport)||void 0===e?void 0:e.getTimeContent(this.navigation.timestamp))||void 0===n?void 0:n.instruction)||void 0===i?void 0:i.typeParameters(this.router),s=this.instruction.typeParameters(this.router),r={...this.navigation.parameters,...t,...s};return this.instruction.component.instance.load(r,this.instruction,this.navigation)}}))}unload(t){var e;if(this.contentStates.has("loaded"))return this.contentStates.delete("loaded"),null!=(null===(e=this.instruction.component.instance)||void 0===e?void 0:e.unload)?(null===t&&(t=wT.create({instruction:"",fullStateInstruction:"",previous:this.navigation})),this.instruction.component.instance.unload(this.instruction,t)):void 0}activateComponent(t,e,n,i,s,r,o){return pT.run(t,(()=>this.contentStates.await("loaded")),(()=>this.waitForParent(n)),(()=>{if(this.contentStates.has("activating")||this.contentStates.has("activated"))return;this.contentStates.set("activating",void 0);const t=this.contentController(s);return t.activate(null!=e?e:t,n,i,void 0,void 0)}),(()=>{this.contentStates.set("activated",void 0)}))}deactivateComponent(t,e,n,i,s,r=!1){if(this.contentStates.has("activated")||this.contentStates.has("activating"))return pT.run(t,(()=>{if(r&&null!==s.element){const t=Array.from(s.element.getElementsByTagName("*"));for(const e of t)(e.scrollTop>0||e.scrollLeft)&&e.setAttribute("au-element-scroll",`${e.scrollTop},${e.scrollLeft}`)}this.contentStates.delete("activated"),this.contentStates.delete("activating");const t=this.contentController(s);return t.deactivate(null!=e?e:t,n,i)}))}disposeComponent(t,e,n=!1){if(this.contentStates.has("created")&&null!=this.instruction.component.instance){if(!n)return this.contentStates.delete("created"),this.contentController(t).dispose();e.push(this)}}freeContent(t,e,n,i,s=!1){return pT.run(t,(()=>this.unload(n)),(t=>this.deactivateComponent(t,null,e.controller,0,e,s)),(()=>this.disposeComponent(e,i,s)))}toComponentName(){return this.instruction.component.name}toComponentType(t){return this.instruction.component.none?null:this.instruction.component.toType(t)}toComponentInstance(t){return this.instruction.component.none?null:this.instruction.component.toInstance(t)}waitForParent(t){if(null!==t)return t.isActive?void 0:new Promise((t=>{this.endpoint.activeResolve=t}))}}class ST{constructor(t=!0,e=[],n="",i="",s=!1,r=!1,o=!1,a=!1,l=!1){this.scope=t,this.usedBy=e,this.fallback=i,this.noLink=s,this.noTitle=r,this.stateful=o,this.forceDescription=a,this.noHistory=l,this.default=void 0,this.default=n}static create(t){const e=new ST;return void 0!==t&&e.apply(t),e}apply(t){var e,n,i,s,r,o,a,l,c;this.scope=null!==(e=t.scope)&&void 0!==e?e:this.scope,this.usedBy=null!==(n="string"==typeof t.usedBy?t.usedBy.split(",").filter((t=>t.length>0)):t.usedBy)&&void 0!==n?n:this.usedBy,this.default=null!==(i=t.default)&&void 0!==i?i:this.default,this.fallback=null!==(s=t.fallback)&&void 0!==s?s:this.fallback,this.noLink=null!==(r=t.noLink)&&void 0!==r?r:this.noLink,this.noTitle=null!==(o=t.noTitle)&&void 0!==o?o:this.noTitle,this.stateful=null!==(a=t.stateful)&&void 0!==a?a:this.stateful,this.forceDescription=null!==(l=t.forceDescription)&&void 0!==l?l:this.forceDescription,this.noHistory=null!==(c=t.noHistory)&&void 0!==c?c:this.noHistory}}class $T extends tT{constructor(t,e,n,i,s,r){super(t,e,n),this.contents=[],this.forceRemove=!1,this.options=new ST,this.activeResolve=null,this.connectionResolve=null,this.clear=!1,this.coordinators=[],this.previousViewportState=null,this.cache=[],this.historyCache=[],this.contents.push(new CT(t,this,i,s)),this.contents[0].completed=!0,void 0!==r&&this.options.apply(r)}getContent(){var t;if(1===this.contents.length)return this.contents[0];let e;for(let n=0,i=this.contents.length;n<i&&null!==(t=this.contents[n].completed)&&void 0!==t&&t;n++)e=this.contents[n];return e}getNextContent(){if(1===this.contents.length)return null;const t=this.contents.indexOf(this.getContent());return this.contents.length>t?this.contents[t+1]:null}getTimeContent(t){let e=null;for(let n=0,i=this.contents.length;n<i&&!(this.contents[n].navigation.timestamp>t);n++)e=this.contents[n];return e}get parentViewport(){let t=this.connectedScope;for(;null!==t.parent;)if(t=t.parent,t.endpoint.isViewport)return t.endpoint;return null}get isEmpty(){return null===this.getContent().componentInstance}get doForceRemove(){let t=this.connectedScope;for(;null!==t;){if(t.isViewport&&t.endpoint.forceRemove)return!0;t=t.parent}return!1}isActiveNavigation(t){return this.coordinators[this.coordinators.length-1]===t}toString(){var t,e,n,i;const s=null!==(e=null===(t=this.getContent())||void 0===t?void 0:t.instruction.component.name)&&void 0!==e?e:"",r=null!==(i=null===(n=this.getNextContent())||void 0===n?void 0:n.instruction.component.name)&&void 0!==i?i:"";return`v:${this.name}[${s}->${r}]`}applyOptions(t){t instanceof ST?this.options=t:this.options.apply(t)}setNextContent(t,e){var n;t.endpoint.set(this),this.clear=t.isClear(this.router);const i=this.contents[this.contents.length-1],s=new CT(this.router,this,this.owningScope,this.scope.hasScope,this.clear?void 0:t,e,null!==(n=this.connectedCE)&&void 0!==n?n:null);if(this.contents.push(s),s.fromHistory=!(null===s.componentInstance||!e.navigation||!e.navigation.back&&!e.navigation.forward),this.options.stateful){const t=this.cache.find((t=>s.isCacheEqual(t)));void 0!==t?(this.contents.splice(this.contents.indexOf(s),1,t),s.fromCache=!0):this.cache.push(s)}return null!==s.componentInstance&&i.componentInstance===s.componentInstance?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):!i.equalComponent(s)||e.navigation.refresh||"refresh"===i.reloadBehavior?this.transitionAction="swap":"disallow"===i.reloadBehavior?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):"reload"===i.reloadBehavior?(i.reload=!0,s.instruction.component.set(i.componentInstance),s.contentStates=i.contentStates.clone(),s.reload=i.reload,this.transitionAction="reload"):this.options.stateful&&i.equalParameters(s)||i.equalParameters(s)?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):this.transitionAction="swap"}setConnectedCE(t,e){var n;if(e=null!=e?e:{},this.connectedCE!==t&&(this.previousViewportState={...this},this.clearState(),this.connectedCE=t,this.options.apply(e),null!=this.connectionResolve&&this.connectionResolve()),null===this.getContent().componentInstance&&null==(null===(n=this.getNextContent())||void 0===n?void 0:n.componentInstance)&&this.options.default){const t=AT.parse(this.router,this.options.default);for(const e of t)e.endpoint.set(this),e.scope=this.owningScope,e.default=!0;this.router.load(t,{append:!0}).catch((t=>{throw t}))}}remove(t,e){return this.connectedCE===e&&pT.run(t,(t=>{var e,n;if(null!==this.getContent().componentInstance)return this.getContent().freeContent(t,this.connectedCE,null!==(n=null===(e=this.getNextContent())||void 0===e?void 0:e.navigation)&&void 0!==n?n:null,this.historyCache,!this.doForceRemove&&(this.router.statefulHistory||this.options.stateful))}),(t=>{if(this.doForceRemove){const e=[];for(const t of this.historyCache)e.push((e=>t.freeContent(e,null,null,this.historyCache,!1)));return e.push((()=>{this.historyCache=[]})),pT.run(t,...e)}return!0}))}async transition(t){var e,n;for(this.coordinators.push(t);this.coordinators[0]!==t;)await this.coordinators[0].waitForSyncState("completed");let i=this.parentViewport;null!==i&&"reload"!==i.transitionAction&&"swap"!==i.transitionAction&&(i=null);const s=[e=>{if(this.isActiveNavigation(t))return this.canUnload(e)},e=>{this.isActiveNavigation(t)&&(e.previousValue?this.router.isRestrictedNavigation&&this.getNextContent().createComponent(this.connectedCE,this.options.fallback):(e.cancel(),t.cancel())),t.addEndpointState(this,"guardedUnload")},()=>t.waitForSyncState("guardedUnload",this),()=>null!==i?t.waitForEndpointState(i,"guardedLoad"):void 0,e=>{if(this.isActiveNavigation(t))return this.canLoad(e)},e=>{if(this.isActiveNavigation(t)){const n=e.previousValue;if("boolean"!=typeof n)return pT.run(e,(()=>this.router.load(n,{append:!0})),(e=>this.cancelContentChange(t,e)));if(!n)return e.cancel(),void t.cancel()}t.addEndpointState(this,"guardedLoad"),t.addEndpointState(this,"guarded")}],r=[()=>t.waitForSyncState("guarded",this),e=>{if(this.isActiveNavigation(t))return this.unload(e)},()=>t.addEndpointState(this,"unloaded"),()=>t.waitForSyncState("unloaded",this),()=>null!==i?t.waitForEndpointState(i,"loaded"):void 0,e=>{if(this.isActiveNavigation(t))return this.load(e)},()=>t.addEndpointState(this,"loaded"),()=>t.addEndpointState(this,"routed")],o=[()=>t.waitForSyncState("routed",this),()=>t.waitForEndpointState(this,"routed")];switch(this.router.configuration.options.swapOrder){case"detach-current-attach-next":o.push((e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}));break;case"attach-next-detach-current":o.push((e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}));break;case"detach-attach-simultaneously":o.push((e=>pT.runParallel(e,(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}))));break;case"attach-detach-simultaneously":o.push((e=>pT.runParallel(e,(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}))))}o.push((()=>t.addEndpointState(this,"swapped"))),null===(n=null===(e=this.connectedCE)||void 0===e?void 0:e.setActive)||void 0===n||n.call(e,!0);const a=pT.run(null,...s,...r,...o,(()=>t.addEndpointState(this,"completed")),(()=>t.waitForSyncState("bound")),(()=>{var t,e;return null===(e=null===(t=this.connectedCE)||void 0===t?void 0:t.setActive)||void 0===e?void 0:e.call(t,!1)}));a instanceof Promise&&a.catch((t=>{}))}canUnload(t){return pT.run(t,(t=>this.getContent().connectedScope.canUnload(t)),(t=>{var e,n;return!!t.previousValue&&this.getContent().canUnload(null!==(n=null===(e=this.getNextContent())||void 0===e?void 0:e.navigation)&&void 0!==n?n:null)}))}canLoad(t){return!!this.clear||pT.run(t,(()=>this.waitForConnected()),(()=>(this.getNextContent().createComponent(this.connectedCE,this.options.fallback),this.getNextContent().canLoad())))}load(t){if(!this.clear)return this.getNextContent().load(t)}addContent(t,e){return this.activate(t,null,this.connectedController,0,e)}removeContent(t,e){var n;if(this.isEmpty)return;const i=this.router.statefulHistory||null!==(n=this.options.stateful)&&void 0!==n&&n;return pT.run(t,(()=>e.addEndpointState(this,"bound")),(()=>e.waitForSyncState("bound")),(t=>this.deactivate(t,null,this.connectedController,i?0:32)),(()=>i?this.dispose():void 0))}activate(t,e,n,i,s){if(null!==this.activeContent.componentInstance)return pT.run(t,(()=>this.activeContent.canLoad()),(t=>this.activeContent.load(t)),(t=>this.activeContent.activateComponent(t,e,n,i,this.connectedCE,(()=>null==s?void 0:s.addEndpointState(this,"bound")),null==s?void 0:s.waitForSyncState("bound"))))}deactivate(t,e,n,i){var s,r;if(null!==this.getContent().componentInstance&&!this.getContent().reload&&this.getContent().componentInstance!==(null===(s=this.getNextContent())||void 0===s?void 0:s.componentInstance))return null===(r=this.getContent())||void 0===r?void 0:r.deactivateComponent(t,e,n,i,this.connectedCE,this.router.statefulHistory||this.options.stateful)}unload(t){return pT.run(t,(t=>this.getContent().connectedScope.unload(t)),(()=>{var t,e;return null!=this.getContent().componentInstance?this.getContent().unload(null!==(e=null===(t=this.getNextContent())||void 0===t?void 0:t.navigation)&&void 0!==e?e:null):void 0}))}dispose(){var t;null===this.getContent().componentInstance||this.getContent().reload||this.getContent().componentInstance===(null===(t=this.getNextContent())||void 0===t?void 0:t.componentInstance)||this.getContent().disposeComponent(this.connectedCE,this.historyCache,this.router.statefulHistory||this.options.stateful)}finalizeContentChange(t){var e,n,i;const s=this.contents.findIndex((e=>e.navigation===t.navigation));let r=this.contents[s];const o=this.contents[s-1];if(this.clear){const t=new CT(this.router,this,this.owningScope,this.scope.hasScope,void 0,r.navigation);this.contents.splice(s,1,t),r.delete(),r=t}else r.reload=!1;o.delete(),r.completed=!0,this.transitionAction="",r.contentStates.delete("checkedUnload"),r.contentStates.delete("checkedLoad"),this.previousViewportState=null,null===(n=null===(e=this.connectedCE)||void 0===e?void 0:e.setActive)||void 0===n||n.call(e,!1);let a=0;for(let t=0,e=s;t<e&&null!==(i=this.contents[0].navigation.completed)&&void 0!==i&&i;t++)a++;this.contents.splice(0,a),hT(this.coordinators,(e=>e===t))}cancelContentChange(t,e){const n=this.contents.findIndex((e=>e.navigation===t.navigation)),i=this.contents[n],s=this.contents[n-1];return pT.run(e,(t=>{if(null!==i)return i.freeContent(t,this.connectedCE,i.navigation,this.historyCache,this.router.statefulHistory||this.options.stateful)}),(()=>{var e,n;this.previousViewportState&&Object.assign(this,this.previousViewportState),null==i||i.delete(),null!==i&&this.contents.splice(this.contents.indexOf(i),1),this.transitionAction="",s.contentStates.delete("checkedUnload"),s.contentStates.delete("checkedLoad"),null===(n=null===(e=this.connectedCE)||void 0===e?void 0:e.setActive)||void 0===n||n.call(e,!1),hT(this.coordinators,(e=>e===t))}))}wantComponent(t){return this.options.usedBy.includes(t)}acceptComponent(t){if("-"===t||null===t)return!0;const e=this.options.usedBy;return 0===e.length||!!e.includes(t)||!!e.filter((t=>t.includes("*"))).length}freeContent(t,e){const n=this.historyCache.find((t=>t.componentInstance===e));if(void 0!==n)return pT.run(t,(t=>(this.forceRemove=!0,n.freeContent(t,null,null,this.historyCache,!1))),(()=>{this.forceRemove=!1,hT(this.historyCache,(t=>t===n))}))}getRoutes(){let t=this.getComponentType();if(null===t)return null;t=t.constructor===t.constructor.constructor?t:t.constructor;const e=vT.getConfiguration(t);return Array.isArray(e)?e:null}getTitle(t){var e,n;if(this.options.noTitle)return"";const i=this.getComponentType();if(null===i)return"";let s="";const r=i.title;if(void 0!==r)if("string"==typeof r)s=r;else{const e=this.getComponentInstance();s=r.call(e,e,t)}else if(this.router.configuration.options.title.useComponentNames){let t=null!==(e=this.getContentInstruction().component.name)&&void 0!==e?e:"";const i=null!==(n=this.router.configuration.options.title.componentPrefix)&&void 0!==n?n:"";t.startsWith(i)&&(t=t.slice(i.length)),t=t.replace("-"," "),s=t.slice(0,1).toLocaleUpperCase()+t.slice(1)}return s}getComponentType(){var t;let e=null!==(t=this.getContentInstruction().component.type)&&void 0!==t?t:null;return null===e&&(e=Ym.for(this.connectedCE.element).context.componentType),null!=e?e:null}getComponentInstance(){var t;return null!==(t=this.getContentInstruction().component.instance)&&void 0!==t?t:null}getContentInstruction(){var t,e,n;return null!==(n=null!==(e=null===(t=this.getNextContent())||void 0===t?void 0:t.instruction)&&void 0!==e?e:this.getContent().instruction)&&void 0!==n?n:null}clearState(){this.options=ST.create();const t=this.owningScope,e=this.scope.hasScope;if(this.getContent().delete(),this.contents.shift(),this.contents.length<1)throw new Error("no content!");this.contents.push(new CT(this.router,this,t,e)),this.cache=[]}waitForConnected(){if(null===this.connectedCE)return new Promise((t=>{this.connectionResolve=t}))}}class TT{constructor(){this.name=null,this.instance=null,this.scope=null}get none(){return null===this.name&&null===this.instance}get endpointType(){return this.instance instanceof $T?"Viewport":this.instance instanceof bT?"ViewportScope":null}static create(t){const e=new TT;return e.set(t),e}static isName(t){return"string"==typeof t}static isInstance(t){return t instanceof tT}static getName(t){return TT.isName(t)?t:t?t.name:null}static getInstance(t){return TT.isName(t)?null:t}set(t){void 0!==t&&""!==t||(t=null),"string"==typeof t?(this.name=t,this.instance=null):(this.instance=t,null!==t&&(this.name=t.name,this.scope=t.owningScope))}toInstance(t){return null!==this.instance?this.instance:t.getEndpoint(this.endpointType,this.name)}same(t,e){return null!==this.instance&&null!==t.instance?this.instance===t.instance:!(null!==this.endpointType&&null!==t.endpointType&&this.endpointType!==t.endpointType||e&&this.scope!==t.scope||(null!==this.instance?this.instance.name:this.name)!==(null!==t.instance?t.instance.name:t.name))}}class AT{constructor(t,e,n){this.ownsScope=!0,this.nextScopeInstructions=null,this.scope=null,this.scopeModifier="",this.needsEndpointDescribed=!1,this.route=null,this.routeStart=!1,this.default=!1,this.topInstruction=!1,this.component=cT.create(t),this.endpoint=TT.create(e),this.parameters=lT.create(n)}static create(t,e,n,i=!0,s=null){const r=new AT(t,e,n);return r.ownsScope=i,r.nextScopeInstructions=s,r}static createClear(t,e){return AT.create(AT.clear(t),e)}static from(t,e){Array.isArray(e)||(e=[e]);const n=[];for(const i of e)if("string"==typeof i)n.push(...AT.parse(t,i));else if(i instanceof AT)n.push(i);else if(i instanceof Promise)n.push(AT.create(i));else if(cT.isAppelation(i))n.push(AT.create(i));else if(cT.isDefinition(i))n.push(AT.create(i.Type));else if("component"in i){const e=i,s=AT.create(e.component,e.viewport,e.parameters);void 0!==e.children&&null!==e.children&&(s.nextScopeInstructions=AT.from(t,e.children)),n.push(s)}else if("object"==typeof i&&null!==i){const t=Ym.define(i);n.push(AT.create(t))}else n.push(AT.create(i));return n}static clear(t){return sT.for(t).clear}static add(t){return sT.for(t).add}static parse(t,e){const n=sT.for(t);let i="";const s=/^[./]+/.exec(e);Array.isArray(s)&&s.length>0&&(i=s[0],e=e.slice(i.length));const r=nT.parse(n,e,!0,!0).instructions;for(const t of r)t.scopeModifier=i;return r}static stringify(t,e,n=!1,i=!1){return"string"==typeof e?e:e.map((e=>e.stringify(t,n,i))).filter((t=>t.length>0)).join(sT.for(t).sibling)}static containsSiblings(t){return null!==t&&(t.length>1||t.some((t=>AT.containsSiblings(t.nextScopeInstructions))))}static flat(t){const e=[];for(const n of t)e.push(n),n.hasNextScopeInstructions&&e.push(...AT.flat(n.nextScopeInstructions));return e}static clone(t,e=!1,n=!1){return t.map((t=>t.clone(e,n)))}static contains(t,e,n,i){return n.every((n=>n.isIn(t,e,i)))}get viewport(){return this.endpoint.instance instanceof $T||null===this.endpoint.endpointType?this.endpoint:null}get viewportScope(){return this.endpoint.instance instanceof bT||null===this.endpoint.endpointType?this.endpoint:null}isAdd(t){return this.component.name===sT.for(t).add}isClear(t){return this.component.name===sT.for(t).clear}isAddAll(t){var e,n;return this.isAdd(t)&&0===(null!==(n=null===(e=this.endpoint.name)||void 0===e?void 0:e.length)&&void 0!==n?n:0)}isClearAll(t){var e,n;return this.isClear(t)&&0===(null!==(n=null===(e=this.endpoint.name)||void 0===e?void 0:e.length)&&void 0!==n?n:0)}get hasNextScopeInstructions(){var t,e;return(null!==(e=null===(t=this.nextScopeInstructions)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0}typeParameters(t){var e,n;return this.parameters.toSpecifiedParameters(t,null!==(n=null===(e=this.component.type)||void 0===e?void 0:e.parameters)&&void 0!==n?n:[])}sameComponent(t,e,n=!1,i=!1){return!(n&&!this.sameParameters(t,e,i))&&this.component.same(e.component,i)}sameEndpoint(t,e){return this.endpoint.same(t.endpoint,e)}sameParameters(t,e,n=!1){return!!this.component.same(e.component,n)&&this.parameters.same(t,e.parameters,this.component.type)}stringify(t,e=!1,n=!1){var i,s,r,o,a;const l=sT.for(t);let c=e,h=!1;if(n){const t=null!==(s=null===(i=this.viewport)||void 0===i?void 0:i.instance)&&void 0!==s?s:null;if(null!==(r=null==t?void 0:t.options.noLink)&&void 0!==r&&r)return"";this.needsEndpointDescribed||null!==(o=null==t?void 0:t.options.forceDescription)&&void 0!==o&&o&&null==(null===(a=this.viewportScope)||void 0===a?void 0:a.instance)||(c=!0),(null==t?void 0:t.options.fallback)===this.component.name&&(h=!0)}const u=this.nextScopeInstructions;let d=this.scopeModifier;if(null!==this.route){if(!this.routeStart)return Array.isArray(u)?AT.stringify(t,u,e,n):"";const i=this.route.matching;d+=i.endsWith(l.scope)?i.slice(0,-l.scope.length):i}else d+=this.stringifyShallow(t,c,h);if(Array.isArray(u)&&u.length>0){const i=AT.stringify(t,u,e,n);i.length>0&&(d+=l.scope,d+=1===u.length?i:`${l.groupStart}${i}${l.groupEnd}`)}return d}clone(t=!1,e=!1,n=!1){var i,s,r,o,a;const l=AT.create(null!==(s=null!==(i=this.component.promise)&&void 0!==i?i:this.component.type)&&void 0!==s?s:this.component.name,this.endpoint.name,null!==this.parameters.typedParameters?this.parameters.typedParameters:void 0);return t&&(l.component.set(null!==(o=null!==(r=this.component.instance)&&void 0!==r?r:this.component.type)&&void 0!==o?o:this.component.name),l.endpoint.set(null!==(a=this.endpoint.instance)&&void 0!==a?a:this.endpoint.name)),l.component.name=this.component.name,l.needsEndpointDescribed=this.needsEndpointDescribed,l.route=this.route,l.routeStart=this.routeStart,e&&(l.scopeModifier=this.scopeModifier),l.scope=t?this.scope:null,this.hasNextScopeInstructions&&!n&&(l.nextScopeInstructions=AT.clone(this.nextScopeInstructions,t,e)),l}isIn(t,e,n){const i=e.filter((e=>{var n,i;if(!e.sameComponent(t,this))return!1;const s=null!==(n=e.component.type)&&void 0!==n?n:this.component.type,r=null!==(i=this.component.type)&&void 0!==i?i:e.component.type,o=e.parameters.toSpecifiedParameters(t,null==s?void 0:s.parameters),a=this.parameters.toSpecifiedParameters(t,null==r?void 0:r.parameters);return!!lT.contains(o,a)&&(this.endpoint.none||e.sameEndpoint(this,!1))}));return!(0===i.length||n&&this.hasNextScopeInstructions&&!i.some((e=>{var i;return AT.contains(t,null!==(i=e.nextScopeInstructions)&&void 0!==i?i:[],this.nextScopeInstructions,n)})))}getTitle(t){var e;if(null!==this.route){const n=null===(e=this.route.match)||void 0===e?void 0:e.title;if(null!=n)return this.routeStart?"string"==typeof n?n:n(this,t):""}return this.endpoint.instance.getTitle(t)}toJSON(){var t,e,n;return{component:null!==(t=this.component.name)&&void 0!==t?t:void 0,viewport:null!==(e=this.endpoint.name)&&void 0!==e?e:void 0,parameters:null!==(n=this.parameters.parametersRecord)&&void 0!==n?n:void 0,children:this.hasNextScopeInstructions?this.nextScopeInstructions:void 0}}stringifyShallow(t,e=!1,n=!1){var i;const s=sT.for(t);let r=n?"":null!==(i=this.component.name)&&void 0!==i?i:"";const o=this.component.type?this.component.type.parameters:null,a=lT.stringify(t,this.parameters.toSortedParameters(t,o));return a.length>0&&(r+=n?a:`${s.parameters}${a}${s.parametersEnd}`),null==this.endpoint.name||e||(r+=`${s.viewport}${this.endpoint.name}`),this.ownsScope||(r+=s.noScope),r||""}}var ET=function(t,e){return function(n,i){e(n,i,t)}};class PT{constructor(t,e){this.eventName=t,this.navigation=e}static create(t){return new PT(PT.eventName,t)}}PT.eventName="au:router:navigation-navigate";let OT=class{constructor(t,e){this.ea=t,this.container=e,this.lastNavigationIndex=-1,this.navigations=[],this.options={statefulHistoryLength:0},this.isActive=!1,this.uninitializedNavigation=wT.create({instruction:"NAVIGATOR UNINITIALIZED",fullStateInstruction:"",index:0,completed:!0}),this.lastNavigationIndex=-1}start(t){if(this.isActive)throw new Error("Navigator has already been started");this.isActive=!0,this.options={...t}}stop(){if(!this.isActive)throw new Error("Navigator has not been started");this.isActive=!1}navigate(t){var e,n,i,s;t instanceof wT||(t=wT.create(t)),t.process=new dT;const r=new yT;return-1===this.lastNavigationIndex&&(this.loadState(),-1!==this.lastNavigationIndex?r.refresh=!0:(r.first=!0,r.new=!0,this.lastNavigationIndex=0,this.navigations=[wT.create({index:0,instruction:"",fullStateInstruction:""})])),void 0===t.index||null!==(e=t.replacing)&&void 0!==e&&e||null!==(n=t.refreshing)&&void 0!==n&&n?null!==(i=t.refreshing)&&void 0!==i&&i||r.refresh?t.index=this.lastNavigationIndex:null!==(s=t.replacing)&&void 0!==s&&s?(r.replace=!0,r.new=!0,t.index=this.lastNavigationIndex):(r.new=!0,t.index=this.lastNavigationIndex+1,this.navigations[t.index]=t):(t.historyMovement=t.index-Math.max(this.lastNavigationIndex,0),t.instruction=null!=this.navigations[t.index]?this.navigations[t.index].fullStateInstruction:t.fullStateInstruction,t.replacing=!0,t.historyMovement>0?r.forward=!0:t.historyMovement<0&&(r.back=!0)),t.navigation=r,t.previous=this.navigations[Math.max(this.lastNavigationIndex,0)],this.lastNavigationIndex=t.index,this.notifySubscribers(t),t.process.promise}async finalize(t,e){var n,i,s,r,o,a,l;if(null!==(n=t.untracked)&&void 0!==n&&n)null!==(i=t.fromBrowser)&&void 0!==i&&i&&null!=this.options.store&&await this.options.store.popNavigatorState();else if(null!==(s=t.replacing)&&void 0!==s&&s)0===(null!==(r=t.historyMovement)&&void 0!==r?r:0)&&(this.navigations[t.previous.index]=t),await this.saveState(t.index,!1);else{const n=t.index;if(e&&(this.navigations=this.navigations.slice(0,n)),this.navigations[n]=t,(null!==(o=this.options.statefulHistoryLength)&&void 0!==o?o:0)>0){const t=this.navigations.length-(null!==(a=this.options.statefulHistoryLength)&&void 0!==a?a:0);for(const e of this.navigations.slice(n))"string"==typeof e.instruction&&"string"==typeof e.fullStateInstruction||await this.serializeNavigation(e,this.navigations.slice(t,n))}await this.saveState(t.index,!(null!==(l=t.fromBrowser)&&void 0!==l&&l))}}async cancel(t){var e,n,i;null!=this.options.store&&((null===(e=t.navigation)||void 0===e?void 0:e.new)?null!==(n=t.fromBrowser)&&void 0!==n&&n&&await this.options.store.popNavigatorState():0!==(null!==(i=t.historyMovement)&&void 0!==i?i:0)&&await this.options.store.go(-t.historyMovement,!0))}async go(t){let e=this.lastNavigationIndex+t;e=Math.min(e,this.navigations.length-1),await this.options.store.go(t,!0);const n=this.navigations[e];return this.navigate(n)}getState(){var t,e;const n=null!=this.options.store?{...this.options.store.state}:{};return{navigations:null!==(t=null==n?void 0:n.navigations)&&void 0!==t?t:[],navigationIndex:null!==(e=null==n?void 0:n.navigationIndex)&&void 0!==e?e:-1}}loadState(){const{navigations:t,navigationIndex:e}=this.getState();this.navigations=t.map((t=>wT.create(t))),this.lastNavigationIndex=e}async saveState(t,e){var n,i,s,r,o;for(let t=0;t<this.navigations.length;t++)this.navigations[t]=wT.create(this.navigations[t].toStoredNavigation());if((null!==(n=this.options.statefulHistoryLength)&&void 0!==n?n:0)>0){const t=this.navigations.length-(null!==(i=this.options.statefulHistoryLength)&&void 0!==i?i:0);for(let e=0;e<t;e++){const n=this.navigations[e];"string"==typeof n.instruction&&"string"==typeof n.fullStateInstruction||await this.serializeNavigation(n,this.navigations.slice(t))}}if(null==this.options.store)return Promise.resolve();const a={navigations:(null!==(s=this.navigations)&&void 0!==s?s:[]).map((t=>this.toStoreableNavigation(t))),navigationIndex:t};return e?null===(o=null===(r=this.options)||void 0===r?void 0:r.store)||void 0===o?void 0:o.pushNavigatorState(a):this.options.store.replaceNavigatorState(a)}async refresh(){if(-1===this.lastNavigationIndex)return Promise.reject();const t=this.navigations[this.lastNavigationIndex];return t.replacing=!0,t.refreshing=!0,this.navigate(t)}notifySubscribers(t){this.ea.publish(PT.eventName,PT.create(t))}toStoreableNavigation(t){const e=t instanceof wT?t.toStoredNavigation():t;return e.instruction=AT.stringify(this.container,e.instruction),e.fullStateInstruction=AT.stringify(this.container,e.fullStateInstruction),"string"!=typeof e.scope&&(e.scope=null),e}async serializeNavigation(t,e){let n=[];for(const t of e)"string"!=typeof t.instruction&&n.push(...AT.flat(t.instruction).filter((t=>null!==t.endpoint.instance)).map((t=>t.component.instance))),"string"!=typeof t.fullStateInstruction&&n.push(...AT.flat(t.fullStateInstruction).filter((t=>null!==t.endpoint.instance)).map((t=>t.component.instance)));n=uT(n);let i=[];"string"!=typeof t.fullStateInstruction&&(i.push(...t.fullStateInstruction),t.fullStateInstruction=AT.stringify(this.container,t.fullStateInstruction)),"string"!=typeof t.instruction&&(i.push(...t.instruction),t.instruction=AT.stringify(this.container,t.instruction)),i=i.filter(((t,e,n)=>null!=t.component.instance&&n.indexOf(t)===e));const s=[];for(const t of i)await this.freeInstructionComponents(t,n,s)}freeInstructionComponents(t,e,n){var i,s;const r=t.component.instance,o=null!==(s=null===(i=t.viewport)||void 0===i?void 0:i.instance)&&void 0!==s?s:null;if(null!==r&&null!==o&&!n.some((t=>t===r))){if(!e.some((t=>t===r)))return pT.run(null,(t=>o.freeContent(t,r)),(()=>{n.push(r)}));if(t.hasNextScopeInstructions)for(const i of t.nextScopeInstructions)return this.freeInstructionComponents(i,e,n)}}};OT=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([ET(0,vd),ET(1,Qh)],OT);const RT=zC;class IT extends Array{constructor(){super(...arguments),this.currentIndex=-1}next(){return this.length>this.currentIndex+1?this[++this.currentIndex]:(this.currentIndex=-1,null)}removeCurrent(){this.splice(this.currentIndex--,1)}remove(t){hT(this,(e=>e===t))}}class jT{static matchEndpoints(t,e,n,i=!1){const s=[];let r=[];const o=t.getOwnedRoutingScopes(1/0).map((t=>t.endpoint)).filter((t=>null!==t&&!n.some((e=>t===e.endpoint.instance)))),a=new IT(...e.slice());let l=null;for(jT.matchKnownEndpoints(t.router,"ViewportScope",a,o,s,r,!1),i||jT.matchKnownEndpoints(t.router,"Viewport",a,o,s,r,!1),jT.matchViewportScopeSegment(t.router,t,a,o,s,r);null!==(l=a.next());)l.needsEndpointDescribed=!0;return jT.matchViewportConfiguration(a,o,s,r),i||jT.matchSpecifiedViewport(a,o,s,r,!1),jT.matchLastViewport(a,o,s,r),i&&jT.matchSpecifiedViewport(a,o,s,r,!1),r=[...a,...r],{matchedInstructions:s,remainingInstructions:r}}static matchKnownEndpoints(t,e,n,i,s,r,o=!1){let a;for(;null!==(a=n.next());)null===a.endpoint.instance||a.isAdd(t)||a.endpoint.endpointType!==e||(r.push(...jT.matchEndpoint(a,a.endpoint.instance,o)),s.push(a),hT(i,(t=>t===a.endpoint.instance)),n.removeCurrent())}static matchViewportScopeSegment(t,e,n,i,s,r){let o;for(;null!==(o=n.next());)for(let a of i)if(a instanceof bT&&a.acceptSegment(o.component.name)){if(Array.isArray(a.source)){let n=i.find((t=>t instanceof bT&&t.name===a.name));if(void 0===n||o.isAdd(t)){const t=a.addSourceItem();n=e.getOwnedScopes().filter((t=>t.isViewportScope)).map((t=>t.endpoint)).find((e=>e.sourceItem===t))}a=n}r.push(...jT.matchEndpoint(o,a,!1)),s.push(o),hT(i,(t=>t===o.endpoint.instance)),n.removeCurrent();break}}static matchViewportConfiguration(t,e,n,i){let s;for(;null!==(s=t.next());)for(const r of e)if(r instanceof $T&&(null==r?void 0:r.wantComponent(s.component.name))){i.push(...jT.matchEndpoint(s,r,!0)),n.push(s),hT(e,(t=>t===s.endpoint.instance)),t.removeCurrent();break}}static matchSpecifiedViewport(t,e,n,i,s){var r;let o;for(;null!==(o=t.next());){let a=o.endpoint.instance;if(null==a){const t=o.endpoint.name;if(0===(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0))continue;for(const n of e)if(n instanceof $T&&t===n.name){a=n;break}}(null==a?void 0:a.acceptComponent(o.component.name))&&(i.push(...jT.matchEndpoint(o,a,s)),n.push(o),hT(e,(t=>t===o.endpoint.instance)),t.removeCurrent())}}static matchLastViewport(t,e,n,i){let s;for(;null!==(s=t.next());){const r=[];for(const t of e)t instanceof $T&&t.acceptComponent(s.component.name)&&r.push(t);if(1===r.length){const o=r[0];i.push(...jT.matchEndpoint(s,o,!0)),n.push(s),hT(e,(t=>t===s.endpoint.instance)),t.removeCurrent()}}}static matchEndpoint(t,e,n){var i,s;t.endpoint.set(e),n&&(t.needsEndpointDescribed=!1);const r=null!==(s=null===(i=t.nextScopeInstructions)||void 0===i?void 0:i.slice())&&void 0!==s?s:[];for(const t of r)null===t.scope&&(t.scope=e instanceof $T?e.scope:e.scope.scope);return r}}class FT{constructor(t,e,n,i){this.router=t,this.hasScope=e,this.owningScope=n,this.endpointContent=i,this.id=-1,this.parent=null,this.children=[],this.path=null,this.id=++FT.lastId,this.owningScope=null!=n?n:this}static for(t){var e;if(null==t)return null;if(t instanceof FT||t instanceof $T||t instanceof bT)return t.scope;let n;if("resourceResolvers"in t)n=t;else if("context"in t)n=t.context;else if("$controller"in t)n=t.$controller.context;else{const e=Ym.for(t,{searchParents:!0});n=null==e?void 0:e.context}if(null==n)return null;const i=n.has(KT.closestEndpointKey,!0)?n.get(KT.closestEndpointKey):null;return null!==(e=null==i?void 0:i.scope)&&void 0!==e?e:null}get scope(){return this.hasScope?this:this.owningScope.scope}get endpoint(){return this.endpointContent.endpoint}get isViewport(){return this.endpoint instanceof $T}get isViewportScope(){return this.endpoint instanceof bT}get type(){return this.isViewport?"Viewport":"ViewportScope"}get enabled(){return this.endpointContent.isActive}get passThroughScope(){return this.isViewportScope&&this.endpoint.passThroughScope}get pathname(){return`${this.owningScope!==this?this.owningScope.pathname:""}/${this.endpoint.name}`}toString(t=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(t?"\n"+this.children.map((t=>t.toString(!0))).join(""):"")}toStringOwning(t=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(t?"\n"+this.ownedScopes.map((t=>t.toStringOwning(!0))).join(""):"")}get enabledChildren(){return this.children.filter((t=>t.enabled))}get hoistedChildren(){const t=this.enabledChildren;for(;t.some((t=>t.passThroughScope));)for(const e of t.slice())if(e.passThroughScope){const n=t.indexOf(e);t.splice(n,1,...e.enabledChildren)}return t}get ownedScopes(){return this.getOwnedScopes()}get routingInstruction(){return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?this.endpoint.activeContent.instruction:null}getRoutingInstruction(t){var e,n;return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?void 0!==t?null!==(n=null===(e=this.endpoint.getTimeContent(t))||void 0===e?void 0:e.instruction)&&void 0!==n?n:null:this.endpoint.getContent().instruction:null}getOwnedScopes(t=!1){const e=this.allScopes(t).filter((t=>t.owningScope===this));for(const t of e.slice())if(t.passThroughScope){const n=e.indexOf(t);e.splice(n,1,...t.getOwnedScopes())}return e}findInstructions(t,e,n){var i,s;let r=new kT;if("string"==typeof t){const o=AT.parse(this.router,t);if(n&&!AT.containsSiblings(o)){const n=this.findMatchingRoute(t);if(null!==(i=null==n?void 0:n.foundConfiguration)&&void 0!==i&&i)r=n;else if(e&&(r.instructions=o,r.instructions.length>0)){const t=null!==(s=r.instructions[0].nextScopeInstructions)&&void 0!==s?s:[];r.remaining=AT.stringify(this.router,t),r.instructions[0].nextScopeInstructions=null}}else e&&(r.instructions=o)}else r.instructions=t;for(const t of r.instructions)null===t.scope&&(t.scope=this);return r}matchEndpoints(t,e,n=!1){return jT.matchEndpoints(this,t,e,n)}addEndpoint(t,e,n,i={}){var s,r,o,a;let l=null!==(r=null===(s=this.getOwnedScopes().find((n=>n.type===t&&n.endpoint.name===e)))||void 0===s?void 0:s.endpoint)&&void 0!==r?r:null;return null!=n&&null!=(null==l?void 0:l.connectedCE)&&l.connectedCE!==n&&(l=null!==(a=null===(o=this.getOwnedScopes(!0).find((i=>i.type===t&&i.endpoint.name===e&&i.endpoint.connectedCE===n)))||void 0===o?void 0:o.endpoint)&&void 0!==a?a:null),null==l&&(l="Viewport"===t?new $T(this.router,e,n,this.scope,!!i.scope,i):new bT(this.router,e,n,this.scope,!0,null,i),this.addChild(l.connectedScope)),null!=n&&l.setConnectedCE(n,i),l}removeEndpoint(t,e,n){return!(null===(null!=n?n:null)&&!e.removeEndpoint(t,n)||(this.removeChild(e.connectedScope),0))}addChild(t){this.children.some((e=>e===t))||(null!==t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this)}removeChild(t){const e=this.children.indexOf(t);e>=0&&(this.children.splice(e,1),t.parent=null)}allScopes(t=!1){const e=t?this.children.slice():this.enabledChildren;for(const n of e.slice())e.push(...n.allScopes(t));return e}reparentRoutingInstructions(){const t=this.hoistedChildren.filter((t=>null!==t.routingInstruction&&t.routingInstruction.component.name));if(!t.length)return null;for(const e of t){const t=e.reparentRoutingInstructions();e.routingInstruction.nextScopeInstructions=null!==t&&t.length>0?t:null}return t.map((t=>t.routingInstruction))}getChildren(t){return this.children.map((e=>e.endpoint.getTimeContent(t))).filter((t=>null!==t)).map((t=>t.connectedScope))}getAllRoutingScopes(t){const e=this.getChildren(t);for(const n of e.slice())e.push(...n.getAllRoutingScopes(t));return e}getOwnedRoutingScopes(t){const e=this.getAllRoutingScopes(t).filter((t=>t.owningScope===this));for(const n of e.slice())if(n.passThroughScope){const i=e.indexOf(n);e.splice(i,1,...n.getOwnedRoutingScopes(t))}return uT(e)}getRoutingInstructions(t){var e;const n=uT(this.getOwnedRoutingScopes(t).map((t=>t.endpoint))).map((e=>e.getTimeContent(t))).filter((t=>null!==t)),i=[];for(const s of n){const n=s.instruction.clone(!0,!1,!1);""!==(null!==(e=n.component.name)&&void 0!==e?e:"")&&(n.nextScopeInstructions=s.connectedScope.getRoutingInstructions(t),i.push(n))}return i}getRoutingScopes(t){return this.ownedScopes.map((e=>e.endpoint.getTimeContent(t))).filter((t=>null!==t)).map((t=>t.connectedScope))}canUnload(t){return pT.run(t,(t=>pT.runParallel(t,...this.children.map((t=>null!==t.endpoint?e=>t.endpoint.canUnload(e):e=>t.canUnload(e))))),(t=>t.previousValue.every((t=>t))))}unload(t){return pT.runParallel(t,...this.children.map((t=>null!==t.endpoint?e=>t.endpoint.unload(e):e=>t.unload(e))))}matchScope(t,e=!1){const n=[];for(const i of t)i.scope===this?n.push(i):e&&i.hasNextScopeInstructions&&n.push(...this.matchScope(i.nextScopeInstructions,e));return n}findMatchingRoute(t){if(this.isViewportScope&&!this.passThroughScope)return this.findMatchingRouteInRoutes(t,this.endpoint.getRoutes());if(this.isViewport)return this.findMatchingRouteInRoutes(t,this.endpoint.getRoutes());for(const e of this.enabledChildren){const n=e.findMatchingRoute(t);if(null!==n)return n}return null}findMatchingRouteInRoutes(t,e){var n;if(!Array.isArray(e))return null;e=e.map((t=>this.ensureProperRoute(t)));const i=[];for(const t of e){const e=Array.isArray(t.path)?t.path:[t.path];for(const n of e)i.push({...t,path:n,handler:t}),""!==n&&i.push({...t,path:`${n}/*remainingPath`,handler:t})}const s=new kT;(t.startsWith("/")||t.startsWith("+"))&&(t=t.slice(1));const r=new RT;r.add(i);const o=r.recognize(t);if(null!==o){s.match=o.endpoint.route.handler,s.matching=t;const i={...o.params};if(void 0!==i.remainingPath&&(s.remaining=i.remainingPath,Reflect.deleteProperty(i,"remainingPath"),s.matching=s.matching.slice(0,s.matching.indexOf(s.remaining))),s.params=i,null!==s.match.redirectTo){let t=s.match.redirectTo;return(null!==(n=s.remaining)&&void 0!==n?n:"").length>0&&(t+=`/${s.remaining}`),this.findMatchingRouteInRoutes(t,e)}}if(s.foundConfiguration){s.instructions=AT.clone(s.match.instructions,!1,!0);const t=s.instructions.slice();for(;t.length>0;){const e=t.shift();e.parameters.addParameters(s.params),e.route=s,e.hasNextScopeInstructions&&t.unshift(...e.nextScopeInstructions)}s.instructions.length>0&&(s.instructions[0].routeStart=!0)}return s}ensureProperRoute(t){return void 0===t.id&&(t.id=Array.isArray(t.path)?t.path.join(","):t.path),void 0===t.instructions&&(t.instructions=[{component:t.component,viewport:t.viewport,parameters:t.parameters,children:t.children}]),null===t.redirectTo&&(t.instructions=AT.from(this.router,t.instructions)),t}}FT.lastId=0;class LT{constructor(t,e,n=0){this.taskQueue=t,this.item=e,this.cost=n,this.done=!1,this.promise=new Promise(((t,e)=>{this.resolve=()=>{this.taskQueue.resolve(this,t)},this.reject=t=>{this.taskQueue.reject(this,e,t)}}))}async execute(){"execute"in this.item?await this.item.execute(this):await this.item(this)}wait(){return this.promise}}class NT{constructor(t){this.callback=t,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null,this.dequeue=t=>{var e;null===this.processing&&(void 0!==t&&(this.currentExecutionCostInCurrentTick=0),0!==this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===t&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=null!==(e=this.processing.cost)&&void 0!==e?e:0,void 0!==this.callback?this.callback(this.processing):this.processing.execute().catch((t=>{throw t}))))))}}get isActive(){return null!==this.task}get length(){return this.pending.length}start(t){this.platform=t.platform,this.allowedExecutionCostWithinTick=t.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(t,e){const n=Array.isArray(t),i=n?t:[t],s=i.map(((t,n)=>Array.isArray(e)?e[n]:e)).map((t=>void 0!==t?t:1)),r=[];for(const t of i)r.push(t instanceof LT?t:this.createQueueTask(t,s.shift()));return this.pending.push(...r),this.dequeue(),n?r:r[0]}createQueueTask(t,e){return new LT(this,t,e)}clear(){this.pending.length=0}resolve(t,e){e(),this.processing=null,this.dequeue()}reject(t,e,n){e(n),this.processing=null,this.dequeue()}}var DT=function(t,e){return function(n,i){e(n,i,t)}};let MT=class{constructor(t,e,n,i,s){this.platform=t,this.window=e,this.history=n,this.location=i,this.ea=s,this.allowedExecutionCostWithinTick=2,this.isActive=!1,this.options={useUrlFragmentHash:!0},this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls=new NT}start(t){if(this.isActive)throw new Error("Browser navigation has already been started");this.isActive=!0,null!=t.useUrlFragmentHash&&(this.options.useUrlFragmentHash=t.useUrlFragmentHash),this.pendingCalls.start({platform:this.platform,allowedExecutionCostWithinTick:this.allowedExecutionCostWithinTick}),this.window.addEventListener("popstate",this)}stop(){if(!this.isActive)throw new Error("Browser navigation has not been started");this.window.removeEventListener("popstate",this),this.pendingCalls.stop(),this.options={useUrlFragmentHash:!0},this.isActive=!1}get length(){return this.history.length}get state(){return this.history.state}get viewerState(){var t;const{pathname:e,search:n,hash:i}=this.location;return new BT(e,n.slice(1),i,null!==(t=this.options.useUrlFragmentHash)&&void 0!==t&&t?i.slice(1):e)}async go(t,e=!1){const n=this.pendingCalls.createQueueTask((t=>t.resolve()),1);return this.pendingCalls.enqueue([t=>{const i=n,s=e;this.forwardState({eventTask:i,suppressPopstate:s}),t.resolve()},e=>{const n=this.history,i=t;n.go(i),e.resolve()}],[0,1]),n.wait()}async pushNavigatorState(t){const{title:e,path:n}=t.navigations[t.navigationIndex],i=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((s=>{const r=this.history,o=t,a=e||"",l=`${i}${n}`;try{r.pushState(o,a,l),this.setTitle(a)}catch(t){const e=this.tryCleanState(o,"push",t);r.pushState(e,a,l),this.setTitle(a)}s.resolve()}),1).wait()}async replaceNavigatorState(t,e,n){const i=t.navigations[t.navigationIndex];null!=e||(e=i.title),null!=n||(n=i.path);const s=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((i=>{const r=this.history,o=t,a=e||"",l=`${s}${n}`;try{r.replaceState(o,a,l),this.setTitle(a)}catch(t){const e=this.tryCleanState(o,"replace",t);r.replaceState(e,a,l),this.setTitle(a)}i.resolve()}),1).wait()}async popNavigatorState(){const t=this.pendingCalls.createQueueTask((t=>t.resolve()),1);return this.pendingCalls.enqueue((async e=>{const n=t;await this.popState(n),e.resolve()}),1),t.wait()}setTitle(t){this.window.document.title=t}handleEvent(t){this.handlePopStateEvent(t)}handlePopStateEvent(t){const{eventTask:e,suppressPopstate:n}=this.forwardedState;this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls.enqueue((async i=>{n||this.notifySubscribers(t),null!==e&&await e.execute(),i.resolve()}),1)}notifySubscribers(t){this.ea.publish(VT.eventName,VT.create(this.viewerState,t,this.history.state))}async popState(t){var e,n;await this.go(-1,!0);const i=this.history.state,s=null===(e=null==i?void 0:i.navigations)||void 0===e?void 0:e[null!==(n=null==i?void 0:i.navigationIndex)&&void 0!==n?n:0];null==s||s.firstEntry||(await this.go(-1,!0),await this.pushNavigatorState(i)),await t.execute()}forwardState(t){this.forwardedState=t}tryCleanState(t,e,n){try{return JSON.parse(JSON.stringify(t))}catch(t){throw new Error(`Failed to ${e} state, probably due to unserializable data and/or parameters: ${t}${n}`)}}};MT=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([DT(0,hm),DT(1,jy),DT(2,Ly),DT(3,Fy),DT(4,vd)],MT);class BT{constructor(t,e,n,i){this.path=t,this.query=e,this.hash=n,this.instruction=i}}class VT{constructor(t,e,n,i){this.eventName=t,this.viewerState=e,this.event=n,this.state=i}static create(t,e,n){return new VT(VT.eventName,t,e,n)}}VT.eventName="au:router:navigation-state-change";class HT{constructor(t){this.endpoint=t,this.running=!1,this.states=new Map,this.checkedStates=[],this.syncingState=null,this.syncPromise=null}hasReachedState(t){return this.states.has(t)&&null===this.states.get(t)}}class qT{constructor(t,e){this.router=t,this.navigation=e,this.running=!1,this.completed=!1,this.cancelled=!1,this.hasAllEndpoints=!1,this.appendedInstructions=[],this.entities=[],this.syncStates=new Map,this.checkedSyncStates=new Set}static create(t,e,n){const i=new qT(t,e);return n.syncStates.forEach((t=>i.addSyncState(t))),i}run(){if(!this.running){this.running=!0;for(const t of this.entities)if(!t.running&&(t.running=!0,t.endpoint.transition(this),this.cancelled))break}}addSyncState(t){const e=new dT;this.syncStates.set(t,e)}addEndpoint(t){let e=this.entities.find((e=>e.endpoint===t));return void 0!==e||(e=new HT(t),this.entities.push(e),this.recheckSyncStates(),this.running&&e.endpoint.transition(this)),e}addEndpointState(t,e){let n=this.entities.find((e=>e.endpoint===t));void 0===n&&(n=this.addEndpoint(t));const i=n.states.get(e);i instanceof dT&&i.resolve(),n.states.set(e,null),this.checkSyncState(e)}waitForSyncState(t,e=null){if(0===this.entities.length)return;const n=this.syncStates.get(t);if(void 0!==n){if(null!==e){const i=this.entities.find((t=>t.endpoint===e));if(null===(null==i?void 0:i.syncPromise)&&n.isPending)return i.syncingState=t,i.syncPromise=new dT,i.checkedStates.push(t),this.checkedSyncStates.add(t),Promise.resolve().then((()=>{this.checkSyncState(t)})).catch((t=>{throw t})),i.syncPromise.promise}return n.isPending?n.promise:void 0}}waitForEndpointState(t,e){if(!this.syncStates.has(e))return;let n=this.entities.find((e=>e.endpoint===t));if(null==n&&(n=this.addEndpoint(t)),n.hasReachedState(e))return;let i=n.states.get(e);return null==i&&(i=new dT,n.states.set(e,i)),i.promise}finalEndpoint(){this.hasAllEndpoints=!0,this.syncStates.forEach(((t,e)=>this.checkSyncState(e)))}finalize(){this.entities.forEach((t=>t.endpoint.finalizeContentChange(this))),this.completed=!0,this.navigation.completed=!0}cancel(){this.cancelled=!0,this.entities.forEach((t=>{const e=t.endpoint.cancelContentChange(this,null);e instanceof Promise&&e.catch((t=>{throw t}))})),this.router.navigator.cancel(this.navigation).then((()=>{var t;null===(t=this.navigation.process)||void 0===t||t.resolve(!1)})).catch((t=>{throw t})),this.completed=!0,this.navigation.completed=!0}enqueueAppendedInstructions(t){this.appendedInstructions.push(...t)}dequeueAppendedInstructions(t,e,n){let i=[...this.appendedInstructions];t=[...t],e=[...e],n=[...n];const s=i.filter((t=>!t.default)),r=i.filter((t=>t.default));for(i=s.length>0?[...s]:[...r];i.length>0;){const s=i.shift();hT(this.appendedInstructions,(t=>t===s));const r=e.some((t=>t.sameEndpoint(s,!0))),o=t.find((t=>t.sameEndpoint(s,!0))),a=n.find((t=>t.sameEndpoint(s,!0)));s.default&&(r||void 0!==o&&!o.default||void 0!==a&&!a.default)||(void 0!==o&&hT(t,(t=>t===o)),void 0!==a&&hT(n,(t=>t===a)),null!==s.endpoint.instance?t.push(s):n.push(s))}return{matchedInstructions:t,earlierMatchedInstructions:e,remainingInstructions:n}}checkSyncState(t){var e;const n=this.syncStates.get(t);if(void 0!==n&&this.hasAllEndpoints&&n.isPending&&this.entities.every((e=>e.hasReachedState(t)))&&(!this.checkedSyncStates.has(t)||this.entities.every((e=>e.checkedStates.includes(t))))){for(const n of this.entities)n.syncingState===t&&(null===(e=n.syncPromise)||void 0===e||e.resolve(),n.syncPromise=null,n.syncingState=null);n.resolve()}}recheckSyncStates(){this.syncStates.forEach(((t,e)=>{t.isPending||this.entities.every((t=>t.hasReachedState(e)))||this.addSyncState(e)}))}}class UT{constructor(t,e,n){var i,s;this.hook=t,this.id=n,this.type="beforeNavigation",this.includeTargets=[],this.excludeTargets=[],void 0!==e.type&&(this.type=e.type);for(const t of null!==(i=e.include)&&void 0!==i?i:[])this.includeTargets.push(new zT(t));for(const t of null!==(s=e.exclude)&&void 0!==s?s:[])this.excludeTargets.push(new zT(t))}static add(t,e){const n=new UT(t,null!=e?e:{},++this.lastIdentity);return this.hooks[n.type].push(n),this.lastIdentity}static remove(t){for(const e in this.hooks)if(Object.prototype.hasOwnProperty.call(this.hooks,e)){const n=this.hooks[e].findIndex((e=>e.id===t));n>=0&&this.hooks[e].splice(n,1)}}static removeAll(){for(const t in this.hooks)this.hooks[t]=[]}static async invokeBeforeNavigation(t,e){return this.invoke("beforeNavigation",e,t)}static async invokeTransformFromUrl(t,e){return this.invoke("transformFromUrl",e,t)}static async invokeTransformToUrl(t,e){return this.invoke("transformToUrl",e,t)}static async invokeTransformTitle(t,e){return this.invoke("transformTitle",e,t)}static async invoke(t,e,n){let i=n;for(const s of this.hooks[t])if(!s.wantsMatch||s.matches(n))if(i=await s.invoke(e,n),"boolean"==typeof i){if(!i)return!1}else n=i;return i}get wantsMatch(){return this.includeTargets.length>0||this.excludeTargets.length>0}matches(t){return!(this.includeTargets.length&&!this.includeTargets.some((e=>e.matches(t)))||this.excludeTargets.length&&this.excludeTargets.some((e=>e.matches(t))))}invoke(t,e){return this.hook(e,t)}}UT.hooks={beforeNavigation:[],transformFromUrl:[],transformToUrl:[],transformTitle:[]},UT.lastIdentity=0;class zT{constructor(t){if(this.componentType=null,this.componentName=null,this.viewport=null,this.viewportName=null,"string"==typeof t)this.componentName=t;else if(cT.isType(t))this.componentType=t,this.componentName=cT.getName(t);else{const e=t;null!=e.component&&(this.componentType=cT.isType(e.component)?cT.getType(e.component):null,this.componentName=cT.getName(e.component)),null!=e.viewport&&(this.viewport=TT.isInstance(e.viewport)?e.viewport:null,this.viewportName=TT.getName(e.viewport))}}matches(t){const e=t.slice();e.length||e.push(AT.create(""));for(const t of e)if(null!==this.componentName&&this.componentName===t.component.name||null!==this.componentType&&this.componentType===t.component.type||null!==this.viewportName&&this.viewportName===t.endpoint.name||null!==this.viewport&&this.viewport===t.endpoint.instance)return!0;return!1}}class _T{static async getTitle(t,e,n){let i=await UT.invokeTransformTitle(t,e);if("string"!=typeof i){const t=_T.stringifyTitles(i,e,n);i=n.appTitle,i=i.replace(/\${componentTitles}/g,t),i=i.replace(/\${appTitleSeparator}/g,""!==t?n.appTitleSeparator:"")}return i=await UT.invokeTransformTitle(i,e),i}static stringifyTitles(t,e,n){return t.map((t=>_T.stringifyTitle(t,e,n))).filter((t=>{var e;return(null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0)>0})).join(" + ")}static stringifyTitle(t,e,n){const i=t.nextScopeInstructions;let s=_T.resolveTitle(t,e,n);if(Array.isArray(i)&&i.length>0){let t=_T.stringifyTitles(i,e,n);t.length>0&&(1!==i.length&&(t="[ "+t+" ]"),s=s.length>0?"top-down"===n.componentTitleOrder?s+n.componentTitleSeparator+t:t+n.componentTitleSeparator+s:t)}return s}static resolveTitle(t,e,n){let i=t.getTitle(e);return null!=n.transformTitle&&(i=n.transformTitle(i,t,e)),i}}const WT=Gh.createInterface("IRouter",(t=>t.singleton(KT)));class KT{constructor(t,e,n,i,s,r){this.container=t,this.ea=e,this.navigator=n,this.viewer=i,this.store=s,this.configuration=r,this.rootScope=null,this.activeComponents=[],this.appendedInstructions=[],this.isActive=!1,this.coordinators=[],this.loadedFirst=!1,this.handleNavigatorNavigateEvent=t=>{this.processNavigation(t.navigation).catch((t=>{throw t}))},this.handleNavigatorStateChangeEvent=t=>{var e;if(null!=(null===(e=t.state)||void 0===e?void 0:e.navigationIndex)){const e=wT.create(t.state.navigations[t.state.navigationIndex]);e.instruction=t.viewerState.instruction,e.fromBrowser=!0,this.navigator.navigate(e).catch((t=>{throw t}))}else this.load(t.viewerState.instruction,{fromBrowser:!0}).catch((t=>{throw t}))},this.processNavigation=async t=>{var e,n,i;const s=this.configuration.options,r=qT.create(this,t,{syncStates:this.configuration.options.navigationSyncStates});this.coordinators.push(r),r.appendedInstructions.push(...this.appendedInstructions.splice(0,this.appendedInstructions.length)),this.ea.publish(JT.eventName,JT.create(t));let o="string"!=typeof t.instruction||t.useFullStateInstruction?t.instruction:await UT.invokeTransformFromUrl(t.instruction,r.navigation);const a=s.basePath;null!==a&&"string"==typeof o&&o.startsWith(a)&&!s.useUrlFragmentHash&&(o=o.slice(a.length)),"/"===o&&(o=""),null!==(e=t.scope)&&void 0!==e||(t.scope=this.rootScope.scope);let l=t.scope.findInstructions(o,s.useDirectRouting,s.useConfiguredRoutes),c=null;t.instruction.length>0&&!l.foundConfiguration&&!l.foundInstructions&&this.unknownRoute(l.remaining);let h=l.instructions;l.foundConfiguration&&(t.path=t.instruction.replace(/^\//,""),c=(null!=c?c:"")+l.matching,this.rootScope.path=c);const u=h.filter((t=>t.component.isPromise()));u.length>0&&await Promise.all(u.map((t=>t.component.resolve()))),this.configuration.options.additiveInstructionDefault||(h=this.ensureClearStateInstruction(h));let d=[];({clearEndpoints:d,instructions:h}=this.getClearAllEndpoints(h));for(const t of h.filter((t=>t.isAddAll(this))))t.endpoint.set(t.scope.endpoint.name),t.scope=t.scope.owningScope;for(const t of h)t.topInstruction=!0;const p=[];let g=[],{matchedInstructions:f,remainingInstructions:v}=this.matchEndpoints(h,g),m=100;do{if(!m--)throw this.ea.publish(iA.eventName,iA.create(t)),this.ea.publish(tA.eventName,tA.create(t)),GT(v);const e=[],s=f.map((t=>t.scope)),o=f.map((t=>t.endpoint.instance));f.push(...d.filter((t=>s.includes(t.owningScope)&&!o.includes(t))).map((t=>AT.createClear(this,t))));const a=await UT.invokeBeforeNavigation(f,t);if(!1===a)return r.cancel(),this.ea.publish(eA.eventName,eA.create(t)),void this.ea.publish(tA.eventName,tA.create(t));if(!0!==a&&a!==f){const t=AT.flat(f);v=v.filter((e=>!t.includes(e))),f=a,l.remaining=""}for(const s of f){const o=s.endpoint.instance;if(null!==o){o.path=c;const a=o.setNextContent(s,t);"skip"!==a&&(e.push(o),r.addEndpoint(o));const l=[o];if("swap"===a&&l.push(...o.getContent().connectedScope.allScopes(!0).map((t=>t.endpoint))),hT(d,(t=>l.includes(t))),hT(f,(t=>t!==s&&t.isClear(this)&&l.includes(t.endpoint.instance))),!s.isClear(this)&&(null===(i=null===(n=s.scope)||void 0===n?void 0:n.parent)||void 0===i?void 0:i.isViewportScope)&&(hT(d,(t=>t===s.scope.parent.endpoint)),hT(f,(t=>t!==s&&t.isClear(this)&&t.endpoint.instance===s.scope.parent.endpoint))),"skip"!==a&&s.hasNextScopeInstructions)for(const t of s.nextScopeInstructions)t.scope=o.scope,t.endpoint.instance=null}}const h=f.filter((t=>{var e;return"skip"===(null===(e=t.endpoint.instance)||void 0===e?void 0:e.transitionAction)})),u=h.filter((t=>t.hasNextScopeInstructions));if((0===h.length||0===u.length&&!l.hasRemaining)&&(this.isRestrictedNavigation||r.finalEndpoint(),r.run(),r.hasAllEndpoints)){const t=r.waitForSyncState("guardedUnload");t instanceof Promise&&await t}if(r.cancelled)return this.ea.publish(eA.eventName,eA.create(t)),void this.ea.publish(tA.eventName,tA.create(t));for(const t of e)p.every((e=>e!==t))&&p.push(t);if(g.push(...f.splice(0)),v.length>0&&({matchedInstructions:f,remainingInstructions:v}=this.matchEndpoints(v,g)),!this.isRestrictedNavigation&&(f.length>0||v.length>0)&&r.running){const t=r.waitForSyncState("swapped");t instanceof Promise&&await t}if(l.hasRemaining&&0===f.length&&0===v.length){const{foundChildRoute:t,configuredChildRoutePath:e}=this.findChildRoute(g,l,c);t.foundInstructions?(l=t,c=e,this.appendInstructions(t.instructions)):this.unknownRoute(t.remaining)}t.useFullStateInstruction&&(r.appendedInstructions=r.appendedInstructions.filter((t=>!t.default)));const b=r.appendedInstructions.filter((t=>t.component.isPromise()));if(b.length>0&&await Promise.all(b.map((t=>t.component.resolve()))),({matchedInstructions:f,earlierMatchedInstructions:g,remainingInstructions:v}=r.dequeueAppendedInstructions(f,g,v)),0===f.length&&0===v.length){const t=g.map((t=>{var e,n;return null===(n=(null===(e=t.endpoint.instance)||void 0===e?void 0:e.connectedCE).pendingPromise)||void 0===n?void 0:n.promise})).filter((t=>null!=t));t.length>0?(await Promise.any(t),({matchedInstructions:f,earlierMatchedInstructions:g,remainingInstructions:v}=r.dequeueAppendedInstructions(f,g,v))):f=d.map((t=>AT.createClear(this,t)))}}while(f.length>0||v.length>0);return pT.run(null,(()=>(r.finalEndpoint(),r.waitForSyncState("completed"))),(()=>(r.finalize(),this.updateNavigation(t))),(()=>{t.navigation.new&&!t.navigation.first&&!t.repeating&&p.every((t=>t.options.noHistory))&&(t.untracked=!0)}),(async()=>{for(var t;this.coordinators.length>0&&this.coordinators[0].completed;){const e=this.coordinators.shift();await this.navigator.finalize(e.navigation,!1),this.ea.publish(nA.eventName,nA.create(e.navigation)),this.ea.publish(tA.eventName,tA.create(e.navigation)),null===(t=e.navigation.process)||void 0===t||t.resolve(!0)}}))}}static get inject(){return[Qh,vd,OT,MT,MT,NA]}get isNavigating(){return this.coordinators.length>0}get isRestrictedNavigation(){const t=this.configuration.options.navigationSyncStates;return t.includes("guardedLoad")||t.includes("unloaded")||t.includes("loaded")||t.includes("guarded")||t.includes("routed")}get statefulHistory(){return void 0!==this.configuration.options.statefulHistoryLength&&this.configuration.options.statefulHistoryLength>0}start(){if(this.isActive)throw new Error("Router has already been started");this.isActive=!0;const t=this.container.get(fy);this.rootScope=new bT(this,"rootScope",t.controller.viewModel,null,!0,t.config.component);const e=this.configuration.options;if(null===e.basePath){const n=new URL(t.host.baseURI);e.basePath=n.pathname}e.basePath.endsWith("/")&&(e.basePath=e.basePath.slice(0,-1)),this.navigator.start({store:this.store,viewer:this.viewer,statefulHistoryLength:this.configuration.options.statefulHistoryLength}),this.navigatorStateChangeEventSubscription=this.ea.subscribe(VT.eventName,this.handleNavigatorStateChangeEvent),this.navigatorNavigateEventSubscription=this.ea.subscribe(PT.eventName,this.handleNavigatorNavigateEvent),this.viewer.start({useUrlFragmentHash:this.configuration.options.useUrlFragmentHash}),this.ea.publish(YT.eventName,YT.create())}stop(){if(!this.isActive)throw new Error("Router has not been started");this.ea.publish(XT.eventName,XT.create()),this.navigator.stop(),this.viewer.stop(),this.navigatorStateChangeEventSubscription.dispose(),this.navigatorNavigateEventSubscription.dispose()}async initialLoad(){const t=this.load(this.viewer.viewerState.instruction,{replacing:!0,fromBrowser:!1});return this.loadedFirst=!0,t}getEndpoint(t,e){var n;return null!==(n=this.allEndpoints(t).find((t=>t.name===e)))&&void 0!==n?n:null}allEndpoints(t,e=!1){return this.rootScope.scope.allScopes(e).filter((e=>null===t||e.type===t)).map((t=>t.endpoint))}addEndpoint(t,...e){throw new Error("Not implemented")}connectEndpoint(t,e,n,i,s){const r=n.container,o=(r.has(KT.closestEndpointKey,!0)?r.get(KT.closestEndpointKey):this.rootScope).connectedScope;return null===t&&(t=o.addEndpoint(e,i,n,s),yu.instance(KT.closestEndpointKey,t).register(r)),t}disconnectEndpoint(t,e,n){if(!e.connectedScope.parent.removeEndpoint(t,e,n))throw new Error("Failed to remove endpoint: "+e.name)}async load(t,e){var n,i,s;e=null!=e?e:{},t=this.extractQuery(t,e);let r=null;if(({instructions:t,scope:r}=this.applyLoadOptions(t,e)),null!==(n=e.append)&&void 0!==n&&n&&(!this.loadedFirst||this.isNavigating))return t=AT.from(this,t),this.appendInstructions(t,r),Promise.resolve();const o=wT.create({instruction:t,fullStateInstruction:"",scope:r,title:e.title,data:e.data,query:e.query,parameters:e.parameters,replacing:null!==(i=e.replacing)&&void 0!==i&&i||e.replace,repeating:e.append,fromBrowser:null!==(s=e.fromBrowser)&&void 0!==s&&s,origin:e.origin,completed:!1});return this.navigator.navigate(o)}applyLoadOptions(t,e,n=!0){var i,s,r;"origin"in(e=null!=e?e:{})&&!("context"in e)&&(e.context=e.origin);let o=null!==(s=FT.for(null!==(i=e.context)&&void 0!==i?i:null))&&void 0!==s?s:null;if("string"==typeof t){if(t.startsWith("/"))o=null;else{if(t.startsWith("."))for(t.startsWith("./")&&(t=t.slice(2));t.startsWith("../");)o=null!==(r=null==o?void 0:o.parent)&&void 0!==r?r:o,t=t.slice(3);null!=(null==o?void 0:o.path)&&(t=`${o.path}/${t}`,o=null)}if(!n){t=AT.from(this,t);for(const e of t)null===e.scope&&(e.scope=o)}}else{t=AT.from(this,t);for(const e of t)null===e.scope&&(e.scope=o)}return{instructions:t,scope:o}}refresh(){return this.navigator.refresh()}back(){return this.navigator.go(-1)}forward(){return this.navigator.go(1)}go(t){return this.navigator.go(t)}checkActive(t,e){if("string"==typeof t)throw new Error(`Parameter instructions to checkActivate can not be a string ('${t}')!`);e=null!=e?e:{},({instructions:t}=this.applyLoadOptions(t,e)),t.forEach((t=>{var e;return null!==(e=t.scope)&&void 0!==e?e:t.scope=this.rootScope.scope}));const n=uT(t.map((t=>t.scope)));for(const e of n){const n=e.matchScope(t,!1),i=e.matchScope(this.activeComponents,!0);if(!AT.contains(this,i,n,!0))return!1}return!0}appendInstructions(t,e=null){null===e&&(e=this.rootScope.scope);for(const n of t)null===n.scope&&(n.scope=e);let n=null;for(let t=this.coordinators.length-1;t>=0;t--)if(!this.coordinators[t].completed){n=this.coordinators[t];break}if(null===n){if(this.loadedFirst)throw Error("Failed to append routing instructions to coordinator");this.appendedInstructions.push(...t)}null==n||n.enqueueAppendedInstructions(t)}unknownRoute(t){if("string"==typeof t&&0!==t.length)throw this.configuration.options.useConfiguredRoutes&&this.configuration.options.useDirectRouting?new Error("No matching configured route or component found for '"+t+"'"):this.configuration.options.useConfiguredRoutes?new Error("No matching configured route found for '"+t+"'"):new Error("No matching route/component found for '"+t+"'")}ensureClearStateInstruction(t){if(t.length>0){const e=t[0];if(!e.isAddAll(this)&&!e.isClearAll(this)){const n=AT.create(AT.clear(this));return n.scope=e.scope,[n,...t]}}return t}getClearAllEndpoints(t){let e=[];for(const n of t.filter((t=>t.isClearAll(this))))e=n.scope.allScopes().filter((t=>{var e;return!t.endpoint.isEmpty&&t!==(null===(e=this.rootScope)||void 0===e?void 0:e.connectedScope)})).map((t=>t.endpoint));return{clearEndpoints:e,instructions:t.filter((t=>!t.isClearAll(this)))}}matchEndpoints(t,e,n=!1){const i=[],s=[];for(;t.length;){const r=t[0];null===r.scope&&(r.scope=this.rootScope.scope);const o=r.scope,{matchedInstructions:a,remainingInstructions:l}=o.matchEndpoints(t.filter((t=>t.scope===o)),e,n);i.push(...a),s.push(...l),t=t.filter((t=>t.scope!==o))}return{matchedInstructions:i.slice(),remainingInstructions:s}}findChildRoute(t,e,n){const i=this.configuration.options;let s=new kT,r=null!=n?n:"";const o=t.filter((t=>{var e;return(null===(e=t.endpoint.instance)||void 0===e?void 0:e.path)===n})).map((t=>t.endpoint.instance)).filter(((t,e,n)=>n.indexOf(t)===e));for(const t of o)if(s=t.scope.findInstructions(e.remaining,i.useDirectRouting,i.useConfiguredRoutes),s.foundConfiguration)break;return s.foundInstructions&&(r+=`/${e.matching}`),{foundChildRoute:s,configuredChildRoutePath:r}}async updateNavigation(t){var e,n,i;this.rootScope.scope.reparentRoutingInstructions();const s=this.rootScope.scope.getRoutingInstructions(t.timestamp),r=[];let{matchedInstructions:o,remainingInstructions:a}=this.matchEndpoints(s,r,!0),l=100;for(;a.length>0;){if(0==l--)throw new Error("Failed to find viewport when updating viewer paths.");r.push(...o),({matchedInstructions:o,remainingInstructions:a}=this.matchEndpoints(a,r,!0))}t.timestamp>=(null!==(n=null===(e=this.activeNavigation)||void 0===e?void 0:e.timestamp)&&void 0!==n?n:0)&&(this.activeNavigation=t,this.activeComponents=s);let c=await UT.invokeTransformToUrl(s,t);if("string"!=typeof c&&(c=AT.stringify(this,c,!1,!0)),c=await UT.invokeTransformToUrl(c,t),null==t.query&&null!=t.parameters){const e=new URLSearchParams;for(let[n,i]of Object.entries(t.parameters)){n=encodeURIComponent(n),Array.isArray(i)||(i=[i]);for(const t of i)e.append(n,encodeURIComponent(t))}t.query=e.toString()}let h=`${this.configuration.options.basePath}/`;(null===h||""!==c&&"/"===c[0]||this.configuration.options.useUrlFragmentHash)&&(h="");const u=t.query&&t.query.length?"?"+t.query:"";t.path=h+c+u;const d=[AT.create(AT.clear(this))];if(d.push(...AT.clone(s,this.statefulHistory)),t.fullStateInstruction=d,null===(null!==(i=t.title)&&void 0!==i?i:null)){const e=await _T.getTitle(s,t,this.configuration.options.title);null!==e&&(t.title=e)}return Promise.resolve()}extractQuery(t,e){var n;if("string"==typeof t&&null==e.query){const[n,i]=t.split("?");t=n,e.query=i}return"string"==typeof e.parameters&&null==e.query&&(e.query=e.parameters,e.parameters=void 0),"string"==typeof e.query&&e.query.length>0&&(null!==(n=e.parameters)&&void 0!==n||(e.parameters={}),new URLSearchParams(e.query).forEach(((t,n)=>{n=decodeURIComponent(n),t=decodeURIComponent(t),n in e.parameters?(Array.isArray(e.parameters[n])||(e.parameters[n]=[e.parameters[n]]),e.parameters[n].push(t)):e.parameters[n]=t}))),t}}function GT(t){const e=new Error(`${t.length} remaining instructions after 100 iterations; there is likely an infinite loop.`);return e.remainingInstructions=t,console.log(e,e.remainingInstructions),e}KT.closestEndpointKey=Bh.annotation.keyFor("closest-endpoint");class QT{constructor(t){this.eventName=t}}class YT extends QT{static create(){return new YT(this.eventName)}}YT.eventName="au:router:router-start";class XT extends QT{static create(){return new XT(this.eventName)}}XT.eventName="au:router:router-stop";class ZT{constructor(t,e){this.eventName=t,this.navigation=e}}class JT extends ZT{static create(t){return new JT(this.eventName,t)}}JT.eventName="au:router:navigation-start";class tA extends ZT{static create(t){return new tA(this.eventName,t)}}tA.eventName="au:router:navigation-end";class eA extends ZT{static create(t){return new eA(this.eventName,t)}}eA.eventName="au:router:navigation-cancel";class nA extends ZT{static create(t){return new nA(this.eventName,t)}}nA.eventName="au:router:navigation-complete";class iA extends ZT{static create(t){return new iA(this.eventName,t)}}iA.eventName="au:router:navigation-error";var sA=function(t,e){return function(n,i){e(n,i,t)}};const rA=Gh.createInterface("ILinkHandler",(t=>t.singleton(oA)));let oA=class{constructor(t,e){this.window=t,this.router=e}handleEvent(t){this.handleClick(t)}handleClick(t){var e,n,i;if(0!==t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;const s=t.currentTarget;if(s.hasAttribute("external"))return;const r=null!==(e=s.getAttribute("target"))&&void 0!==e?e:"";if(r.length>0&&r!==this.window.name&&"_self"!==r)return;const o=nb.for(s,"goto"),a=void 0!==o?o.viewModel.value:null,l=nb.for(s,"load"),c=void 0!==l?l.viewModel.value:null,h=this.router.configuration.options.useHref&&s.hasAttribute("href")?s.getAttribute("href"):null;if(!(null!==a&&0!==a.length||null!==c&&0!==c.length||null!==h&&0!==h.length))return;t.preventDefault();let u=null!==(i=null!==(n=null!=c?c:a)&&void 0!==n?n:h)&&void 0!==i?i:"";"string"==typeof u&&u.startsWith("#")&&(u=u.slice(1),u.startsWith("/")||(u=`/${u}`)),this.router.load(u,{origin:s}).catch((t=>{throw t}))}};var aA;oA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([sA(0,jy),sA(1,WT)],oA),function(t){t.default="default",t.disallow="disallow",t.reload="reload",t.refresh="refresh"}(aA||(aA={}));class lA{constructor(t,e){this.nav=t,this.instructions=[],this.link=null,this.linkVisible=null,this.linkActive=null,this.compareParameters=!1,this.children=null,this.visible=!0,this.active="",this.title=e.title,this.meta=e.meta,e.route&&(this.instructions=this.parseRoute(e.route),this.link=this.computeLink(this.instructions)),this.linkActive=null!==e.consideredActive&&void 0!==e.consideredActive?e.consideredActive:this.link,null===this.linkActive||this.linkActive instanceof Function&&!cT.isType(this.linkActive)||(this.linkActive=AT.from(this.nav.router,this.linkActive)),this.execute=e.execute,this.compareParameters=!!e.compareParameters,this.linkVisible=void 0===e.condition||e.condition,this.update()}get hasChildren(){return this.children&&this.children.length?"nav-has-children":""}update(){this.visible=this.computeVisible(),this.link&&this.link.length||this.execute?this.active=this.computeActive():this.active="nav-active"===this.active?"nav-active":this.activeChild()?"nav-active-child":""}executeAction(t){this.execute&&this.execute(this),t.stopPropagation()}toggleActive(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}parseRoute(t){return AT.from(this.nav.router,t)}computeVisible(){return this.linkVisible instanceof Function?this.linkVisible(this):!!this.linkVisible}computeActive(){if(!Array.isArray(this.linkActive))return this.linkActive(this)?"nav-active":"";const t=this.linkActive,e=AT.flat(this.nav.router.activeComponents);for(const n of t)if(e.every((t=>!t.sameComponent(this.nav.router,n,this.compareParameters&&null!==n.parameters.typedParameters))))return"";return"nav-active"}computeLink(t){return AT.stringify(this.nav.router,t)}activeChild(){if(this.children)for(const t of this.children)if(t.active.startsWith("nav-active")||t.activeChild())return!0;return!1}}class cA{constructor(t,e,n=[],i={}){this.router=t,this.name=e,this.routes=n,this.classes=i,this.update()}static setNav(t,e,n,i){const s=this.findNav(e);null!=s&&(s.routes=[]),this.addNav(t,e,n,i)}static addNav(t,e,n,i){let s=cA.navs.get(e);null==s&&(cA.navs.set(e,new cA(t,e,[],i)),s=cA.navs.get(e)),s.addRoutes(n),s.update()}static updateNav(t){const e=t?[t]:Object.keys(this.navs);for(const t of e)cA.navs.has(t)&&cA.navs.get(t).update()}static findNav(t){return cA.navs.get(t)}addRoutes(t){for(const e of t)this.addRoute(this.routes,e);this.update()}update(){this.updateRoutes(this.routes),this.routes=this.routes.slice()}addRoute(t,e){const n=new lA(this,e);if(t.push(n),e.children){n.children=[];for(const t of e.children)this.addRoute(n.children,t)}}updateRoutes(t){for(const e of t)e.update(),e.children&&e.children.length&&this.updateRoutes(e.children)}}cA.navs=new Map;!function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);r>3&&o&&Object.defineProperty(e,n,o)}([Ph],class{constructor(t){this.callback=t,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null}get isActive(){return null!==this.task}get length(){return this.pending.length}start(t){if(this.isActive)throw new Error("Queue has already been started");this.platform=t.platform,this.allowedExecutionCostWithinTick=t.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){if(!this.isActive)throw new Error("Queue has not been started");this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(t,e){const n=Array.isArray(t),i=n?t:[t],s=i.map(((t,n)=>Array.isArray(e)?e[n]:e)).map((t=>void 0!==t?t:1)),r=[];for(const t of i){const e={...t};e.cost=s.shift(),r.push(new Promise(((t,n)=>{e.resolve=e=>{t(e),this.processing=null,this.dequeue()},e.reject=t=>{n(t),this.processing=null,this.dequeue()}}))),this.pending.push(e)}return this.dequeue(),n?r:r[0]}dequeue(t){null===this.processing&&(void 0!==t&&(this.currentExecutionCostInCurrentTick=0),this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===t&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=this.processing.cost||0,this.callback(this.processing)))))}clear(){this.pending.splice(0,this.pending.length)}}.prototype,"dequeue",null);var hA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let uA=class{constructor(t){this.router=t,this.name=null,this.routes=null,this.level=0,this.classes={}}get navRoutes(){const t=cA.navs.get(this.name);return null!=t?t.routes:[]}get navClasses(){const t=cA.navs.get(this.name);return{nav:"",ul:"",li:"",a:"",ulActive:"",liActive:"nav-active",aActive:"",...null!=t?t.classes:{}}}active(t){return"Active"}};function dA(t,e,n,i,s=!1){var r;if(s)return i.hasAttribute(t);if(n)return e;const o=null!==(r=i.getAttribute(t))&&void 0!==r?r:"";return o.length>0?o:e}function pA(t,e){if(!t.isActive)return new Promise((t=>{const n=e.subscribe(YT.eventName,(()=>{t(),n.dispose()}))}))}function gA(t,e,n,i){var s,r;let o=null===(r=null===(s=nb.for(n,"considered-active"))||void 0===s?void 0:s.viewModel)||void 0===r?void 0:r.value;void 0===o&&(o=i);const a=t.applyLoadOptions(o,{context:e}),l=AT.from(t,a.instructions);for(const t of l)null===t.scope&&(t.scope=a.scope);return l}function fA(t){let e=t.parentElement;for(;null!=e;){if("AU-VIEWPORT"===e.tagName){e=null;break}if(e.hasAttribute("load-active"))break;e=e.parentElement}return null!=e||(e=t),e}hA([Rv],uA.prototype,"name",void 0),hA([Rv],uA.prototype,"routes",void 0),hA([Rv],uA.prototype,"level",void 0),hA([Rv],uA.prototype,"classes",void 0),uA=hA([Wm({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name} ${navClasses.nav}">\n    <au-nav routes.bind="navRoutes" classes.bind="navClasses" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level} ${classes.ul}">\n    <li repeat.for="route of routes" if.bind="route.visible" class="${route.active ? classes.liActive : \'\'} ${route.hasChildren} ${classes.li}">\n      <a if.bind="route.link && route.link.length" load="${route.link}" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <a if.bind="route.execute" click.trigger="route.executeAction($event)" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <span if.bind="(!route.link || !route.link.length) && !route.execute && !route.children" class="${route.active ? classes.aActive : \'\'} ${classes.span} nav-separator" innerhtml.bind="route.title"></span>\n      <a if.bind="(!route.link || !route.link.length) && !route.execute && route.children" click.delegate="route.toggleActive()" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" classes.bind="classes" containerless></au-nav>\n    </li>\n  </ul>\n</template>'}),function(t,e){return function(n,i){e(n,i,t)}}(0,WT)],uA);var vA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},mA=function(t,e){return function(n,i){e(n,i,t)}};const bA=Ym.createInjectable();let yA=class{constructor(t,e,n,i,s,r){this.router=t,this.element=e,this.container=n,this.ea=i,this.parentViewport=s,this.instruction=r,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noTitle=!1,this.noHistory=!1,this.stateful=!1,this.endpoint=null,this.pendingChildren=[],this.pendingPromise=null,this.isBound=!1}hydrated(t){return this.controller=t,this.container=t.context.get(Qh),this.instruction.instructions.filter((t=>"default"===t.to)).length>0&&null!=this.parentViewport&&(this.parentViewport.pendingChildren.push(this),null===this.parentViewport.pendingPromise&&(this.parentViewport.pendingPromise=new dT)),pT.run(null,(()=>pA(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation&&this.connect()}))}binding(t,e,n){return this.isBound=!0,pT.run(null,(()=>pA(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation||this.connect()}),(()=>{var t;null!=(null===(t=this.endpoint)||void 0===t?void 0:t.activeResolve)&&(this.endpoint.activeResolve(),this.endpoint.activeResolve=null)}),(()=>{var e;if(null!==this.endpoint&&null===this.endpoint.getNextContent())return null===(e=this.endpoint.activate(null,t,this.controller,n,void 0))||void 0===e?void 0:e.asValue}))}detaching(t,e,n){if(null!==this.endpoint)return this.isBound=!1,this.endpoint.deactivate(null,t,e,n)}unbinding(t,e,n){if(null!==this.endpoint)return this.disconnect(null)}dispose(){var t;null===(t=this.endpoint)||void 0===t||t.dispose(),this.endpoint=null}connect(){const{isBound:t,element:e}=this,n=dA("name",this.name,t,e),i={};i.scope=!dA("no-scope",this.noScope,!1,e,!0),i.usedBy=dA("used-by",this.usedBy,t,e),i.default=dA("default",this.default,t,e),i.fallback=dA("fallback",this.fallback,t,e),i.noLink=dA("no-link",this.noLink,t,e,!0),i.noTitle=dA("no-title",this.noTitle,t,e,!0),i.noHistory=dA("no-history",this.noHistory,t,e,!0),i.stateful=dA("stateful",this.stateful,t,e,!0),Object.keys(i).forEach((t=>{void 0===i[t]&&delete i[t]})),this.endpoint=this.router.connectEndpoint(this.endpoint,"Viewport",this,n,i);const s=this.parentViewport;null!=s&&(hT(s.pendingChildren,(t=>t===this)),0===s.pendingChildren.length&&null!==s.pendingPromise&&(s.pendingPromise.resolve(),s.pendingPromise=null))}disconnect(t){null!==this.endpoint&&this.router.disconnectEndpoint(t,this.endpoint,this)}setActive(t){this.element.classList.toggle(this.router.configuration.options.indicators.viewportActive,t)}};vA([Rv],yA.prototype,"name",void 0),vA([Rv],yA.prototype,"usedBy",void 0),vA([Rv],yA.prototype,"default",void 0),vA([Rv],yA.prototype,"fallback",void 0),vA([Rv],yA.prototype,"noScope",void 0),vA([Rv],yA.prototype,"noLink",void 0),vA([Rv],yA.prototype,"noTitle",void 0),vA([Rv],yA.prototype,"noHistory",void 0),vA([Rv],yA.prototype,"stateful",void 0),yA=vA([Wm({name:"au-viewport",injectable:bA}),mA(0,WT),mA(1,Sy),mA(2,Qh),mA(3,vd),mA(4,bA),mA(5,Ky)],yA);var wA,xA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},kA=function(t,e){return function(n,i){e(n,i,t)}};const CA=Ym.createInjectable();let SA=wA=class{constructor(t,e,n,i,s){this.router=t,this.element=e,this.container=n,this.parent=i,this.parentController=s,this.name="default",this.catches="",this.collection=!1,this.source=null,this.viewportScope=null,this.isBound=!1}hydrated(t){this.controller=t}bound(t,e,n){this.isBound=!0,this.$controller.scope=this.parentController.scope,this.connect(),null!==this.viewportScope&&this.viewportScope.binding()}unbinding(t,e,n){return null!==this.viewportScope&&this.viewportScope.unbinding(),Promise.resolve()}afterUnbind(t,e,n){return this.disconnect(),Promise.resolve()}afterUnbound(){this.isBound=!1}connect(){if(null===this.router.rootScope)return;const t=this.getAttribute("name",this.name),e={};let n=this.getAttribute("catches",this.catches);void 0!==n&&(e.catches=n),n=this.getAttribute("collection",this.collection,!0),void 0!==n&&(e.collection=n),e.source=this.source||null,this.viewportScope=this.router.connectEndpoint(this.viewportScope,"ViewportScope",this,t,e)}disconnect(){this.viewportScope&&this.router.disconnectEndpoint(null,this.viewportScope,this),this.viewportScope=null}getAttribute(t,e,n=!1){if(this.isBound)return e;if(this.element.hasAttribute(t)){if(n)return!0;if((e=this.element.getAttribute(t)).length>0)return e}}isCustomElementController(t){return ay(t)}isCustomElementViewModel(t){return ly(t)}getClosestCustomElement(){let t=this.controller.parent,e=null;for(;null!==t&&null===e;)(t.viewModel instanceof yA||t.viewModel instanceof wA)&&(e=t.viewModel),t=t.parent;return e}};xA([Rv],SA.prototype,"name",void 0),xA([Rv],SA.prototype,"catches",void 0),xA([Rv],SA.prototype,"collection",void 0),xA([Rv],SA.prototype,"source",void 0),SA=wA=xA([Wm({name:"au-viewport-scope",template:"<template></template>",containerless:!1,injectable:CA}),kA(0,WT),kA(1,Sy),kA(2,Qh),kA(3,CA),kA(4,gy)],SA);var $A=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},TA=function(t,e){return function(n,i){e(n,i,t)}};let AA=class{constructor(t,e,n,i){this.element=t,this.router=e,this.linkHandler=n,this.ea=i,this.hasHref=null,this.activeClass="goto-active",this.navigationEndHandler=t=>{const e=nb.for(this.element,"goto").parent,n=this.router.applyLoadOptions(this.value,{context:e}),i=AT.from(this.router,n.instructions);for(const t of i)null===t.scope&&(t.scope=n.scope);this.element.classList.toggle(this.activeClass,this.router.checkActive(i,{context:e}))},console.warn('[Deprecated] The "goto" custom attribute has been deprecated. Please use the "load" custom attribute instead.')}binding(){this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.routerNavigationSubscription=this.ea.subscribe(tA.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(t){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){const t="string"==typeof this.value?this.value:JSON.stringify(this.value);this.element.setAttribute("href",t)}}};$A([Rv({mode:mp.toView})],AA.prototype,"value",void 0),AA=$A([Jm("goto"),TA(0,Sy),TA(1,WT),TA(2,rA),TA(3,vd)],AA);var EA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},PA=function(t,e){return function(n,i){e(n,i,t)}};let OA=class{constructor(t,e,n,i){this.element=t,this.router=e,this.linkHandler=n,this.ea=i,this.hasHref=null,this.navigationEndHandler=t=>{const e=nb.for(this.element,"load").parent,n=gA(this.router,e,this.element,this.value);fA(this.element).classList.toggle(this.activeClass,this.router.checkActive(n,{context:e}))},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.routerNavigationSubscription=this.ea.subscribe(tA.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(t){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){let t="string"==typeof this.value?this.value:JSON.stringify(this.value);this.router.configuration.options.useUrlFragmentHash&&!t.startsWith("#")&&(t=`#${t}`),this.element.setAttribute("href",t)}}};EA([Rv({mode:mp.toView})],OA.prototype,"value",void 0),OA=EA([Jm("load"),PA(0,Sy),PA(1,WT),PA(2,rA),PA(3,vd)],OA);var RA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},IA=function(t,e){return function(n,i){e(n,i,t)}};let jA=class{constructor(t,e,n,i){this.element=t,this.router=e,this.linkHandler=n,this.ea=i,this.navigationEndHandler=t=>{const e=nb.for(this.element,"href").parent,n=gA(this.router,e,this.element,this.value);fA(this.element).classList.toggle(this.activeClass,this.router.checkActive(n,{context:e}))},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){this.router.configuration.options.useHref&&!this.hasLoad()&&(this.element.addEventListener("click",this.linkHandler),this.routerNavigationSubscription=this.ea.subscribe(tA.eventName,this.navigationEndHandler)),this.updateValue()}unbinding(){var t;this.element.removeEventListener("click",this.linkHandler),null===(t=this.routerNavigationSubscription)||void 0===t||t.dispose()}valueChanged(){this.updateValue()}updateValue(){this.element.setAttribute("href",this.value)}hasLoad(){var t;const e=this.$controller.parent.children;return null!==(t=null==e?void 0:e.some((t=>1===t.vmKind&&t.viewModel instanceof OA)))&&void 0!==t&&t}};RA([Rv({mode:mp.toView})],jA.prototype,"value",void 0),jA=RA([Jm({name:"href",noMultiBindings:!0}),IA(0,Sy),IA(1,WT),IA(2,rA),IA(3,vd)],jA);var FA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let LA=class{};FA([Rv({mode:mp.toView})],LA.prototype,"value",void 0),LA=FA([Jm("considered-active")],LA);const NA=Gh.createInterface("IRouterConfiguration",(t=>t.singleton(BA))),DA=[WT],MA=[yA,SA,uA,AA,OA,jA,LA];class BA{static register(t){const e=t.get(NA);return e.options=BA.options,e.options.setRouterConfiguration(e),BA.options=oT.create(),null!=jm.with?t.register(...DA,...MA,jm.with(WT).beforeActivate().call(BA.configurationCall),jm.with(WT).afterActivate().call((t=>t.initialLoad())),jm.with(WT).afterDeactivate().call((t=>t.stop()))):t.register(...DA,...MA,jm.beforeActivate(WT,BA.configurationCall),jm.afterActivate(WT,(t=>t.initialLoad())),jm.afterDeactivate(WT,(t=>t.stop())))}static customize(t){return void 0===t?(BA.options=oT.create(),BA.configurationCall=t=>{t.start()}):t instanceof Function?BA.configurationCall=t:(BA.options=oT.create(),BA.options.apply(t)),BA}static createContainer(){return this.register(Gh.createContainer())}static for(t){return t instanceof KT?t.configuration:t.get(NA)}apply(t,e=!1){e&&(this.options=oT.create()),this.options.apply(t)}addHook(t,e){return UT.add(t,e)}removeHook(t){return UT.remove(t)}removeAllHooks(){return UT.removeAll()}}BA.options=oT.create(),BA.configurationCall=t=>{t.start()};var VA=n(755);m()(VA.Z,{insert:"head",singleton:!1});const HA=VA.Z.locals||{};var qA=n(162);m()(qA.Z,{insert:"head",singleton:!1});const UA=qA.Z.locals||{};var zA=n(932);m()(zA.Z,{insert:"head",singleton:!1});const _A=zA.Z.locals||{};var WA=n(574);m()(WA.Z,{insert:"head",singleton:!1});const KA=WA.Z.locals||{};yu.defer(".css",HA,UA,_A,KA);const GA=JSON.parse('[{"name":"Anchor","load":"anchor","description":"Like a button but not really","badges":["FAST"]},{"name":"Article","load":"article","description":"Preview of a text + image type of content. Works great in an ecos-collection","badges":["FAST"]},{"name":"Badge","load":"badge","description":"A nice little tag to place next to your content to give it some identity","badges":["FAST","Extended"]},{"name":"Button","load":"button","description":"You probably knows what a button is","badges":["FAST","Extended"]},{"name":"Button 3D","load":"button-3d","description":"A fun button with cool interactivity","badges":["New"]},{"name":"Card","load":"card","description":"A visual surface to group information","badges":["FAST"]},{"name":"Collection","load":"collection","description":"Display a list of content around something like a responsive grid","badges":["New"]},{"name":"Colorize","load":"colorize","description":"Smartly colorize some content using your browser blend-mode","badges":["New"]},{"name":"Slider","load":"slider","description":"Input component to select a numeric value","badges":["FAST"]}]');var QA=function(t,e){return function(n,i){e(n,i,t)}};let YA=class{constructor(t,e){this.routerConfiguration=t,this.router=e,this.displayComponentsList=!1,this.isUseCaseRouterInUse=!1,this.componentsList=GA,this.handleUrlRoutes(),this.routerConfiguration.addHook(((t,e)=>{const n=document.querySelector("au-viewport");if(n){const t=n.firstChild;t instanceof Element&&t.scrollIntoView()}return!0})),this.routerConfiguration.addHook(((t,e)=>(this.displayComponentsList=void 0!==t.find((t=>"components-viewport"===t.viewport.name))&&void 0===t.find((t=>"components-list"===t.component.name)),this.isUseCaseRouterInUse=void 0!==t.find((t=>"use-cases-viewport"===t.viewport.name))&&void 0===t.find((t=>"use-cases-list"===t.component.name)),this.handleBodyStyles(),!0)))}handleUrlRoutes(){this.routerConfiguration.addHook((t=>t),{type:"transformFromUrl"}),this.routerConfiguration.addHook((t=>t),{type:"transformToUrl"})}handleBodyStyles(){this.isUseCaseRouterInUse?setTimeout((()=>{document.body.classList.add("use-cases-on")}),150):document.body.classList.remove("use-cases-on")}};YA=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm({name:"ecos-app",template:'\n\n\n\n\n<ecos-design-system-provider use-defaults applybackgroundtobody>\n  <div class="sidebar" sidebar--opened.class="sidebarOpened">\n    <ecos-settings></ecos-settings>\n  </div>\n  <div class="page" sidebar--opened.class="sidebarOpened">\n    <div class="main-content">\n      <ecos-navbar layer="1">\n        <ecos-colorize slot="branding" style="color: var(--accent-fill-rest)">\n          <img load="welcome-page" src="./images/Ecos.png" style="height: 30px" class="logo" />\n        </ecos-colorize>\n        <ecos-anchor slot="main" load="welcome-page" appearance="lightweight">Welcome</ecos-anchor>\n        <ecos-anchor slot="main" considered-active="components-index" load="components-index/components-list" appearance="lightweight">Components</ecos-anchor>\n        <ecos-anchor slot="main" considered-active="use-cases-index" load="use-cases-index/use-cases-list" appearance="lightweight">Use cases</ecos-anchor>\n        <ecos-anchor slot="secondary-toggler" appearance="lightweight">More</ecos-anchor>\n\n        <template if.bind="displayComponentsList">\n          <ecos-anchor repeat.for="component of componentsList" slot="secondary" load="components/${component.load}" appearance="lightweight">${component.name}</ecos-anchor>          \n        </template>\n\n        <ecos-anchor slot="secondary" load="the-project" appearance="lightweight">About The Project</ecos-anchor>\n        <ecos-anchor slot="secondary" load="the-project" appearance="lightweight">GitHub</ecos-anchor>\n      </ecos-navbar>\n\n      <div class="navbar-content">\n        <au-viewport name="main" default="welcome-page" fallback="missing-page"></au-viewport>\n      </div>\n    </div>\n  </div>\n\n  <ecos-icon button icon="Adjustments" id="design-settings-opener" click.delegate="sidebarOpened = !sidebarOpened"></ecos-icon>\n\n</ecos-design-system-provider>\n'}),QA(0,NA),QA(1,WT),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object,Object])],YA);const XA="button-3d-component",ZA='<ecos-section>\n  <h1>Button 3d</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-button-3d>Default</ecos-button-3d>\n    </div>\n  </au-snippet>\n  <p>Inspired by <a href="https://www.joshwcomeau.com/animation/3d-button/">Josh Comeau\'s post</a></p>\n</ecos-section>',JA=ZA,tE=[];let eE;function nE(t){eE||(eE=Ym.define({name:XA,template:ZA,dependencies:tE})),t.register(eE)}let iE=class{};iE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(i)],iE);const sE="button-component",rE='<ecos-section>\n  <h1>Button</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-button>Default</ecos-button>\n      <ecos-button appearance="accent">Accent</ecos-button>\n      <ecos-button appearance="lightweight">Lightweight</ecos-button>\n    </div>\n  </au-snippet>\n</ecos-section>',oE=rE,aE=[];let lE;function cE(t){lE||(lE=Ym.define({name:sE,template:rE,dependencies:aE})),t.register(lE)}let hE=class{};hE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(s)],hE);const uE="card-component",dE='<ecos-section>\n  <h1>Card</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-card>\n        <h2>Orange</h2>\n        <p>I\'m an orange fruit</p>\n        <ecos-button>Taste me</ecos-button>\n      </ecos-card>\n\n      <ecos-card>\n        <h2>Strawberry</h2>\n        <p>I\'m a red fruit</p>\n        <ecos-button>Taste me</ecos-button>\n      </ecos-card>\n    </div>\n  </au-snippet>\n</ecos-section>',pE=dE,gE=[];let fE;function vE(t){fE||(fE=Ym.define({name:uE,template:dE,dependencies:gE})),t.register(fE)}let mE=class{};mE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(r)],mE);let bE=class{};bE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm({name:"components-index",template:'<au-viewport name="components-viewport" default="components-list"></au-viewport>'})],bE);let yE=class{constructor(){this.componentsList=GA,this.filteringTag="all",this.search=""}get tags(){return GA.reduce(((t,e)=>{for(const n of e.badges)t.includes(n)||t.push(n);return t}),[])}getComponentsList(t,e){return this.componentsList.filter((n=>{const i=""===t||n.name.toLowerCase().includes(t.toLowerCase())||n.description.toLowerCase().includes(t.toLowerCase()),s=""===e||"all"===e||n.badges.includes(e);return i&&s}))}};yE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm({name:"components-list",template:'<ecos-section>\n  <h1>Some components to build great stuff</h1>\n  <p>Many components are identical or close to identical from their FAST implementation. They are re-exported in the `ecos` name space for consistency.</p>\n</ecos-section>\n\n<ecos-section nocontain>\n  <ecos-text-field placeholder="Search a component" value.bind="search">\n    <ecos-icon icon="User" slot="start"></ecos-icon>\n  </ecos-text-field>\n  <ecos-select value.bind="filteringTag">\n    <ecos-option value="all">All tags</ecos-option>\n    <ecos-option value="${tag}" repeat.for="tag of tags">${tag}</ecos-option>\n  </ecos-select>\n  <p class="muted-text">Displaying ${getComponentsList(search, filteringTag).length} components</p>\n</ecos-section>\n\n<ecos-section centerwidth="100ch">\n  <ecos-collection>\n    <ecos-card repeat.for="component of getComponentsList(search, filteringTag)">\n      <ecos-stack class="wrapper">\n        <ecos-stack inline small>\n          <ecos-badge appearance="${badge === \'New\' ? \'accent-light\':\'neutral\'}" repeat.for="badge of component.badges">${badge}</ecos-badge>\n        </ecos-stack>\n        <h2>${component.name}</h2>\n        <p>${component.description}</p>\n        <ecos-button appearance="accent" load="../${component.load}-component">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n</ecos-section>'})],yE);const wE="slider-component",xE='<ecos-section>\n  <h1>Slider</h1>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-slider></ecos-slider>\n    </div>\n  </au-snippet>\n</ecos-section>',kE=xE,CE=[];let SE;function $E(t){SE||(SE=Ym.define({name:wE,template:xE,dependencies:CE})),t.register(SE)}let TE=class{};TE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(o)],TE);const AE="missing-page",EE="<h3>Ouch! Couldn't find '${missingComponent}'!</h3>\n",PE=EE,OE=[];let RE;function IE(t){RE||(RE=Ym.define({name:AE,template:EE,dependencies:OE})),t.register(RE)}let jE=class{enter(t){this.missingComponent=t.id}};jE.parameters=["id"],jE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(a)],jE);const FE="the-project",LE='<ecos-section>\n  <h1>Understanding the Ecos project</h1>\n  <p>The main goal of this project (at the moment) is to experiment <a href="https://fast.design">FAST</a> and try to build things with it.</p>\n\n  <h2>What kind of experiment ?</h2>\n  <ul>\n    <li>Experimenting <strong>extending the FAST Frame</strong> design system. If this works well it should enable the project to provide a Design System of its own.</li>\n    <li>Experimenting how components work together when used in <strong>common use cases.</strong> The idea is to put together a homepage, a doc page, a blog page and an admin dashboard.</li>\n    <li><strong>Playing with design tokens on the fly</strong> and see how they affect the overall result.</li>\n  </ul>\n\n  <h2>How is the project organized ?</h2>\n\n  <h3>The design system</h3>\n  <p>The main piece of the project is the design system itself. It is found in the <code>/src/ecos-design-system</code> folder. This folder can be extracted and published on its own.</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # The following command builds the ecos-design-system as a standalone module ready to be published on NPM\n      npm run build\n    </div>\n  </au-snippet>\n\n  <h3>The testing app</h3>\n  <p>In order to play with the design system there is an <a href="https://docs.aurelia.io">Aurelia 2</a> application in the <code>/src</code> folder.</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # The following command starts the app on localhost:9000\n      npm run start\n\n      # The following command builds the app\n      npm run build-app\n    </div>\n  </au-snippet>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      # This folder contains app-specific components. Either ECOS components or AU2 custom elements;\n      /src/custom-elements\n\n      # Codebase for the whole design system experiment\n      /src/ecos-design-system\n\n      # This folder contains the routes modules loaded by the AU2 app\n      /src/routes\n\n      # Some app-specific CSS files\n      /src/*.css\n\n      # ecos-app.* are the main application files\n      /src/*.css\n\n      # Entry point for the AU2 application\n      /src/main.ts\n    </div>\n  </au-snippet>\n\n</ecos-section>',NE=LE,DE=[];let ME;function BE(t){ME||(ME=Ym.define({name:FE,template:LE,dependencies:DE})),t.register(ME)}let VE=class{};VE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(l)],VE);const HE="welcome-page",qE='<div class="header" style="height:50vh; position: relative;">\n   <animated-svg2 style="position: absolute; bottom: 0; left: 0; width: 100%;"></animated-svg2>\n\n  \n  <fast-design-system-provider background-color="#333" class="header-text" style="position: relative;">\n    <div class="header-text">Design system built on <a href="https://fast.design">FAST</a> and web-components</div>\n  </fast-design-system-provider>\n  \n\n</div>\n\n<ecos-section centerwidth="70ch">\n  <h1>Experiment extension of FAST design system</h1>\n  <p>You might have heard of <a href="https://fast.design">fast.design</a> developed by Microsoft. It\'s a pretty neat theming system using modern web-component technology.</p>\n  <p>What you see on this page is an experiment to build an extended version of the FAST frame design system provided by FAST.</p>\n</ecos-section>\n\n<ecos-section centerwidth="70ch">\n  <h2>What\'s a design system</h2>\n  <p>Based on a set of <i>design tokens</i>, the design system apply a consistent design and user experience on websites or applications. The design system under the hood of this particular website let\'s you play with those design token. For this you only need to find the <i>Adjustments</i> at the bottom left of each page and play with it.</p>\n</ecos-section>\n\n<ecos-section centerwidth="70ch">\n  <h2>Getting Started</h2>\n  <p>Well, like lots of things in life it start with a little install command</p>\n\n  <au-snippet class="mobile-full-bleed">\n    <div language="shell">\n      npm install @ecos/ecos-design-system --save\n    </div>\n  </au-snippet>\n\n  <p>In order to use web-components they need to be registered. You can do this by importing each desired components</p>\n  <au-snippet class="mobile-full-bleed" enable-output.bind="false">\n    <div language="typescript">\n      import { EcosDesignSystemProvider, EcosButton } from "@ecos/ecos-design-system";\n\n      /*\n      * Ensure that tree-shaking doesn\'t remove these components from the bundle.\n      * There are multiple ways to prevent tree shaking, of which this is one.\n      */\n      EcosDesignSystemProvider;\n      EcosButton;\n    </div>\n  </au-snippet>\n\n  <p>Make sure you have a Design System Provider encapsulating all the ecos components in the DOM. A common practice is to place it right after the body tag</p>\n  <au-snippet class="mobile-full-bleed">\n    <div language="html">\n      <body>\n        <ecos-design-system-provider use-defaults>\n          \x3c!-- `use-defaults` is only required on the top level design-system-provider --\x3e\n          \x3c!-- code continues here --\x3e\n        </ecos-design-system-provider>\n      </body>\n    </div>\n  </au-snippet>\n\n  <p>Use the components as native elements</p>\n  <au-snippet class="larger mobile-full-bleed" enable-output.bind="true">\n    <div language="html">\n      <ecos-design-system-provider background-color="#FFFFFF">\n        <h1>Hello World</h1>\n        <p>This text is supposed to motivate you to click below</p>\n        <ecos-button>Click me !</ecos-button>\n      </ecos-design-system-provider>\n    </div>\n  </au-snippet>\n\n\n</ecos-section>\n\n<ecos-section>\n  <h3>Want to know more ?</h3>\n  <p>Head over to the <ecos-anchor appearance="hypertext" load="../the-project">About the project</ecos-anchor> page to learn more about Ecos.</p>\n</ecos-section>',UE=qE,zE=[];let _E;function WE(t){_E||(_E=Ym.define({name:HE,template:qE,dependencies:zE})),t.register(_E)}const KE=re`
  ${oe("block")}

  :host {
    fill: var(--accent-fill-rest);
  }
`,GE=Wt`<slot>
  <svg viewbox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
    <!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ -->
    <g id="Layer_1">
     <title>Layer 1</title>
     <path stroke="none" fill-opacity="0.2" id="svg_1" d="m${t=>t.p0},404l706.00003,-${t=>t.p5}l0,${t=>t.p5}l-706.00003,1z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_3" d="m${t=>t.p0},404l706.00003,-${t=>t.p4}l0,${t=>t.p4}l-706.00003,0.77075z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_4" d="m${t=>t.p0},404l706.00003,-${t=>t.p3}l0,${t=>t.p3}l-706.00003,0.60797z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_5" d="m${t=>t.p0},404l706.00003,-${t=>t.p2}l0,${t=>t.p2}l-706.00003,0.36877z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_7" d="m${t=>t.p1},405l-${t=>t.p1},-141l0,140.53159l${t=>t.p1},0.46841z"/>
     <path stroke="none" fill-opacity="0.2" id="svg_9" d="m${t=>t.p1},405l-${t=>t.p1},-75l0,74.75085l${t=>t.p1},0.24915z"/>
    </g>
   </svg>
</slot>`;var QE=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},YE=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let XE=class extends mt{constructor(){super(...arguments),this.points=[96,526,111,183,202,301],this.increments=[.5,-1,.5,-.4,.3],this.mins=[115,360,10,20,30],this.maxs=[350,700,400,400,400],this.running=!1}connectedCallback(){super.connectedCallback(),this.start()}start(){this.nextFrame()}stop(){this.running=!1}nextFrame(){window.requestAnimationFrame((()=>{for(let t=0;t<this.points.length;t++){let e=this.points[t],n=this.increments[t]||0;const i=this.mins[t]||0,s=this.maxs[t]||800;(n&&e>s&&n>0||e<i&&n<0)&&(n*=-1,this.increments[t]=n),e+=n,this.points[t]=e,this[`p${t}`]=e}this.running&&this.nextFrame()}))}};QE([_,YE("design:type",Number)],XE.prototype,"p0",void 0),QE([_,YE("design:type",Number)],XE.prototype,"p1",void 0),QE([_,YE("design:type",Number)],XE.prototype,"p2",void 0),QE([_,YE("design:type",Number)],XE.prototype,"p3",void 0),QE([_,YE("design:type",Number)],XE.prototype,"p4",void 0),QE([_,YE("design:type",Number)],XE.prototype,"p5",void 0),XE=QE([bt({name:"animated-svg",template:GE,styles:KE})],XE);const ZE=re`
  ${oe("block")}

  :host {
    fill: var(--accent-fill-rest);
  }

`;function JE(t,e,n){return{index:t,removed:e,addedCount:n}}function tP(t,e,n,i,s,r){let o=0,a=0;const l=Math.min(n-e,r-s);if(0===e&&0===s&&(o=function(t,e,n){for(let i=0;i<n;++i)if(t[i]!==e[i])return i;return n}(t,i,l)),n===t.length&&r===i.length&&(a=function(t,e,n){let i=t.length,s=e.length,r=0;for(;r<n&&t[--i]===e[--s];)r++;return r}(t,i,l-o)),s+=o,r-=a,(n-=a)-(e+=o)==0&&r-s==0)return x;if(e===n){const t=JE(e,[],0);for(;s<r;)t.removed.push(i[s++]);return[t]}if(s===r)return[JE(e,[],n-e)];const c=function(t){let e=t.length-1,n=t[0].length-1,i=t[e][n];const s=[];for(;e>0||n>0;){if(0===e){s.push(2),n--;continue}if(0===n){s.push(3),e--;continue}const r=t[e-1][n-1],o=t[e-1][n],a=t[e][n-1];let l;l=o<a?o<r?o:r:a<r?a:r,l===r?(r===i?s.push(0):(s.push(1),i=r),e--,n--):l===o?(s.push(3),e--,i=o):(s.push(2),n--,i=a)}return s.reverse(),s}(function(t,e,n,i,s,r){const o=r-s+1,a=n-e+1,l=new Array(o);let c,h;for(let t=0;t<o;++t)l[t]=new Array(a),l[t][0]=t;for(let t=0;t<a;++t)l[0][t]=t;for(let n=1;n<o;++n)for(let r=1;r<a;++r)t[e+r-1]===i[s+n-1]?l[n][r]=l[n-1][r-1]:(c=l[n-1][r]+1,h=l[n][r-1]+1,l[n][r]=c<h?c:h);return l}(t,e,n,i,s,r)),h=[];let u,d=e,p=s;for(let t=0;t<c.length;++t)switch(c[t]){case 0:void 0!==u&&(h.push(u),u=void 0),d++,p++;break;case 1:void 0===u&&(u=JE(d,[],0)),u.addedCount++,d++,u.removed.push(i[p]),p++;break;case 2:void 0===u&&(u=JE(d,[],0)),u.addedCount++,d++;break;case 3:void 0===u&&(u=JE(d,[],0)),u.removed.push(i[p]),p++}return void 0!==u&&h.push(u),h}const eP=Array.prototype.push;function nP(t,e,n,i){const s=JE(e,n,i);let r=!1,o=0;for(let e=0;e<t.length;e++){const n=t[e];if(n.index+=o,r)continue;const i=(a=s.index,l=s.index+s.removed.length,c=n.index,h=n.index+n.addedCount,l<c||h<a?-1:l===c||h===a?0:a<c?l<h?l-c:h-c:h<l?h-a:l-a);if(i>=0){t.splice(e,1),e--,o-=n.addedCount-n.removed.length,s.addedCount+=n.addedCount-i;const a=s.removed.length+n.removed.length-i;if(s.addedCount||a){let t=n.removed;if(s.index<n.index){const e=s.removed.slice(0,n.index-s.index);eP.apply(e,t),t=e}if(s.index+s.removed.length>n.index+n.addedCount){const e=s.removed.slice(n.index+n.addedCount-s.index);eP.apply(t,e)}s.removed=t,n.index<s.index&&(s.index=n.index)}else r=!0}else if(s.index<n.index){r=!0,t.splice(e,0,s),e++;const i=s.addedCount-s.removed.length;n.index+=i,o+=i}}var a,l,c,h;r||t.push(s)}let iP=!1;function sP(t,e){let n=t.index;const i=e.length;return n>i?n=i-t.addedCount:n<0&&(n=i+t.removed.length+n-t.addedCount),n<0&&(n=0),t.index=n,t}class rP extends F{constructor(t){super(t),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,t.$fastController=this}addSplice(t){void 0===this.splices?this.splices=[t]:this.splices.push(t),this.needsQueue&&(this.needsQueue=!1,P.queueUpdate(this))}reset(t){this.oldCollection=t,this.needsQueue&&(this.needsQueue=!1,P.queueUpdate(this))}flush(){const t=this.splices,e=this.oldCollection;if(void 0===t&&void 0===e)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const n=void 0===e?function(t,e){let n=[];const i=function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];nP(e,i.index,i.removed,i.addedCount)}return e}(e);for(let e=0,s=i.length;e<s;++e){const s=i[e];1!==s.addedCount||1!==s.removed.length?n=n.concat(tP(t,s.index,s.index+s.addedCount,s.removed,0,s.removed.length)):s.removed[0]!==t[s.index]&&n.push(s)}return n}(this.source,t):tP(this.source,0,this.source.length,e,0,e.length);this.notify(n)}}const oP=Object.freeze({positioning:!1});function aP(t,e,n,i){t.bind(e[n],i)}function lP(t,e,n,i){const s=Object.create(i);s.index=n,s.length=e.length,t.bind(e[n],s)}class cP{constructor(t,e,n,i,s,r){this.location=t,this.itemsBinding=e,this.templateBinding=i,this.options=r,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=aP,this.itemsBindingObserver=q.binding(e,this,n),this.templateBindingObserver=q.binding(i,this,s),r.positioning&&(this.bindView=lP)}bind(t,e){this.source=t,this.originalContext=e,this.childContext=Object.create(e),this.childContext.parent=t,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(t,this.originalContext),this.template=this.templateBindingObserver.observe(t,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,null!==this.itemsObserver&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(t,e){t===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):t===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(e)}observeItems(t=!1){if(!this.items)return void(this.items=x);const e=this.itemsObserver,n=this.itemsObserver=q.getNotifier(this.items),i=e!==n;i&&null!==e&&e.unsubscribe(this),(i||t)&&n.subscribe(this)}updateViews(t){const e=this.childContext,n=this.views,i=[],s=this.bindView;let r=0;for(let e=0,s=t.length;e<s;++e){const s=t[e],o=s.removed;i.push(...n.splice(s.index+r,o.length)),r-=s.addedCount}const o=this.items,a=this.template;for(let r=0,l=t.length;r<l;++r){const l=t[r];let c=l.index;const h=c+l.addedCount;for(;c<h;++c){const t=n[c],r=t?t.firstChild:this.location,l=i.length>0?i.shift():a.create();n.splice(c,0,l),s(l,o,c,e),l.insertBefore(r)}}for(let t=0,e=i.length;t<e;++t)i[t].dispose();if(this.options.positioning)for(let t=0,e=n.length;t<e;++t){const i=n[t].context;i.length=e,i.index=t}}refreshAllViews(t=!1){const e=this.items,n=this.childContext,i=this.template,s=this.location,r=this.bindView;let o=e.length,a=this.views,l=a.length;if((0===o||t)&&(Ut.disposeContiguousBatch(a),l=0),0===l){this.views=a=new Array(o);for(let t=0;t<o;++t){const o=i.create();r(o,e,t,n),a[t]=o,o.insertBefore(s)}}else{let t=0;for(;t<o;++t)if(t<l)r(a[t],e,t,n);else{const o=i.create();r(o,e,t,n),a.push(o),o.insertBefore(s)}const c=a.splice(t,l-t);for(t=0,o=c.length;t<o;++t)c[t].dispose()}}unbindAllViews(){const t=this.views;for(let e=0,n=t.length;e<n;++e)t[e].unbind()}}class hP extends wt{constructor(t,e,n){super(),this.itemsBinding=t,this.templateBinding=e,this.options=n,this.createPlaceholder=P.createBlockPlaceholder,function(){if(iP)return;iP=!0,q.setArrayObserverFactory((t=>new rP(t)));const t=Array.prototype,e=t.pop,n=t.push,i=t.reverse,s=t.shift,r=t.sort,o=t.splice,a=t.unshift;t.pop=function(){const t=this.length>0,n=e.apply(this,arguments),i=this.$fastController;return void 0!==i&&t&&i.addSplice(JE(this.length,[n],0)),n},t.push=function(){const t=n.apply(this,arguments),e=this.$fastController;return void 0!==e&&e.addSplice(sP(JE(this.length-arguments.length,[],arguments.length),this)),t},t.reverse=function(){let t;const e=this.$fastController;void 0!==e&&(e.flush(),t=this.slice());const n=i.apply(this,arguments);return void 0!==e&&e.reset(t),n},t.shift=function(){const t=this.length>0,e=s.apply(this,arguments),n=this.$fastController;return void 0!==n&&t&&n.addSplice(JE(0,[e],0)),e},t.sort=function(){let t;const e=this.$fastController;void 0!==e&&(e.flush(),t=this.slice());const n=r.apply(this,arguments);return void 0!==e&&e.reset(t),n},t.splice=function(){const t=o.apply(this,arguments),e=this.$fastController;return void 0!==e&&e.addSplice(sP(JE(+arguments[0],t,arguments.length>2?arguments.length-2:0),this)),t},t.unshift=function(){const t=a.apply(this,arguments),e=this.$fastController;return void 0!==e&&e.addSplice(sP(JE(0,[],arguments.length),this)),t}}(),this.isItemsBindingVolatile=q.isVolatileBinding(t),this.isTemplateBindingVolatile=q.isVolatileBinding(e)}createBehavior(t){return new cP(t,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}const uP=Wt`
  <svg viewbox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
    ${function(t,e,n=oP){return new hP(t,"function"==typeof e?e:()=>e,n)}((t=>t.paths),Wt`
    <svg>
      <path 
        stroke="none" 
        fill-opacity="0.2"
        d="
          M${(t,e)=>e.parent.getX(t.p1)},${(t,e)=>e.parent.getY(t.p1)}
          L${(t,e)=>e.parent.getX(t.p2)},${(t,e)=>e.parent.getY(t.p2)}
          L${(t,e)=>e.parent.getX(t.p3)},${(t,e)=>e.parent.getY(t.p3)}
          z" ></path></svg>
          `)}     
  </svg>
`;var dP=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let pP=class extends mt{constructor(){super(...arguments),this.paths=[],this.nbPaths=12,this.constraints=[{path:0,p1:1200,p2:1800,p3min:1e3,p3max:1200},{path:3,p1:1200,p2:1800,p3min:800,p3max:900},{path:4,p1:2e3,p2:1400,p3min:2200,p3max:2400},{path:6,p1:2e3,p2:1400,p3min:2e3,p3max:2200},{path:8,p1:0,p2:500,p3min:900,p3max:1100},{path:9,p1:0,p2:500,p3min:800,p3max:900},{path:10,p1:800,p2:300,p3min:2200,p3max:2400}],this.increments=[],this.running=!1}connectedCallback(){super.connectedCallback(),this.init(),this.start()}start(){this.running=!0,this.nextFrame()}stop(){this.running=!1}getX(t){return t>2e3?0:t>1200?800-(t-1200):t>800?800:t}getY(t){return t>2e3?400-(t-2e3):t>1200?400:t>800?t-800:0}init(){for(let t=0;t<this.nbPaths;t++){const t=Math.round(3*Math.random()),e=Math.round(3*Math.random());let n=Math.round(3*Math.random());n===e&&n===t&&(n=3===n?0:n+1);const i={p1:this.randomPointOnSegement(t),p2:this.randomPointOnSegement(e),p3:this.randomPointOnSegement(n)};this.paths.push(i),this.increments.push(this.randomInc()),this.increments.push(this.randomInc()),this.increments.push(this.randomInc())}}setRandomIncrements(){for(const t in this.increments){const e=Math.random();e>.5||(e>.25?this.increments[t]*=-1:this.increments[t]=this.randomInc())}}randomInc(){return Math.random()-.5}randomPointOnSegement(t){return 0===t?Math.round(800*Math.random()):1===t?Math.round(400*Math.random())+800:2===t?Math.round(800*Math.random())+1200:3===t?Math.round(400*Math.random())+2e3:void 0}nextFrame(){window.requestAnimationFrame((()=>{for(let t=0;t<this.paths.length;t++){const e=this.paths[t].p1+this.increments[3*t+0],n=this.paths[t].p2+this.increments[3*t+1],i=this.paths[t].p3+this.increments[3*t+2];this.paths.splice(t,1,{p1:e,p2:n,p3:i})}Math.random()<.01&&this.setRandomIncrements(),this.applyConstraints(),this.nextFrame()}))}applyConstraints(){for(let t=0;t<this.paths.length;t++){const e=this.constraints.find((e=>e.path===t));if(!e)continue;const n=e.p1,i=e.p2,s=Math.max(Math.min(this.paths[t].p3,e.p3max),e.p3min);(s===e.p3min&&this.increments[3*t+2]<0||s===e.p3max&&this.increments[3*t+2]>0)&&(this.increments[3*t+2]*=-1),this.paths.splice(t,1,{p1:n,p2:i,p3:s})}}};dP([_,function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Array)],pP.prototype,"paths",void 0),pP=dP([bt({name:"animated-svg2",template:uP,styles:ZE})],pP);var gP=n(660),fP=n.n(gP),vP=(n(874),n(836),function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o});fP();let mP=class{constructor(){this.message="Welcome to Aurelia 2!"}attached(){}highlight(){const t=fP().highlight("npm install",fP().languages.bash,"bash");console.log("test",t),console.log("highlight");const e=document.querySelectorAll("code");console.log("codes",e);for(let t=0;t<e.length;t++)console.log("code",e.item(t))}};mP=vP([Wm(c)],mP);const bP="admin-dashboard",yP='<ecos-section>\n  <h1>Demo of an Admin Dashboard</h1>\n  <ecos-button load="../use-cases-list">Close</ecos-button>\n</ecos-section>',wP=yP,xP=[];let kP;function CP(t){kP||(kP=Ym.define({name:bP,template:yP,dependencies:xP})),t.register(kP)}class SP{static promiseAnimation(t,e,n){return new Promise((i=>{t.animate(e,n).onfinish=()=>i()}))}static slideIn(t,e,n="right"){return SP.promiseAnimation(t,{transform:[`translateX(${"left"===n?"-":""}100%)`,"translateX(0)"]},e)}static slideOut(t,e,n="right"){return SP.promiseAnimation(t,{transform:["translateX(0)",`translateX(${"left"===n?"-":""}100%)`]},e)}static scaleIn(t,e){return SP.promiseAnimation(t,{transform:["scale(0)","scale(1)"]},e)}static scaleOut(t,e){return SP.promiseAnimation(t,{transform:["scale(1)","scale(0)"]},e)}}let $P=class{created(t){this.element=t.host}attaching(){return SP.scaleIn(this.element,400)}detaching(){return SP.scaleOut(this.element,200)}};$P=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(h)],$P);const TP="blog-page",AP='<ecos-navbar layer="1" scrollingcontainerselector="[name=use-cases-viewport]">\n  <ecos-button appearance="lightweight" slot="branding" style="color: var(--accent-fill-rest)" load="../use-cases-list">\n    <ecos-icon icon="X" slot="start" weight="2"></ecos-icon>\n    Demo Blog\n  </ecos-button>\n</ecos-navbar>\n\n<div class="header" style="background-image: url(./images/office-interior-design.jpg);">\n\n  <div class="header-text">\n    Design de produits&nbsp;et d\'espaces\n  </div>\n\n</div>\n\n<ecos-section centerwidth="70ch">\n  <ecos-article-list class="larger">\n    <ecos-article imagesrc="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article imagesrc="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article imagesrc="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n    <ecos-article imagesrc="./images/office-interior-design.jpg">\n      <ecos-button slot="button" appearance="accent">\n        <ecos-icon type="solid" size="10" icon="ArrowNarrowRight" slot="start"></ecos-icon>\n        Discover project\n      </ecos-button>\n      <ecos-stack>\n        <h3>Autour de l\'escalier</h3>\n        <p>Le lieu central d\'une pièce à vivre remis au goût du jour</p>\n      </ecos-stack>\n    </ecos-article>\n  </ecos-article-list>\n</ecos-section>\n',EP=AP,PP=[];let OP;function RP(t){OP||(OP=Ym.define({name:TP,template:AP,dependencies:PP})),t.register(OP)}let IP=class{created(t){this.element=t.host}attaching(){return SP.scaleIn(this.element,400)}detaching(){return SP.scaleOut(this.element,200)}};IP=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(u)],IP);var jP=n(278);m()(jP.Z,{insert:"head",singleton:!1});const FP=jP.Z.locals||{},LP="one-page-website",NP='<ecos-navbar layer="1" transparentfirst scrollingcontainerselector="[name=use-cases-viewport]">\n  <ecos-button appearance="lightweight" slot="branding" style="color: var(--accent-fill-rest)" load="../use-cases-list">\n    <ecos-icon icon="X" slot="start" weight="2"></ecos-icon>\n    PAVO\n  </ecos-button>\n  <ecos-anchor slot="main" appearance="lightweight">About</ecos-anchor>\n  <ecos-anchor slot="main" appearance="lightweight">Services</ecos-anchor>\n  <ecos-anchor slot="main" appearance="lightweight">Contact</ecos-anchor>\n</ecos-navbar>\n\n<div class="navbar-content header-gradient">\n\n  \n  <ecos-section centerwidth="100ch">\n    <ecos-two>\n      <ecos-stack>\n        <h1>Team management mobile application</h1>\n        <p>Start getting things done together with your team based on Pavo\'s revolutionary team management features</p>\n        <p>\n          <ecos-button appearance="neutral">Download</ecos-button>\n          <ecos-button appearance="accent">Download</ecos-button>\n        </p>\n      </ecos-stack>\n      <img src="images/use-cases/website/header-smartphone.png" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n  \n  <ecos-section class="large-text" centerwidth="50ch" largev>\n    <p>Team management mobile apps don’t get better than Pavo. It’s probably the best app in the world for this purpose. Don’t hesitate to give it a try today and you will fall in love with it</p>\n  </ecos-section>\n\n  <ecos-section centerwidth="120ch" largev>\n    <ecos-collection>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-1.svg">\n        <ecos-stack >\n          <h3>Platform Integration</h3>\n          <p>You sales force can use the app on any smartphone platform without compatibility issues</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-2.svg">\n        <ecos-stack >\n          <h3>Easy On Resources</h3>\n          <p>Works smoothly even on older generation hardware due to our optimization efforts</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-3.svg">\n        <ecos-stack >\n          <h3>Great Performance</h3>\n          <p>Optimized code and innovative technology insure no delays and ultra-fast responsiveness</p>\n        </ecos-stack>\n      </ecos-card>\n\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-4.svg">\n        <ecos-stack >\n          <h3>Multiple Languages</h3>\n          <p>Choose from one of the 40 languages that come pre-installed and start selling smarter</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-5.svg">\n        <ecos-stack >\n          <h3>Free Updates</h3>\n          <p>Don\'t worry about future costs, pay once and receive all future updates at no extra cost</p>\n        </ecos-stack>\n      </ecos-card>\n      <ecos-card background-color="red" class="feature-item wrapper">\n        <img src="images/use-cases/website/features-icon-6.svg">\n        <ecos-stack >\n          <h3>Community Support</h3>\n          <p>Register the app and get acces to knowledge and ideas from the Pavo online community</p>\n        </ecos-stack>\n      </ecos-card>\n    </ecos-collection>\n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two>\n      <ecos-stack>\n        <h1>Results driven ground breaking technology</h1>\n        <p>Based on our team\'s extensive experience in developing line of business applications and constructive customer feedback we reached a new level of revenue.</p>\n        <p>We enjoy helping small and medium sized tech businesses take a shot at established Fortune 500 companies</p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-1.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two rightleft>\n      <ecos-stack>\n        <h1>Instant results for the marketing department</h1>\n        <ul>\n          <li>Features that will help you and your marketers</li>\n          <li>Smooth learning curve due to the knowledge base</li>\n          <li>Ready out-of-the-box with minor setup settings</li>\n        </ul>\n        <p>\n          <ecos-button appearance="neutral">Lightbox</ecos-button>\n          <ecos-button appearance="accent">Details</ecos-button>\n        </p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-2.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n  <ecos-section centerwidth="100ch" largev>\n    <ecos-two>\n      <ecos-stack>\n        <h1>Platform integration and life time free updates</h1>\n        <p>Get a glimpse of what this app can do for your marketing automation and understand why current users are so excited when using Pavo together with their teams.</p>\n        <p>We will promptly answer any questions and honor your requests based on the service level agreement</p>\n      </ecos-stack>\n      <img src="images/use-cases/website/details-2.jpg" style="align-self: center;">\n    </ecos-two>  \n  </ecos-section>\n\n</div>\n<div style="width: 100%; height: 500px;">\n  <ecos-section>\n    <h1>Welcome</h1>\n  </ecos-section>\n</div>\n<div style="width: 100%; height: 500px;">\n  <ecos-section>\n    <h1>Welcome</h1>\n  </ecos-section>\n</div>\n<div style="width: 100%; height: 500px;">\n  <ecos-section>\n    <h1>Welcome</h1>\n  </ecos-section>\n</div>',DP=NP,MP=[yu.defer(".css",FP)];let BP;function VP(t){BP||(BP=Ym.define({name:LP,template:NP,dependencies:MP})),t.register(BP)}let HP=class{created(t){this.element=t.host}attaching(){return SP.scaleIn(this.element,600)}detaching(){return SP.scaleOut(this.element,300)}};HP=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(d)],HP);let qP=class{};qP=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm({name:"use-cases-index",template:'<au-viewport name="use-cases-viewport" default="use-cases-list"></au-viewport>'})],qP);const UP="use-cases-list",zP='<ecos-section>\n  <h1>Experimenting some common use cases</h1>\n  <p>These pages are like playgrounds to check how the Ecos Design System reacts in different use cases and scenarios</p>\n</ecos-section>\n<ecos-section centerwidth="100ch">\n  <ecos-collection minitemwidth="300px">\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>One page website</h2>\n        <p>The menu of this website is considered to be the menu of the one page website.</p>\n        <ecos-button appearance="accent" load="../one-page-website">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>Blog</h2>\n        <p>A blog home page with links to article pages.</p>\n        <ecos-button appearance="accent" load="../blog-page">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n    <ecos-card>\n      <ecos-stack class="wrapper">\n        <h2>Admin dashboard</h2>\n        <p>An application admin dashboard.</p>\n        <ecos-button appearance="accent" load="../admin-dashboard">Explore</ecos-button>\n      </ecos-stack>\n    </ecos-card>\n  </ecos-card>\n</ecos-section>',_P=zP,WP=[];let KP;function GP(t){KP||(KP=Ym.define({name:UP,template:zP,dependencies:WP})),t.register(KP)}let QP=class{};QP=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(p)],QP);var YP=n(563);m()(YP.Z,{insert:"head",singleton:!1});const XP=YP.Z.locals||{},ZP="ecos-settings",JP='<div>\n  <ecos-design-system-provider background-color="#222" design-unit="4" density="0">\n    <div class="wrapper" style="padding-bottom: 150px;">\n      <h3>Design settings</h3>\n    \n      <ecos-form change.delegate="updateDesignSystem()">\n        <ecos-form-row>\n          <label>Background color</label>\n          <input type="color" value.bind="color">\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Accent color</label>\n          <input type="color" value.bind="accent">\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Design unit</label>\n          <ecos-slider value.bind="designUnit" min="2" max="6" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Density</label>\n          <ecos-slider value.bind="density" min="-3" max="3" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Corner Radius</label>\n          <ecos-slider value.bind="cornerRadius" min="0" max="20" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Font Size</label>\n          <ecos-slider value.bind="typeRampBaseFontSize" min="10" max="20" step="0.5"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Type ramp ratio (modular scale)</label>\n          <ecos-slider value.bind="typeRampRatio" min="1.067" max="2" step="0.01"></ecos-slider>\n        </ecos-form-row>\n        <ecos-form-row>\n          <label>Line Height Ratio</label>\n          <ecos-slider value.bind="lineHeightRatio" min="1" max="2" step="0.01"></ecos-slider>\n        </ecos-form-row>\n      </ecos-form>\n    </div>\n  </ecos-design-system-provider>\n</div>',tO=JP,eO=[yu.defer(".css",XP)];let nO;function iO(t){nO||(nO=Ym.define({name:ZP,template:JP,dependencies:eO})),t.register(nO)}let sO=class{constructor(t){this.element=t,this.color="#FFF8F0",this.accent="#AD016E",this.designUnit=4,this.density=0,this.cornerRadius=5,this.typeRampBaseFontSize=16,this.typeRampRatio=1.25,this.lineHeightRatio=1.2}attached(){this.provider=Qr.findProvider(this.element),this.updateDesignSystem()}updateDesignSystem(){this.provider&&(this.provider.backgroundColor=this.color,this.provider.accentBaseColor=this.accent,this.provider.designUnit=this.designUnit,this.provider.density=this.density,this.provider.cornerRadius=this.cornerRadius,this.provider.typeRampBaseFontSize=`${this.typeRampBaseFontSize}px`,this.provider.typeRampRatio=this.typeRampRatio,this.provider.lineHeightRatio=this.lineHeightRatio,this.provider.backgroundColorChanged2())}};sO=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Wm(f),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[HTMLElement])],sO);var rO=n(183),oO=n(442),aO=n(218);m()(aO.Z,{insert:"head",singleton:!1});const lO=aO.Z.locals||{};yu.defer(".css",lO);var cO,hO=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},uO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const dO=function(...t){return new Fb(t)}(rO.Z,oO.Z);let pO=cO=class{constructor(t){this.element=t,this.enableOutput=!1,this.enableMultiple=!1,this.showShell="auto",this.showTS="auto",this.showHTML="auto",this.showCSS="auto",this.showOutput="auto",this.theme="",this.hasShell=!1,this.hasHTML=!1,this.hasCSS=!1,this.hasTS=!1}static processContent(t){const e=t.childNodes,n=t,i=document.createElement("div"),s=document.createElement("div");for(const t of e)if(t instanceof Element&&t.hasAttribute("language")){const e=t.getAttribute("language");let r=t.innerHTML;if("html"===e&&(i.innerHTML=r,i.setAttribute("au-slot","output"),r=cO.decodeHtml(r),n.appendChild(i)),"css"===e&&(s.innerHTML=r,s.setAttribute("au-slot","styles"),n.appendChild(s)),r=cO.dedent(r),""===r.trim())continue;const o=fP().highlight(r,fP().languages[e],e);t.innerHTML=`<pre class="language-${e}">${o}</pre>`,t.setAttribute("au-slot",e),n.classList.add(`has-${e}`)}return!0}static getContent(t,e){const n=t.innerHTML,i="html"===e?cO.decodeHtml(n):n;return cO.dedent(i)}static dedent(t){const e=t.match(/^[ \t]*(?=\S)/gm);if(!e)return t;const n=Math.min(...e.map((t=>t.length))),i=new RegExp("^[ \\t]{"+n+"}","gm");return n>0?t.replace(i,""):t}static decodeHtml(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}attached(){this.hasShell=null!==this.element.shadowRoot.querySelector(".shell > div"),this.hasTS=null!==this.element.shadowRoot.querySelector(".typescript > div"),this.hasHTML=null!==this.element.shadowRoot.querySelector(".html > div"),this.hasCSS=null!==this.element.shadowRoot.querySelector(".css > div");let t=!1;this.hasShell&&"auto"===this.showShell?(this.showShell=this.enableMultiple||!t,t=!0):this.showShell=!1,this.hasTS&&"auto"===this.showTS?(this.showTS=this.enableMultiple||!t,t=!0):this.showTS=!1,this.hasHTML&&"auto"===this.showHTML?(this.showHTML=this.enableMultiple||!t,t=!0):this.showHTML=!1,this.hasCSS&&"auto"===this.showCSS?(this.showCSS=this.enableMultiple||!t,t=!0):this.showCSS=!1,this.enableOutput&&"auto"===this.showOutput?this.showOutput=!0:this.showOutput=!1;const e=this.element.shadowRoot.querySelector(".styles-content > div");if(e){const t=e.innerHTML,n=document.createElement("style");n.innerHTML=t,this.element.shadowRoot.appendChild(n)}}bound(){this.themeChanged()}themeChanged(){}toggle(t){this.enableMultiple||(this.showShell=!1,this.showTS=!1,this.showHTML=!1,this.showCSS=!1),"shell"===t?this.showShell=!this.showShell:"ts"===t?this.showTS=!this.showTS:"html"===t?this.showHTML=!this.showHTML:"css"===t?this.showCSS=!this.showCSS:"output"===t&&(this.showOutput=!this.showOutput)}};var gO;hO([Rv,uO("design:type",Object)],pO.prototype,"enableOutput",void 0),hO([Rv,uO("design:type",Object)],pO.prototype,"enableMultiple",void 0),hO([Rv,uO("design:type",Object)],pO.prototype,"showShell",void 0),hO([Rv,uO("design:type",Object)],pO.prototype,"showTS",void 0),hO([Rv,uO("design:type",Object)],pO.prototype,"showHTML",void 0),hO([Rv,uO("design:type",Object)],pO.prototype,"showCSS",void 0),hO([Rv,uO("design:type",Object)],pO.prototype,"showOutput",void 0),hO([Rv,uO("design:type",String)],pO.prototype,"theme",void 0),hO([void 0===gO?function(t,e,n){ph.define(Xm,Zm(t,e),t)}:function(t){gO=Zm(t,gO);const e=ph.getOwn(Ym.name,t);return void 0!==e?e.processContent=gO:ph.define(Xm,gO,t),t},uO("design:type",Function),uO("design:paramtypes",[Object]),uO("design:returntype",Boolean)],pO,"processContent",null),pO=cO=hO([Wm({name:"au-snippet",template:'<template show-shell.class="showShell" show-ts.class="showTS" show-html.class="showHTML" show-css.class="showCSS" show-output.class="showOutput" multiple.class="enableMultiple">\n  <div class="topbar">\n    <button if.bind="hasShell" selected.class="showShell" click.delegate="toggle(\'shell\')">Shell</button>\n    <button if.bind="hasTS" selected.class="showTS" click.delegate="toggle(\'ts\')">Typescript</button>\n    <button if.bind="hasHTML" selected.class="showHTML" click.delegate="toggle(\'html\')">HTML</button>\n    <button if.bind="hasCSS" selected.class="showCSS" click.delegate="toggle(\'css\')">CSS</button>\n  </div>\n  <div class="codes">\n    <div class="shell">\n      <label>Shell</label>\n      <au-slot name="shell"></au-slot>\n    </div>\n    <div class="typescript">\n      <label>Typescript</label>\n      <au-slot name="typescript"></au-slot>\n    </div>\n    <div class="html">\n      <label>HTML</label>\n      <au-slot name="html"></au-slot>\n    </div>\n    <div class="css">\n      <label>CSS</label>\n      <au-slot name="css"></au-slot>\n    </div>\n  </div>\n  <div class="output">\n    <div class="topbar">\n      <button class="selected">Result</button>\n    </div>\n    <div class="output-content">\n      <au-slot name="output"></au-slot>\n    </div>\n    <div class="styles-content">\n      <au-slot name="styles"></au-slot>\n    </div>\n  </div>\n  <au-slot></au-slot>\n</template>',dependencies:[dO],shadowOptions:{mode:"open"}}),Zh(Element),uO("design:paramtypes",[Element])],pO),El.outline.User='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n</svg>\n',El.solid.User='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>\n</svg>\n',El.outline.Adjustments='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>\n</svg>\n',El.solid.Adjustments='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"/>\n</svg>\n',El.outline.ArrowNarrowRight='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>\n</svg>\n',El.solid.ArrowNarrowRight='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>\n</svg>\n',El.outline.X='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n</svg>\n',El.solid.X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>\n</svg>\n',K$.register(g).register(ld.create({level:1,sinks:[od],colorOptions:1})).register(BA.customize({useUrlFragmentHash:!0,swapOrder:"attach-next-detach-current"})).register(G$).register(sO).register(pO).register(xC).app(YA).start()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={id:i,exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(868)})();